globals
// xxxxxxxxxxxxxxxxxxxxeff
//fffffffffffffffffffffff
//zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz

boolean udg_tureendfail=false
trigger gg_trg_trueendclear=null
timer udg_badendtimer
timer udg_trueendtimer
trigger gg_trg_badenddrop=null
trigger gg_trg_trueenddrop=null
trigger gg_trg_trueenddef=null
unit udg_xianshen=null
unit udg_hundunshen=null

integer trueflag1=0
integer trueflag2=0
integer udg_scorebonus=0
integer udg_qinshi=0
real udg_qinshilv=50.00
trigger gg_trg_qinshideath=null
location udg_qinshideathpoint=null
location udg_oldpoint=null
real qinshidistance=0
real qinshiup=0
boolean udg_badend=false
boolean udg_goodend=false
boolean udg_trueend=false
trigger gg_trg_cranandu=null
boolean udg_crakey=false
trigger gg_trg_antine11atk=null
trigger gg_trg_touzhijuanzhou=null
trigger gg_trg_Ud01drop=null
trigger gg_trg_Ud01atk=null
unit udg_ultimatemonster=null
trigger gg_trg_bos5death=null
boolean bos5live=true

integer cona=1
integer cond=1
trigger gg_trg_colordefend=null
trigger gg_trg_linglipaohecheng=null
trigger gg_trg_lingshenatkjsq=null
trigger gg_trg_lingshenatk=null
timer udg_lingshenatkjsq=null
unit udg_lingshen=null
integer udg_hard7=0

unit udg_twinantiunit=null
trigger gg_trg_twindragon=null



unit udg_unit_huoxingspell=null
trigger gg_trg_uwaratk=null
integer udg_mowangs005count=0
trigger gg_trg_wu2xing=null

trigger gg_trg_huanshenchange=null
trigger gg_trg_huanshenatk=null
trigger gg_trg_huanshenatk2=null
trigger gg_trg_huanshenlost=null
trigger gg_trg_huanshendrop=null
trigger gg_trg_huanzhiyuezhang=null






integer udg_LiShi_NiuTou_SQ_Num=0
unit udg_LiShi_NiuTou_SQ_Unit=null
boolean udg_LiShi_NiuTou_SQ_blooen=false
integer udg_LiShi_NiuTou_SQ_Jilu=0
real array udg_LiShi_NiuTou_No3
unit udg_LiShi_NiuTou_TP=null

trigger gg_trg_NJN_1_no1=null
trigger gg_trg_NJN_1_no2=null
trigger gg_trg_NJN_1_no3=null
trigger gg_trg_NJN_2_no1=null
trigger gg_trg_NJN_2_no2=null
trigger gg_trg_NJN_2_no3=null
timer udg_jsq_tx=null

unit gg_unit_bydoushen=null


trigger gg_trg_fenlieuv09=null






constant boolean LIBRARY_YDWETriggerEvent=true
trigger yd_DamageEventTrigger= null
trigger array YDWETriggerEvent___DamageEventQueue
integer YDWETriggerEvent___DamageEventNumber= 0
	
item bj_lastMovedItemInItemSlot= null
	
trigger YDWETriggerEvent___MoveItemEventTrigger= null
trigger array YDWETriggerEvent___MoveItemEventQueue
integer YDWETriggerEvent___MoveItemEventNumber= 0



effect udg_bursteffect=null
//trigger gg_trg_super1burst=null
//trigger gg_trg_super2burst=null


unit u3dg_douqi=null
unit u3dg_unit=null
location u3dg_point=null
location u3dg_point1=null
real u3dg_double
location u3dg_daoqidian=null
string k
integer udg_xuemipass=0

integer udg_chibangxindrop=0


trigger gg_trg_bianyi2atk=null
trigger gg_trg_bianyi2jsq=null

trigger gg_trg_bianyileishen1=null
trigger gg_trg_bianyileishen=null
integer udg_burstkey=0
trigger gg_trg_ulburst=null
trigger gg_trg_ulburstjsq=null
timer udg_burstjsq=null
timer udg_bianyijsq2


trigger gg_trg_bianyishuiquan=null

trigger gg_trg_bianyihuodun1=null
trigger gg_trg_bianyihuodun2=null


trigger gg_trg_bianyidaoqi1=null
trigger gg_trg_bianyidaoqi2=null

unit udg_bianyileishen=null
trigger gg_trg_new2ab=null
trigger gg_trg_new2ab1=null
location udg_new2point
integer udg_new2int
real udg_new2real
group udg_new2group=null

trigger gg_trg_new3ab=null
trigger gg_trg_new3ab1=null
location udg_new3point
integer udg_new3int
real udg_new3real
group udg_new3group=null


trigger gg_trg_new1ab=null
timer udg_new1jsq=null
location udg_new1point=null
trigger gg_trg_new1abjsq=null









unit udg_newhero1=null

string array udg_elfstr
integer udg_mckey=0
trigger gg_trg_elfatk=null
trigger gg_trg_elf2atk=null
trigger gg_trg_elfmichuanshu=null
trigger gg_trg_elfitematk=null
integer udg_elfkey=0
integer array udg_elf
integer udg_elfcount=0
integer udg_elf2count=0
trigger gg_trg_elf2drop=null
trigger gg_trg_elfdrop=null
trigger gg_trg_elf3drop=null

integer udg_qinglongshi=1

integer array udg_monsterdi
trigger gg_trg_diattack=null
trigger gg_trg_diwangtz=null
trigger gg_trg_didrop=null
trigger gg_trg_x00ucom=null
trigger gg_trg_callshuiguai=null
trigger gg_trg_w001death=null
trigger gg_trg_kamiattack=null

trigger gg_trg_shoushentt=null
boolean udg_moshenchuxian=false

integer udg_bianyi=0
integer udg_bianyi2=0
integer udg_bianyi3=0
integer array udg_charge
integer array udg_countb
timer udg_bianyijsq=null
unit udg_bianyifashen=null



trigger gg_trg_bianyijsq=null
trigger gg_trg_bianyiatk=null

trigger gg_trg_ifuuin=null
trigger gg_trg_ifuuout=null
trigger gg_trg_ifu0in=null
trigger gg_trg_ifu0out=null



trigger gg_trg_x145x=null
trigger gg_trg_x145y=null

trigger gg_trg_bianyi1=null
trigger gg_trg_bian2yi1=null
trigger gg_trg_bian2yi2=null
trigger gg_trg_bian3yi=null





timer udg_uvjsq0=null
string array udg_uvstring
trigger gg_trg_uvunattack=null
trigger gg_trg_uvrecoverjsq=null

trigger gg_trg_fhegg=null
trigger gg_trg_fenghuangwei=null
trigger gg_trg_fhzw=null
trigger gg_trg_wingu=null


trigger gg_trg_xielevel=null
trigger gg_trg_paolevel=null
trigger gg_trg_jianlevel=null
trigger gg_trg_necklevel=null

integer udg_child=1

boolean array udg_childliwu
boolean udg_unchildmutex=false
timer udg_unchildjsq=null
trigger gg_trg_childun=null
trigger gg_trg_unchildjsq=null
trigger gg_trg_childat=null


trigger gg_trg_sheswww=null

integer array udg_xili2

integer udg_uvlevel=9
unit udg_uv
timer udg_uvjsq1
trigger gg_trg_uvchange=null
trigger gg_trg_uvchangejsq=null
trigger gg_trg_uvattack=null
trigger gg_trg_uvpausejsq=null
boolean udg_uvpaumutex=false
timer udg_mowangcon=null
trigger gg_trg_mowangcon=null






boolean array udg_buerzhi_hea
button udg_querenanniuhea1
button udg_querenanniuhea2
unit udg_unit_hea=null
trigger gg_trg_heajierenwu=null
trigger gg_trg_kaixinshi=null
unit udg_unit_hea1=null
timer udg_heajsq=null
trigger gg_trg_heajsq=null
timerdialog udg_heatd=null
trigger gg_trg_headeath=null
integer udg_counthea=0








unit udg_pauunit=null
timer udg_uvpause=null



integer udg_wumiaoli=0
boolean array udg_mutex180

integer udg_isstop=0
integer udg_tmplev=0
integer udg_tmplev2=0


trigger gg_trg_levelstop=null

trigger gg_trg_levelas=null
trigger gg_trg_levelstr=null

trigger gg_trg_qijishui=null
trigger gg_trg_qijisuipian=null
integer array udg_ufo1
integer array udg_ufo2
integer array udg_ufo3
integer array udg_ufo4
integer array udg_ufo5

trigger gg_trg_qijidrop=null


item array udg_qijiitem
timer udg_qijitimer=null
integer udg_qijicount=4

trigger gg_trg_qijijsq=null










unit u2dg_aijianunit
location u2dg_aijianunitpoint
location u2dg_aijianpoint
location u2dg_aijianpoints
real u2dg_distance
unit u2dg_aizhijian
trigger gg_trg_ai3zhijian1
trigger gg_trg_ai3zhijian2
trigger gg_trg_zi3zhijian3

real u2dg_double_aijian
group u2dg_aijiangroup=null






integer udg_jianjian=0
integer t1emp1=0
integer t1emp2=0
integer t1emp3=0
unit udg_unit_aijianunit=null
unit udg_unit_ai2jianunit=null


string array udg_pass

integer udg_aimutex=0
integer udg_ai2mutex=0

unit udg_aijianmutex=null
unit udg_ai2jianunit
location udg_ai2jianunitpoint
location udg_ai2jianpoint
location udg_ai2jianpoints
real udg_dis2tance
unit udg_ai2zhijian
trigger gg_trg_ai2zhijian1
trigger gg_trg_ai2zhijian2
trigger gg_trg_zi2zhijian3

integer udg_aizhijiancount=0
real udg_aizhijiandamage


integer udg_rabbit=4
integer udg_rabbit2=3
integer udg_rabbit3=0
integer udg_rabbit4=0
integer udg_rabbitc=12
integer udg_rabbitx=12

trigger gg_trg_se12ven=null
trigger gg_trg_se34ven=null
trigger gg_trg_se56ven=null
trigger gg_trg_se77ven=null


trigger gg_trg_seven1=null
trigger gg_trg_seven2=null
trigger gg_trg_seven3=null
trigger gg_trg_seven4=null
trigger gg_trg_seven5=null
trigger gg_trg_seven6=null
unit udg_seven5_unit=null

trigger gg_trg_sevendrop=null
trigger gg_trg_se2vein=null
trigger gg_trg_se2veout=null


trigger gg_trg_zuzhoudeath=null




trigger gg_trg_wushen1=null
trigger gg_trg_wushenjsq1=null
trigger gg_trg_wushenjsq2=null
unit udg_wushen=null
timer udg_wushenjsq1=null
timer udg_wushenjsq2=null
integer udg_mutemwushen1=0
integer udg_mutemwushen2=0

trigger gg_trg_wushen2=null
trigger gg_trg_wushen3=null
unit udg_wushen2=null





integer udg_shenjie2ing=12

integer array udg_mscore
trigger gg_trg_leavejsq=null

trigger gg_trg_xixuegui=null
trigger gg_trg_bei2ci=null

trigger gg_trg_sevein=null
trigger gg_trg_seveout=null


trigger gg_trg_shiwu=null
location udg_shiwudian=null
timer udg_shiwutime=null
trigger gg_trg_shiwujsq=null



trigger gg_trg_siwangshenzhu=null

item udg_mitem1=null
item udg_mitem2=null
item udg_mitem3=null
item udg_mitem4=null
item udg_mitem5=null
item udg_mitem6=null
item udg_mitem11=null
item udg_mitem12=null
item udg_mitem13=null
item udg_mitem14=null
item udg_mitem15=null
item udg_mitem16=null
item udg_mitem21=null
item udg_mitem22=null
item udg_mitem23=null
item udg_mitem24=null
item udg_mitem25=null
item udg_mitem26=null
trigger gg_trg_mmm1=null
trigger gg_trg_mmmle1=null
trigger gg_trg_mmmde1=null
unit udg_baoguan01=null
unit udg_baoguan02=null
unit udg_baoguan03=null

trigger gg_trg_cheng180score=null


integer udg_tzlevel=0
integer udg_bounsid=0
//integer udg_stabouns=0
timer udg_tztime=null
integer udg_scoretime=0
unit udg_tzsheep=null

string array bounsstring
integer array udg_stabouns
trigger gg_trg_shilian=null
trigger gg_trg_shi2lian=null
integer array udg_tzmonster
unit udg_tzm=null
integer udg_tmpscore=0

integer udg_tzsap=0
trigger gg_trg_tzsap=null
integer udg_tz2sap=0
trigger gg_trg_tz2sap=null

integer array udg_tzitem
item array udg_tzxitem

unit array udg_bbtwo

timer udg_antileave=null



boolean udg_buerzhi_duijiang4=false
unit udg_unit_duijiang4dw=null
dialog udg_ck_duijiang4=null
//set udg_ck_duijiang4=DialogCreate()
trigger gg_trg_duijiang4=null
trigger gg_trg_duijiang4anniu=null
button array udg_an_duijiang4

boolean udg_buerzhi_duijiang5=false
unit udg_unit_duijiang5dw=null
dialog udg_ck_duijiang5=null
//set udg_ck_duijiang5=DialogCreate()
trigger gg_trg_duijiang5=null
trigger gg_trg_duijiang5anniu=null
button array udg_an_duijiang5

boolean udg_buerzhi_duijiang6=false
unit udg_unit_duijiang6dw=null
dialog udg_ck_duijiang6=null
//set udg_ck_duijiang6=DialogCreate()
trigger gg_trg_duijiang6=null
trigger gg_trg_duijiang6anniu=null
button array udg_an_duijiang6

boolean udg_buerzhi_duijiang7=false
unit udg_unit_duijiang7dw=null
dialog udg_ck_duijiang7=null
//set udg_ck_duijiang7=DialogCreate()
trigger gg_trg_duijiang7=null
trigger gg_trg_duijiang7anniu=null
button array udg_an_duijiang7

boolean udg_buerzhi_duijiang8=false
unit udg_unit_duijiang8dw=null
dialog udg_ck_duijiang8=null
//set udg_ck_duijiang8=DialogCreate()
trigger gg_trg_duijiang8=null
trigger gg_trg_duijiang8anniu=null
button array udg_an_duijiang8

boolean udg_buerzhi_duijiang9=false
unit udg_unit_duijiang9dw=null
dialog udg_ck_duijiang9=null
//set udg_ck_duijiang9=DialogCreate()
trigger gg_trg_duijiang9=null
trigger gg_trg_duijiang9anniu=null
button array udg_an_duijiang9

boolean udg_buerzhi_duijiang0=false
unit udg_unit_duijiang0dw=null
dialog udg_ck_duijiang0=null
//set udg_ck_duijiang0=DialogCreate()
trigger gg_trg_duijiang0=null
trigger gg_trg_duijiang0anniu=null
button array udg_an_duijiang0

boolean udg_buerzhi_duijiangX=false
unit udg_unit_duijiangXdw=null
dialog udg_ck_duijiangX=null
//set udg_ck_duijiangX=DialogCreate()
trigger gg_trg_duijiangX=null
trigger gg_trg_duijiangXanniu=null
button array udg_an_duijiangX
boolean array udg_duijiangX

integer udg_cofmutex=2
unit array udg_rabbitu
unit array udg_rabbitu2

constant boolean LIBRARY_YDTriggerSaveLoadSystem=true
hashtable YDHT
constant boolean LIBRARY_YDWEBase=true
string bj_AllString=".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................"
unit bj_lastAbilityCastingUnit=null
unit bj_lastAbilityTargetUnit=null
unit bj_lastPoolAbstractedUnit=null
unitpool bj_lastCreatedUnitPool=null
item bj_lastCombinedItem=null
item bj_lastPoolAbstractedItem=null
itempool bj_lastCreatedItemPool=null
attacktype bj_lastSetAttackType=ATTACK_TYPE_NORMAL
damagetype bj_lastSetDamageType=DAMAGE_TYPE_NORMAL
weapontype bj_lastSetWeaponType=WEAPON_TYPE_WHOKNOWS
real yd_MapMaxX=0
real yd_MapMinX=0
real yd_MapMaxY=0
real yd_MapMinY=0
constant boolean LIBRARY_YDWEEnumDestructablesInCircleBJNull=true
constant boolean LIBRARY_YDWEGetForceOfPlayerNull=true
force yd_NullTempForce
constant boolean LIBRARY_YDWEGetPlayersAlliesNull=true
constant boolean LIBRARY_YDWEGetPlayersByMapControlNull=true
constant boolean LIBRARY_YDWEGetRandomSubGroupNull=true
constant boolean LIBRARY_YDWEGetUnitsInRangeOfLocMatchingNull=true
constant boolean LIBRARY_YDWEGetUnitsInRectMatchingNull=true
group yd_NullTempGroup
constant boolean LIBRARY_YDWEGetUnitsInRectOfPlayerNull=true
constant boolean LIBRARY_YDWEGetUnitsOfPlayerAndTypeIdNull=true
constant boolean LIBRARY_YDWEPlaySoundNull=true
constant boolean LIBRARY_YDWEPolledWaitNull=true
constant boolean LIBRARY_YDWESetUnitFacingToFaceLocTimedNull=true
constant boolean LIBRARY_YDWETriggerRegisterEnterRectSimpleNull=true
region yd_NullTempRegion
constant boolean LIBRARY_YDWEGetUnitsInRangeOfLocAllNull=true
constant boolean LIBRARY_YDWEGetUnitsInRectAllNull=true
constant boolean LIBRARY_YDWESetUnitFacingToFaceUnitTimedNull=true
constant boolean LIBRARY_YDWETimerSystem=true
force YDWETimerSystem___RunBoolexpr
integer YDWETimerSystem___CurrentTime
integer YDWETimerSystem___CurrentIndex
integer YDWETimerSystem___TaskListHead
integer YDWETimerSystem___TaskListIdleHead
integer YDWETimerSystem___TaskListIdleMax
integer array YDWETimerSystem___TaskListIdle
integer array YDWETimerSystem___TaskListNext
integer array YDWETimerSystem___TaskListTime
boolexpr array YDWETimerSystem___TaskListProc
boolexpr YDWETimerSystem___fnRemoveUnit
boolexpr YDWETimerSystem___fnDestroyTimer
boolexpr YDWETimerSystem___fnRemoveItem
boolexpr YDWETimerSystem___fnDestroyEffect
boolexpr YDWETimerSystem___fnDestroyLightning
boolexpr YDWETimerSystem___fnRunTrigger
timer YDWETimerSystem___Timer
integer YDWETimerSystem___TimerHandle
integer YDWETimerSystem___TimerSystem_RunIndex=0

integer udg_notwo=0
integer udg_mytime=1
integer udg_matime=1
integer udg_qinglongjilv=0
integer udg_baihujilv=0
integer udg_zhuquejilv=0
integer udg_xuanwujilv=0
real array udg_playermenghuanmh
real array udg_playerchaonengmh
real array udg_playerxuewumh
group udg_dr_g=null
integer udg_dr_i=0
location udg_Tz_dian=null
unit array udg_Tz_unit
integer udg_Tz_zs=0
group udg_wy_group=null
boolean udg_wy_lf=false
unit array udg_wy_unit
location array udg_yuedu_dian
integer udg_yuedu_i=0
integer udg_yuedu_jl=0
unit array udg_yuedu_unit
integer udg_yuedu_zs=0
group array udg_DWW
unit array udg_SFDW
unit array udg_MB
unit array udg_KLDW
integer udg_Weather=0
integer udg_Weather1=0
timer udg_yinyuejsq=null
location udg_wydian=null
location array udg_FSBPD
unit udg_Xzh_unit=null
unit udg_Xzh_xzzn=null
unit udg_ssdw=null
group udg_sszu=null
real udg_ssss=0
effect udg_Luoxuan_Texiao=null
location array udg_Feilei_Dian
real array udg_Feilei_High
unit array udg_Feilei_Kuwu
rect udg_Feilei_Quyu=null
real array udg_Feilei_Shishu
effect udg_Feilei_Texiao=null
integer array udg_Feilei_Zhengshu
unit udg_Luoxuan_Danwei=null
location array udg_Luoxuan_Dian
real array udg_Luoxuan_Shishu
location udg_ShiguiDian=null
unit udg_Shunguang_Danwei=null
location array udg_Shunguang_Dian
unit udg_Sidai_Danwei=null
group udg_Sidai_Danweizu=null
unit array udg_baozhadanwei
group udg_baozhadanweizu=null
real udg_gao=0
real udg_gaodu=0
integer udg_lxwA=0
integer udg_lxwB=0
integer udg_lxwC=0
integer udg_lxwD=0
location array udg_lxwdian
integer udg_lxwE=0
effect array udg_lxwtexiao
unit udg_mubiao=null
unit udg_sidai_danwei=null
timer udg_lxwtime=null
unit array udg_yingzidanwei
unit array udg_lqA
real udg_lqB=0
real udg_lqC=0
location array udg_d
integer udg_end=0
group udg_G=null
unit array udg_k
real array udg_r
timer udg_Timer=null
unit udg_u=null
effect udg_jssjq=null
unit array udg_jssjq_DW
group udg_jssjq_DWZ=null
location array udg_jssjq_POINT
real udg_jssjq_SS=0
boolean udg_bln=false
real udg_blwang=0
integer udg_blwc=0
real array udg_blwh
integer udg_blwi=0
integer udg_blwn=0
real udg_blwr=0
real udg_blws=0
timer udg_blwt=null
unit udg_blwu=null
unit udg_blwU=null
unit array udg_blwus
real array udg_blwx
real array udg_blwy
group udg_zjgm=null
unit array udg_honglian
location array udg_honglian_dian
real udg_Ang=0
group array udg_honglian_zu
integer udg_hl_zs=0
boolean udg_hymz=false
integer udg_hymz_zs=0
timer udg_jsq_hymz=null
timer udg_Xzh_jsq=null
unit udg_Uhhq1=null
real udg_Uhhqss=0
integer udg_Uhhqzs=0
group udg_Uhhqzu=null
location array udg_Uhqdian
unit udg_Uhuoqiu=null
timer udg_jsq_xuese=null
timerdialog udg_xuesechuangkou=null
integer udg_Xue_LS_num3=0
integer array udg_Xue_JLSH
integer udg_Xue_LS_num1=0
integer udg_Xue_JLSH_num=0
integer udg_Xue_loop_7=0
integer array udg_Xue_JLSH_______a
integer udg_Xue_loop_6=0
integer udg_Xue_loop_5=0
integer udg_Xue_loop_4=0
integer udg_Xue_loop_3=0
integer udg_Xue_loop_2=0
integer udg_Xue_loop_1=0
integer udg_Xue_JLSH_fuzhi=0
boolean array udg_Xue_JLSH_ItemYN
boolean udg_buerzhi_xuese=false
boolean udg_qiqiezhishen=false
boolean udg_xuemi=false
timer udg_jsq_sgfy=null
unit array udg_sgfy
integer udg_shoushi4=0
integer udg_shoushi5=0
rect udg_quyu=null
integer udg_RGA4=0
location array udg_RGB4
boolean array udg_liuhunyijie
boolean array udg_liuhunt
boolean array udg_liuhunc
boolean array udg_liuhuneg
boolean array udg_liuhunrj
boolean array udg_liuhunxl
boolean array udg_liuhundy
boolean array udg_liuhunwancheng
integer udg_lunzi=0
location array udg_xuesedian
boolean udg_zdzh=false
boolean udg_huimiechongxiu=false
unit array udg_ATM
location udg_shenmidian=null
timer udg_jsq_shangren=null
unit udg_shangren=null
real udg_cjljz=0
integer udg_lunzi1=0
integer udg_du1=0
integer udg_du2=0
integer udg_du3=0
integer udg_du4=0
integer udg_du5=0
integer udg_du6=0
integer udg_du7=0
unit udg_xuemi1=null
boolean udg_nandu0=false
boolean udg_nandu6=false
group udg_Sidai_Danweizu1=null
location udg_HFZ=null
boolean udg_sheshenchongxiu=false
unit array udg_s4D_dw
location array udg_s4D_dian
real array udg_s4D_ss
unit udg_LQ=null
unit array udg_wxty
location array udg_zlydian
boolean udg_nandu6OK=false
integer udg_shenmishangren=0
group udg_group_shijian=null
real array udg_playershijianmh
boolean udg_nandu6kaiqi=false
effect udg_wudixg1=null
timer udg_jsqdaoqi1=null
dialog udg_yulechuangkou=null
button array udg_yuleanniu
boolean udg_shenqi=false
boolean udg_shijianshen=false
boolean udg_shangrenchuxian=false
location udg_piaofu=null
integer udg_baiosu=0
group array udg_shijianchongsheng
timer udg_jsq_shijian=null



sound gg_snd_paomo=null
sound gg_snd_tz2=null
sound gg_snd_uhq=null
sound gg_snd_xuzzn=null
sound gg_snd_yuedu=null
sound gg_snd_jinsesg=null
sound gg_snd_hl4=null
sound gg_snd_hl5=null
sound gg_snd_hl6=null
string gg_snd_Credits
string gg_snd_huoying3
string gg_snd_huoying1
string gg_snd_huoying2
string gg_snd_nadiya___si_loin_de_vous___funk














integer array udg_Monster
timer udg_counter=null
integer udg_dubo2=0
integer udg_con=2
integer udg_yaokongqi=0
integer udg_kongjiannengliang=3
integer udg_bendan=0
integer udg_guangchengzi1=0
integer udg_beilv1
integer udg_beilv2
integer udg_wudi=0
integer udg_selfdestruct=0
integer udg_renwuk=1
integer udg_qijiegaojie=0
integer udg_shenzhiyi=0
integer udg_shenjieu
integer udg_countstop=0
integer udg_renwuc=0
integer udg_lunpanitem
integer udg_lunpan4=0
integer udg_lunpan5
integer udg_lunpan3=1
integer udg_lunpanm
integer udg_lunpan=0
integer udg_lunpan2
integer udg_lunpan6=0
integer udg_smalljiaqiang
integer udg_bigjiaqiang
integer udg_countdeath=0
integer udg_gamble=0
integer udg_hpplus=101
integer udg_waves=0
integer udg_keji=0

integer array udg_automed
integer array udg_zomb

boolean udg_zhen=false
force udg_zhuanzu=null
unit udg_HEBINGSHENG=null
unit udg_play1unit=null
unit udg_play2unit=null
unit udg_play3unit=null
unit udg_emo01=null
unit udg_emo02=null
unit udg_emo03=null
unit udg_emo04=null
unit udg_emo05=null
unit udg_emo06=null
unit udg_emo07=null
unit udg_emo08=null
unit udg_emo09=null
unit udg_emo10=null
unit udg_emo11=null
unit udg_emo12=null
unit udg_emo13=null
unit udg_emo14=null
unit udg_emo15=null
unit udg_emo16=null
unit udg_emo17=null
unit udg_emo18=null
unit udg_emo19=null
unit udg_emo20=null
unit udg_bos7=null
unit udg_bos8=null
unit udg_bos9=null
unit udg_bos0=null


unit udg_mowang=null
integer array udg_killzhuanshu
integer udg_playerjianshen=0
real array udg_playerkissmemh
unit array udg_heroname
real udg_kissmejinengdengji=0
itemtype udg_pkingwuqi=null
boolean udg_pking=false
boolean udg_lover=false
real array udg_playerpkingmh
real array udg_playerlovermh
real udg_pkingjinengdengji=0
real udg_loverjinengdengji=0
boolean udg_kissme=false
unit array udg_boss
boolean udg_shuiguo=false
boolean udg_jitui=false
boolean array udg_liumang
real udg_playernum=0
boolean array udg_liumang1
integer udg_pking1=0
timer udg_tianjie=null
timerdialog udg_tianjiechuangkao=null
unit udg_playermigong=null
boolean udg_kaiguan=false
boolean udg_youren=false
boolean array udg_liumang2
boolean array udg_dashui
boolean array udg_shui
integer udg_RGA=0
location array udg_RGB
integer udg_RGA1=0
location array udg_RGB1
integer array udg_Item
integer udg_chibanglei=0
integer udg_chi=0
unit udg_playerchibang=null
integer array udg_playertx
effect udg_shandian=null
integer udg_chibangdiao=0
integer array udg_fadongjilv
unit udg_playerbeidong=null
unit udg_playerhdx=null
integer udg_wuqi2diao=0
unit udg_playerqj=null
timerdialog udg_jingong=null
unit udg_playerjianx=null
integer array udg_playerjx
integer array udg_bravery
integer array udg_score
integer array udg_isbravery
integer array udg_notbravery
integer array udg_hpplus1
integer array udg_hpplus2
integer array udg_hpplus3
integer array udg_guoge
integer array udg_yellow
integer array udg_mengjilv
integer array udg_mengx
integer array udg_blue
integer array udg_red
integer array udg_green
integer array udg_black
integer array udg_white
integer array udg_jinian
integer array udg_curse
integer array udg_Att
integer array udg_Def
integer array udg_manapro
unit udg_playeryd=null
integer array udg_playerydx
boolean udg_tingdian=false
group udg_laopo=null
real array udg_playerfashenmh
boolean udg_YDSHENLI=false
integer udg_RGA2=0
location array udg_RGB2
integer udg_wuqi1diao=0
integer udg_wuqi3diao=0
integer udg_shoushi1=0
integer udg_shoushi2=0
integer udg_shoushi3=0
boolean udg_daoqi=false
region udg_shuaiguaiquyu=null
rect udg_quyu1=null
rect udg_quyu2=null
rect udg_quyu3=null
rect udg_quyu4=null
boolean udg_zhanshenqixi=false
boolean udg_heiandliliang=false
integer udg_loverdengji=0
integer udg_killlover=0
integer udg_killkissme=0
real array udg_playershanqiumh
real udg_shanqiujinengdengji=0
integer udg_killshanqiu=0
real array udg_jinengdengji
dialog udg_nanduchuangkou=null
dialog udg_nanduchuang2kou=null
button array udg_nanduanniu
button array udg_nan2duanniu
string array udg_nandu
string array udg_nan2du
location array udg_P
unit array udg_U
real array udg_X
group array udg_units
group udg_fenghuang=null
unit array udg_zhuangbei
timer udg_win=null
timerdialog udg_winchuangkao=null
integer udg_paihang=0
integer udg_paihang1=0
integer array udg_kills
integer udg_dengji=0
timer udg_fail=null
integer udg_shuaguai=0
timer array udg_fuhuo
timerdialog array udg_fuhuochuangkou
timer udg_fail1=null
unit array udg_swyingxiong
timer udg_tingguai=null
timerdialog udg_tingguaichuangkou=null
unit udg_dfjm=null
unit udg_bgszr=null
unit udg_hun=null
unit udg_shenhun=null
real array udg_playershesmh
integer udg_shitou=0
integer udg_wuqi4diao=0
integer udg_GJWP=0
integer udg_GJWPZ=0
timer udg_fangong=null
timerdialog udg_fangongkk=null
timer udg_bossjingong=null
location array udg_xxdian
unit array udg_xxzu
integer udg_xx=0
integer array udg_dengjiz
integer udg_likai=0
timer udg_start=null
timerdialog udg_startck=null
unit udg_emxt=null
boolean array udg_wugang
boolean array udg_wugang1
integer array udg_changeshu
unit array udg_ceshi
boolean udg_baohu=false
real udg_renshu=0
integer udg_wanjia=0
group array udg_majiadwz
boolean udg_jsq=false
location array udg_ceshidian
unit udg_hero_sj=null
location udg_shijiand=null
unit udg_shijian=null
unit udg_hero_kj=null
location udg_kongjiand=null
unit udg_kongjian=null
unit udg_hero_mie=null
location udg_miedian=null
group udg_miezu=null
integer array udg_jineng
integer udg_ccc=0
timer udg_jianren=null
unit udg_jianrendw=null
boolean udg_tingdian1=false
integer array udg_zhuanshujn
boolean udg_dianying=false
itemtype udg_qijie=null
integer udg_hongyan=0
integer udg_hongyan1=0
integer udg_chuansong=0
location udg_lsdian=null
boolean udg_jianqi=false
boolean udg_beici=false
real udg_shuaxinsj=0
boolean udg_KTjineng=false
real array udg_playerKTmh
integer udg_huanyingjilv=0
boolean udg_huanying=false
integer udg_shuliang=0
unit udg_huanyinghuzhu=null
group udg_huanxiang=null
location udg_hylsdian=null
unit udg_unit=null
integer udg_count=0
group udg_TempGroup=null
location array udg_TempPoint
location udg_daoqidian=null
unit udg_douqi=null
integer udg_wssuiji=0
boolean udg_DSjineng=false
real array udg_playerDSmh
integer udg_DSdengji=0
location array udg_tiaozhand
location array udg_jingongd
location array udg_shuabingd
timer udg_jsqdaoqi=null
integer udg_daoqidengji=0
integer udg_nanduBL=0
real udg_SGjiange=0
timer udg_jidiwudijsq=null

timer udg_jsq1=null

timer udg_mowangwudi=null
effect udg_wudixg=null
item udg_wupin=null
item udg_wupin1=null
region udg_weixianqy=null
boolean udg_tianjieing=false
integer udg_whotianjie=0
boolean array udg_tianjieOK
unit udg_tianjiedw=null
boolean udg_shenjieing=false
boolean array udg_shenjieOK
unit udg_shenjiedw=null
integer udg_whoshenjie=0
timer udg_shenjie=null
timerdialog udg_shenjiechuangkou=null
timerdialog udg_shenjie2chuangkou=null

unit udg_tjjy=null
unit udg_sjjy=null
location udg_shandianlsd=null
timer udg_youxizb=null
timer udg_youxi=null
integer array udg_youxi1
boolean array udg_xianhua
integer array udg_xianhuasl
integer udg_suijishu=0
item array udg_wupinshu
integer udg_i=0
timer array udg_shanchushu
boolean udg_youxikaishi=false
timerdialog udg_youxichuangkou=null
boolean array udg_keyi
integer udg_youlingdj=0
integer udg_z=0
integer udg_m=0
integer udg_l=0
timer udg_sm=null
boolean array udg_ppp
gamecache udg_wrcache=null
unit udg_unitA=null
integer udg_level=0
integer udg_haozhusl=0
real udg_shoushen_beidong_canshu=0
boolean udg_smqidao=false
real array udg_playersmmh
boolean udg_shfuti=false
real array udg_playershoushenmh
integer udg_shenhunjilv=0
boolean udg_csheng=false
integer array udg_siwangcishu
integer udg_zl=0
boolean array udg_liumangyijie
group udg_beijizu=null
location udg_beijid1=null
location udg_beijid2=null
unit udg_beijidw=null
timer udg_heti=null
unit udg_duobidw=null
group udg_duobizu=null
location udg_duobid1=null
location udg_duobid2=null
boolean udg_kaguai=false
real udg_hke_Z1=0
real udg_hke_Z2=0
location udg_cikelsd=null
boolean array udg_wuxingyijie
boolean array udg_wuxingj
boolean array udg_wuxingm
boolean array udg_wuxings
boolean array udg_wuxingh
boolean array udg_wuxingt
boolean array udg_wuxingwc
boolean udg_kongjianing=false
boolean udg_shijianing=false
group udg_hhdwz=null
location udg_xqdwd=null
location udg_kangzhudwd=null
integer udg_molidengji=0
real udg_molizhili=0
location udg_shengmingzhen=null
location array udg_shengmingd
integer udg_shengminga=0
lightning array udg_smxiaoguo1
lightning array udg_smxiaoguo2
lightning array udg_smxiaoguo3
integer array udg_defen
integer udg_youxiwanjia=0
integer udg_diyiming=0
real udg_dushengjnint=0
real array udg_playerdushenmh
boolean udg_yueguang=false
location udg_wupinjinengd=null
integer udg_shoushidiao=0
integer udg_wuqi5diao=0
integer udg_BOSSjiangli2=0
integer udg_Bossjiangli3=0
boolean udg_sanchong=false
boolean udg_jiuchong=false
real udg_jbqfsh=0
location udg_qiangfadian=null
integer udg_hke=0
integer udg_hke1=0
group udg_leiqiangzu=null
location array udg_leiqiangd
integer udg_qiangfaDJ=0
real udg_dundesm=0
real udg_shanghaizhi=0
integer udg_duidshuliang=0
real array udg_playerqiangshenmh
location udg_qiangd1=null
location udg_qiangd3=null
location udg_qiangd2=null
unit udg_qiangdw1=null
unit udg_qiangdw2=null
unit udg_qiangdw3=null
integer udg_lsbl=0
integer udg_qiangshenjnint=0
integer udg_shenjieint=0
integer array udg_zhuanshuyixue
integer udg_BOSSjifen=0
unit udg_qinglong=null
unit udg_shitouren=null
unit udg_honglong=null
unit udg_shangshen=null
unit udg_tianxian=null
unit udg_sanjie=null
unit udg_guangchengzi=null
unit udg_jiaohuang=null
unit udg_yihao=null
unit udg_yihao2=null
unit udg_yihao4=null
unit udg_yihao3=null
unit udg_yihao6=null
unit udg_yihao5=null
unit array udg_daojuboss
boolean array udg_daojubosstest
boolean array udg_yuezhang
integer udg_yuezhangsl=0
boolean array udg_yuezhangjieduan
integer udg_yuezhangaa=0
integer array udg_yuezhangjineng
integer udg_wuqi6diao=0
boolean udg_ycndu=false
real udg_yuezhangdengji=0
real array udg_playeryuezhangmh
integer array udg_shadisl
integer udg_wj=0
integer udg_jiangliwj=0
integer udg_jiangliwj1=0
integer udg_jingongjifen=0
integer udg_jingongjingqian=0
integer udg_aijianforint=0
group udg_aijiangroup=null
unit udg_aijianmubiaouint=null
location udg_aijianpoint=null
location udg_aijianpoints=null
unit udg_aijianunit=null
location udg_aijianunitpoint=null
boolean udg_ainingshikaiqi=false
unit udg_ainingshiunit=null
unit udg_aizhijian=null
real udg_angle=0
real udg_angle2=0
integer udg_binghuan1=0
real udg_distance=0
location udg_effectloc=null
group udg_group_bingfeng=null
group udg_group_binghuan=null
integer array udg_int_bingfeng
integer array udg_int_bingling
real udg_jiaodu=0
unit udg_jinengmubiao1=null
location udg_loc=null
unit udg_unit_aizhizhong=null
location array udg_point_bingfeng
location array udg_point_binghuan
location array udg_point_bingling
unit udg_shadow1=null
group udg_Team=null
group udg_Team2=null
unit array udg_unit_bingfeng
unit array udg_unit_bingling
location udg_point_aizhizhong=null
location udg_point_tiaotiao=null
integer udg_int_aizhizhong=0
real udg_double_aijian=0
real array udg_playerbingshenmh
integer udg_bingshenjnint=0
integer array udg_int_jnshikong
location array udg_point_jnshikong
unit udg_unit_jnshikong=null
unit udg_unit_jnshikong2=null
gamecache udg_Cache=null
boolean array udg_buerzhi_chongxiu
dialog udg_querenchuangkou=null
button array udg_querenanniu
boolean udg_buerzhi_chongxiuyouren=false
unit udg_unit_chongxiu=null
integer array udg_int_chongxiu
rect array udg_quyu_chongxiu
unit udg_unit_chongxiu1=null
integer udg_int_shuxing=0
location array udg_point_chongxiu
unit array udg_unit_chongxiuboss
location udg_point=null
location udg_point2=null
group udg_group=null
timer udg_time=null
real udg_double=0
location udg_point1=null
boolean array udg_buerzhi_chongxiu2guan
boolean array udg_buerzhi_chongxiu3guan
boolean array udg_famu
boolean udg_buerzhi_bosshuan=false
boolean udg_buerzhi_bosskuangbao=false
boolean udg_buerzhi_bossluoshi=false
boolean udg_buerzhi_bosszhaohuan=false
boolean udg_buerzhi_choose=false
boolean udg_buerzhi_chuxian=false
real udg_double_bossluoshix=0
real udg_double_bossluoshiy=0
integer udg_int_boss=0
integer udg_int_boss2=0
integer array udg_int_bosshuan
location udg_point_boss=null
location udg_point_boss1=null
location array udg_point_bosshuan
location array udg_point_bossluoshi
location udg_texiao_bosshuan=null
unit udg_unit_boss=null
unit udg_unit_boss1=null
unit array udg_unit_bosshuan
unit array udg_unit_bossluoshi
unit udg_unit_BOSS1=null
real array udg_playerkongshenmh
boolean udg_buerzhi_tingguai=false
boolean udg_buerzhi_kongzhuanshu=false
integer udg_int=0
boolean udg_buerzhi_kongjianyikai=false
boolean udg_buerzhi_daoshenchongxiu=false
boolean udg_buerzhi_chongxiudushen=false
boolean udg_buerzhi_chongxiufengshen=false
effect udg_texiao_kongjian=null
boolean udg_buerzhi_danren=false
unit udg_unit_bingxiang=null
real udg_double_bingling=0
timer udg_jishiqi_bingl=null
integer udg_int_liwu=0
unit udg_ssxt=null
boolean udg_buerzhi_shengming=false
integer udg_RGA3=0
location array udg_RGB3
timer udg_mojie=null
timerdialog udg_mojieck=null
integer udg_iloveyou=0
integer array udg_xili
boolean udg_ycjuqing=true
real array udg_BOSSshitou
group udg_shuishenshufuzu=null
unit udg_unit_shuishenshufu=null
location array udg_point_shuishenpx
unit udg_unit_shuishenpx=null
integer udg_int_shuishenpx=0
real udg_double_qianjun=0
unit udg_unit_qianjun=null
timer udg_jsq_qianjun=null
unit udg_unit_lingzhi=null
unit udg_unit_huimieyi=null
boolean udg_buerzhi_huimieyi=false
timer udg_jsq_huimieyi=null
unit udg_a=null
unit udg_uint_tuxingquan=null
effect udg_texiao_tuxingquan=null
timer udg_jsq_tuxingquan=null
location array udg_point_fengxingquan
unit udg_unit_fengxingquan=null
integer udg_int_tuxingquan=0
timer udg_jsq_fengxinquan=null
unit udg_unit_huoxingzhiquan1=null
integer udg_int_huoxingquan=0
unit udg_unit_huoxingzhiquan=null
timer udg_jsq_huoxingquan=null
timer udg_chongshenjsq2=null
timer udg_chongshenjsq1=null
unit udg_unit_mingyun=null
integer udg_inttt=0
integer udg_mingyundengji=0
timer udg_mingyunguangjsq=null
timer array udg_chongshenjsq
effect udg_texiao_my=null
timer udg_jsq_sssf=null
integer udg_int_sssf=0
unit udg_unit_hmzm=null
location udg_point_hmzm=null
unit udg_unit_hmzm1=null
timer udg_jsq_hmzm=null
group udg_group_hmqx=null
location udg_point_myzj=null
location udg_point_ll=null
location udg_point_wlsta=null
unit udg_unit_wlst=null
timer udg_jsq_wlst=null
location udg_point_wlst=null
location udg_point_dcpa=null
location udg_point_dcpb=null
location udg_point_dcpc=null
unit udg_unit_dcpb=null
timer udg_jsq_dcp=null
real udg_double_dcp=0
unit udg_unit_dcp=null
real udg_double_dcpb=0
group udg_group_ldcc=null
group udg_group_myfz=null
integer udg_int_qianjun=0
timer udg_jsq_ljlt=null
integer udg_int_ljlt=0
effect udg_texiao_ljlt=null
group udg_group_yingx=null
boolean udg_buerzhi_ldzl=false
effect udg_texiao_hxq=null
location udg_point_shuih=null
unit udg_unit_shuih=null
timer udg_jsq_shuih=null
unit udg_unit_hmzm2=null
boolean udg_buerzh_zdzh=false
location array udg_p_BD
effect udg_texiao_gcz=null
location udg_p_myzj=null
timer udg_jsq_myzj=null
boolean udg_buerzhi_huimie1=false
boolean udg_buerzhi_huimie2=false
boolean udg_buerzhi_yikj=false
effect array udg_texiao_tianxian
effect udg_texiao_shangshen=null
group udg_group_wuqi=null
boolean udg_buerzhi_wuqi=false
unit udg_unit_wuqi=null
unit array udg_KKdw
location udg_point_haishen=null
location udg_point_haishen1=null
effect udg_texiao_haishen=null
group array udg_KKdwz
location array udg_KKd
real udg_float_ldzl=0
timer udg_jsq_sspx=null
integer udg_int_sspx=0
boolean udg_bez_sp=false
timer udg_tingguai2=null
itempool udg_itemc=null
location udg_point_jrfb=null
unit udg_unit_jrfb=null
integer udg_int_jrfb=0
integer udg_int_yifu1=0
boolean array udg_buerzhi_yifu
item udg_item_hswuqi=null
unit udg_unit_nan=null
unit udg_unit_nv=null
boolean array udg_buerzhi_yihun
dialog udg_ck_jiehun=null
button array udg_an_jiehun
unit array udg_unit_bb
unit array udg_tjjy3
boolean array udg_buerzhi_jingzi
boolean array udg_buerzhi_phoenix
timer array udg_jsq_jingzi
timer array udg_jsq_phoenix
integer udg_int_xiaodu=0
boolean udg_buerzhi_youxi=false
dialog udg_ck_youxi=null
button array udg_an_youxi
integer udg_int_xiaodu1=0
unit udg_unit_youxidw=null
integer udg_int_xiaodu2=0
boolean udg_buerzhi_jzsp=false
timer udg_jsq_jzsp=null
integer udg_int_tiren=0
boolean udg_buerzhi_tiren=false
boolean array udg_buerzhi_trok
integer udg_int_youxirs=0
player udg_wj_tiren=null
boolean array udg_buerzhi_sss
timer array udg_jsq_sss
rect gg_rct________000=null
rect gg_rct________001=null
rect gg_rct________002=null
rect gg_rct________003=null
rect gg_rct______________004=null
rect gg_rct______________005=null
rect gg_rct______________006=null
rect gg_rct______________007=null
rect gg_rct______________008=null
rect gg_rct______________013=null
rect gg_rct______________018=null
rect gg_rct______________020=null
rect gg_rct______________021=null
rect gg_rct______________022=null
rect gg_rct______________023=null
rect gg_rct______________024=null
rect gg_rct______________025=null
rect gg_rct______________026=null
rect gg_rct______________029=null
rect gg_rct______________031=null
rect gg_rct______________034=null
rect gg_rct______________035=null
rect gg_rct______________036=null
rect gg_rct______________038=null
rect gg_rct______________039=null
rect gg_rct______________040=null
rect gg_rct______________041=null
rect gg_rct______________042=null
rect gg_rct______________050=null
rect gg_rct______________051=null
rect gg_rct______________055=null
rect gg_rct______________056=null
rect gg_rct______________057=null
rect gg_rct______________058=null
rect gg_rct______________059=null
rect gg_rct______________060=null
rect gg_rct______________061=null
rect gg_rct______________062=null
rect gg_rct______________065=null
rect gg_rct______________066=null
rect gg_rct______________067=null
rect gg_rct______________068=null
rect gg_rct______________069=null
rect gg_rct______________071=null
rect gg_rct______________063=null
rect gg_rct______________072=null
rect gg_rct______________073=null
rect gg_rct______________074=null
rect gg_rct______________075=null
rect gg_rct______________076=null
rect gg_rct______________077=null
rect gg_rct______________078=null
rect gg_rct______________079=null
rect gg_rct______________080=null
rect gg_rct______________009=null
rect gg_rct______________010=null
rect gg_rct______________011=null
rect gg_rct______________012=null
rect gg_rct______________015=null
rect gg_rct______________016=null
rect gg_rct______________017=null
rect gg_rct______________030=null
rect gg_rct______________043=null
rect gg_rct______________044=null
rect gg_rct______________096=null
rect gg_rct______________097=null
rect gg_rct______________098=null
rect gg_rct______________099=null
rect gg_rct______________100=null
rect gg_rct______________101=null
rect gg_rct______________014=null
rect gg_rct______________019=null
rect gg_rct______________027=null
rect gg_rct______________032=null
rect gg_rct______________033=null
rect gg_rct______________037=null
rect gg_rct______________046=null
rect gg_rct______________047=null
rect gg_rct______________048=null
rect gg_rct______________028=null
rect gg_rct______________106=null
rect gg_rct______________107=null
rect gg_rct______________117=null
rect gg_rct______________118=null
rect gg_rct______________119=null
rect gg_rct______________120=null
rect gg_rct______________121=null
rect gg_rct______________122=null
rect gg_rct______________123=null
rect gg_rct______________124=null
rect gg_rct______________125=null
rect gg_rct______________126=null
rect gg_rct______________127=null
rect gg_rct______________128=null
rect gg_rct______________129=null
rect gg_rct______________130=null
rect gg_rct______________131=null
rect gg_rct______________132=null
rect gg_rct______________133=null
rect gg_rct______________134=null
rect gg_rct______________135=null
rect gg_rct______________136=null
rect gg_rct______________137=null
rect gg_rct______________138=null
rect gg_rct______________139=null
rect gg_rct______________140=null
rect gg_rct______________141=null
rect gg_rct______________142=null
rect gg_rct______________143=null
rect gg_rct______________144=null
rect gg_rct______________145=null
rect gg_rct______________146=null
rect gg_rct______________147=null
rect gg_rct______________148=null
rect gg_rct______________149=null
rect gg_rct______________150=null
rect gg_rct______________151=null
rect gg_rct______________152=null
rect gg_rct______________153=null
rect gg_rct______________154=null
rect gg_rct______________155=null
rect gg_rct______________156=null
rect gg_rct______________157=null
rect gg_rct______________158=null
rect gg_rct______________159=null
rect gg_rct______________160=null
rect gg_rct______________161=null
rect gg_rct______________162=null
rect gg_rct______________163=null
rect gg_rct______________164=null
rect gg_rct______________165=null
rect gg_rct______________166=null
rect gg_rct______________167=null
rect gg_rct______________168=null
rect gg_rct______________169=null
rect gg_rct______________170=null
rect gg_rct______________171=null

rect gg_rct______________045=null
rect gg_rct______________049=null
rect gg_rct______________052=null
rect gg_rct______________053=null
rect gg_rct______________054=null
rect gg_rct______________102=null
rect gg_rct______________103=null
rect gg_rct______________104=null
rect gg_rct______________105=null
rect gg_rct______________108=null
rect gg_rct______________109=null
rect gg_rct______________110=null
rect gg_rct______________111=null
rect gg_rct______________112=null
rect gg_rct______________064=null
rect gg_rct______________070=null
rect gg_rct______________081=null
rect gg_rct______________201=null
rect gg_rct______________202=null
rect gg_rct______________203=null
rect gg_rct______________204=null
rect gg_rct______________210=null
rect gg_rct______________211=null
rect gg_rct______________221=null
rect gg_rct______________222=null
rect gg_rct______________219=null
rect gg_rct______________230=null
rect gg_rct______________300=null
rect gg_rct______________301=null
rect gg_rct______________302=null
rect gg_rct______________310=null
rect gg_rct______________311=null
rect gg_rct______________312=null
rect gg_rct______________313=null
rect gg_rct______________314=null
rect gg_rct______________315=null
rect gg_rct______________316=null
rect gg_rct______________320=null


rect gg_rct______________401=null
rect gg_rct______________402=null
rect gg_rct______________403=null

camerasetup gg_cam_Camera_001=null
sound gg_snd_Hint=null
sound gg_snd_Warning=null


trigger gg_trg_menghuanshen=null
trigger gg_trg_menghuanshen1=null
trigger gg_trg_chaonengz=null
trigger gg_trg_chaoneng1=null
trigger gg_trg_xuewu=null
trigger gg_trg_xuewu1=null
trigger gg_trg_shijianshen1=null
trigger gg_trg_menghuan2=null
trigger gg_trg_xuewu2=null
trigger gg_trg_chaoneng2=null
trigger gg_trg_shijianshen=null


trigger gg_trg_Weather_Change=null
trigger gg_trg_zican=null
trigger gg_trg_Ability_Show=null
trigger gg_trg_Uhhq1=null
trigger gg_trg_Uhhq2=null
trigger gg_trg_pm1=null
trigger gg_trg_pm2=null
trigger gg_trg_pm3=null
trigger gg_trg_yuedu1=null
trigger gg_trg_yuedu2=null
trigger gg_trg_yuedu3=null
trigger gg_trg_TianZhao=null
trigger gg_trg_FSBP=null
trigger gg_trg_FSBP2=null
trigger gg_trg_FSBP3=null
trigger gg_trg_Xzh=null
trigger gg_trg_Xzh2=null
trigger gg_trg_Xzh3=null
trigger gg_trg_hfz=null
trigger gg_trg_sszs=null
trigger gg_trg_sszs1=null
trigger gg_trg_SD2=null
trigger gg_trg_SD3=null
trigger gg_trg_Shunguang_Shan=null
trigger gg_trg_Shunguang_Go=null
trigger gg_trg_Feilei_Stand=null
trigger gg_trg_Feilei_Go=null
trigger gg_trg_wxty1=null
trigger gg_trg_wxty2=null
trigger gg_trg_luoxuanwan=null
trigger gg_trg_luoxuanwan1=null
trigger gg_trg_zjgm=null
trigger gg_trg_honglian9=null
trigger gg_trg_honglian6=null
trigger gg_trg_honglian7=null
trigger gg_trg_honglian1=null
trigger gg_trg_honglian2=null
trigger gg_trg_honglian3=null
trigger gg_trg_honglian4=null
trigger gg_trg_Ability=null
trigger gg_trg_GetExpired=null
trigger gg_trg_GetExpiredTimer=null
trigger gg_trg_jssjq=null
trigger gg_trg_jssjq1=null
trigger gg_trg_sjjz=null
trigger gg_trg_chongji=null
trigger gg_trg_hpnglian8=null
trigger gg_trg_sjlh=null
trigger gg_trg_sjlh_1=null
trigger gg_trg_sgdl=null
trigger gg_trg_sgdl1=null








trigger gg_trg_cscs=null
trigger gg_trg_cscs_______u=null
trigger gg_trg_csdj=null
trigger gg_trg_automed=null
trigger gg_trg_cs30=null
trigger gg_trg_cs14=null
trigger gg_trg_cs27=null
trigger gg_trg_cs28=null
trigger gg_trg_cs20=null
trigger gg_trg_cs22=null
trigger gg_trg_csdengji=null
trigger gg_trg_MonsterType=null
trigger gg_trg_chufa=null
trigger gg_trg_fangka=null
trigger gg_trg_guanbidianying=null
trigger gg_trg_slcx=null
trigger gg_trg_shuishenshufu1=null
trigger gg_trg_shuishenshufu2=null
trigger gg_trg_sssf3=null
trigger gg_trg_shuihua1=null
trigger gg_trg_shuihua=null
trigger gg_trg_sspx1=null
trigger gg_trg_sspx2=null
trigger gg_trg_sspx3=null
trigger gg_trg_shuih1=null
trigger gg_trg_shuih2=null
trigger gg_trg_shuih3=null
trigger gg_trg_hmzm=null
trigger gg_trg_hmzm1=null
trigger gg_trg_hmzm2=null
trigger gg_trg_qianjunsha1=null
trigger gg_trg_qianjunsha2=null
trigger gg_trg_qianjunsha3=null
trigger gg_trg_qianjunsha4=null
trigger gg_trg_qianjunsha5=null
trigger gg_trg_lingzhi1=null
trigger gg_trg_lingzhi2=null
trigger gg_trg_huimqx=null
trigger gg_trg_huimiezhiyi1=null
trigger gg_trg_huimiezhiyi2=null
trigger gg_trg_huimiezhiyi3=null
trigger gg_trg_huimiezhiyi4=null
trigger gg_trg_huimiezhiyi5=null
trigger gg_trg_huimiezhiyi6=null
trigger gg_trg_sxzc=null
trigger gg_trg_tuxingzhiquan=null
trigger gg_trg_tuxingzhiquan1=null
trigger gg_trg_fengxingquan1=null
trigger gg_trg_fengxingquan2=null
trigger gg_trg_fengxingquan3=null
trigger gg_trg_huoxingquan1=null
trigger gg_trg_huoxingquan2=null
trigger gg_trg_huoxingquan3=null
trigger gg_trg_yuyanfusu=null
trigger gg_trg_yuyanfusu1=null
trigger gg_trg_xgg=null
trigger gg_trg_sh=null
trigger gg_trg_jsqq=null
trigger gg_trg_myzj1=null
trigger gg_trg_myzj=null
trigger gg_trg_myzj3=null
trigger gg_trg_myzj2=null
trigger gg_trg_mysp=null
trigger gg_trg_mingyunzz1=null
trigger gg_trg_mingyunzz2=null
trigger gg_trg_ldzl1=null
trigger gg_trg_ldzl2=null
trigger gg_trg_ll=null
trigger gg_trg_wlst=null
trigger gg_trg_wlst1=null
trigger gg_trg_wlst2=null
trigger gg_trg_dcp=null
trigger gg_trg_dcp1=null
trigger gg_trg_dcp2=null
trigger gg_trg_dcp3=null
trigger gg_trg_ldcc1=null
trigger gg_trg_ldcc2=null
trigger gg_trg_bossjingong=null
trigger gg_trg_counter=null
trigger gg_trg_counter2=null
trigger gg_trg_counter3=null
trigger gg_trg_counter4=null
trigger gg_trg_ycjuqing=null
trigger gg_trg_ycjuqing_______u=null
trigger gg_trg_jinggong1=null
trigger gg_trg_jinggong1_______u=null
trigger gg_trg_jinggong2=null
trigger gg_trg_jinggong2_______u=null
trigger gg_trg_jinggong3=null
trigger gg_trg_jinggong3_______u=null
trigger gg_trg_jinggong4=null
trigger gg_trg_jinggong4_______u=null
trigger gg_trg_jinggong5=null
trigger gg_trg_pkingwuqi=null
trigger gg_trg_loverwuqi=null
trigger gg_trg_kissmewuqi=null
trigger gg_trg_fistjineng=null
trigger gg_trg_doingjineng=null
trigger gg_trg_sheswuqi=null
trigger gg_trg_ktwuqi=null
trigger gg_trg_KTwuqitianjia=null
trigger gg_trg_KTwuqishanchu=null
trigger gg_trg_daoshenwuqi1=null
trigger gg_trg_daoshenwuqi2=null
trigger gg_trg_shengmingzhishen=null
trigger gg_trg_shoushen=null
trigger gg_trg_shoushen_______u=null
trigger gg_trg_dushenwuqi=null
trigger gg_trg_qiangshenwuqi=null
trigger gg_trg_bingshen=null
trigger gg_trg_kongjianshen=null
trigger gg_trg_kongjianshen2=null
trigger gg_trg_huimiezhuans=null
trigger gg_trg_huimiezhuans_______u=null
trigger gg_trg_shuishenzs=null
trigger gg_trg_shuishe=null
trigger gg_trg_mingyunzs1=null
trigger gg_trg_doushenzs=null
trigger gg_trg_leishenzs=null
trigger gg_trg_chengzhang=null
trigger gg_trg_Money=null
trigger gg_trg_Money1=null
trigger gg_trg_liangong=null
trigger gg_trg_liangong1=null
trigger gg_trg_mutou1=null
trigger gg_trg_mutou2=null
trigger gg_trg_xiulian=null
trigger gg_trg_CMoney=null
trigger gg_trg_CMoney1=null
trigger gg_trg_Clg=null
trigger gg_trg_Clg1=null
trigger gg_trg_Cmutou1=null
trigger gg_trg_Cmutou2=null
trigger gg_trg_Cxiulian=null
trigger gg_trg_fb1=null
trigger gg_trg_fb2=null
trigger gg_trg_houshan=null
trigger gg_trg_taoyuan=null
trigger gg_trg_guangchengzi=null
trigger gg_trg_jiaoting=null
trigger gg_trg_shuijingcheng=null
trigger gg_trg_sanjiewai=null
trigger gg_trg_shanchu=null
trigger gg_trg_boss1=null
trigger gg_trg_boss2=null
trigger gg_trg_boss3=null
trigger gg_trg_boss4=null
trigger gg_trg_boss5=null
trigger gg_trg_boss6=null
trigger gg_trg_boss7=null
trigger gg_trg_boss8=null
trigger gg_trg_tianjie=null
trigger gg_trg_tianjie1=null
trigger gg_trg_zhuanshuxuexi=null
trigger gg_trg_shenjie=null
trigger gg_trg_shenjie1=null
trigger gg_trg_shenjieJL=null
trigger gg_trg_chengsheng=null
trigger gg_trg_chuangkou=null
trigger gg_trg_choose=null
trigger gg_trg_chuang2kou=null
trigger gg_trg_cho2ose=null
trigger gg_trg_yingcangnandu=null
trigger gg_trg_yingcangnandu_______u=null
trigger gg_trg_yincang=null
trigger gg_trg_xuanze=null
trigger gg_trg_xuanze_2=null
trigger gg_trg_xuanze_3=null
trigger gg_trg_suijixuanze=null
trigger gg_trg_HeroFuhuo=null
trigger gg_trg_HeroFuhuo1=null
trigger gg_trg_Make=null
trigger gg_trg_chongsheng=null
trigger gg_trg_win1=null
trigger gg_trg_fail=null
trigger gg_trg_fial1=null
trigger gg_trg_fail_______u=null
trigger gg_trg_jieweidonghua=null
trigger gg_trg_fangkaguai=null
trigger gg_trg_hke_Z01_______u=null
trigger gg_trg_BOSSyidong=null
trigger gg_trg_hke_Z21=null
trigger gg_trg_hke_Z31=null
trigger gg_trg_hke_Z41_______u=null
trigger gg_trg_hke_Z41______________u=null
trigger gg_trg_hke_Z41_______________2=null
trigger gg_trg_hke_Z41_______________3=null
trigger gg_trg_Moneyout________9=null
trigger gg_trg_sheng=null
trigger gg_trg_shen=null
trigger gg_trg_xian=null
trigger gg_trg_honglong=null
trigger gg_trg_qinglong=null
trigger gg_trg_bangongshi=null
trigger gg_trg_guangcheng=null
trigger gg_trg_jiaohuang=null
trigger gg_trg_shuijing=null
trigger gg_trg_yidong________10=null
trigger gg_trg_yidong________10_______u=null
trigger gg_trg_yidong________11=null
trigger gg_trg_yidong________12=null
trigger gg_trg_yidong________13=null
trigger gg_trg_yidong________17=null
trigger gg_trg_jianqi=null
trigger gg_trg_tianshen=null
trigger gg_trg_yindang=null
trigger gg_trg_heian=null
trigger gg_trg_zhanshen=null
trigger gg_trg_jixiansudu=null
trigger gg_trg_huanyingmizong=null
trigger gg_trg_doushen=null
trigger gg_trg_smzhishen=null
trigger gg_trg_shfuti=null
trigger gg_trg_dushen=null
trigger gg_trg_qiangshen=null
trigger gg_trg_bingshenby=null
trigger gg_trg_kongjianshen1=null
trigger gg_trg_huimiezssj=null
trigger gg_trg_shuishenzssj=null
trigger gg_trg_chaonengzssj=null
trigger gg_trg_wumiaozs=null
trigger gg_trg_wumiaozssj=null
trigger gg_trg_chaonengzs=null
trigger gg_trg_chaoneng=null
trigger gg_trg_mingyunzssj=null
trigger gg_trg_doushenzssj=null
trigger gg_trg_leishenzssj=null
trigger gg_trg_gong=null
trigger gg_trg_dao=null
trigger gg_trg_jian=null
trigger gg_trg_zhang=null
trigger gg_trg_buyi=null
trigger gg_trg_piyi=null
trigger gg_trg_dunpai=null
trigger gg_trg_tkj=null
trigger gg_trg_wing1=null
trigger gg_trg_wing2=null
trigger gg_trg_wing3=null
trigger gg_trg_wing4=null
trigger gg_trg_wing5=null
trigger gg_trg_shenqi1=null
trigger gg_trg_yinqiang=null
trigger gg_trg_shoushi1=null
trigger gg_trg_shoushi2=null
trigger gg_trg_shoushi3=null
trigger gg_trg_duanzao=null
trigger gg_trg_duanzao_______u=null
trigger gg_trg_huanyaolian=null
trigger gg_trg_congcong=null
trigger gg_trg_braverychange=null
trigger gg_trg_tomato=null
trigger gg_trg_yaokong=null
trigger gg_trg_ultima=null
trigger gg_trg_recoverlife=null
trigger gg_trg_recover2life=null
trigger gg_trg_recovercoflife=null
trigger gg_trg_callrabbit=null
trigger gg_trg_attacktest=null
trigger gg_trg_rabbitwudi=null
trigger gg_trg_rabbitabsorb=null
trigger gg_trg_rabbitjsq=null
trigger gg_trg_rabbitdeath=null

trigger gg_trg_qijiehigh=null
trigger gg_trg_hunsui=null
trigger gg_trg_tongyum=null
trigger gg_trg_tongyuh=null
trigger gg_trg_huizhang=null
trigger gg_trg_yuezhang=null
trigger gg_trg_kaitian=null
trigger gg_trg_dongxinanbei=null
trigger gg_trg_dongxinanbei_______u=null
trigger gg_trg_cc=null
trigger gg_trg_shitouBOSS=null
trigger gg_trg_renwu=null
trigger gg_trg_suijiboss=null
trigger gg_trg_suijixiaoguai=null
trigger gg_trg_suijixiaoguai_______u=null
trigger gg_trg_daojuBOSS=null
trigger gg_trg_zdywp=null
trigger gg_trg_tianxian=null
trigger gg_trg_jiaoh=null
trigger gg_trg_shangshen=null
trigger gg_trg_shangshen_______u=null
trigger gg_trg_gangcz=null
trigger gg_trg_haishen=null
trigger gg_trg_chuxian=null
trigger gg_trg_jineng1=null
trigger gg_trg_siwang=null
trigger gg_trg_bossgj=null
trigger gg_trg_jiangli1=null
trigger gg_trg_jiangli2=null
trigger gg_trg_jiangli3=null
trigger gg_trg_BOSSchuxian=null
trigger gg_trg_BOSSchuxian_______u=null
trigger gg_trg_BOSSchuxian______________u=null
trigger gg_trg_bossjnhuohuan1=null
trigger gg_trg_bossjnhuohuan2=null
trigger gg_trg_bossjnhuohuan3=null
trigger gg_trg_BOSSjnchongji=null
trigger gg_trg_BOSSjnluoshi1=null
trigger gg_trg_bossjnluoshi2=null
trigger gg_trg_BOSSjnkuangbao=null
trigger gg_trg_BOSSjnzhaohuan=null
trigger gg_trg_yansehuifu=null
trigger gg_trg_guiwei=null
trigger gg_trg_hc=null
trigger gg_trg_hc_______u=null
trigger gg_trg_zibao=null
trigger gg_trg_shanchushiti=null
trigger gg_trg_shanchushiti2=null
trigger gg_trg_jingyan=null
trigger gg_trg_jinggongguai=null
trigger gg_trg_jinggongguai_______u=null
trigger gg_trg_fengbaozhichui=null
trigger gg_trg_chacha=null
trigger gg_trg_bianshen=null
trigger gg_trg_bianshen_______u=null
trigger gg_trg_jianren=null
trigger gg_trg_jianren2=null
trigger gg_trg_jieshu=null
trigger gg_trg_youxiguanghuan=null
trigger gg_trg_youxiguanghuan_______u=null
trigger gg_trg_xihezhifeng=null
trigger gg_trg_pking=null
trigger gg_trg_pking1=null
trigger gg_trg_pking2=null
trigger gg_trg_pking3=null
trigger gg_trg_jx_001=null
trigger gg_trg_JX_003=null
trigger gg_trg_jianfang=null
trigger gg_trg_miemo1=null
trigger gg_trg_hfz_______u= null
trigger gg_trg_jinghua=null
trigger gg_trg_huohuan=null
trigger gg_trg_huohuan1=null
trigger gg_trg_ding=null
trigger gg_trg_tingzhi=null
trigger gg_trg_biansheng=null
trigger gg_trg_emxt=null
trigger gg_trg_xuexi=null
trigger gg_trg_beicixuexi=null
trigger gg_trg_qundushu=null
trigger gg_trg_beici=null
trigger gg_trg_xuanbuzhan=null
trigger gg_trg_xuanbuzhan2=null
trigger gg_trg_jingtiandaoqi1=null
trigger gg_trg_jintiandaoqi2=null
trigger gg_trg_wushuang1=null
trigger gg_trg_daoqihuti1=null
trigger gg_trg_daoqihuti2=null
trigger gg_trg_shengming=null
trigger gg_trg_shengming_______u=null
trigger gg_trg_shengmingzhiguang=null
trigger gg_trg_smzhengfa=null
trigger gg_trg_smzhengfajieshu=null
trigger gg_trg_jinengqianghua=null
trigger gg_trg_jinhua=null
trigger gg_trg_heti=null
trigger gg_trg_jieshu1=null
trigger gg_trg_jieshu2=null
trigger gg_trg_ssxt=null
trigger gg_trg_feibiao=null
trigger gg_trg_duqian=null
trigger gg_trg_dushuxing=null
trigger gg_trg_dumingxg=null
trigger gg_trg_duming=null
trigger gg_trg_jibenqiangfa=null
trigger gg_trg_leiyuqiang=null
trigger gg_trg_leiyuqiang2=null
trigger gg_trg_qianghunzhidun=null
trigger gg_trg_qianghunmie=null
trigger gg_trg_qianghunmie2=null
trigger gg_trg_qianghunmie3=null
trigger gg_trg_aishenzhongzi0=null
trigger gg_trg_aishengzhongzi1=null
trigger gg_trg_aishengzhongzi2=null
trigger gg_trg_aizhijian1=null
trigger gg_trg_aizhijian2=null
trigger gg_trg_zizhijian3=null
trigger gg_trg_ainingshi1=null
trigger gg_trg_ainingshi2=null
trigger gg_trg_kongjian3=null
trigger gg_trg_kongjian2=null
trigger gg_trg_tiaotiao=null
trigger gg_trg_chaofeng=null
trigger gg_trg_zhuren=null
trigger gg_trg_zhuren_______u=null
trigger gg_trg_binghuanbao1=null
trigger gg_trg_binghuanbao2=null
trigger gg_trg_bingxiang=null
trigger gg_trg_bingling1=null
trigger gg_trg_bingling2=null
trigger gg_trg_bingling3=null
trigger gg_trg_bingfeng1=null
trigger gg_trg_bingfeng2=null
trigger gg_trg_bingfeng3=null
trigger gg_trg_bingfeng4=null
trigger gg_trg____________________001=null
trigger gg_trg_sudu=null
trigger gg_trg_shijian=null
trigger gg_trg_shijian1=null
trigger gg_trg_kongjian=null
trigger gg_trg_kongjian1=null
trigger gg_trg_miezhi=null
trigger gg_trg_shenzhifenshen1=null
trigger gg_trg_shenzhifenshen2=null
trigger gg_trg_shenzhifenshen3=null
trigger gg_trg_daoshen1=null
trigger gg_trg_zhuizong=null
trigger gg_trg_zhuizong2=null
trigger gg_trg_CD=null
trigger gg_trg_wushuang1_______u=null
trigger gg_trg_ljlt1=null
trigger gg_trg_ljlt2=null
trigger gg_trg_shuiguo=null
trigger gg_trg_jitui=null
trigger gg_trg_wancheng=null
trigger gg_trg_wancheng_______u=null
trigger gg_trg_liumang=null
trigger gg_trg_wancheng________2=null
trigger gg_trg_dashui=null
trigger gg_trg_dashuiwancheng=null
trigger gg_trg_dashuiwang2=null
trigger gg_trg_wugang=null
trigger gg_trg_changeshu=null
trigger gg_trg_wanchengwugang=null
trigger gg_trg_jieshouxianhua=null
trigger gg_trg_xianhuashuaxin_______u=null
trigger gg_trg_xianhuashuaxin______________u=null
trigger gg_trg_jiaoxianhua=null
trigger gg_trg_wuxing=null
trigger gg_trg_wuxing1=null
trigger gg_trg_wuxing2=null
trigger gg_trg_compound=null
trigger gg_trg_shitangdama=null
trigger gg_trg_famu=null
trigger gg_trg_famu2=null
trigger gg_trg_dingyi1=null
trigger gg_trg_shuaxin1=null
trigger gg_trg_shuaxin2=null
trigger gg_trg_shuaxin3=null
trigger gg_trg_shuaxin4=null
trigger gg_trg_boss=null
trigger gg_trg_bossdaoju=null
trigger gg_trg_boss_______u=null
trigger gg_trg_diejia=null
trigger gg_trg_weiyixing=null
trigger gg_trg_hongyan=null
trigger gg_trg_dingyi=null
trigger gg_trg_fenlei=null
trigger gg_trg_txxishu5=null
trigger gg_trg_txxishu10=null
trigger gg_trg_txxishu20=null
trigger gg_trg_txxishu25=null
trigger gg_trg_txxishu30=null
trigger gg_trg_txxishu35=null
trigger gg_trg_txxishu40=null
trigger gg_trg_txxishu60=null
trigger gg_trg_txxishu70=null
trigger gg_trg_txxishu90=null
trigger gg_trg_txxishu100=null
trigger gg_trg_losetxxishu5=null
trigger gg_trg_losetxxishu10=null
trigger gg_trg_losetxxishu20=null
trigger gg_trg_losetxxishu25=null
trigger gg_trg_losetxxishu30=null
trigger gg_trg_losetxxishu35=null
trigger gg_trg_losetxsishu40=null
trigger gg_trg_losetxxishu60=null
trigger gg_trg_losetxxishu70=null
trigger gg_trg_losetxxishu90=null
trigger gg_trg_losetxxishu100=null
trigger gg_trg_jianxishu5=null
trigger gg_trg_jianxishu10=null
trigger gg_trg_jianxishu20=null
trigger gg_trg_jianxishu25=null
trigger gg_trg_jianxishu30=null
trigger gg_trg_jianxishu35=null
trigger gg_trg_jianxishu40=null
trigger gg_trg_jianxishu60=null
trigger gg_trg_jianxishu70=null
trigger gg_trg_jianxishu90=null
trigger gg_trg_jianxishu100=null
trigger gg_trg_losejianxishu5=null
trigger gg_trg_losejianxishu10=null
trigger gg_trg_losejianxishu20=null
trigger gg_trg_losejianxishu25=null
trigger gg_trg_losejianxishu30=null
trigger gg_trg_losejianxishu35=null
trigger gg_trg_losejianxishu40=null
trigger gg_trg_losejianxishu60=null
trigger gg_trg_losejianxishu70=null
trigger gg_trg_losejianxishu90=null
trigger gg_trg_losejianxishu9100=null
trigger gg_trg_ydxishu5=null
trigger gg_trg_ydxishu10=null
trigger gg_trg_ydxishu20=null
trigger gg_trg_ydxishu25=null
trigger gg_trg_ydxishu30=null
trigger gg_trg_ydxishu35=null
trigger gg_trg_ydxishu40=null
trigger gg_trg_ydxishu60=null
trigger gg_trg_ydxishu70=null
trigger gg_trg_ydxishu90=null
trigger gg_trg_ydxishu90_______u=null
trigger gg_trg_loseydxishu5=null
trigger gg_trg_loseydxishu10=null
trigger gg_trg_loseydxishu20=null
trigger gg_trg_loseydxishu25=null
trigger gg_trg_loseydxishu30=null
trigger gg_trg_loseydxishu35=null
trigger gg_trg_loseydxishu40=null
trigger gg_trg_loseydxishu60=null
trigger gg_trg_loseydxishu70=null
trigger gg_trg_loseydxishu90=null
trigger gg_trg_loseydxishu90_______u=null
trigger gg_trg_jinengdengji=null
trigger gg_trg_losejinengdengji=null
trigger gg_trg_fadongjilv=null
trigger gg_trg_yellow=null
trigger gg_trg_blue=null
trigger gg_trg_red=null
trigger gg_trg_green=null
trigger gg_trg_black=null
trigger gg_trg_white=null
trigger gg_trg_losefadong=null
trigger gg_trg_loseyellow=null
trigger gg_trg_loseblue=null
trigger gg_trg_losered=null
trigger gg_trg_losegreen=null
trigger gg_trg_loseblack=null
trigger gg_trg_losewhite=null
trigger gg_trg_link=null
trigger gg_trg_add1=null
trigger gg_trg_add10=null
trigger gg_trg_minus1=null
trigger gg_trg_minus10=null
trigger gg_trg_change1=null
trigger gg_trg_change2=null
trigger gg_trg_change3=null
trigger gg_trg_change4=null
trigger gg_trg_change5=null
trigger gg_trg_change6=null
trigger gg_trg_link_R=null
trigger gg_trg_yuezhangchakan=null
trigger gg_trg_jingtouhuanyuan=null
trigger gg_trg_zisha=null
trigger gg_trg_danrenceshi=null
trigger gg_trg_shitang=null
trigger gg_trg_shitang_______u=null
trigger gg_trg_kongdianshi=null
trigger gg_trg_yueguangbaohe=null
trigger gg_trg_yueguangbaohe_______u=null
trigger gg_trg_jianxishu90_______u=null
trigger gg_trg_chiyao=null
trigger gg_trg_zombie=null
trigger gg_trg_chishu=null
trigger gg_trg_jingzhi=null
trigger gg_trg_jingzhi3=null
trigger gg_trg_wupin=null
trigger gg_trg_huichengshu=null
trigger gg_trg_jingzhi2=null
trigger gg_trg_jing9zhi=null
trigger gg_trg_jingzhi5=null
trigger gg_trg_jingzhi4=null
trigger gg_trg_jingzhi6=null
trigger gg_trg____________________002=null
trigger gg_trg_shengjidi=null
trigger gg_trg_jinzhi=null
trigger gg_trg_baohu=null
trigger gg_trg_emofuhuo=null
trigger gg_trg_emo34fuhuo=null
trigger gg_trg_emo56fuhuo=null
trigger gg_trg_emo78fuhuo=null
trigger gg_trg_emo910fuhuo=null
trigger gg_trg_emo1112fuhuo=null
trigger gg_trg_emo1314fuhuo=null
trigger gg_trg_emo1516fuhuo=null
trigger gg_trg_emo1718fuhuo=null
trigger gg_trg_wudi=null
trigger gg_trg_wudi_______u=null
trigger gg_trg_nongming=null
trigger gg_trg____________________004=null
trigger gg_trg_Stage=null
trigger gg_trg_lead1=null
trigger gg_trg_lead2=null
trigger gg_trg_lead3=null
trigger gg_trg_tingguai=null
trigger gg_trg_daoqi=null
trigger gg_trg_jierenwu=null
trigger gg_trg_kaishi=null
trigger gg_trg_suduxiulian=null
trigger gg_trg_mofaxiulian=null
trigger gg_trg_jinrudisanbu=null
trigger gg_trg_wulixiulian=null
trigger gg_trg_jinrudisibu=null
trigger gg_trg_chongxiushibai=null
trigger gg_trg_chongxiujinengcd=null
trigger gg_trg_jinengjiangli=null
trigger gg_trg_jingtou=null
trigger gg_trg_shadishu=null
trigger gg_trg_shanshoujingzhi=null
trigger gg_trg_zhangshandian=null
trigger gg_trg_huoyan=null
trigger gg_trg_shieryuezhang=null
trigger gg_trg_shieryuezhang_______u=null
trigger gg_trg_pojia=null
trigger gg_trg_fangyu=null
trigger gg_trg_beiji1=null
trigger gg_trg_beiji2=null
trigger gg_trg_beiji3=null
trigger gg_trg_beiji4=null
trigger gg_trg_duobi1=null
trigger gg_trg_duobi2=null
trigger gg_trg_duobi3=null
trigger gg_trg_duobi4=null
trigger gg_trg_miehun=null
trigger gg_trg_wudimowang=null
trigger gg_trg_liwu=null
trigger gg_trg_sq1=null
trigger gg_trg_phoenix=null
trigger gg_trg_sq11=null
trigger gg_trg_phoenix1=null
trigger gg_trg_sq2=null
trigger gg_trg_sq2_______u=null
trigger gg_trg_sq3=null
trigger gg_trg_wuqi1=null
trigger gg_trg_wuqi11=null
trigger gg_trg_wuqi2=null
trigger gg_trg_wuqi21=null
trigger gg_trg_wuqi22=null
trigger gg_trg_ss=null
trigger gg_trg_ss11=null
trigger gg_trg_ss_______u=null
trigger gg_trg_dl=null
trigger gg_trg_sp1=null
trigger gg_trg_sp2=null
trigger gg_trg_sp3=null
trigger gg_trg_yf=null
trigger gg_trg_yifusj=null
trigger gg_trg_curse=null
trigger gg_trg_ultimamagic=null
trigger gg_trg_manadamage=null
trigger gg_trg_manaabsorb=null
trigger gg_trg_wuqisj1=null
trigger gg_trg_wuqisj2=null
trigger gg_trg_cc1=null
trigger gg_trg_cc2=null
trigger gg_trg_cc3=null
trigger gg_trg_cc3_______u=null
trigger gg_trg_xiaodu=null
trigger gg_trg_dadu=null
trigger gg_trg_haodu=null
trigger gg_trg_youxi=null
trigger gg_trg_youxiing=null
trigger gg_trg_tiren2=null
trigger gg_trg_tiren3=null
trigger gg_trg_tiren4=null
trigger gg_trg_tiren5=null
trigger gg_trg_tiren6=null
trigger gg_trg_tiren=null
trigger gg_trg_trenok=null
unit gg_unit_h001_0004=null

unit gg_unit_Hmbr_0141=null
unit gg_unit_Hart_0138=null
unit gg_unit_Emoo_0145=null
unit gg_unit_Ewar_0127=null

unit gg_unit_hmtt_0035=null
unit gg_unit_H000_0005=null
unit gg_unit_Hmkg_0053=null
unit gg_unit_H005_0020=null
unit gg_unit_Edem_0010=null
unit gg_unit_Obla_0007=null
unit gg_unit_Ogrh_0091=null
unit gg_unit_u001_0033=null
unit gg_unit_osp3_0132=null
unit gg_unit_n003_0189=null
unit gg_unit_nbee_0054=null
unit gg_unit_Hlgr_0032=null
unit gg_unit_hbla_0058=null
unit gg_unit_hsor_0047=null
unit gg_unit_h006_0195=null
unit gg_unit_N000_0186=null
unit gg_unit_unp2_0009=null
unit gg_unit_h003_0046=null
unit gg_unit_Orex_0018=null
unit gg_unit_Hvwd_0006=null
unit gg_unit_Hamg_0240=null
unit gg_unit_Umal_0234=null
unit gg_unit_H008_0239=null
unit gg_unit_Hpal_0235=null
unit gg_unit_Hblm_0191=null
unit gg_unit_npng_0131=null
unit gg_unit_H007_0238=null
unit gg_unit_Harf_0190=null
unit gg_unit_nchw_0039=null
unit gg_unit_nnfm_0042=null
unit gg_unit_osp4_0061=null
unit gg_unit_Otch_0172=null
unit gg_unit_Oshd_0176=null
unit gg_unit_Ofar_0180=null
unit gg_unit_Ekee_0181=null
unit gg_unit_Udre_0182=null
unit gg_unit_Ewar_0138= null
unit gg_unit_Emuu_0141= null
endglobals
function InitGlobals takes nothing returns nothing



//set udg_pass[12]=udg_pass[1]+udg_pass[2]+udg_pass[3]+udg_pass[4]+udg_pass[5]+udg_pass[6]+udg_pass[7]+udg_pass[8]+udg_pass[3]+udg_pass[3]+udg_pass[3]+udg_pass[8]+udg_pass[9]+udg_pass[2]+udg_pass[11]
//set udg_pass[13]=udg_pass[3]+udg_pass[3]+udg_pass[3]+udg_pass[10]

local integer i=0

set udg_badendtimer=CreateTimer()
set udg_trueendtimer=CreateTimer()

set udg_lingshenatkjsq=CreateTimer()
set udg_jsq_tx=CreateTimer()
set udg_Xzh_jsq=CreateTimer()
set udg_burstjsq=CreateTimer()
set udg_bianyijsq2=CreateTimer()

set udg_bianyijsq=CreateTimer()
set udg_new1jsq=CreateTimer()

set udg_unchildjsq=CreateTimer()
set udg_uvjsq0=CreateTimer()

set udg_mowangcon=CreateTimer()
set udg_uvpause=CreateTimer()
set udg_heajsq=CreateTimer()
set udg_uvjsq1=CreateTimer()
set udg_counter=CreateTimer()
set udg_tztime=CreateTimer()
set udg_antileave=CreateTimer()
set udg_shiwutime=CreateTimer()
set udg_wushenjsq1=CreateTimer()
set udg_wushenjsq2=CreateTimer()
set udg_waves=0
set udg_keji=0
set udg_zhen=false
set udg_zhuanzu=CreateForce()
set i=0
loop
exitwhen(i>1)
set udg_killzhuanshu[i]=0
set i=i+1
endloop
set udg_playerjianshen=0
set i=0
loop
exitwhen(i>1)
set udg_playerkissmemh[i]=0
set i=i+1
endloop

set udg_kissmejinengdengji=1.00
set udg_pkingwuqi=ITEM_TYPE_PURCHASABLE
set udg_pking=false
set udg_lover=false
set i=0
loop
exitwhen(i>1)
set udg_playerpkingmh[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_playerlovermh[i]=0
set i=i+1
endloop
set udg_pkingjinengdengji=1.00
set udg_loverjinengdengji=1.00
set udg_kissme=false
set udg_shuiguo=false
set udg_jitui=false
set i=0
loop
exitwhen(i>1)
set udg_liumang[i]=false
set i=i+1
endloop

set i=0
loop
exitwhen(i>12)
set udg_automed[i]=0
set udg_zomb[i]=0
set i=i+1
endloop

set udg_playernum=0
set i=0
loop
exitwhen(i>1)
set udg_liumang1[i]=false
set i=i+1
endloop
set udg_tianjie=CreateTimer()
set udg_kaiguan=false
set udg_youren=false
set i=0
loop
exitwhen(i>1)
set udg_liumang2[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_dashui[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_shui[i]=false
set i=i+1
endloop
set udg_RGA=0
set udg_RGA1=0
set udg_chibanglei=0
set udg_chi=0
set i=0
loop
exitwhen(i>1)
set udg_playertx[i]=0
set i=i+1
endloop
set udg_chibangdiao=0
set i=0
loop
exitwhen(i>1)
set udg_fadongjilv[i]=0
set i=i+1
endloop
set udg_wuqi2diao=9
set i=0
loop
exitwhen(i>1)
set udg_playerjx[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_playerydx[i]=0
set i=i+1
endloop
set udg_tingdian=false
set udg_laopo=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_playerfashenmh[i]=0
set i=i+1
endloop
set udg_YDSHENLI=false
set udg_RGA2=0
set udg_wuqi1diao=0
set udg_wuqi3diao=0
set udg_shoushi1=0
set udg_shoushi2=0
set udg_shoushi3=0
set udg_daoqi=false
set udg_shuaiguaiquyu=CreateRegion()
set udg_zhanshenqixi=false
set udg_heiandliliang=false
set udg_loverdengji=0
set udg_killlover=0
set udg_killkissme=0
set i=0
loop
exitwhen(i>1)
set udg_playershanqiumh[i]=0
set i=i+1
endloop
set udg_shanqiujinengdengji=1.00
set udg_killshanqiu=0
set i=0
loop
exitwhen(i>1)
set udg_jinengdengji[i]=0.00
set i=i+1
endloop
set udg_nanduchuangkou=DialogCreate()
set udg_nanduchuang2kou=DialogCreate()
set i=0
loop
exitwhen(i>1)
set udg_nandu[i]=""
set udg_nan2du[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_X[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_units[i]=CreateGroup()
set i=i+1
endloop

set i=0
loop
exitwhen ( i > 5 )
set udg_honglian_zu[i]=CreateGroup()
set i=i + 1
endloop

set udg_fenghuang=CreateGroup()
set udg_win=CreateTimer()
set udg_paihang=0
set udg_paihang1=0
set i=0
loop
exitwhen(i>1)
set udg_kills[i]=0
set i=i+1
endloop
set udg_dengji=0
set udg_fail=CreateTimer()
set udg_shuaguai=0
set i=0
loop
exitwhen(i>6)
set udg_fuhuo[i]=CreateTimer()
set i=i+1
endloop
set udg_fail1=CreateTimer()
set udg_tingguai=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_playershesmh[i]=0
set i=i+1
endloop
set udg_shitou=0
set udg_wuqi4diao=0
set udg_GJWP=0
set udg_GJWPZ=0
set udg_fangong=CreateTimer()
set udg_bossjingong=CreateTimer()
set udg_xx=0
set i=0
loop
exitwhen(i>1)
set udg_dengjiz[i]=0
set i=i+1
endloop
set udg_likai=0
set udg_start=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_wugang[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wugang1[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_changeshu[i]=0
set i=i+1
endloop
set udg_baohu=false
set udg_renshu=0
set udg_wanjia=0
set i=0
loop
exitwhen(i>1)
set udg_majiadwz[i]=CreateGroup()
set i=i+1
endloop
set udg_jsq=false
set udg_miezu=CreateGroup()
set udg_ccc=0
set udg_jianren=CreateTimer()
set udg_tingdian1=false
set udg_dianying=false
set udg_hongyan=0
set udg_hongyan1=0
set udg_chuansong=0
set udg_jianqi=false
set udg_beici=false
set udg_shuaxinsj=0.78
set udg_KTjineng=false
set i=0
loop
exitwhen(i>1)
set udg_playerKTmh[i]=0
set i=i+1
endloop
set udg_huanyingjilv=1
set udg_huanying=false
set udg_shuliang=0
set udg_huanxiang=CreateGroup()
set udg_count=0
set udg_TempGroup=CreateGroup()
set udg_wssuiji=0
set udg_DSjineng=false
set i=0
loop
exitwhen(i>1)
set udg_playerDSmh[i]=0
set i=i+1
endloop
set udg_DSdengji=0
set udg_jsqdaoqi=CreateTimer()
set udg_daoqidengji=0
set udg_nanduBL=0
set udg_SGjiange=0
set udg_jidiwudijsq=CreateTimer()
set udg_Timer=CreateTimer()
set udg_jsq_shijian=CreateTimer()
set udg_jsqdaoqi1=CreateTimer()
set udg_jsq1=CreateTimer()
set udg_mowangwudi=CreateTimer()
set udg_weixianqy=CreateRegion()
set udg_tianjieing=false
set udg_whotianjie=0
set i=0
loop
exitwhen(i>1)
set udg_tianjieOK[i]=false
set i=i+1
endloop
set udg_shenjieing=false
set i=0
loop
exitwhen(i>1)
set udg_shenjieOK[i]=false
set i=i+1
endloop
set udg_whoshenjie=0
set udg_shenjie=CreateTimer()
set udg_youxizb=CreateTimer()
set udg_youxi=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_youxi1[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_xianhua[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_xianhuasl[i]=0
set i=i+1
endloop
set udg_suijishu=0
set udg_i=0
set i=0
loop
exitwhen(i>1)
set udg_shanchushu[i]=CreateTimer()
set i=i+1
endloop
set udg_youxikaishi=false
set i=0
loop
exitwhen(i>1)
set udg_keyi[i]=false
set i=i+1
endloop
set udg_youlingdj=0
set udg_z=0
set udg_m=0
set udg_l=0
set udg_sm=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_ppp[i]=false
set i=i+1
endloop
set udg_level=0
set udg_haozhusl=0
set udg_shoushen_beidong_canshu=0
set udg_smqidao=false
set i=0
loop
exitwhen(i>1)
set udg_playersmmh[i]=0
set i=i+1
endloop
set udg_shfuti=false
set i=0
loop
exitwhen(i>1)
set udg_playershoushenmh[i]=0
set i=i+1
endloop
set udg_shenhunjilv=1
set udg_csheng=false
set i=0
loop
exitwhen(i>1)
set udg_siwangcishu[i]=0
set i=i+1
endloop
set udg_zl=0
set i=0
loop
exitwhen(i>1)
set udg_liumangyijie[i]=false
set i=i+1
endloop
set udg_beijizu=CreateGroup()
set udg_heti=CreateTimer()
set udg_duobizu=CreateGroup()
set udg_kaguai=false
set udg_hke_Z1=0
set udg_hke_Z2=0
set i=0
loop
exitwhen(i>1)
set udg_wuxingyijie[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wuxingj[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wuxingm[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wuxings[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wuxingh[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wuxingt[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_wuxingwc[i]=false
set i=i+1
endloop
set udg_kongjianing=false
set udg_shijianing=false
set udg_hhdwz=CreateGroup()
set udg_molidengji=0
set udg_molizhili=0
set udg_shengminga=0
set i=0
loop
exitwhen(i>1)
set udg_defen[i]=0
set i=i+1
endloop
set udg_youxiwanjia=0
set udg_diyiming=0
set udg_dushengjnint=0.00
set i=0
loop
exitwhen(i>1)
set udg_playerdushenmh[i]=0
set i=i+1
endloop
set udg_yueguang=false
set udg_shoushidiao=0
set udg_wuqi5diao=0
set udg_BOSSjiangli2=0
set udg_Bossjiangli3=0
set udg_sanchong=false
set udg_jiuchong=false
set udg_jbqfsh=0
set udg_hke=0
set udg_hke1=0
set udg_leiqiangzu=CreateGroup()
set udg_qiangfaDJ=0
set udg_dundesm=0
set udg_shanghaizhi=0
set udg_duidshuliang=0
set i=0
loop
exitwhen(i>1)
set udg_playerqiangshenmh[i]=0
set i=i+1
endloop
set udg_lsbl=0
set udg_qiangshenjnint=1
set udg_shenjieint=0
set i=0
loop
exitwhen(i>1)
set udg_zhuanshuyixue[i]=0
set i=i+1
endloop
set udg_BOSSjifen=0
set i=0
loop
exitwhen(i>1)
set udg_daojubosstest[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_yuezhang[i]=false
set i=i+1
endloop
set udg_yuezhangsl=0
set i=0
loop
exitwhen(i>1)
set udg_yuezhangjieduan[i]=false
set i=i+1
endloop
set udg_yuezhangaa=0
set udg_wuqi6diao=0
set udg_ycndu=false
set udg_yuezhangdengji=0
set i=0
loop
exitwhen(i>1)
set udg_playeryuezhangmh[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_shadisl[i]=0
set i=i+1
endloop
set udg_wj=1
set udg_jiangliwj=0
set udg_jiangliwj1=0
set udg_jingongjifen=0
set udg_jingongjingqian=0
set udg_aijianforint=0
set udg_aijiangroup=CreateGroup()
set udg_ainingshikaiqi=false
set udg_angle=0
set udg_angle2=0
set udg_binghuan1=0
set udg_distance=0
set udg_group_bingfeng=CreateGroup()
set udg_group_binghuan=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_int_bingfeng[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_int_bingling[i]=0
set i=i+1
endloop
set udg_jiaodu=0
set udg_Team=CreateGroup()
set udg_Team2=CreateGroup()
set udg_int_aizhizhong=0
set udg_double_aijian=0
set i=0
loop
exitwhen(i>1)
set udg_playerbingshenmh[i]=0
set i=i+1
endloop
set udg_bingshenjnint=1
set i=0
loop
exitwhen(i>1)
set udg_int_jnshikong[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_buerzhi_chongxiu[i]=false
set i=i+1
endloop
set udg_querenchuangkou=DialogCreate()
set udg_buerzhi_chongxiuyouren=false
set i=0
loop
exitwhen(i>1)
set udg_int_chongxiu[i]=0
set i=i+1
endloop
set udg_int_shuxing=0
set udg_group=CreateGroup()
set udg_time=CreateTimer()
set udg_double=0
set i=0
loop
exitwhen(i>1)
set udg_buerzhi_chongxiu2guan[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_buerzhi_chongxiu3guan[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_famu[i]=false
set i=i+1
endloop
set udg_buerzhi_bosshuan=false
set udg_buerzhi_bosskuangbao=false
set udg_buerzhi_bossluoshi=false
set udg_buerzhi_bosszhaohuan=false
set udg_buerzhi_choose=false
set udg_buerzhi_chuxian=false
set udg_double_bossluoshix=0
set udg_double_bossluoshiy=0
set udg_int_boss=0
set udg_int_boss2=0
set i=0
loop
exitwhen(i>1)
set udg_int_bosshuan[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_playerkongshenmh[i]=0
set i=i+1
endloop
set udg_buerzhi_tingguai=false
set udg_buerzhi_kongzhuanshu=false
set udg_int=0
set udg_buerzhi_kongjianyikai=false
set udg_buerzhi_daoshenchongxiu=false
set udg_buerzhi_chongxiudushen=false
set udg_buerzhi_chongxiufengshen=false
set udg_buerzhi_danren=false
set udg_double_bingling=0
set udg_jishiqi_bingl=CreateTimer()
set udg_int_liwu=0
set udg_buerzhi_shengming=false
set udg_RGA3=0
set udg_mojie=CreateTimer()
set udg_iloveyou=1
set udg_ycjuqing=true
set i=0
loop
exitwhen(i>1)
set udg_BOSSshitou[i]=0
set i=i+1
endloop
set udg_shuishenshufuzu=CreateGroup()
set udg_double_qianjun=0
set udg_jsq_qianjun=CreateTimer()
set udg_buerzhi_huimieyi=false
set udg_jsq_huimieyi=CreateTimer()
set udg_jsq_tuxingquan=CreateTimer()
set udg_int_tuxingquan=0
set udg_jsq_fengxinquan=CreateTimer()
set udg_int_huoxingquan=0
set udg_jsq_huoxingquan=CreateTimer()
set udg_chongshenjsq2=CreateTimer()
set udg_chongshenjsq1=CreateTimer()
set udg_mingyundengji=0
set udg_mingyunguangjsq=CreateTimer()
set i=0
loop
exitwhen(i>6)
set udg_chongshenjsq[i]=CreateTimer()
set i=i+1
endloop
set udg_jsq_sssf=CreateTimer()
set udg_int_sssf=0
set udg_jsq_hmzm=CreateTimer()
set udg_group_hmqx=CreateGroup()
set udg_jsq_wlst=CreateTimer()
set udg_jsq_dcp=CreateTimer()
set udg_double_dcp=0
set udg_double_dcpb=0
set udg_group_ldcc=CreateGroup()
set udg_group_myfz=CreateGroup()
set udg_int_qianjun=1
set udg_jsq_ljlt=CreateTimer()
set udg_int_ljlt=1
set udg_group_yingx=CreateGroup()
set udg_buerzhi_ldzl=false
set udg_jsq_shuih=CreateTimer()
set udg_buerzh_zdzh=false
set udg_jsq_myzj=CreateTimer()
set udg_buerzhi_huimie1=false
set udg_buerzhi_huimie2=false
set udg_buerzhi_yikj=false
set udg_group_wuqi=CreateGroup()
set udg_buerzhi_wuqi=false
set i=0
loop
exitwhen(i>1)
set udg_KKdwz[i]=CreateGroup()
set i=i+1
endloop
set udg_float_ldzl=0
set udg_jsq_sspx=CreateTimer()
set udg_int_sspx=0
set udg_bez_sp=false
set udg_tingguai2=CreateTimer()
set udg_int_jrfb=0
set udg_int_yifu1=0
set i=0
loop
exitwhen(i>6)
set udg_buerzhi_yifu[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>6)
set udg_buerzhi_yihun[i]=false
set i=i+1
endloop
set udg_ck_jiehun=DialogCreate()
set i=0
loop
exitwhen(i>6)
set udg_buerzhi_jingzi[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>6)
set udg_jsq_jingzi[i]=CreateTimer()
set i=i+1
endloop
set i=0
loop
exitwhen(i>6)
set udg_buerzhi_phoenix[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>6)
set udg_jsq_phoenix[i]=CreateTimer()
set i=i+1
endloop

set udg_ck_duijiang4=DialogCreate()
set udg_ck_duijiang5=DialogCreate()
set udg_ck_duijiang6=DialogCreate()
set udg_ck_duijiang7=DialogCreate()
set udg_ck_duijiang8=DialogCreate()
set udg_ck_duijiang9=DialogCreate()
set udg_ck_duijiang0=DialogCreate()
set udg_ck_duijiangX=DialogCreate()






set udg_int_xiaodu=0
set udg_buerzhi_youxi=false
set udg_ck_youxi=DialogCreate()
set udg_int_xiaodu1=0
set udg_int_xiaodu2=0
set udg_buerzhi_jzsp=false
set udg_jsq_jzsp=CreateTimer()
set udg_int_tiren=1
set udg_buerzhi_tiren=false
set i=0
loop
exitwhen(i>5)
set udg_buerzhi_trok[i]=false
set i=i+1
endloop
set udg_int_youxirs=0
set i=0
loop
exitwhen(i>1)
set udg_buerzhi_sss[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>6)
set udg_jsq_sss[i]=CreateTimer()
set i=i+1
endloop
endfunction
function ItemTable000000_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit !=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I069',100)
set itemID=RandomDistChoose()
if(trigUnit !=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function ItemTable000001_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit !=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I06E',100)
set itemID=RandomDistChoose()
if(trigUnit !=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000100_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit !=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I06E',100)
set itemID=RandomDistChoose()
if(trigUnit !=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000101_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit !=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I06B',100)
set itemID=RandomDistChoose()
if(trigUnit !=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitSounds takes nothing returns nothing
set gg_snd_Hint=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(gg_snd_Hint,"Hint")
call SetSoundDuration(gg_snd_Hint,2006)
set gg_snd_Warning=CreateSound("Sound\\Interface\\Warning.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(gg_snd_Warning,"Warning")
call SetSoundDuration(gg_snd_Warning,1904)
endfunction
function CreateAllItems takes nothing returns nothing
local integer itemID
call CreateItem('I04I',-5752.8,-2865.2)
call CreateItem('I04I',-7755.2,-110.4)
call CreateItem('I04I',-5547.6,-686.8)
call CreateItem('I04I',-5339.7,-2464.3)
call CreateItem('I04I',-5588.2,-3546.1)
call CreateItem('I04I',-4598.3,-3649.9)
call CreateItem('I04I',-4490.9,-1980.5)
call CreateItem('I04I',-7630.2,1053.4)
call CreateItem('I04I',-7033.8,602.8)
call CreateItem('I04I',-7233.5,1440.4)
endfunction
function CreateUnitsForPlayer0 takes nothing returns nothing
local player p=Player(0)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_osp4_0061=CreateUnit(p,'osp4',2942.8,4826.6,59.921)
set gg_unit_npng_0131=CreateUnit(p,'npng',2779.1,4912.5,287.873)
set gg_unit_osp3_0132=CreateUnit(p,'osp3',3043.7,4870.5,223.194)
endfunction
function CreateBuildingsForPlayer7 takes nothing returns nothing
local player p=Player(7)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'nbsm',-1216.0,-4928.0,270.000)
set udg_baoguan01=CreateUnit(p,'e003',-1216.0,-3228.0,250.000)
set udg_baoguan02=CreateUnit(p,'e003',-1216.0,-3228.0,250.000)
set udg_baoguan03=CreateUnit(p,'e003',-1216.0,-3228.0,250.000)
set u=CreateUnit(p,'hou1',-1216.0,-4028.0,270.000)
set u=CreateUnit(p,'hou2',-3516.0,-3828.0,270.000)
set gg_unit_h001_0004=CreateUnit(p,'h001',-2368.0,-4736.0,270.000)
set u=CreateUnit(p,'hvlt',-2816.0,-5632.0,270.000)
set u=CreateUnit(p,'ovln',-2304.0,-5632.0,270.000)
set u=CreateUnit(p,'eden',-3328.0,-5632.0,270.000)
set u=CreateUnit(p,'nmgv',-1792.0,-5632.0,270.000)
set u=CreateUnit(p,'ndrb',-1280.0,-5632.0,270.000)
set u=CreateUnit(p,'ndgt',-2368.0,-384.0,270.000)
endfunction
function CreateBuildingsForPlayer11 takes nothing returns nothing
local player p=Player(11)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_unp2_0009=CreateUnit(p,'unp2',-2432.0,3520.0,270.000)
set u=CreateUnit(p,'u000',-3104.0,1440.0,270.000)
set u=CreateUnit(p,'u000',-2336.0,1440.0,270.000)
set u=CreateUnit(p,'u000',-1568.0,1440.0,270.000)
set u=CreateUnit(p,'u000',-3168.0,2400.0,270.000)
set u=CreateUnit(p,'u000',-3168.0,2656.0,270.000)
set u=CreateUnit(p,'u000',-3168.0,2912.0,270.000)
set u=CreateUnit(p,'u000',-2400.0,2400.0,270.000)
set u=CreateUnit(p,'u000',-2400.0,2656.0,270.000)
set u=CreateUnit(p,'u000',-2400.0,2912.0,270.000)
set u=CreateUnit(p,'u000',-1568.0,2400.0,270.000)
set u=CreateUnit(p,'u000',-1568.0,2656.0,270.000)
set u=CreateUnit(p,'u000',-1568.0,2912.0,270.000)
set gg_unit_u001_0033=CreateUnit(p,'u001',-1216.0,2368.0,270.000)
set gg_unit_hbla_0058=CreateUnit(p,'hbla',-1152.0,-128.0,270.000)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,gg_unit_hbla_0058,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,gg_unit_hbla_0058,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function ItemTable000000_DropItems)
endfunction
function CreateUnitsForPlayer11 takes nothing returns nothing
local player p=Player(11)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_N000_0186=CreateUnit(p,'N000',-2425.0,3185.5,270.000)
endfunction
function CreateNeutralHostileBuildings takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'nnsg',-6656.0,-7744.0,270.000)
set gg_unit_nnfm_0042=CreateUnit(p,'nnfm',-7200.0,-4448.0,270.000)
endfunction
function CreateNeutralHostile takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'nsll',-2478.7,7388.1,340.760)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nsll',-2275.4,6714.4,22.347)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nsll',-3050.9,5585.4,45.760)
set u=CreateUnit(p,'nsll',-2839.9,6316.1,253.700)
set u=CreateUnit(p,'nrwm',-1836.2,7550.4,0.010)
set u=CreateUnit(p,'nslh',-2611.6,4812.6,298.826)
set u=CreateUnit(p,'nslr',-1292.0,4769.2,248.760)
set u=CreateUnit(p,'nslh',-2030.4,4706.4,190.270)
set u=CreateUnit(p,'nslr',-2034.5,5556.1,270.000)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nslr',-1684.8,5382.9,114.261)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'n001',471.5,5710.8,165.371)
set u=CreateUnit(p,'n001',-85.6,3953.6,130.430)
set u=CreateUnit(p,'n001',1449.1,4040.8,118.150)
set u=CreateUnit(p,'n001',225.2,5286.6,273.667)
set u=CreateUnit(p,'n001',457.7,5082.0,188.224)
set u=CreateUnit(p,'n001',951.5,5220.3,289.114)
set u=CreateUnit(p,'n001',1106.3,5087.9,183.840)
set u=CreateUnit(p,'n001',1346.6,4323.5,20.721)
set u=CreateUnit(p,'n001',1139.1,4064.2,200.144)
set u=CreateUnit(p,'n001',48.8,4271.2,31.850)
set u=CreateUnit(p,'n001',392.0,4074.4,67.985)
set u=CreateUnit(p,'Ulic',1061.6,3183.7,180.000)

set u=CreateUnit(p,'S001',961.6,1903.7,270.000)
set u=CreateUnit(p,'S002',-261.6,1903.7,270.000)


//set u=CreateUnit(p,'Ulic',1161.6-GetRandomInt(1,400),3083.7-GetRandomInt(1,200),180.000)
set u=CreateUnit(p,'Ubal',2931.9,2835.0,90.790)
//set u=CreateUnit(p,'Ubal',2171.9+GetRandomInt(1,1200),2905.0+GetRandomInt(1,700),90.790)
set u=CreateUnit(p,'Uwar',2932.2,6039.9,270.060)
set u=CreateUnit(p,'n004',638.0,3470.2,180.000)
set u=CreateUnit(p,'n004',662.2,2858.6,180.000)
set u=CreateUnit(p,'n001',1369.3,5621.3,58.350)
set u=CreateUnit(p,'edry',5948.2,-2142.6,69.170)
set gg_unit_Hlgr_0032=CreateUnit(p,'Hlgr',-4319.4,4447.6,283.230)
call SetHeroStr(gg_unit_Hlgr_0032,50,true)
call SetHeroAgi(gg_unit_Hlgr_0032,30,true)
call SetHeroInt(gg_unit_Hlgr_0032,10,true)
set u=CreateUnit(p,'ubdd',2797.1,-662.7,270.000)
//set u=CreateUnit(p,'ubdd',3397.1-GetRandomInt(1,200),-712.7-GetRandomInt(1,200),270.000)
set u=CreateUnit(p,'nnmg',-7484.4,-1593.2,109.098)
set u=CreateUnit(p,'Ekgg',5819.2,-4158.8,104.910)
set u=CreateUnit(p,'njks',-4419.7,3282.0,199.342)
set u=CreateUnit(p,'njks',-4463.8,4037.2,119.260)
set u=CreateUnit(p,'njks',-5225.5,1578.9,77.500)
set u=CreateUnit(p,'ninf',-4506.3,5673.3,270.000)
set u=CreateUnit(p,'nbzd',-5716.9,-6029.8,45.440)
set u=CreateUnit(p,'Bos4',-5916.9,-5029.8,45.440)
set u=CreateUnit(p,'edry',5311.1,-1695.9,339.990)
set u=CreateUnit(p,'njks',-4994.1,1200.3,194.046)
set u=CreateUnit(p,'njks',-4265.8,630.9,344.992)
set u=CreateUnit(p,'njks',-4572.2,229.1,136.399)
set u=CreateUnit(p,'njks',-4481.3,1016.6,336.620)
set u=CreateUnit(p,'njks',-5234.2,2057.1,150.820)
set u=CreateUnit(p,'njks',-4896.8,2582.1,154.901)
set u=CreateUnit(p,'njks',-5313.0,2660.5,36.267)
set u=CreateUnit(p,'nzom',5337.6,2943.7,18.502)
set u=CreateUnit(p,'nnsu',4985.2,-188.0,56.438)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nzom',4689.2,2926.4,48.957)
set u=CreateUnit(p,'nzom',5213.4,3448.1,146.441)
set u=CreateUnit(p,'nnmg',-7163.6,-1306.0,158.230)
set u=CreateUnit(p,'nnmg',-7404.7,-1146.6,54.670)
set u=CreateUnit(p,'nnmg',-6906.0,-1684.6,109.098)
set u=CreateUnit(p,'nnmg',-7105.0,-2135.2,249.496)
set u=CreateUnit(p,'njks',-4296.6,2102.2,197.090)
set u=CreateUnit(p,'njks',-4175.8,4001.4,26.489)
set u=CreateUnit(p,'nzom',4573.4,3422.4,321.184)
set u=CreateUnit(p,'nzom',4431.4,3835.2,17.425)
set u=CreateUnit(p,'nzom',5169.4,4061.4,245.717)
set u=CreateUnit(p,'Etyr',5796.9,5740.2,220.800)
set u=CreateUnit(p,'nzom',4333.8,4668.1,172.491)
set u=CreateUnit(p,'Bos9',4133.8,5968.1,262.491)
set u=CreateUnit(p,'nnsu',4391.9,293.5,82.587)
set u=CreateUnit(p,'nnsu',4937.8,337.4,108.032)
set u=CreateUnit(p,'edry',5542.8,-3769.0,109.416)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'edry',5445.8,-4126.9,222.084)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nnmg',-6741.3,-2410.5,219.195)
set u=CreateUnit(p,'edry',5440.5,-2423.0,316.954)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'Hvsh',4358.4,-496.9,0.380)
set u=CreateUnit(p,'Uv02',4188.4,-1496.9,270.0)

//set u=CreateUnit(p,'Hvsh',4658.4,106.9+GetRandomInt(1,200),0.380)
set u=CreateUnit(p,'nnsu',4428.1,1038.4,340.444)
set u=CreateUnit(p,'nnsu',4372.0,-94.9,50.290)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nsnp',-7788.3,-3029.4,299.431)
set u=CreateUnit(p,'nnsu',4822.4,-511.0,13.942)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nsnp',-6643.6,-2948.4,334.379)
set u=CreateUnit(p,'nsnp',-7628.4,-3742.6,120.754)
set u=CreateUnit(p,'nsnp',-6558.8,-3678.1,225.194)
set u=CreateUnit(p,'nnmg',-7942.3,-1535.8,109.098)
set u=CreateUnit(p,'nnmg',-7940.1,-1940.3,109.098)
set u=CreateUnit(p,'nnmg',-7521.6,-2016.4,109.098)
set u=CreateUnit(p,'nsnp',-7189.1,-3395.6,334.379)
set u=CreateUnit(p,'Udea',-6711.2,-7154.6,119.260)
set u=CreateUnit(p,'nvil',8824.7,7056.9,85.476)
set u=CreateUnit(p,'Bos7',7824.7,8056.9,270.476)
set u=CreateUnit(p,'Bos0',9054.7,6356.9,280.476)
set u=CreateUnit(p,'NS01',9054.7,8056.9,220.476)
//set u=CreateUnit(p,'otbk',8824.7,7056.9,85.476)
set u=CreateUnit(p,'nvil',8351.6,6723.1,296.135)
//set u=CreateUnit(p,'even',8351.6,6723.1,296.135)
set u=CreateUnit(p,'Nman',5472.9,-7812.7,160.000)
set udg_emo01=CreateUnit(p,'Rdem',-4704.0,7264.0,00.000)
call UnitAddItemByIdSwapped('I99E',udg_emo01)

set udg_emo02=CreateUnit(p,'Bdem',4404.0,-6026.8,180.000)
call UnitAddItemByIdSwapped('I99E',udg_emo02)

set u=CreateUnit(p,'Uktl',2841.6,-7871.2,106.920)
set u=CreateUnit(p,'Udth',-4108.0,-7659.8,145.900)
set u=CreateUnit(p,'Usyl',436.9,-372.2,270.000)
set u=CreateUnit(p,'Uanb',-222.1,-7741.2,45.090)
set u=CreateUnit(p,'Uvng',-7723.0,3003.8,0.000)
set u=CreateUnit(p,'Utic',-7734.7,7726.5,310.540)
set u=CreateUnit(p,'Uvar',-7734.7,7726.5,310.540)
set u=CreateUnit(p,'Nmag',-6958.5,5441.5,250.000)
set u=CreateUnit(p,'edry',4568.3,-3136.3,37.618)
set u=CreateUnit(p,'edry',4506.1,-3700.0,49.099)
set u=CreateUnit(p,'edry',4281.2,-1465.0,39.915)
set u=CreateUnit(p,'nnsu',4422.6,607.5,270.733)
set u=CreateUnit(p,'nggr',7025.8,-5801.2,345.160)
set u=CreateUnit(p,'nggr',6826.3,-6428.5,62.943)
set u=CreateUnit(p,'nggr',6548.0,-7399.7,293.201)
set u=CreateUnit(p,'nggr',7470.6,-7453.9,338.774)
set u=CreateUnit(p,'Nklj',8851.6,-7106.4,180.000)

//set u=CreateUnit(p,'hkni',8574.3,132.0,270.000)
//set u=CreateUnit(p,'hkni',7652.7,183.1,270.000)
//set u=CreateUnit(p,'hkni',6731.5,151.3,270.000)
//set u=CreateUnit(p,'hkni',7207.7,721.5,270.000)
//set u=CreateUnit(p,'hkni',8193.8,737.0,270.000)
//set u=CreateUnit(p,'hkni',6700.1,-760.2,270.000)
//set u=CreateUnit(p,'hkni',7640.8,-725.0,270.000)
//set u=CreateUnit(p,'hkni',8661.9,-747.5,270.000)
//set u=CreateUnit(p,'hkni',8719.8,-2167.2,270.000)
//set u=CreateUnit(p,'hkni',7183.0,-1978.6,270.000)
set u=CreateUnit(p,'Npld',7648.4,1298.7,270.000)
//set u=CreateUnit(p,'Npld',7518.4+GetRandomInt(1,600),1298.7,270.000)

set udg_bos8=CreateUnit(p,'Bos8',8918.4,98.7,270.000)
set u=CreateUnit(p,'Ud01',8718.4,-2298.7,270.000)
set u=CreateUnit(p,'Uv01',8851.6,-4006.4,180.000)





set u=CreateUnit(p,'nbel',8456.0,3026.6,270.550)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',7905.9,3009.9,7.833)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',7279.8,2999.9,65.250)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',8471.7,3613.9,215.778)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',8809.5,4069.5,148.693)
set u=CreateUnit(p,'nbel',8789.5,4901.2,91.003)
set u=CreateUnit(p,'nbel',7992.0,5324.6,289.861)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',7135.5,5325.2,66.239)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',6734.0,4722.8,41.475)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',6773.2,4204.9,297.178)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',7160.2,3683.3,213.075)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nbel',7836.3,3636.3,26.983)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nsgg',8649.0,-6699.8,180.000)
set u=CreateUnit(p,'nsgg',8699.7,-7410.5,150.000)
//set u=CreateUnit(p,'hkni',7983.7,-2217.7,225.990)
set u=CreateUnit(p,'nnrg',-7509.5,-6440.1,90.340)
set u=CreateUnit(p,'nnrg',-7690.6,-5817.8,60.260)
set u=CreateUnit(p,'nnrg',-6617.3,-6205.8,90.940)
set u=CreateUnit(p,'nnrg',-6713.1,-5342.0,70.000)
set u=CreateUnit(p,'nnrg',-7707.4,-4907.7,98.020)
set u=CreateUnit(p,'njks',-5465.8,3919.1,221.151)
set u=CreateUnit(p,'njks',-5822.6,3624.5,164.163)
set u=CreateUnit(p,'njks',-4690.7,3488.7,341.268)
set u=CreateUnit(p,'njks',-5283.7,3719.4,339.103)
endfunction
function CreateNeutralPassiveBuildings takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'ncop',-384.0,-2624.0,270.000)
set u=CreateUnit(p,'ntav',-5952.0,-1088.0,270.000)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'ncop',2240.0,-2688.0,270.000)
set u=CreateUnit(p,'ncop',2112.0,-4032.0,270.000)
set u=CreateUnit(p,'nfrt',-3712.0,-1472.0,270.000)
set u=CreateUnit(p,'ncop',2112.0,-5440.0,270.000)
set u=CreateUnit(p,'nfh0',5184.0,-320.0,270.000)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000100_DropItems)
set u=CreateUnit(p,'nten',-5856.0,32.0,270.000)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000101_DropItems)
set u=CreateUnit(p,'ngwr',8608.0,6816.0,270.000)
set u=CreateUnit(p,'ncop',-384.0,-4096.0,270.000)
set u=CreateUnit(p,'nitb',7808.0,4480.0,270.000)
endfunction
function CreateNeutralPassive takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_H000_0005=CreateUnit(p,'H000',-2311.3,-6649.3,270.000)//战神
call SetUnitState(gg_unit_H000_0005,UNIT_STATE_MANA,900)
set gg_unit_Hvwd_0006=CreateUnit(p,'Hvwd',-2436.1,-6916.0,270.000)//射神
call SetUnitState(gg_unit_Hvwd_0006,UNIT_STATE_MANA,900)
set gg_unit_Obla_0007=CreateUnit(p,'Obla',-2182.3,-6918.0,270.000)//剑神
call SetUnitState(gg_unit_Obla_0007,UNIT_STATE_MANA,900)
set gg_unit_Edem_0010=CreateUnit(p,'Edem',-2184.7,-7170.7,270.000)//风神
call SetUnitState(gg_unit_Edem_0010,UNIT_STATE_MANA,900)
set gg_unit_Orex_0018=CreateUnit(p,'Orex',-2428.6,-7168.6,270.000)//暗杀之神
call SetUnitState(gg_unit_Orex_0018,UNIT_STATE_MANA,1050)
set gg_unit_H005_0020=CreateUnit(p,'H005',-2946.7,-7157.5,270.000)//法神
call SetUnitState(gg_unit_H005_0020,UNIT_STATE_MANA,2000)
set gg_unit_hmtt_0035=CreateUnit(p,'hmtt',-3186.5,3702.3,323.360)
set gg_unit_nchw_0039=CreateUnit(p,'nchw',5668.1,2615.1,231.880)
set gg_unit_h003_0046=CreateUnit(p,'h003',-5963.3,-103.1,0.840)
set gg_unit_hsor_0047=CreateUnit(p,'hsor',-3883.0,-1265.5,180.000)
set u=CreateUnit(p,'Hjai',-1092.9,-3627.2,270.000)
//set gg_unit_Hmkg_0053=CreateUnit(p,'Hmkg',-1918.8,-7181.0,270.000)//力量之神
call SetUnitState(gg_unit_Hmkg_0053,UNIT_STATE_MANA,600)
set gg_unit_nbee_0054=CreateUnit(p,'nbee',-4276.2,-5762.0,180.000)
set gg_unit_Ogrh_0091=CreateUnit(p,'Ogrh',-1914.8,-6921.0,270.000)//刀神
call SetUnitState(gg_unit_Ogrh_0091,UNIT_STATE_MANA,900)
set u=CreateUnit(p,'nsha',5225.0,-1594.9,144.770)
set u=CreateUnit(p,'nsha',4418.0,2470.8,203.780)
set u=CreateUnit(p,'nsha',5401.6,3931.3,221.520)
set u=CreateUnit(p,'nvl2',8281.3,7163.9,228.248)
set u=CreateUnit(p,'Npbm',-5738.4,-982.3,0.880)
    set gg_unit_Ewar_0138=CreateUnit(p, 'Ewar', - 1900.8, - 6663.9, 270.000)//超能之神
    set gg_unit_Emuu_0141=CreateUnit(p, 'Emuu', - 2695.7, - 6657.6, 270.000) //呜喵之神
    
    set gg_unit_Hart_0138=CreateUnit(p,'Hart',- 2000.8, - 6663.9,270.000) //七界
		set gg_unit_Ewar_0127=CreateUnit(p,'Ewaz',- 2100.8, - 6663.9,270.000) //紫晶
		set gg_unit_Hmbr_0141=CreateUnit(p,'Hmbr',- 2595.7, - 6657.6,270.000) //超能
		set gg_unit_Emoo_0145=CreateUnit(p,'Emoz',- 2495.7, - 6657.6,270.000) //时间

    set udg_bianyifashen=CreateUnit(p, 'BY00', - 2895.7, - 6657.6, 270.000) //变异0
 //   set udg_newhero1=CreateUnit(p, 'NEW1', - 2995.7, - 6657.6, 270.000) //变异0
    set udg_bianyileishen=CreateUnit(p, 'BY01', - 1700.8, - 6663.9, 270.000)//变异1


    set gg_unit_bydoushen=CreateUnit(p, 'BYDS', - 2995.7, - 6657.6, 270.000) //变异斗神

//    set gg_unit_bydoushen=CreateUnit(p,'BYDS',-2311.3,-6916.3,270.000)//变异斗神

    
set u=CreateUnit(p,'hmpr',-4451.5,7719.5,136.010)
set u=CreateUnit(p,'nvl2',7635.1,7389.4,242.926)
set gg_unit_Otch_0172=CreateUnit(p,'Otch',-1674.9,-6919.3,270.000)//斗神
set u=CreateUnit(p,'nvl2',8519.8,7793.3,161.383)
set gg_unit_Oshd_0176=CreateUnit(p,'Oshd',-2946.6,-7423.2,270.000)//命运之神
set u=CreateUnit(p,'nvlw',8148.6,7606.4,232.544)
set u=CreateUnit(p,'nvlw',8725.4,7482.4,43.046)
set u=CreateUnit(p,'nvlw',8031.1,7606.4,300.000)
set gg_unit_Ofar_0180=CreateUnit(p,'Ofar',-2689.0,-7183.6,270.000)//毁灭之神
set gg_unit_Ekee_0181=CreateUnit(p,'Ekee',-2958.9,-6879.7,270.000)//水神
set gg_unit_Udre_0182=CreateUnit(p,'Udre',-1657.6,-7175.5,270.000)//雷神
set u=CreateUnit(p,'hrif',-2296.5,-7158.4,247.800)
set u=CreateUnit(p,'nvlw',7932.0,7105.4,198.639)
set gg_unit_n003_0189=CreateUnit(p,'n003',-3339.7,-4925.7,0.090)
set gg_unit_Harf_0190=CreateUnit(p,'Harf',-1658.1,-7420.9,270.000)//兽神
call SetUnitState(gg_unit_Harf_0190,UNIT_STATE_MANA,750)
set gg_unit_Hblm_0191=CreateUnit(p,'Hblm',-2696.3,-7425.7,270.000)//生命之神
call SetUnitState(gg_unit_Hblm_0191,UNIT_STATE_MANA,2000)
set u=CreateUnit(p,'nvlk',7310.7,7339.8,209.021)
set u=CreateUnit(p,'nvlk',7270.5,6944.9,13.030)
set gg_unit_h006_0195=CreateUnit(p,'h006',5841.2,-6226.8,75.510)
set u=CreateUnit(p,'nvlk',6941.7,6812.7,308.890)
set u=CreateUnit(p,'nvlk',7037.5,6822.7,160.339)
set u=CreateUnit(p,'nvlk',7000.3,6705.3,106.494)
set u=CreateUnit(p,'nvlw',8787.8,7542.9,235.565)
set gg_unit_Umal_0234=CreateUnit(p,'Umal',8094.5,7488.4,84.450)
set gg_unit_Hpal_0235=CreateUnit(p,'Hpal',-2699.3,-6916.0,270.000)//空间神
set gg_unit_H007_0238=CreateUnit(p,'H007',-2176.0,-7421.5,270.000)//枪神
call SetUnitState(gg_unit_H007_0238,UNIT_STATE_MANA,600)
set gg_unit_H008_0239=CreateUnit(p,'H008',-1919.5,-7425.7,270.000)//赌神
call SetUnitState(gg_unit_H008_0239,UNIT_STATE_MANA,600)
set gg_unit_Hamg_0240=CreateUnit(p,'Hamg',-2429.7,-7416.1,270.000)//冰神
call SetUnitState(gg_unit_Hamg_0240,UNIT_STATE_MANA,630)
endfunction
function CreatePlayerBuildings takes nothing returns nothing
call CreateBuildingsForPlayer7()
call CreateBuildingsForPlayer11()
endfunction
function CreatePlayerUnits takes nothing returns nothing
call CreateUnitsForPlayer0()
call CreateUnitsForPlayer11()
endfunction
function CreateAllUnits takes nothing returns nothing
call CreateNeutralHostileBuildings()
call CreateNeutralPassiveBuildings()
call CreatePlayerBuildings()
call CreateNeutralHostile()
call CreateNeutralPassive()
call CreatePlayerUnits()

set udg_pass[1]="y"
set udg_pass[2]="o"
set udg_pass[3]="u"
set udg_pass[4]="l"
set udg_pass[5]="i"
set udg_pass[6]="n"
set udg_pass[7]="g"
set udg_pass[8]="."
set udg_pass[9]="c"
set udg_pass[10]="9"
set udg_pass[11]="m"
set udg_pass[12]=udg_pass[1]+udg_pass[2]+udg_pass[3]+udg_pass[4]+udg_pass[5]+udg_pass[6]+udg_pass[7]+udg_pass[8]+udg_pass[3]+udg_pass[3]+udg_pass[3]+udg_pass[8]+udg_pass[9]+udg_pass[2]+udg_pass[11]
set udg_pass[13]=udg_pass[3]+udg_pass[3]+udg_pass[3]+udg_pass[10]
set udg_pass[14]=udg_pass[9]+udg_pass[2]+udg_pass[11]

endfunction
function CreateRegions takes nothing returns nothing
local weathereffect we
set gg_rct________000=Rect(-2880.0,1536.0,-2656.0,1792.0)
set gg_rct________001=Rect(-3520.0,1536.0,-3264.0,1792.0)
set gg_rct________002=Rect(-2016.0,1504.0,-1824.0,1696.0)
set gg_rct________003=Rect(-2688.0,-4928.0,-2048.0,-4640.0)
set gg_rct______________004=Rect(-3328.0,-7680.0,-1248.0,-6592.0)
set we=AddWeatherEffect(gg_rct______________004,'MEds')
call EnableWeatherEffect(we,true)
set gg_rct______________005=Rect(-2496.0,-5184.0,-2208.0,-4928.0)
set gg_rct______________006=Rect(-2624.0,3328.0,-2240.0,3808.0)
set gg_rct______________007=Rect(1952.0,-3584.0,3680.0,-2464.0)
set gg_rct______________008=Rect(2144.0,-2784.0,2336.0,-2560.0)
set gg_rct______________013=Rect(-480.0,5248.0,-256.0,5440.0)
set gg_rct______________018=Rect(2048.0,-4128.0,2176.0,-3936.0)
set gg_rct______________020=Rect(2016.0,-5120.0,3712.0,-3872.0)
set gg_rct______________021=Rect(4000.0,-2560.0,5888.0,1504.0)
set we=AddWeatherEffect(gg_rct______________021,'RAlr')
call EnableWeatherEffect(we,true)
set gg_rct______________022=Rect(4064.0,1504.0,6112.0,6048.0)
set we=AddWeatherEffect(gg_rct______________022,'LRma')
call EnableWeatherEffect(we,true)
set gg_rct______________023=Rect(-3808.0,-6144.0,-928.0,-2016.0)
set we=AddWeatherEffect(gg_rct______________023,'LRaa')
call EnableWeatherEffect(we,true)
set gg_rct______________024=Rect(-3616.0,-256.0,-960.0,3776.0)
set we=AddWeatherEffect(gg_rct______________024,'WNcw')
call EnableWeatherEffect(we,true)
set gg_rct______________025=Rect(-512.0,-4512.0,-288.0,-4288.0)
set gg_rct______________026=Rect(4992.0,-5216.0,5216.0,-5024.0)
set gg_rct______________029=Rect(-544.0,-3680.0,1472.0,-2496.0)
set gg_rct______________031=Rect(-3616.0,4384.0,-3360.0,4608.0)
set gg_rct______________034=Rect(2816.0,3968.0,3008.0,4064.0)
set gg_rct______________035=Rect(-1440.0,1472.0,-1184.0,1728.0)
set gg_rct______________036=Rect(-544.0,-4928.0,1472.0,-3904.0)
set gg_rct______________038=Rect(2016.0,-4512.0,2240.0,-4320.0)
set gg_rct______________039=Rect(-3712.0,-512.0,-3456.0,-288.0)
set gg_rct______________040=Rect(-4224.0,-1120.0,-3936.0,-832.0)
set gg_rct______________041=Rect(-3936.0,-1152.0,-3776.0,-800.0)
set gg_rct______________042=Rect(-3456.0,-544.0,-3232.0,-288.0)
set gg_rct______________050=Rect(-6080.0,160.0,-4064.0,4224.0)
set we=AddWeatherEffect(gg_rct______________050,'WOcw')
call EnableWeatherEffect(we,true)
set gg_rct______________051=Rect(2912.0,2688.0,3104.0,2848.0)
set gg_rct______________055=Rect(-6080.0,5728.0,-5664.0,6048.0)
set gg_rct______________056=Rect(-3648.0,2464.0,1632.0,8192.0)
set we=AddWeatherEffect(gg_rct______________056,'FDrh')
call EnableWeatherEffect(we,true)
set gg_rct______________057=Rect(4000.0,-8352.0,9184.0,5952.0)
set gg_rct______________058=Rect(-4416.0,4384.0,-4256.0,4544.0)
set gg_rct______________059=Rect(960.0,3104.0,1152.0,3296.0)
set gg_rct______________060=Rect(5728.0,-4192.0,5888.0,-4064.0)
set gg_rct______________061=Rect(4256.0,-544.0,4416.0,-384.0)
set gg_rct______________062=Rect(5728.0,5696.0,5856.0,5856.0)
set gg_rct______________065=Rect(-5792.0,-6080.0,-5632.0,-5888.0)
set gg_rct______________066=Rect(-4608.0,5568.0,-4416.0,5760.0)
set gg_rct______________067=Rect(-1888.0,7488.0,-1760.0,7616.0)
set gg_rct______________068=Rect(2048.0,-5536.0,2208.0,-5376.0)
set gg_rct______________069=Rect(2112.0,-5472.0,2144.0,-5440.0)
set gg_rct______________071=Rect(-480.0,-4192.0,-288.0,-4032.0)
set gg_rct______________063=Rect(-2496.0,1856.0,-2272.0,2080.0)
set gg_rct______________072=Rect(-4192.0,-5856.0,-4096.0,-5760.0)
set gg_rct______________073=Rect(-3328.0,-2752.0,-3136.0,-2560.0)
set gg_rct______________074=Rect(-2848.0,-2688.0,-2656.0,-2560.0)
set gg_rct______________075=Rect(-1952.0,-2720.0,-1760.0,-2528.0)
set gg_rct______________076=Rect(-1376.0,-2688.0,-1152.0,-2528.0)
set gg_rct______________077=Rect(-2752.0,-3136.0,-2656.0,-2944.0)
set gg_rct______________078=Rect(-2048.0,-3200.0,-1952.0,-3008.0)
set gg_rct______________079=Rect(-2720.0,-768.0,-2592.0,-640.0)
set gg_rct______________080=Rect(-2208.0,-768.0,-2080.0,-640.0)
set gg_rct______________009=Rect(-480.0,-2720.0,-288.0,-2528.0)
set gg_rct______________010=Rect(-6016.0,320.0,-5824.0,512.0)
set gg_rct______________011=Rect(-6528.0,1696.0,-6304.0,1920.0)
set gg_rct______________012=Rect(-6368.0,1920.0,-6240.0,2080.0)
set gg_rct______________015=Rect(-6048.0,128.0,-5888.0,288.0)
set gg_rct______________016=Rect(-6752.0,5664.0,-6624.0,5792.0)
set gg_rct______________017=Rect(-6944.0,6048.0,-6816.0,6208.0)
set gg_rct______________030=Rect(-7808.0,6112.0,-7648.0,6272.0)
set gg_rct______________043=Rect(-7520.0,6336.0,-7360.0,6496.0)
set gg_rct______________044=Rect(1568.0,800.0,1760.0,992.0)
set gg_rct______________096=Rect(-544.0,7328.0,-320.0,7584.0)
set gg_rct______________097=Rect(2432.0,7360.0,2496.0,7488.0)
set gg_rct______________098=Rect(4256.0,-6976.0,4352.0,-6848.0)
set gg_rct______________099=Rect(2656.0,-6912.0,2784.0,-6816.0)
set gg_rct______________100=Rect(960.0,-7072.0,1120.0,-6912.0)
set gg_rct______________101=Rect(-5760.0,-7360.0,-5600.0,-7232.0)
set gg_rct______________014=Rect(2848.0,4640.0,2976.0,4704.0)
set gg_rct______________019=Rect(-128.0,6400.0,5824.0,8128.0)
set we=AddWeatherEffect(gg_rct______________019,'SNhs')
call EnableWeatherEffect(we,true)
set gg_rct______________027=Rect(-8096.0,6592.0,-4320.0,7808.0)
set we=AddWeatherEffect(gg_rct______________027,'LRaa')
call EnableWeatherEffect(we,true)
set gg_rct______________032=Rect(608.0,7200.0,704.0,7296.0)
set gg_rct______________033=Rect(5440.0,-7872.0,5472.0,-7776.0)
set gg_rct______________037=Rect(2784.0,-7904.0,2848.0,-7840.0)
set gg_rct______________046=Rect(-288.0,-7808.0,-192.0,-7744.0)
set gg_rct______________047=Rect(-4160.0,-7744.0,-4032.0,-7648.0)
set gg_rct______________048=Rect(2880.0,5984.0,2976.0,6112.0)
set gg_rct______________028=Rect(4736.0,7296.0,4800.0,7424.0)
set gg_rct______________106=Rect(-6080.0,-3968.0,-4384.0,-448.0)
set we=AddWeatherEffect(gg_rct______________106,'LRaa')
call EnableWeatherEffect(we,true)
set gg_rct______________107=Rect(-7840.0,-352.0,-6592.0,1856.0)
set gg_rct______________117=Rect(-672.0,-2368.0,3616.0,2304.0)
set gg_rct______________118=Rect(-640.0,6464.0,1632.0,8064.0)
set gg_rct______________119=Rect(2208.0,6848.0,5536.0,7808.0)
set gg_rct______________120=Rect(384.0,-416.0,512.0,-352.0)
set gg_rct______________121=Rect(-480.0,-5856.0,-384.0,-5760.0)
set gg_rct______________122=Rect(-544.0,-6368.0,1376.0,-5312.0)
set gg_rct______________123=Rect(-4320.0,4960.0,-4224.0,5120.0)
set gg_rct______________124=Rect(-3840.0,-6240.0,-960.0,4032.0)
set gg_rct______________125=Rect(6112.0,1536.0,6304.0,1664.0)
set gg_rct______________126=Rect(6208.0,1760.0,6368.0,1920.0)
set gg_rct______________127=Rect(6528.0,2176.0,6752.0,2304.0)
set gg_rct______________128=Rect(8128.0,1248.0,8320.0,1408.0)
set gg_rct______________129=Rect(8832.0,1984.0,8992.0,2144.0)
set gg_rct______________130=Rect(8800.0,2400.0,8992.0,2560.0)
set gg_rct______________131=Rect(7616.0,2784.0,7776.0,2912.0)
set gg_rct______________132=Rect(6368.0,2624.0,6560.0,2752.0)
set gg_rct______________133=Rect(7648.0,3424.0,7840.0,3584.0)
set gg_rct______________134=Rect(8800.0,2784.0,8960.0,2976.0)
set gg_rct______________135=Rect(8736.0,3424.0,8896.0,3616.0)
set gg_rct______________136=Rect(6560.0,3456.0,6720.0,3584.0)
set gg_rct______________137=Rect(6528.0,5216.0,6688.0,5376.0)
set gg_rct______________138=Rect(7744.0,4224.0,7872.0,4320.0)
set gg_rct______________139=Rect(8736.0,5312.0,8896.0,5440.0)
set gg_rct______________140=Rect(8192.0,4736.0,8288.0,4832.0)
set gg_rct______________141=Rect(8224.0,4096.0,8320.0,4192.0)
set gg_rct______________142=Rect(7296.0,4736.0,7424.0,4864.0)
set gg_rct______________143=Rect(7296.0,4096.0,7392.0,4192.0)
set gg_rct______________144=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________145=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________146=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________147=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________148=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________149=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________150=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________151=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________152=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________153=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________154=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________155=Rect(7808.0,4512.0,7840.0,4544.0)
set gg_rct______________156=Rect(8800.0,-7168.0,8928.0,-7072.0)
set gg_rct______________157=Rect(7584.0,1248.0,7712.0,1344.0)
set gg_rct______________158=Rect(2016.0,-6400.0,3712.0,-5312.0)
set gg_rct______________159=Rect(2080.0,-5888.0,2176.0,-5792.0)
set gg_rct______________160=Rect(7712.0,-5376.0,7808.0,-5280.0)
set gg_rct______________161=Rect(7392.0,-2752.0,7520.0,-2656.0)
set gg_rct______________162=Rect(-928.0,6176.0,6432.0,8352.0)
set gg_rct______________163=Rect(-3744.0,-8224.0,-736.0,-6304.0)
set gg_rct______________164=Rect(-448.0,7136.0,736.0,7648.0)
set gg_rct______________165=Rect(2528.0,7104.0,4896.0,7488.0)
set gg_rct______________166=Rect(-6976.0,5376.0,-6912.0,5472.0)
set gg_rct______________167=Rect(-7808.0,2944.0,-7712.0,3072.0)
set gg_rct______________168=Rect(-7776.0,7616.0,-7648.0,7712.0)
set gg_rct______________169=Rect(-4704.0,7264.0,-4608.0,7360.0)
set gg_rct______________170=Rect(2624.0,1248.0,2752.0,1344.0)
set gg_rct______________171=Rect(4404.0,-6026.8,4504.0,-5926.8)
set gg_rct______________045=Rect(1888.0,512.0,3456.0,608.0)
set gg_rct______________049=Rect(1888.0,608.0,1984.0,2080.0)
set gg_rct______________052=Rect(1920.0,2016.0,3456.0,2144.0)
set gg_rct______________053=Rect(3392.0,576.0,3456.0,2112.0)
set gg_rct______________054=Rect(1536.0,32.0,3712.0,2432.0)
set gg_rct______________102=Rect(2144.0,768.0,2208.0,832.0)
set gg_rct______________103=Rect(3232.0,1824.0,3296.0,1920.0)
set gg_rct______________104=Rect(8064.0,7488.0,8128.0,7552.0)
set gg_rct______________105=Rect(2720.0,-704.0,2848.0,-640.0)
set gg_rct______________108=Rect(2592.0,-2016.0,2944.0,-1824.0)
set gg_rct______________109=Rect(-3392.0,3488.0,-3264.0,3616.0)
set gg_rct______________110=Rect(6592.0,6176.0,6688.0,6304.0)
set gg_rct______________111=Rect(-8160.0,-6784.0,-6400.0,-928.0)
set gg_rct______________112=Rect(-6816.0,-7232.0,-6688.0,-7168.0)
set gg_rct______________064=Rect(352.0,-1760.0,544.0,-1664.0)
set gg_rct______________070=Rect(6304.0,5696.0,9248.0,8352.0)
set gg_rct______________081=Rect(5664.0,-448.0,5760.0,-352.0)
set gg_rct______________201=Rect(-6034.7,7626.5,-5934.7,7726.5)
set gg_rct______________202=Rect(-4316.9,-5829.8,-4216.9,-5729.8)
set gg_rct______________203=Rect(-6006.3,5573.3,-5906.3,5673.3)
set gg_rct______________204=Rect(8651.6,-5106.4,8751.6,-5006.4)
set gg_rct______________210=Rect(8824.7,7056.9,8900.1,7123.4)
set gg_rct______________211=Rect(6941.7,6812.7,7041.7,6912.7)
set gg_rct______________221=Rect(7824.7,8056.9,7924.7,8156.9)
set gg_rct______________222=Rect(8918.4,-1298.7,9018.4,-1198.7)
set gg_rct______________219=Rect(1908.0,6448.0,5816.0,8128.0)
set gg_rct______________230=Rect(1952.0,608.0,3392.0,2016.0)
set gg_rct______________300=Rect(500.0,608.0,592.0,716.0)
set gg_rct______________301=Rect(961.0,2000.0,962.0,2006.0)
set gg_rct______________302=Rect(-261.0,2000.0,-262.0,2006.0)
set gg_rct______________310=Rect(4188.0,-1497,4189,-1496)
set gg_rct______________311=Rect(-4433,211,-4432,212)
set gg_rct______________312=Rect(-4321,4490,-4320,4492)
set gg_rct______________313=Rect(-4643,5668,-4642,5669)
set gg_rct______________314=Rect(-5838,2192,-5837,2193)
set gg_rct______________315=Rect(-6684,1092,-6683,1093)
//set gg_rct______________316=Rect(-4643,5668,-4320,4492)
set gg_rct______________320=Rect(8718.4,-2298,8718.4,-2298)


set gg_rct______________401=Rect(-3840.0,-748.0,-960.0,4032.0)
set gg_rct______________402=Rect(-3840.0,-6240.0,-960.0,-748.0)
set gg_rct______________403=Rect(8718.4,-2298,8718.4,-2298)


endfunction
function CreateCameras takes nothing returns nothing
set gg_cam_Camera_001=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ROTATION,90.0,0.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ANGLE_OF_ATTACK,304.0,0.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_TARGET_DISTANCE,1650.0,0.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(gg_cam_Camera_001,CAMERA_FIELD_FARZ,5000.0,0.0)
call CameraSetupSetDestPosition(gg_cam_Camera_001,-2307.1,-7150.4,0.0)
endfunction
function Trig_cscs_______u_Actions takes nothing returns nothing
call SetHeroLevelBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+1),true)
endfunction
function InitTrig_cscs_______u takes nothing returns nothing
set gg_trg_cscs_______u=CreateTrigger()
call DisableTrigger(gg_trg_cscs_______u)
call TriggerRegisterPlayerKeyEventBJ(gg_trg_cscs_______u,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerAddAction(gg_trg_cscs_______u,function Trig_cscs_______u_Actions)
endfunction
function Trig_csdj_Func002C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())]<30.00))then
return false
endif
return true
endfunction
function Trig_csdj_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())]+1)
if(Trig_csdj_Func002C())then
set udg_huanyingjilv=(udg_huanyingjilv+1)
set udg_shenhunjilv=(udg_shenhunjilv+1)
call SetPlayerTechResearchedSwap('R002',GetUnitAbilityLevel(gg_unit_Hamg_0240,'A0BA'),GetTriggerPlayer())
call IncUnitAbilityLevelSwapped('Acdb',gg_unit_Hpal_0235)
call IncUnitAbilityLevelSwapped('A020',gg_unit_Obla_0007)
call IncUnitAbilityLevelSwapped('A05F',gg_unit_Hmkg_0053)
call IncUnitAbilityLevelSwapped('A02K',gg_unit_H005_0020)
call IncUnitAbilityLevelSwapped('A05W',gg_unit_Edem_0010)
call IncUnitAbilityLevelSwapped('A05U',gg_unit_H000_0005)
call IncUnitAbilityLevelSwapped('A04J',gg_unit_Hvwd_0006)
call IncUnitAbilityLevelSwapped('A04J',gg_unit_Hvwd_0006)
call IncUnitAbilityLevelSwapped('A06J',gg_unit_Orex_0018)
call IncUnitAbilityLevelSwapped('A06R',gg_unit_Ogrh_0091)
call IncUnitAbilityLevelSwapped('A085',gg_unit_Hblm_0191)
call IncUnitAbilityLevelSwapped('A086',gg_unit_Harf_0190)
call IncUnitAbilityLevelSwapped('A08U',gg_unit_H008_0239)
call IncUnitAbilityLevelSwapped('A0A0',gg_unit_H007_0238)
call IncUnitAbilityLevelSwapped('A0BA',gg_unit_Hamg_0240)
else
endif
endfunction
function InitTrig_csdj takes nothing returns nothing
set gg_trg_csdj=CreateTrigger()
call DisableTrigger(gg_trg_csdj)
call TriggerRegisterPlayerChatEvent(gg_trg_csdj,Player(0),"csdj",true)
call TriggerAddAction(gg_trg_csdj,function Trig_csdj_Actions)
endfunction
function Trig_cs30_Actions takes nothing returns nothing
set udg_waves=29
endfunction
function InitTrig_cs30 takes nothing returns nothing
set gg_trg_cs30=CreateTrigger()
call DisableTrigger(gg_trg_cs30)
call TriggerRegisterPlayerChatEvent(gg_trg_cs30,Player(0),"cs30",true)
call TriggerAddAction(gg_trg_cs30,function Trig_cs30_Actions)
endfunction
function Trig_cs27_Actions takes nothing returns nothing
set udg_waves=26
endfunction
function InitTrig_cs27 takes nothing returns nothing
set gg_trg_cs27=CreateTrigger()
call DisableTrigger(gg_trg_cs27)
call TriggerRegisterPlayerChatEvent(gg_trg_cs27,Player(0),"cs27",true)
call TriggerAddAction(gg_trg_cs27,function Trig_cs27_Actions)
endfunction
function Trig_cs28_Actions takes nothing returns nothing
set udg_waves=27
endfunction
function InitTrig_cs28 takes nothing returns nothing
set gg_trg_cs28=CreateTrigger()
call DisableTrigger(gg_trg_cs28)
call TriggerRegisterPlayerChatEvent(gg_trg_cs28,Player(0),"cs28",true)
call TriggerAddAction(gg_trg_cs28,function Trig_cs28_Actions)
endfunction
function Trig_cs20_Actions takes nothing returns nothing
set udg_waves=19
endfunction
function InitTrig_cs20 takes nothing returns nothing
set gg_trg_cs20=CreateTrigger()
call DisableTrigger(gg_trg_cs20)
call TriggerRegisterPlayerChatEvent(gg_trg_cs20,Player(0),"cs20",true)
call TriggerAddAction(gg_trg_cs20,function Trig_cs20_Actions)
endfunction
function Trig_cs22_Actions takes nothing returns nothing
set udg_waves=21
endfunction
function InitTrig_cs22 takes nothing returns nothing
set gg_trg_cs22=CreateTrigger()
call DisableTrigger(gg_trg_cs22)
call TriggerRegisterPlayerChatEvent(gg_trg_cs22,Player(0),"cs22",true)
call TriggerAddAction(gg_trg_cs22,function Trig_cs22_Actions)
endfunction
function Trig_csdengji_Actions takes nothing returns nothing
call SetHeroLevelBJ(udg_heroname[1],300,false)
endfunction
function InitTrig_csdengji takes nothing returns nothing
set gg_trg_csdengji=CreateTrigger()
call DisableTrigger(gg_trg_csdengji)
call TriggerRegisterPlayerChatEvent(gg_trg_csdengji,Player(0),"cs300",true)
call TriggerAddAction(gg_trg_csdengji,function Trig_csdengji_Actions)
endfunction
function Trig_MonsterType_Func005002 takes nothing returns nothing
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,GetEnumPlayer())
endfunction
function Trig_MonsterType_Func062002002 takes nothing returns boolean
if(GetUnitTypeId(GetFilterUnit())=='Edem')then
return false
endif
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_MonsterType_Func083A takes nothing returns nothing
call AdjustPlayerStateBJ(10000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,GetPlayableMapRect())
endfunction
function Trig_MonsterType_Func084C takes nothing returns boolean
if(not(udg_dianying==false))then
return false
endif
return true
endfunction
function Trig_MonsterType_Actions takes nothing returns nothing
call CameraSetupApplyForceDuration(gg_cam_Camera_001,true,0)
call CinematicModeBJ(true,GetPlayersAll())
call TriggerSleepAction(0.10)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"键盘幽灵",null,"讲述一群爱好魔兽的学生与学校的战争，后来自然发展到神与魔的战斗。漫漫修神路，学生的前途将在何方！\n马上按ESC可跳过电影！！！",bj_TIMETYPE_ADD,0.00,true)
call ForForce(GetPlayersAll(),function Trig_MonsterType_Func005002)
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Player(11))
call SetPlayerHandicapXPBJ(Player(11),0.00)
call SetPlayerHandicapXPBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),0.00)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_h003_0046,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call SetPlayerHandicapXPBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),0.00)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_hsor_0047,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_nbee_0054,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_h006_0195,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call SetTimeOfDay(7.00)


set udg_uvstring[0]="对范围敌人造成伤害"
set udg_uvstring[1]="攻击附带一定概率静止"
set udg_uvstring[2]="反弹一定伤害"
set udg_uvstring[3]="攻击附带吸血"
set udg_uvstring[4]="吸收一定量伤害"
set udg_uvstring[5]="每秒回血1%"
set udg_uvstring[6]="攻击附加高额伤害"
set udg_uvstring[7]="一定概率无敌1秒"
set udg_uvstring[8]="10秒不受攻击立即回复至满血并重置所有能力，并且拥有之前所有能力！！"


set bounsstring[0]="英雄失去一个随机道具"
set bounsstring[1]="英雄失去两个随机道具"
set bounsstring[2]="英雄失去三个随机道具"
set bounsstring[3]="每次攻击损失生命值3%"
set bounsstring[4]="失去所有可使用道具"
set bounsstring[5]="失去所有武器"
set bounsstring[6]="每次受到攻击损失4%体力"
set bounsstring[7]="每次受到攻击损失2%体力"
set bounsstring[8]="每次受到攻击回复1%体力"
set bounsstring[9]="没有变化"
set udg_stabouns[0]=45
set udg_stabouns[1]=65
set udg_stabouns[2]=90
set udg_stabouns[3]=80
set udg_stabouns[4]=50
set udg_stabouns[5]=70
set udg_stabouns[6]=85
set udg_stabouns[7]=75
set udg_stabouns[8]=2
set udg_stabouns[9]=10

set udg_tzmonster[0]='Nman'
set udg_tzmonster[1]='Uanb'
set udg_tzmonster[2]='Uktl'
set udg_tzmonster[3]='nnrg'
set udg_tzmonster[4]='Ulic'

set udg_tzmonster[10]='Npld'
set udg_tzmonster[11]='Hvsh'
set udg_tzmonster[12]='Udea'
set udg_tzmonster[13]='Ekgg'
set udg_tzmonster[14]='Uvar'
set udg_tzmonster[15]='Usyl'

set udg_tzmonster[20]='Bos2'
set udg_tzmonster[21]='Etyr'
set udg_tzmonster[22]='Usyl'
set udg_tzmonster[23]='Rdem'
set udg_tzmonster[24]='Bos0'
set udg_tzmonster[25]='Bos1'
set udg_tzmonster[26]='Bos9'

set udg_tzitem[0]='I01V'
set udg_tzitem[1]='I01Q'
set udg_tzitem[2]='I04F'
set udg_tzitem[3]='I04G'
set udg_tzitem[4]='I01G'
set udg_tzitem[5]='I00C'
set udg_tzitem[6]='gcel'
set udg_tzitem[7]='gcel'
set udg_tzitem[8]='I03P'
set udg_tzitem[9]='I037'
set udg_tzitem[10]='gcel'
set udg_tzitem[11]='NECK'
set udg_tzitem[12]='I01V'
set udg_tzitem[13]='I01V'
set udg_tzitem[14]='I01V'
set udg_tzitem[15]='I01V'

set udg_tzitem[100]='I05A'
set udg_tzitem[101]='I05B'
set udg_tzitem[102]='I03U'
set udg_tzitem[103]='I04F'
set udg_tzitem[104]='I04F'
set udg_tzitem[105]='I04G'
set udg_tzitem[106]='I02U'
set udg_tzitem[107]='I00P'
set udg_tzitem[108]='I03P'
set udg_tzitem[109]='I037'
set udg_tzitem[110]='stel'
set udg_tzitem[111]='NECK'
set udg_tzitem[112]='I01V'
set udg_tzitem[113]='I01V'
set udg_tzitem[114]='I01V'
set udg_tzitem[115]='I01V'

set udg_tzitem[200]='I99U'
set udg_tzitem[201]='I06F'
set udg_tzitem[202]='I02X'
set udg_tzitem[203]='I046'
set udg_tzitem[204]='I044'
set udg_tzitem[205]='I03K'
set udg_tzitem[206]='I05I'
set udg_tzitem[207]='I06K'
set udg_tzitem[208]='I03P'
set udg_tzitem[209]='I037'
set udg_tzitem[210]='stel'
set udg_tzitem[211]='NECK'
set udg_tzitem[212]='I01V'
set udg_tzitem[213]='I01V'
set udg_tzitem[214]='I01V'
set udg_tzitem[215]='I01V'

set udg_monsterdi[1]='S001'
set udg_monsterdi[2]='S002'
set udg_monsterdi[3]='S003'
set udg_monsterdi[4]='S004'

set udg_Monster[0]='uaco'
set udg_Monster[1]='ugho'
set udg_Monster[2]='earc'

//set udg_Monster[0]='x003'
//set udg_Monster[1]='x002'
//set udg_Monster[2]='x003'


set udg_Monster[3]='uban'
set udg_Monster[4]='ucry'
set udg_Monster[5]='unec'
set udg_Monster[6]='oshm'
set udg_Monster[7]='nfgb'
set udg_Monster[8]='ninm'
set udg_Monster[9]='nndr'
set udg_Monster[10]='nchr'
set udg_Monster[11]='nhyc'
set udg_Monster[12]='umtw'
set udg_Monster[13]='uabo'
set udg_Monster[14]='owar'
set udg_Monster[15]='uloc'
set udg_Monster[16]='emtg'
set udg_Monster[17]='ndqs'
set udg_Monster[18]='npn4'
set udg_Monster[19]='owyv'
set udg_Monster[20]='uobs'
set udg_Monster[21]='esen'
set udg_Monster[22]='efdr'
set udg_Monster[23]='otbk'
set udg_Monster[24]='ugar'
set udg_Monster[25]='ncea'
set udg_Monster[26]='even'
set udg_Monster[27]='hphx'
set udg_Monster[28]='ufro'
set udg_Monster[29]='ubdr'
set udg_Monster[30]='eeee'
set udg_Monster[31]='eeee'
set udg_Monster[32]='ubdr'
set udg_Monster[33]='eeee'
set udg_Monster[34]='ubdr'
set udg_Monster[35]='ufro'
set udg_Monster[36]='Nklj'
set udg_Monster[37]='ufro'
set udg_Monster[38]='Ekgg'
set udg_Monster[39]='ufro'
set udg_Monster[40]='Ekgg'
set udg_Monster[41]='ufro'
set udg_Monster[42]='ufro'
set udg_Monster[43]='ufro'
set udg_Monster[44]='Nklj'
set udg_Monster[45]='ufro'
set udg_Monster[46]='Usyl'
set udg_Monster[47]='ufro'
set udg_Monster[48]='Nklj'
set udg_Monster[49]='ufro'
set udg_Monster[50]='Uvar'
set udg_Monster[51]='ufro'
set udg_Monster[52]='Ekgg'
set udg_Monster[53]='ufro'
set udg_Monster[54]='ufro'
set udg_Monster[55]='ufro'
set udg_Monster[56]='Uvar'
set udg_Monster[57]='ufro'
set udg_Monster[58]='Usyl'
set udg_Monster[59]='ufro'
set udg_Monster[60]='Uvar'
set udg_Monster[61]='ufro'
set udg_Monster[62]='ufro'
set udg_Monster[63]='ufro'
set udg_Monster[64]='ufro'

set udg_xili[1]='Ulic'
set udg_xili[2]='nbzd'
set udg_xili[3]='nrwm'
set udg_xili[4]='U00S'
set udg_xili[5]='Uv06'
set udg_xili[6]='Hvsh'
set udg_xili[7]='Nklj'
set udg_xili[8]='Uwar'
set udg_xili[9]='Uvar'
set udg_xili[10]='Usyl'
set udg_xili[11]='Udea'
set udg_xili[12]='Etyr'
set udg_xili[13]='Etyr'
set udg_xili[14]='S006'
set udg_xili[15]='Rdem'
set udg_xili[16]='Bdem'
set udg_xili[20]='Etyr'
set udg_xili[21]='Uwar'
set udg_xili[22]='nbzd'
set udg_xili[23]='U00S'
set udg_xili[24]='nrwm'


set udg_xili[31]='Ulic'
set udg_xili[32]='nbzd'
set udg_xili[33]='nrwm'
set udg_xili[34]='Ekgg'
set udg_xili[35]='Uv02'
set udg_xili[36]='Nklj'
set udg_xili[37]='Npld'
set udg_xili[38]='Hvsh'
set udg_xili[39]='Uwar'
set udg_xili[40]='Uvar'
set udg_xili[41]='Usyl'
set udg_xili[42]='Udea'
set udg_xili[43]='Etyr'

set udg_xili[44]='U00S'
set udg_xili[45]='Bos8'
set udg_xili[46]='Bos9'
set udg_xili[47]='Bos7'



set udg_xili[51]='Uv02'
set udg_xili[52]='Ekgg'
set udg_xili[53]='Npld'
set udg_xili[54]='Hvsh'
set udg_xili[55]='Etyr'
set udg_xili[56]='Bos9'

set udg_xili[57]='Etyr'
set udg_xili[58]='Uear'
set udg_xili[59]='S006'
set udg_xili[60]='Etyr'













set udg_jineng[1]='A062'  //时间法则
set udg_jineng[2]='A063' //灭之法则
set udg_jineng[3]='A064' //空间法则
set udg_jineng[4]='A065' //速度法则
set udg_group_yingx=GetUnitsInRectMatching(gg_rct______________004,Condition(function Trig_MonsterType_Func062002002))
set udg_HEBINGSHENG=gg_unit_N000_0186
call ShowUnit(udg_HEBINGSHENG,false)
call ShowUnit(gg_unit_hmtt_0035,false)
call ShowUnit(gg_unit_n003_0189,false)
set udg_U[0]=gg_unit_H000_0005
call SetUnitInvulnerable(gg_unit_unp2_0009,true)
call RemoveUnit(gg_unit_npng_0131)
call RemoveUnit(gg_unit_osp4_0061)
call RemoveUnit(gg_unit_osp3_0132)
set udg_nandu[0]="人间沉浮"
set udg_nandu[1]="仙界潇游"
set udg_nandu[2]="神界超脱"
set udg_nandu[3]="睥睨三界"
set udg_nandu[4]="众神之巅"
set udg_nan2du[0]="轮盘+能量"
set udg_nan2du[1]="能量(敌我双方只要MP归零即死亡)"
set udg_nan2du[2]="轮盘(不能按时完成随机任务就要死亡)"
set udg_nan2du[3]="都没有"
set udg_quyu_chongxiu[0]=gg_rct______________045
set udg_quyu_chongxiu[1]=gg_rct______________049
set udg_quyu_chongxiu[2]=gg_rct______________052
set udg_quyu_chongxiu[3]=gg_rct______________053
call ForForce(GetPlayersAllies(Player(7)),function Trig_MonsterType_Func083A)
if(Trig_MonsterType_Func084C())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_Obla_0007,"kissme",null,"真三搞起啊！5V5搞起啊！！！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H005_0020,"first",null,"你那死菜鸟，在那叫毛啊，你不会你就说吗，不会我教你啊！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_Edem_0010,"lover",null,"搞什么5V5咯，灰熊！超级BT搞起啊！看我怎么虐死你！！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_Hmkg_0053,"doing",null,"没意思啊，还是搞DOTA打电脑去啊！！！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"通宵协会",null,"超别，10点半了。通起去啊！！！晚上继续黑店啊！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"通宵协会",null,"等等，这是什么声音",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_Hamg_0240,"momo",null,"不好啦，我们被学校势力包围了",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"通宵协会",null,"怎么搞得，快去保卫我们的宿舍！！！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"通宵协会",null,"等等，这种奇怪的气味是",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"通宵协会",null,"大家小心，敌人附带奇怪的毒气，一定要尽量避免被侵蚀啊",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_Hamg_0240,"momo",null,"那只要尽可能让敌人远离宿舍就好了吧",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"通宵协会",null,"恩好，大家加油保卫我们的宿舍",bj_TIMETYPE_ADD,0.00,true)
else
endif
call TriggerExecute(gg_trg_chuangkou)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"键盘幽灵",null,"等待主机选择难度和游戏模式。\n",bj_TIMETYPE_ADD,0.00,true)
call StartTimerBJ(udg_start,false,10.00)
endfunction
function InitTrig_MonsterType takes nothing returns nothing
set gg_trg_MonsterType=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_MonsterType,0.10)
call TriggerAddAction(gg_trg_MonsterType,function Trig_MonsterType_Actions)
endfunction
function Trig_chufa_Actions takes nothing returns nothing
call ClearMapMusic()
call InitGameCacheBJ("Cache")
set udg_Cache=GetLastCreatedGameCacheBJ()
call DisableTrigger(gg_trg_Money)
call DisableTrigger(gg_trg_Money1)
call DisableTrigger(gg_trg_liangong)
call DisableTrigger(gg_trg_liangong1)
call DisableTrigger(gg_trg_xiulian)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"校园修神录\n","地图作者：键盘幽灵\n地图内容：一共防守31波普通怪物，10波BOSS进攻，然后摧毁敌方基地，杀死终极BOSS就打完收工了！\n地图专区：http://wanwan."+udg_pass[13]+"."+udg_pass[14]+"\n地图说明：此图制作初衷是为打发大学的无聊时间，后来得到众多玩家的支持，而更新至此。\n更新时间：2011.07.16\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"名人堂\n","校园修神录—|cffff0000名人堂|r  (按时间顺序)\nzx253538985：开山级别的人物+众多QQ群创建者\n月枫堕 ：犀利玩家\n黑化强盗：犀利玩家\n梁言：犀利玩家\nchenqingo：犀利玩家\nimwh522：犀利玩家\n冰凌成遇：犀利玩家+神级攻略创作者\nyoulovewho：犀利玩家\n冷雨清：犀利玩家+犀利测试员\n7岁葱葱：犀利玩家+犀利地图素材提供者\n小雪：犀利玩家+犀利视频宣传人物\n猪头：犀利玩家+犀利测试员\ny.舞：犀利玩家+犀利测试员\n犀利哥：犀利玩家\nsjx:犀利玩家+犀利管理员+大笨蛋\n1vN_SL：犀利玩家+犀利测试员+大笨蛋\nAAA:犀利玩家\nLahm:超级大笨蛋\n雪米:最好吃的超级大天才\n馨馨:大笨蛋\n萌紫の梦醒：素材提供者\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"特殊BOSS简介","双子恶魔：红色恶魔和蓝色恶魔必须一起死才会失去复活能力！\n冥神：与冥神战斗会让冥神发动全屏大魔法，15秒后全图所有“人类”将会受到死亡魔法的影响，使用药店僵尸之药即可抵御次魔法\n虚神：虚神的生命力受到兔子的影响，只要有兔子存活，虚神就会无限回复体力。兔子也会进入吸收状态，在吸收状态攻击兔子会被兔子吸收\n武神：武神无视你的所有装备，只按比例对你造成伤害；同时武神也会燃烧自己的生命值，若5秒钟武神未受到攻击，则会完全回复体力\n食神最喜欢水果和鸡腿，在她身边扔个鸡腿她会立即跑过去吃，在吃的过程中不会攻击，吃完之后才会攻击\n妖神：没有任何特殊能力，只是杀死妖神的人将会失去全属性300点\n炎帝/冰帝/雷帝/风帝：对小水怪以外的敌人附加超高额伤害\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"侵蚀率","1.侵蚀率的作用\n侵蚀率不仅影响着整个游戏流程，而且还影响装备的掉落概率，以及游戏的结局，因此侵蚀率的控制至关重要\n侵蚀率初始值为50%，最低为0%，最高位100%\n\n2.侵蚀率的变化：\n学校的进攻怪存活时间越多，击破时下降的侵蚀率越多，如果存活时间过长会使侵蚀率上升的，因此最速击破进攻怪来降低侵蚀率吧\n英雄死亡后会大幅增加侵蚀率，因此尽量避免死亡吧\n\n3.分歧点\n当侵蚀率打到100时，立即进入badend，当23波后侵蚀率大于50时，也立即进入badend\n当31波后侵蚀率小于10时，则会进入Trueend\n\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"渡劫","人物达到30级可以渡天劫，学习专属技能。\n人物达到120级可以入世重修，得到各种奖励。\n人物达到180级可以渡神劫，可以领悟天道法则。\n人物达到300级在一定条件和几率下可以成圣。\n\n\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")

call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"渡劫和成圣","英雄30级可渡天劫\n因为英雄不同堵截方法也不一样请认真考虑适合英雄特色的渡劫方法\n英雄120级可以入世重修重修后可获得重修技能，全属性，30全系数\n180级可以学习天道法则不同的法则有不同的用处都是非常强大的技能\n英雄240级可以渡神劫神劫难度颇大 且机会只有一次请慎重考虑渡神劫可获得专属等级+1 触发+2的奖励\n具体方法请参考校园修神录论坛-wanwan.uuu9.com内的录像\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"专属介绍","每个英雄在30级渡过天劫之后会自动学习专属技能\n在10波后伤害就会慢慢由物理输出改为专属伤害\n所以在校园专区专属等级和触发非常重要\n专属等级可以靠守家或打BOSS获得专属经验来升级\n专属触发一般都是由装备加的\n所以校园装备的搭配不是固定的看专属等级和触发决定的\n专属的伤害于专属等级和系数有关所以后期装备一般都是由以自己系数相同的武器+衣服+翅膀+3个加触发的装备\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"命令","hc          可瞬间回城\nhg          可瞬间回城\nlink        查看英雄相关系数\n键盘向上键  恢复视角\nyz          装备特殊装备时可用的命令\nzisha       输入此命令可杀死自己","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"简单攻略","伐木请用奇怪的刀，伐蓝色的树，带的刀越多伐木越快！\n\n\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
//call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"魂","没有任何作用，敬请期待下个版本\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"积分战绩","唱国歌状态下杀死青龙 +1\n唱国歌状态下杀死攻击 +5\n过三重天劫 +3\n等级为10的倍数时杀死西王母 +1\n等级个位数字为3时杀死三圣道人 +1\n等级为7的倍数时杀死广成子 +1\n杀死异空间民未掉落神之衣 +2\n合成七界高阶失败 +1\n等级个位数字为X杀死X号+1(X=2,3,4,5)\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"能量伤害","任何英雄单位受到攻击后MP为0则死亡。开局两分钟内输入-close可关闭此模式。注意：关闭此模式后部分英雄的MP伤害技能将毫无作用。\n1.攻击：普通攻击时有一定的概率对敌方英雄单位造成一定量的MP伤害。概率和攻击方等级有关，初始40%，250级以后达到100%；伤害和多方面因素有关，攻击方的红蓝黄绿黑魂（黑魂影响较大）越高伤害越高，攻击方的专属技能等级越高伤害越高。\n2.防御：挨打时有40%概率受到敌方造成的MP伤害（还有一定概率可闪避）。受到的伤害和多方面因素有关，敌人有一定的MP攻击值（不可查看），我方有MP防御值（和红蓝黄绿魂有关，绿魂影响较大）和闪避值（黑魂白魂越高闪避值越高）。（带七岁葱葱的毁灭计划书可免疫MP伤害）\n3.吸收：攻击时可以吸收一定量的MP，吸收的数量和红黄蓝绿黑白魂有关\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
//call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"萌系数和萌属性发动几率","请到wanwan."+udg_pass[13]+"."+udg_pass[14]+"查看，下面只列出部分\n\n当魂满足如下条件时，萌系数增加\n黄魂 蓝魂 红魂 绿魂 黑魂 白魂 增加系数\n3    1    1    1    0    0    20\n2    6    2    2    0    0    20\n3    3    9    3    1    1    30\n0    0    0    16   4    4    30\n7    7    7    12   9    9    50\n12   12   12   12   12   12   50\n12   0    0    0    0    0    20\n0    9    0    0    0    0    15\n0    0    6    0    0    0    10\n\n\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
//call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"萌系数和萌属性发动几率","请到wanwan."+udg_pass[13]+"."+udg_pass[14]+"查看，下面只列出部分\n\n当魂满足如下条件时，萌属性发动几率增加\n黄魂 蓝魂 红魂 绿魂 黑魂 白魂 增加几率\n2    2    0    0    5    0    10%\n0    0    2    0    0    5    10%\n4    0    0    4    9    0    10%\n0    4    4    0    0    9    10%\n0    0    0    5    10   10   10%\n3    3    3    9    0    0    10%\n8    4    4    6    0    0    10%\n4    8    4    6    0    0    10%\n4    4    8    6    0    0    10%\n4    4    4    4    12   12   10%\n9    9    9    9    5    5    10%\n16   7    7    7    16   16   10%\n7    16   7    7    16   16   10%\n7    7    16   7    16   16   10%\n0    0    0    16   1    1    10%\n0    0    0    28   2    2    10%\n\n\n\n\n\n\n\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"积分战绩","唱国歌状态下杀死青龙 +1\n唱国歌状态下杀死攻击 +5\n过三重天劫 +3\n等级为10的倍数时杀死西王母 +1\n等级个位数字为3时杀死三圣道人 +1\n等级为7的倍数时杀死广成子 +1\n杀死异空间民未掉落神之衣 +2\n合成七界高阶失败 +1\n等级个位数字为X杀死X号+1(X=2,3,4,5)\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"入世重修","枪神兽神80级，斗神水神冰神剑神暗杀之神法神刀神100级，其余人物120级后可到NPC奇怪的老人处接任务，注意机会只有一次。\n重修任务一共三关：\n第一关根据杀敌数量计分，越多分越高\n第二关根据杀敌所用时间计分，时间越短分越高\n第三关同上\n英雄死亡则重修结束。\n\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"众神降临","29波开始进攻时，可以输入“众神降临”，可开启隐藏剧情，1分钟内输入有效。\n开启后，在30波进攻后，会有10波猛烈的BOSS进攻，疯狂的杀戮吧！","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"踢人命令","玩家1（红色玩家）可输入T2,T3,T4,T5,T6踢出相应玩家。其他玩家可以输入TOK，进行投票决定踢人结果。","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
set udg_wanjia=1
loop
exitwhen udg_wanjia>122
set udg_childliwu[udg_wanjia]=false
set udg_duijiangX[udg_wanjia]=false
set udg_jinengdengji[udg_wanjia]=1.00
set udg_playertx[udg_wanjia]=1
set udg_playerjx[udg_wanjia]=1
set udg_playerydx[udg_wanjia]=1
set udg_isbravery[udg_wanjia]=0
set udg_notbravery[udg_wanjia]=0
set udg_bravery[udg_wanjia]=2
set udg_ufo1[udg_wanjia]=0
set udg_ufo2[udg_wanjia]=0
set udg_ufo3[udg_wanjia]=0
set udg_ufo4[udg_wanjia]=0
set udg_ufo5[udg_wanjia]=0
set udg_buerzhi_hea[udg_wanjia]=false

set udg_charge[udg_wanjia]=1000
set udg_countb[udg_wanjia]=0


set udg_yellow[udg_wanjia]=0
set udg_mscore[udg_wanjia]=0
set udg_mengjilv[udg_wanjia]=0
set udg_mengx[udg_wanjia]=0
set udg_guoge[udg_wanjia]=0
set udg_score[udg_wanjia]=0
set udg_jinian[udg_wanjia]=0
set udg_blue[udg_wanjia]=0
set udg_red[udg_wanjia]=0
set udg_curse[udg_wanjia]=0
set udg_Att[udg_wanjia]=0
set udg_Def[udg_wanjia]=0
set udg_manapro[udg_wanjia]=0
set udg_green[udg_wanjia]=0
set udg_black[udg_wanjia]=0
set udg_white[udg_wanjia]=0
set udg_hpplus1[udg_wanjia]=0
set udg_hpplus2[udg_wanjia]=0
set udg_hpplus3[udg_wanjia]=0
set udg_shadisl[udg_wanjia]=0
set udg_wanjia=udg_wanjia+1
endloop
endfunction
function InitTrig_chufa takes nothing returns nothing
set gg_trg_chufa=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_chufa,0.50)
call TriggerAddAction(gg_trg_chufa,function Trig_chufa_Actions)
endfunction
function Trig_guanbidianying_Actions takes nothing returns nothing
set udg_dianying=true
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_guanbidianying takes nothing returns nothing
set gg_trg_guanbidianying=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_guanbidianying,Player(0))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_guanbidianying,Player(1))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_guanbidianying,Player(2))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_guanbidianying,Player(3))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_guanbidianying,Player(4))
call TriggerRegisterPlayerEventEndCinematic(gg_trg_guanbidianying,Player(5))
call TriggerAddAction(gg_trg_guanbidianying,function Trig_guanbidianying_Actions)
endfunction
function Trig_slcx_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C7'))then
return false
endif
return true
endfunction
function Trig_slcx1_Actions takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_slcx_Actions takes nothing returns nothing
local unit u=null
local group g=null
set udg_xxdian[0]=GetUnitLoc(GetTriggerUnit())
set udg_xx=1
loop
exitwhen udg_xx>36
set udg_xxdian[1]=PolarProjectionBJ(udg_xxdian[0],0.00,(10.00*I2R(udg_xx)))
set udg_xxdian[2]=PolarProjectionBJ(udg_xxdian[0],50.00,(10.00*I2R(udg_xx)))
call CreateNUnitsAtLocFacingLocBJ(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_xxdian[1],udg_xxdian[2])
set u=GetLastCreatedUnit()
call GroupAddUnit(g,u)
call UnitAddAbilityBJ('A0C6',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0C6',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0C7',GetTriggerUnit()))
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",udg_xxdian[2])
call RemoveLocation(udg_xxdian[1])
call RemoveLocation(udg_xxdian[2])
set udg_xx=udg_xx+1
//call RemoveUnit(u)
endloop
call ForGroupBJ(g,function Trig_slcx1_Actions)
call RemoveLocation(udg_xxdian[0])
set g=null
endfunction
function InitTrig_slcx takes nothing returns nothing
set gg_trg_slcx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_slcx,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_slcx,Condition(function Trig_slcx_Conditions))
call TriggerAddAction(gg_trg_slcx,function Trig_slcx_Actions)
endfunction
function Trig_shuishenshufu1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C4'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_shuishenshufu1_Func005001002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shuishenshufu1_Func005001002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_shuishenshufu))==true)
endfunction
function Trig_shuishenshufu1_Func005001002003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_shuishenshufu1_Func005001002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_shuishenshufu1_Func005001002003002001(),Trig_shuishenshufu1_Func005001002003002002())
endfunction
function Trig_shuishenshufu1_Func005001002003 takes nothing returns boolean
return GetBooleanAnd(Trig_shuishenshufu1_Func005001002003001(),Trig_shuishenshufu1_Func005001002003002())
endfunction
function Trig_shuishenshufu1_Func005A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_shuishenshufuzu)
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point1,bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0C4')
call SetUnitAbilityLevelSwapped('A0C4',GetLastCreatedUnit(),udg_int_sssf)
call IssueTargetOrderById(GetLastCreatedUnit(),852095,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
endfunction
function Trig_shuishenshufu1_Actions takes nothing returns nothing
set udg_int_sssf=GetUnitAbilityLevel(GetTriggerUnit(),'A0C4')
set udg_point=GetUnitLoc(GetSpellTargetUnit())
set udg_point1=GetUnitLoc(GetTriggerUnit())
set udg_unit_shuishenshufu=GetTriggerUnit()
call ForGroupBJ(GetRandomSubGroup((udg_int_sssf+0),GetUnitsInRangeOfLocMatching(400.00,udg_point,Condition(function Trig_shuishenshufu1_Func005001002003))),function Trig_shuishenshufu1_Func005A)
call EnableTrigger(gg_trg_shuishenshufu2)
call StartTimerBJ(udg_jsq_sssf,false,(3.00+(I2R(udg_int_sssf)*0.30)))
endfunction
function InitTrig_shuishenshufu1 takes nothing returns nothing
set gg_trg_shuishenshufu1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuishenshufu1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_shuishenshufu1,Condition(function Trig_shuishenshufu1_Conditions))
call TriggerAddAction(gg_trg_shuishenshufu1,function Trig_shuishenshufu1_Actions)
endfunction
function Trig_shuishenshufu2_Func001Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetEnumUnit(),'B01E')==true))then
return false
endif
return true
endfunction
function Trig_shuishenshufu2_Func001A takes nothing returns nothing
if(Trig_shuishenshufu2_Func001Func001C())then
call UnitDamageTarget(udg_unit_shuishenshufu,GetEnumUnit(),(Pow(I2R(udg_int_sssf),1.80)*(4.00*I2R(GetHeroLevel(udg_unit_shuishenshufu)))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
else
endif
endfunction
function Trig_shuishenshufu2_Actions takes nothing returns nothing
call ForGroupBJ(udg_shuishenshufuzu,function Trig_shuishenshufu2_Func001A)
endfunction
function InitTrig_shuishenshufu2 takes nothing returns nothing
set gg_trg_shuishenshufu2=CreateTrigger()
call DisableTrigger(gg_trg_shuishenshufu2)
call TriggerRegisterTimerEventPeriodic(gg_trg_shuishenshufu2,1.00)
call TriggerAddAction(gg_trg_shuishenshufu2,function Trig_shuishenshufu2_Actions)
endfunction
function Trig_sssf3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_shuishenshufu2)
call RemoveLocation(udg_point)
call RemoveLocation(udg_point1)
call GroupClear(udg_shuishenshufuzu)
endfunction
function InitTrig_sssf3 takes nothing returns nothing
set gg_trg_sssf3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_sssf3,udg_jsq_sssf)
call TriggerAddAction(gg_trg_sssf3,function Trig_sssf3_Actions)
endfunction
function Trig_shuihua1_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A0CE'))then
return false
endif
return true
endfunction
function Trig_shuihua1_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_shuihua)
endfunction
function InitTrig_shuihua1 takes nothing returns nothing
set gg_trg_shuihua1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuihua1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_shuihua1,Condition(function Trig_shuihua1_Conditions))
call TriggerAddAction(gg_trg_shuihua1,function Trig_shuihua1_Actions)
endfunction
function Trig_shuihua_Conditions takes nothing returns boolean
if(not(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetTriggerUnit(),'A0CE')))then
return false
endif
return true
endfunction
function Trig_shuihua_Actions takes nothing returns nothing
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+GetEventDamage()))
endfunction
function InitTrig_shuihua takes nothing returns nothing
set gg_trg_shuihua=CreateTrigger()
call DisableTrigger(gg_trg_shuihua)
call TriggerRegisterUnitEvent(gg_trg_shuihua,gg_unit_Ekee_0181,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(gg_trg_shuihua,Condition(function Trig_shuihua_Conditions))
call TriggerAddAction(gg_trg_shuihua,function Trig_shuihua_Actions)
endfunction
function Trig_sspx1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C5'))then
return false
endif
return true
endfunction
function Trig_sspx1_Actions takes nothing returns nothing
set udg_point_shuishenpx[0]=GetSpellTargetLoc()
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\shiva'somniscience.mdx",udg_point_shuishenpx[0]))
set udg_unit_shuishenpx=GetTriggerUnit()
call EnableTrigger(gg_trg_sspx2)
call StartTimerBJ(udg_jsq_sspx,false,13.00)
endfunction
function InitTrig_sspx1 takes nothing returns nothing
set gg_trg_sspx1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sspx1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sspx1,Condition(function Trig_sspx1_Conditions))
call TriggerAddAction(gg_trg_sspx1,function Trig_sspx1_Actions)
endfunction
function Trig_sspx2_Func001C takes nothing returns boolean
if(not(udg_int_sspx<=5))then
return false
endif
return true
endfunction
function Trig_sspx2_Func002001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_sspx2_Func002001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_shuishenpx))==true)
endfunction
function Trig_sspx2_Func002001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_sspx2_Func002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_sspx2_Func002001003002001(),Trig_sspx2_Func002001003002002())
endfunction
function Trig_sspx2_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_sspx2_Func002001003001(),Trig_sspx2_Func002001003002())
endfunction
function Trig_sspx2_Func002A takes nothing returns nothing
call UnitDamageTarget(udg_unit_shuishenpx,GetEnumUnit(),((2500.00*SquareRoot(I2R(GetHeroInt(udg_unit_shuishenpx,true))))*I2R(GetUnitAbilityLevel(udg_unit_shuishenpx,'A0C5'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_sspx2_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_sspx2_Func003001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_shuishenpx))==true)
endfunction
function Trig_sspx2_Func003001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_sspx2_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_sspx2_Func003001003002001(),Trig_sspx2_Func003001003002002())
endfunction
function Trig_sspx2_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_sspx2_Func003001003001(),Trig_sspx2_Func003001003002())
endfunction
function Trig_sspx2_Func003A takes nothing returns nothing
call UnitDamageTarget(udg_unit_shuishenpx,GetEnumUnit(),((5000.00*SquareRoot(I2R(GetHeroInt(udg_unit_shuishenpx,true))))*I2R(GetUnitAbilityLevel(udg_unit_shuishenpx,'A0C5'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_sspx2_Func004001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_sspx2_Func004001003002001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_unit_shuishenpx))==true)
endfunction
function Trig_sspx2_Func004001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_sspx2_Func004001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_sspx2_Func004001003002001(),Trig_sspx2_Func004001003002002())
endfunction
function Trig_sspx2_Func004001003 takes nothing returns boolean
return GetBooleanAnd(Trig_sspx2_Func004001003001(),Trig_sspx2_Func004001003002())
endfunction
function Trig_sspx2_Func004A takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(1000.00*I2R(GetHeroInt(udg_unit_shuishenpx,true)))))
endfunction
function Trig_sspx2_Actions takes nothing returns nothing
if(Trig_sspx2_Func001C())then
set udg_int_sspx=(udg_int_sspx+1)
else
set udg_int_sspx=0
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\shiva'somniscience.mdx",udg_point_shuishenpx[0]))
endif
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_point_shuishenpx[0],Condition(function Trig_sspx2_Func002001003)),function Trig_sspx2_Func002A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point_shuishenpx[0],Condition(function Trig_sspx2_Func003001003)),function Trig_sspx2_Func003A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_point_shuishenpx[0],Condition(function Trig_sspx2_Func004001003)),function Trig_sspx2_Func004A)
set udg_int_shuishenpx=1
loop
exitwhen udg_int_shuishenpx>12
set udg_point_shuishenpx[2]=PolarProjectionBJ(udg_point_shuishenpx[0],180.00,(30.00*I2R(udg_int_shuishenpx)))
set udg_point_shuishenpx[3]=PolarProjectionBJ(udg_point_shuishenpx[0],300.00,(30.00*I2R(udg_int_shuishenpx)))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl",udg_point_shuishenpx[2]))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl",udg_point_shuishenpx[3]))
call RemoveLocation(udg_point_shuishenpx[2])
call RemoveLocation(udg_point_shuishenpx[3])
set udg_int_shuishenpx=udg_int_shuishenpx+1
endloop
endfunction
function InitTrig_sspx2 takes nothing returns nothing
set gg_trg_sspx2=CreateTrigger()
call DisableTrigger(gg_trg_sspx2)
call TriggerRegisterTimerEventPeriodic(gg_trg_sspx2,1.00)
call TriggerAddAction(gg_trg_sspx2,function Trig_sspx2_Actions)
endfunction
function Trig_sspx3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_sspx2)
call RemoveLocation(udg_point_shuishenpx[0])
set udg_unit_shuishenpx=null
endfunction
function InitTrig_sspx3 takes nothing returns nothing
set gg_trg_sspx3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_sspx3,udg_jsq_sspx)
call TriggerAddAction(gg_trg_sspx3,function Trig_sspx3_Actions)
endfunction
function Trig_shuih1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DG'))then
return false
endif
return true
endfunction
function Trig_shuih1_Actions takes nothing returns nothing
set udg_point_shuih=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'n00K',GetOwningPlayer(GetTriggerUnit()),udg_point_shuih,bj_UNIT_FACING)
set udg_unit_shuih=GetLastCreatedUnit()
call EnableTrigger(gg_trg_shuih2)
call StartTimerBJ(udg_jsq_shuih,false,7.00)
endfunction
function InitTrig_shuih1 takes nothing returns nothing
set gg_trg_shuih1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuih1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_shuih1,Condition(function Trig_shuih1_Conditions))
call TriggerAddAction(gg_trg_shuih1,function Trig_shuih1_Actions)
endfunction
function Trig_shuih2_Func001001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shuih2_Func001001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_shuih2_Func001001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_shuih2_Func001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_shuih2_Func001001003002001(),Trig_shuih2_Func001001003002002())
endfunction
function Trig_shuih2_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shuih2_Func001001003001(),Trig_shuih2_Func001001003002())
endfunction
function Trig_shuih2_Func001A takes nothing returns nothing
call UnitDamageTarget(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_shuih))],GetEnumUnit(),((300.00*Pow(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_shuih))])),1.90))*1.00),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_shuih2_Func002001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shuih2_Func002001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_shuih2_Func002001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_shuih2_Func002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_shuih2_Func002001003002001(),Trig_shuih2_Func002001003002002())
endfunction
function Trig_shuih2_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shuih2_Func002001003001(),Trig_shuih2_Func002001003002())
endfunction
function Trig_shuih2_Func002A takes nothing returns nothing
call UnitDamageTarget(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_shuih))],GetEnumUnit(),((20.00*Pow(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_shuih))])),1.90))*1.00),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_shuih2_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(50.00,udg_point_shuih,Condition(function Trig_shuih2_Func001001003)),function Trig_shuih2_Func001A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point_shuih,Condition(function Trig_shuih2_Func002001003)),function Trig_shuih2_Func002A)
endfunction
function InitTrig_shuih2 takes nothing returns nothing
set gg_trg_shuih2=CreateTrigger()
call DisableTrigger(gg_trg_shuih2)
call TriggerRegisterTimerEventPeriodic(gg_trg_shuih2,0.30)
call TriggerAddAction(gg_trg_shuih2,function Trig_shuih2_Actions)
endfunction
function Trig_shuih3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_shuih2)
call RemoveLocation(udg_point_shuih)
call KillUnit(udg_unit_shuih)
call RemoveUnit(udg_unit_shuih)
endfunction
function InitTrig_shuih3 takes nothing returns nothing
set gg_trg_shuih3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_shuih3,udg_jsq_shuih)
call TriggerAddAction(gg_trg_shuih3,function Trig_shuih3_Actions)
endfunction
function Trig_hmzm_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CF'))then
return false
endif
return true
endfunction
function Trig_hmzm_Actions takes nothing returns nothing
set udg_point_hmzm=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n00H',GetOwningPlayer(GetTriggerUnit()),udg_point_hmzm,bj_UNIT_FACING)
set udg_unit_hmzm2=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,'n00L',GetOwningPlayer(GetTriggerUnit()),udg_point_hmzm,bj_UNIT_FACING)
set udg_unit_hmzm=GetLastCreatedUnit()
set udg_unit_hmzm1=GetTriggerUnit()
call EnableTrigger(gg_trg_hmzm1)
call StartTimerBJ(udg_jsq_hmzm,false,7.00)
endfunction
function InitTrig_hmzm takes nothing returns nothing
set gg_trg_hmzm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_hmzm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_hmzm,Condition(function Trig_hmzm_Conditions))
call TriggerAddAction(gg_trg_hmzm,function Trig_hmzm_Actions)
endfunction
function Trig_hmzm1_Func001001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_hmzm1_Func001001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)
endfunction
function Trig_hmzm1_Func001001003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)
endfunction
function Trig_hmzm1_Func001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_hmzm1_Func001001003002001(),Trig_hmzm1_Func001001003002002())
endfunction
function Trig_hmzm1_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_hmzm1_Func001001003001(),Trig_hmzm1_Func001001003002())
endfunction
function Trig_hmzm1_Func001A takes nothing returns nothing
set udg_lsdian=GetUnitLoc(GetEnumUnit())
call IssueImmediateOrder(GetEnumUnit(),"stop")
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(udg_lsdian,2.00,AngleBetweenPoints(udg_lsdian,GetUnitLoc(udg_unit_hmzm))))
call UnitDamageTarget(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hmzm1))],GetEnumUnit(),(50.00*(I2R(GetUnitAbilityLevel(udg_unit_hmzm1,'A0CF'))*SquareRoot(I2R(GetHeroLevel(udg_unit_hmzm1))))),false,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call RemoveLocation(udg_lsdian)
endfunction
function Trig_hmzm1_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching((400.00+(5.00*I2R(GetUnitAbilityLevel(udg_unit_hmzm1,'A0CF')))),udg_point_hmzm,Condition(function Trig_hmzm1_Func001001003)),function Trig_hmzm1_Func001A)
endfunction
function InitTrig_hmzm1 takes nothing returns nothing
set gg_trg_hmzm1=CreateTrigger()
call DisableTrigger(gg_trg_hmzm1)
call TriggerRegisterTimerEventPeriodic(gg_trg_hmzm1,0.30)
call TriggerAddAction(gg_trg_hmzm1,function Trig_hmzm1_Actions)
endfunction
function Trig_hmzm2_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_hmzm1)
call RemoveLocation(udg_point_hmzm)
call KillUnit(udg_unit_hmzm)
call KillUnit(udg_unit_hmzm2)
call RemoveUnit(udg_unit_hmzm)
call RemoveUnit(udg_unit_hmzm2)
endfunction
function InitTrig_hmzm2 takes nothing returns nothing
set gg_trg_hmzm2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_hmzm2,udg_jsq_hmzm)
call TriggerAddAction(gg_trg_hmzm2,function Trig_hmzm2_Actions)
endfunction
function Trig_qianjunsha1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C8'))then
return false
endif
return true
endfunction
function Trig_qianjunsha1_Actions takes nothing returns nothing
set udg_unit_qianjun=GetTriggerUnit()
call StartTimerBJ(udg_jsq_qianjun,false,30.00)
call EnableTrigger(gg_trg_qianjunsha2)
call TriggerRegisterUnitEvent(gg_trg_qianjunsha3,GetTriggerUnit(),EVENT_UNIT_DEATH)
endfunction
function InitTrig_qianjunsha1 takes nothing returns nothing
set gg_trg_qianjunsha1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qianjunsha1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_qianjunsha1,Condition(function Trig_qianjunsha1_Conditions))
call TriggerAddAction(gg_trg_qianjunsha1,function Trig_qianjunsha1_Actions)
endfunction
function Trig_qianjunsha2_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_qianjun)==true))then
return false
endif
return true
endfunction
function Trig_qianjunsha2_Func006C takes nothing returns boolean
if(not(udg_int_qianjun==5))then
return false
endif
return true
endfunction
function Trig_qianjunsha2_Actions takes nothing returns nothing
set udg_double_qianjun=I2R(GetRandomInt(1,360))
set udg_point=GetUnitLoc(udg_unit_qianjun)
set udg_point1=PolarProjectionBJ(udg_point,600.00,udg_double_qianjun)
call CreateNUnitsAtLoc(1,'hmil',GetOwningPlayer(udg_unit_qianjun),udg_point,bj_UNIT_FACING)
if(Trig_qianjunsha2_Func006C())then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DarkPillar.mdx",udg_unit_qianjun,"origin"))
set udg_int_qianjun=0
else
set udg_int_qianjun=(udg_int_qianjun+1)
endif
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",udg_point1)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,50.00)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
call RemoveLocation(udg_point)
call RemoveLocation(udg_point1)
endfunction
function InitTrig_qianjunsha2 takes nothing returns nothing
set gg_trg_qianjunsha2=CreateTrigger()
call DisableTrigger(gg_trg_qianjunsha2)
call TriggerRegisterTimerEventPeriodic(gg_trg_qianjunsha2,0.20)
call TriggerAddCondition(gg_trg_qianjunsha2,Condition(function Trig_qianjunsha2_Conditions))
call TriggerAddAction(gg_trg_qianjunsha2,function Trig_qianjunsha2_Actions)
endfunction
function Trig_qianjunsha3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_qianjunsha2)
set udg_unit_qianjun=null
endfunction
function InitTrig_qianjunsha3 takes nothing returns nothing
set gg_trg_qianjunsha3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_qianjunsha3,udg_jsq_qianjun)
call TriggerAddAction(gg_trg_qianjunsha3,function Trig_qianjunsha3_Actions)
endfunction
function Trig_qianjunsha4_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='hmil'))then
return false
endif
return true
endfunction
function Trig_qianjunsha4_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_qianjunsha4 takes nothing returns nothing
set gg_trg_qianjunsha4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qianjunsha4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_qianjunsha4,Condition(function Trig_qianjunsha4_Conditions))
call TriggerAddAction(gg_trg_qianjunsha4,function Trig_qianjunsha4_Actions)
endfunction
function Trig_qianjunsha5_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='hmil'))then
return false
endif
return true
endfunction
function Trig_qianjunsha5_Actions takes nothing returns nothing
call UnitDamageTarget(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],GetAttackedUnitBJ(),(90.00*(I2R(GetUnitAbilityLevel(udg_unit_qianjun,'A0C8'))*I2R(GetHeroLevel(udg_unit_qianjun)))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function InitTrig_qianjunsha5 takes nothing returns nothing
set gg_trg_qianjunsha5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qianjunsha5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_qianjunsha5,Condition(function Trig_qianjunsha5_Conditions))
call TriggerAddAction(gg_trg_qianjunsha5,function Trig_qianjunsha5_Actions)
endfunction
function Trig_lingzhi1_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A0C9'))then
return false
endif
return true
endfunction
function Trig_lingzhi1_Actions takes nothing returns nothing
set udg_unit_lingzhi=GetTriggerUnit()
call EnableTrigger(gg_trg_huimqx)
endfunction
function InitTrig_lingzhi1 takes nothing returns nothing
set gg_trg_lingzhi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_lingzhi1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_lingzhi1,Condition(function Trig_lingzhi1_Conditions))
call TriggerAddAction(gg_trg_lingzhi1,function Trig_lingzhi1_Actions)
endfunction
function Trig_huimqx_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='Ofar'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='O001'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='Ewar'))then
return true
endif
return false
endfunction
function Trig_huimqx_Conditions takes nothing returns boolean
if(not Trig_huimqx_Func001C())then
return false
endif
return true
endfunction
function Trig_huimqx_Func002C takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_huimqx_Actions takes nothing returns nothing
if(Trig_huimqx_Func002C())then
set udg_point=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'n00J',GetOwningPlayer(GetAttackedUnitBJ()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
call UnitAddAbility(GetLastCreatedUnit(),'A0CA')
call IssueTargetOrderById(GetLastCreatedUnit(),852230,GetAttackedUnitBJ())
call TriggerSleepAction(0.01)
set udg_kills[1]=udg_kills[1]-1
if(GetUnitTypeId(GetAttacker())=='Ewar')then
call SetUnitManaBJ(GetAttackedUnitBJ(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttackedUnitBJ())-1*GetUnitAbilityLevel(GetAttacker(),'A0C9')))
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00受到能量伤害"+I2S(GetUnitAbilityLevel(GetTriggerUnit(),'A0C9'))+"点|r")
else
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),((30.00*Pow((100.00+I2R(GetHeroLevel(GetAttacker()))),1.11))*I2R(GetUnitAbilityLevel(GetAttacker(),'A0C9'))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE)
endif
else
endif
endfunction
function InitTrig_huimqx takes nothing returns nothing
set gg_trg_huimqx=CreateTrigger()
call DisableTrigger(gg_trg_huimqx)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huimqx,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huimqx,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huimqx,Condition(function Trig_huimqx_Conditions))
call TriggerAddAction(gg_trg_huimqx,function Trig_huimqx_Actions)
endfunction
function Trig_huimiezhiyi1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CB'))then
return false
endif
return true
endfunction
function Trig_huimiezhiyi1_Actions takes nothing returns nothing
call SetUnitPathing(GetTriggerUnit(),false)
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitAnimation(GetTriggerUnit(),"spell")
call UnitAddAbilityBJ('A0CD',GetTriggerUnit())
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A0CD',false)
call UnitAddAbilityBJ('Amrf',GetTriggerUnit())
call UnitRemoveAbilityBJ('Amrf',GetTriggerUnit())
call SetUnitFlyHeight(GetTriggerUnit(),350.00,500.00)
set udg_unit_huimieyi=GetTriggerUnit()
set udg_buerzhi_huimieyi=true
call StartTimerBJ(udg_jsq_huimieyi,false,(5.00+I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0CB'))))
endfunction
function InitTrig_huimiezhiyi1 takes nothing returns nothing
set gg_trg_huimiezhiyi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huimiezhiyi1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_huimiezhiyi1,Condition(function Trig_huimiezhiyi1_Conditions))
call TriggerAddAction(gg_trg_huimiezhiyi1,function Trig_huimiezhiyi1_Actions)
endfunction
function Trig_huimiezhiyi2_Actions takes nothing returns nothing
call UnitRemoveAbilityBJ('A0CD',udg_unit_huimieyi)
call SetUnitFlyHeight(udg_unit_huimieyi,0.00,600.00)
call DisableTrigger(gg_trg_huimiezhiyi3)
call SetUnitBlendTime(udg_unit_huimieyi,0.15)
call SetUnitTimeScalePercent(udg_unit_huimieyi,100.00)
set udg_buerzhi_huimieyi=false
call SetUnitPathing(udg_unit_huimieyi,true)
set udg_unit_huimieyi=null
endfunction
function InitTrig_huimiezhiyi2 takes nothing returns nothing
set gg_trg_huimiezhiyi2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_huimiezhiyi2,udg_jsq_huimieyi)
call TriggerAddAction(gg_trg_huimiezhiyi2,function Trig_huimiezhiyi2_Actions)
endfunction
function Trig_huimiezhiyi3_Actions takes nothing returns nothing
call SetUnitAnimation(udg_unit_huimieyi,"stand")
call SetUnitBlendTime(udg_unit_huimieyi,111111112.00)
endfunction
function InitTrig_huimiezhiyi3 takes nothing returns nothing
set gg_trg_huimiezhiyi3=CreateTrigger()
call DisableTrigger(gg_trg_huimiezhiyi3)
call TriggerRegisterTimerEventPeriodic(gg_trg_huimiezhiyi3,0.10)
call TriggerAddAction(gg_trg_huimiezhiyi3,function Trig_huimiezhiyi3_Actions)
endfunction
function Trig_huimiezhiyi4_Conditions takes nothing returns boolean
if(not(udg_buerzhi_huimieyi==true))then
return false
endif
if(not(GetTriggerUnit()==udg_unit_huimieyi))then
return false
endif
return true
endfunction
function Trig_huimiezhiyi4_Actions takes nothing returns nothing
call SetUnitBlendTime(udg_unit_huimieyi,111111112.00)
call SetUnitTimeScalePercent(udg_unit_huimieyi,20.00)
call EnableTrigger(gg_trg_huimiezhiyi3)
endfunction
function InitTrig_huimiezhiyi4 takes nothing returns nothing
set gg_trg_huimiezhiyi4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huimiezhiyi4,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(gg_trg_huimiezhiyi4,Condition(function Trig_huimiezhiyi4_Conditions))
call TriggerAddAction(gg_trg_huimiezhiyi4,function Trig_huimiezhiyi4_Actions)
endfunction
function Trig_huimiezhiyi5_Conditions takes nothing returns boolean
if(not(udg_buerzhi_huimieyi==true))then
return false
endif
if(not(GetAttacker()==udg_unit_huimieyi))then
return false
endif
return true
endfunction
function Trig_huimiezhiyi5_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_huimiezhiyi3)
call SetUnitBlendTime(GetAttacker(),0.15)
call SetUnitTimeScalePercent(GetAttacker(),100.00)
endfunction
function InitTrig_huimiezhiyi5 takes nothing returns nothing
set gg_trg_huimiezhiyi5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huimiezhiyi5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huimiezhiyi5,Condition(function Trig_huimiezhiyi5_Conditions))
call TriggerAddAction(gg_trg_huimiezhiyi5,function Trig_huimiezhiyi5_Actions)
endfunction
function Trig_huimiezhiyi6_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_unit_huimieyi))then
return false
endif
if(not(udg_buerzhi_huimieyi==true))then
return false
endif
return true
endfunction
function Trig_huimiezhiyi6_Actions takes nothing returns nothing
call SetUnitBlendTime(GetTriggerUnit(),0.15)
call SetUnitTimeScalePercent(GetTriggerUnit(),100.00)
call DisableTrigger(gg_trg_huimiezhiyi3)
endfunction
function InitTrig_huimiezhiyi6 takes nothing returns nothing
set gg_trg_huimiezhiyi6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huimiezhiyi6,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_huimiezhiyi6,Condition(function Trig_huimiezhiyi6_Conditions))
call TriggerAddAction(gg_trg_huimiezhiyi6,function Trig_huimiezhiyi6_Actions)
endfunction
function Trig_sxzc_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CH'))then
return false
endif
return true
endfunction
function Trig_sxzc_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_sxzc_Func003001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_sxzc_Func003001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_sxzc_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_sxzc_Func003001003002001(),Trig_sxzc_Func003001003002002())
endfunction
function Trig_sxzc_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_sxzc_Func003001003001(),Trig_sxzc_Func003001003002())
endfunction
function Trig_sxzc_Func003A takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((25.00*Pow(I2R(GetHeroStr(GetTriggerUnit(),true)),0.95))*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0CH'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_sxzc_Actions takes nothing returns nothing
set udg_point=GetSpellTargetLoc()
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\AquaSpikeVersion2.mdx",udg_point))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_point,Condition(function Trig_sxzc_Func003001003)),function Trig_sxzc_Func003A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_sxzc takes nothing returns nothing
set gg_trg_sxzc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sxzc,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sxzc,Condition(function Trig_sxzc_Conditions))
call TriggerAddAction(gg_trg_sxzc,function Trig_sxzc_Actions)
endfunction
function Trig_tuxingzhiquan_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CZ'))then
return false
endif
return true
endfunction
function Trig_tuxingzhiquan_Actions takes nothing returns nothing
set udg_uint_tuxingquan=GetTriggerUnit()
call AddSpecialEffectTargetUnitBJ("origin",udg_uint_tuxingquan,"Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl")
set udg_texiao_tuxingquan=GetLastCreatedEffectBJ()
call UnitRemoveAbility(udg_uint_tuxingquan,'A00A')
call UnitAddAbility(udg_uint_tuxingquan,'A0D0')
call SetPlayerAbilityAvailable(GetOwningPlayer(udg_uint_tuxingquan),'A0D0',false)
call StartTimerBJ(udg_jsq_tuxingquan,false,15.00)
call TriggerRegisterUnitEvent(gg_trg_tuxingzhiquan1,GetTriggerUnit(),EVENT_UNIT_DEATH)
endfunction
function InitTrig_tuxingzhiquan takes nothing returns nothing
set gg_trg_tuxingzhiquan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tuxingzhiquan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_tuxingzhiquan,Condition(function Trig_tuxingzhiquan_Conditions))
call TriggerAddAction(gg_trg_tuxingzhiquan,function Trig_tuxingzhiquan_Actions)
endfunction
function Trig_tuxingzhiquan1_Actions takes nothing returns nothing
call UnitRemoveAbility(udg_uint_tuxingquan,'A0D0')
call DestroyEffect(udg_texiao_tuxingquan)
endfunction
function InitTrig_tuxingzhiquan1 takes nothing returns nothing
set gg_trg_tuxingzhiquan1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_tuxingzhiquan1,udg_jsq_tuxingquan)
call TriggerAddAction(gg_trg_tuxingzhiquan1,function Trig_tuxingzhiquan1_Actions)
endfunction
function Trig_fengxingquan1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CG'))then
return false
endif
return true
endfunction
function Trig_fengxingquan1_Actions takes nothing returns nothing
set udg_unit_fengxingquan=GetTriggerUnit()
call EnableTrigger(gg_trg_fengxingquan2)
call StartTimerBJ(udg_jsq_fengxinquan,false,I2R((0+GetUnitAbilityLevel(GetTriggerUnit(),'A0CG'))))
endfunction
function InitTrig_fengxingquan1 takes nothing returns nothing
set gg_trg_fengxingquan1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fengxingquan1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_fengxingquan1,Condition(function Trig_fengxingquan1_Conditions))
call TriggerAddAction(gg_trg_fengxingquan1,function Trig_fengxingquan1_Actions)
endfunction
function Trig_fengxingquan2_Func001Func004Func001C takes nothing returns boolean
if(not(IsDestructableDeadBJ(GetEnumDestructable())==false))then
return false
endif
return true
endfunction
function Trig_fengxingquan2_Func001Func004A takes nothing returns nothing
if(Trig_fengxingquan2_Func001Func004Func001C())then
call RemoveLocation(udg_point_fengxingquan[1])
set udg_point_fengxingquan[1]=GetUnitLoc(udg_unit_fengxingquan)
else
call DoNothing()
endif
endfunction
function Trig_fengxingquan2_Func001Func005C takes nothing returns boolean
if(not(IsTerrainPathableBJ(udg_point_fengxingquan[1],PATHING_TYPE_WALKABILITY)==false))then
return false
endif
if(not(IsTerrainPathableBJ(udg_point_fengxingquan[2],PATHING_TYPE_WALKABILITY)==false))then
return false
endif
if(not(DistanceBetweenPoints(udg_point_fengxingquan[(10+udg_int_tuxingquan)],udg_point_fengxingquan[0])>7.00))then
return false
endif
if(not(DistanceBetweenPoints(udg_point_fengxingquan[(10+udg_int_tuxingquan)],udg_point_fengxingquan[0])<50.00))then
return false
endif
return true
endfunction
function Trig_fengxingquan2_Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(udg_unit_fengxingquan,'B01F')==true))then
return false
endif
return true
endfunction
function Trig_fengxingquan2_Actions takes nothing returns nothing
if(Trig_fengxingquan2_Func001C())then
set udg_point_fengxingquan[0]=GetUnitLoc(udg_unit_fengxingquan)
set udg_point_fengxingquan[1]=PolarProjectionBJ(udg_point_fengxingquan[0],10.00,GetUnitFacing(udg_unit_fengxingquan))
set udg_point_fengxingquan[2]=PolarProjectionBJ(udg_point_fengxingquan[0],50.00,GetUnitFacing(udg_unit_fengxingquan))
call EnumDestructablesInCircleBJ(85.00,udg_point_fengxingquan[1],function Trig_fengxingquan2_Func001Func004A)
if(Trig_fengxingquan2_Func001Func005C())then
call SetUnitX(udg_unit_fengxingquan,GetLocationX(udg_point_fengxingquan[1]))
call SetUnitY(udg_unit_fengxingquan,GetLocationY(udg_point_fengxingquan[1]))
else
call DoNothing()
endif
call RemoveLocation(udg_point_fengxingquan[0])
call RemoveLocation(udg_point_fengxingquan[1])
call RemoveLocation(udg_point_fengxingquan[2])
call RemoveLocation(udg_point_fengxingquan[(10+udg_int_tuxingquan)])
set udg_point_fengxingquan[(10+udg_int_tuxingquan)]=GetUnitLoc(udg_unit_fengxingquan)
set udg_int_tuxingquan=(udg_int_tuxingquan+1)
else
endif
set udg_int_tuxingquan=0
endfunction
function InitTrig_fengxingquan2 takes nothing returns nothing
set gg_trg_fengxingquan2=CreateTrigger()
call DisableTrigger(gg_trg_fengxingquan2)
call TriggerRegisterTimerEventPeriodic(gg_trg_fengxingquan2,0.02)
call TriggerAddAction(gg_trg_fengxingquan2,function Trig_fengxingquan2_Actions)
endfunction
function Trig_fengxingquan3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_fengxingquan2)
endfunction
function InitTrig_fengxingquan3 takes nothing returns nothing
set gg_trg_fengxingquan3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_fengxingquan3,udg_jsq_fengxinquan)
call TriggerAddAction(gg_trg_fengxingquan3,function Trig_fengxingquan3_Actions)
endfunction
function Trig_huoxingquan1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CI'))then
return false
endif
return true
endfunction
function Trig_huoxingquan1_Func005001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huoxingquan1_Func005001003002001 takes nothing returns boolean
//return true
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_huoxingspell))==true)
endfunction
function Trig_huoxingquan1_Func005001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_huoxingquan1_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_huoxingquan1_Func005001003002001(),Trig_huoxingquan1_Func005001003002002())
endfunction
function Trig_huoxingquan1_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_huoxingquan1_Func005001003001(),Trig_huoxingquan1_Func005001003002())
endfunction
function Trig_huoxingquan1_Func005A takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((2000.00*SquareRoot(I2R(GetHeroStr(GetTriggerUnit(),true))))*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0CI'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_huoxingquan1_Func014001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huoxingquan1_Func014001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_huoxingquan1_Func014001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_huoxingquan1_Func014001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_huoxingquan1_Func014001003002001(),Trig_huoxingquan1_Func014001003002002())
endfunction
function Trig_huoxingquan1_Func014001003 takes nothing returns boolean
return GetBooleanAnd(Trig_huoxingquan1_Func014001003001(),Trig_huoxingquan1_Func014001003002())
endfunction
function Trig_huoxingquan1_Func014A takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),(500.00*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0CI'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_huoxingquan1_Actions takes nothing returns nothing
set udg_unit_huoxingspell=GetTriggerUnit()
set udg_unit_huoxingzhiquan=GetSpellTargetUnit()
set udg_int_huoxingquan=1
set udg_point=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(udg_point,"war3mapImported\\NuclearExplosion.mdx")
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point,Condition(function Trig_huoxingquan1_Func005001003)),function Trig_huoxingquan1_Func005A)
set udg_texiao_hxq=GetLastCreatedEffectBJ()
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
set udg_unit_huoxingzhiquan1=GetLastCreatedUnit()
call UnitAddAbility(GetLastCreatedUnit(),'A0CJ')
call RemoveLocation(udg_point)
call StartTimerBJ(udg_jsq_huoxingquan,false,30.00)
call EnableTrigger(gg_trg_huoxingquan2)
call TriggerSleepAction(1.00)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_point,Condition(function Trig_huoxingquan1_Func014001003)),function Trig_huoxingquan1_Func014A)
call TriggerSleepAction(5.00)
call DestroyEffect(udg_texiao_hxq)
endfunction
function InitTrig_huoxingquan1 takes nothing returns nothing
set gg_trg_huoxingquan1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huoxingquan1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_huoxingquan1,Condition(function Trig_huoxingquan1_Conditions))
call TriggerAddAction(gg_trg_huoxingquan1,function Trig_huoxingquan1_Actions)
endfunction
function Trig_huoxingquan2_Actions takes nothing returns nothing
call SetUnitAbilityLevel(udg_unit_huoxingzhiquan1,'A0CJ',udg_int_huoxingquan)
set udg_int_huoxingquan=(udg_int_huoxingquan+GetUnitAbilityLevel(udg_unit_huoxingspell,'A0CI'))
call IssueTargetOrder(udg_unit_huoxingzhiquan1,"faeriefire",udg_unit_huoxingzhiquan)
endfunction
function InitTrig_huoxingquan2 takes nothing returns nothing
set gg_trg_huoxingquan2=CreateTrigger()
call DisableTrigger(gg_trg_huoxingquan2)
call TriggerRegisterTimerEventPeriodic(gg_trg_huoxingquan2,1.00)
call TriggerAddAction(gg_trg_huoxingquan2,function Trig_huoxingquan2_Actions)
endfunction
function Trig_huoxingquan3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_huoxingquan2)
call RemoveUnit(udg_unit_huoxingzhiquan1)
set udg_unit_huoxingzhiquan=null
set udg_unit_huoxingzhiquan1=null
endfunction
function InitTrig_huoxingquan3 takes nothing returns nothing
set gg_trg_huoxingquan3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_huoxingquan3,udg_jsq_huoxingquan)
call TriggerAddAction(gg_trg_huoxingquan3,function Trig_huoxingquan3_Actions)
endfunction
function Trig_yuyanfusu_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BZ'))then
return false
endif
return true
endfunction
function Trig_yuyanfusu_Actions takes nothing returns nothing
call StartTimerBJ(udg_chongshenjsq[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))],false,30)
call UnitRemoveAbility(GetSpellTargetUnit(),'A0C2')
call UnitAddAbility(GetSpellTargetUnit(),'A0C2')
call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),'A0C2',false)
endfunction
function InitTrig_yuyanfusu takes nothing returns nothing
set gg_trg_yuyanfusu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yuyanfusu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_yuyanfusu,Condition(function Trig_yuyanfusu_Conditions))
call TriggerAddAction(gg_trg_yuyanfusu,function Trig_yuyanfusu_Actions)
endfunction
function Trig_yuyanfusu1_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetExpiredTimer()==udg_chongshenjsq[bj_forLoopAIndex]then
call UnitRemoveAbility(udg_heroname[bj_forLoopAIndex],'A0C2')
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_yuyanfusu1 takes nothing returns nothing
set gg_trg_yuyanfusu1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_yuyanfusu1,udg_chongshenjsq[1])
call TriggerRegisterTimerExpireEventBJ(gg_trg_yuyanfusu1,udg_chongshenjsq[2])
call TriggerRegisterTimerExpireEventBJ(gg_trg_yuyanfusu1,udg_chongshenjsq[3])
call TriggerRegisterTimerExpireEventBJ(gg_trg_yuyanfusu1,udg_chongshenjsq[4])
call TriggerRegisterTimerExpireEventBJ(gg_trg_yuyanfusu1,udg_chongshenjsq[5])
call TriggerRegisterTimerExpireEventBJ(gg_trg_yuyanfusu1,udg_chongshenjsq[6])
call TriggerAddAction(gg_trg_yuyanfusu1,function Trig_yuyanfusu1_Actions)
endfunction
function Trig_xgg_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C0'))then
return false
endif
return true
endfunction
function Trig_xgg_Func007001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_xgg_Func007001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_mingyun))==true)
endfunction
function Trig_xgg_Func007001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_xgg_Func007001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_xgg_Func007001003002001(),Trig_xgg_Func007001003002002())
endfunction
function Trig_xgg_Func007001003 takes nothing returns boolean
return GetBooleanAnd(Trig_xgg_Func007001003001(),Trig_xgg_Func007001003002())
endfunction
function Trig_xgg_Func007Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetEnumUnit(),'B01D')==true))then
return false
endif
return true
endfunction
function Trig_xgg_Func007A takes nothing returns nothing
if(Trig_xgg_Func007Func001C())then
call UnitDamageTarget(udg_unit_mingyun,GetEnumUnit(),(((2.00*I2R(udg_mingyundengji))*Pow(I2R(GetHeroInt(udg_unit_mingyun,true)),0.80))*(Pow(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0C1')),0.80)+1)),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(udg_unit_mingyun,GetEnumUnit(),(((2.00*I2R(udg_mingyundengji))*Pow(I2R(GetHeroInt(udg_unit_mingyun,true)),0.80))+0.00),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function Trig_xgg_Actions takes nothing returns nothing
set udg_xxdian[5]=GetSpellTargetLoc()
set udg_unit_mingyun=GetTriggerUnit()
set udg_mingyundengji=GetUnitAbilityLevel(GetTriggerUnit(),'A0C0')
call EnableTrigger(gg_trg_sh)
call AddSpecialEffectLocBJ(udg_xxdian[5],"war3mapImported\\holyblessing.mdx")
set udg_texiao_my=GetLastCreatedEffectBJ()
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_xxdian[5],Condition(function Trig_xgg_Func007001003)),function Trig_xgg_Func007A)
set udg_inttt=1
loop
exitwhen udg_inttt>18
set udg_xxdian[6]=PolarProjectionBJ(udg_xxdian[5],80.00,(20.00*I2R(udg_inttt)))
set udg_xxdian[7]=PolarProjectionBJ(udg_xxdian[5],150.00,(20.00*I2R(udg_inttt)))
set udg_xxdian[8]=PolarProjectionBJ(udg_xxdian[5],300.00,(20.00*I2R(udg_inttt)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[6]))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[7]))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[8]))
call RemoveLocation(udg_xxdian[6])
call RemoveLocation(udg_xxdian[7])
call RemoveLocation(udg_xxdian[8])
set udg_inttt=udg_inttt+1
endloop
call StartTimerBJ(udg_mingyunguangjsq,false,4.00)
endfunction
function InitTrig_xgg takes nothing returns nothing
set gg_trg_xgg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xgg,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_xgg,Condition(function Trig_xgg_Conditions))
call TriggerAddAction(gg_trg_xgg,function Trig_xgg_Actions)
endfunction
function Trig_sh_Func002001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_sh_Func002001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_mingyun))==true)
endfunction
function Trig_sh_Func002001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_sh_Func002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_sh_Func002001003002001(),Trig_sh_Func002001003002002())
endfunction
function Trig_sh_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_sh_Func002001003001(),Trig_sh_Func002001003002())
endfunction
function Trig_sh_Func002Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetEnumUnit(),'B01D')==true))then
return false
endif
return true
endfunction
function Trig_sh_Func002A takes nothing returns nothing
if(Trig_sh_Func002Func001C())then
call UnitDamageTarget(udg_unit_mingyun,GetEnumUnit(),(((30.00*I2R(udg_mingyundengji))*Pow(I2R(GetHeroInt(udg_unit_mingyun,true)),0.80))*(Pow(I2R(GetUnitAbilityLevel(udg_unit_mingyun,'A0C1')),0.30)+0.00)),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(udg_unit_mingyun,GetEnumUnit(),(((30.00*I2R(udg_mingyundengji))*Pow(I2R(GetHeroInt(udg_unit_mingyun,true)),0.80))+0.00),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function Trig_sh_Actions takes nothing returns nothing
set udg_inttt=1
loop
exitwhen udg_inttt>18
set udg_xxdian[6]=PolarProjectionBJ(udg_xxdian[5],80.00,(20.00*I2R(udg_inttt)))
set udg_xxdian[7]=PolarProjectionBJ(udg_xxdian[5],150.00,(20.00*I2R(udg_inttt)))
set udg_xxdian[8]=PolarProjectionBJ(udg_xxdian[5],300.00,(20.00*I2R(udg_inttt)))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[6]))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[7]))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[8]))
call RemoveLocation(udg_xxdian[6])
call RemoveLocation(udg_xxdian[7])
call RemoveLocation(udg_xxdian[8])
set udg_inttt=udg_inttt+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_xxdian[5],Condition(function Trig_sh_Func002001003)),function Trig_sh_Func002A)
endfunction
function InitTrig_sh takes nothing returns nothing
set gg_trg_sh=CreateTrigger()
call DisableTrigger(gg_trg_sh)
call TriggerRegisterTimerEventPeriodic(gg_trg_sh,2.00)
call TriggerAddAction(gg_trg_sh,function Trig_sh_Actions)
endfunction
function Trig_jsqq_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_sh)
call RemoveLocation(udg_xxdian[5])
call DestroyEffect(udg_texiao_my)
endfunction
function InitTrig_jsqq takes nothing returns nothing
set gg_trg_jsqq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_jsqq,udg_mingyunguangjsq)
call TriggerAddAction(gg_trg_jsqq,function Trig_jsqq_Actions)
endfunction
function Trig_myzj1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CN'))then
return false
endif
return true
endfunction
function Trig_myzj1_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
set udg_p_myzj=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e002',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
call CreateNUnitsAtLoc(1,'n00I',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Flare\\FlareTarget.mdl",udg_point))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_myzj=PolarProjectionBJ(udg_point,300.00,(30.00*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'e002',GetOwningPlayer(GetTriggerUnit()),udg_point_myzj,bj_UNIT_FACING)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Flare\\FlareTarget.mdl",udg_point_myzj))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
call RemoveLocation(udg_point_myzj)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_point)
call StartTimerBJ(udg_jsq_myzj,false,30.00)
call EnableTrigger(gg_trg_myzj)
endfunction
function InitTrig_myzj1 takes nothing returns nothing
set gg_trg_myzj1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_myzj1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_myzj1,Condition(function Trig_myzj1_Conditions))
call TriggerAddAction(gg_trg_myzj1,function Trig_myzj1_Actions)
endfunction
function Trig_myzj_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'n00I',GetOwningPlayer(gg_unit_Oshd_0176),udg_p_myzj,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
endfunction
function InitTrig_myzj takes nothing returns nothing
set gg_trg_myzj=CreateTrigger()
call DisableTrigger(gg_trg_myzj)
call TriggerRegisterTimerEventPeriodic(gg_trg_myzj,2.00)
call TriggerAddAction(gg_trg_myzj,function Trig_myzj_Actions)
endfunction
function Trig_myzj3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_myzj)
endfunction
function InitTrig_myzj3 takes nothing returns nothing
set gg_trg_myzj3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_myzj3,udg_jsq_myzj)
call TriggerAddAction(gg_trg_myzj3,function Trig_myzj3_Actions)
endfunction
function Trig_myzj2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='e002'))then
return false
endif
return true
endfunction
function Trig_myzj2_Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttackedUnitBJ(),'B01D')==true))then
return false
endif
return true
endfunction
function Trig_myzj2_Actions takes nothing returns nothing
if(Trig_myzj2_Func001C())then
call UnitDamageTarget(gg_unit_Oshd_0176,GetAttackedUnitBJ(),((10.00*Pow(I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true)),1.00))*Pow(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])),0.20)),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(gg_unit_Oshd_0176,GetAttackedUnitBJ(),((10.00*I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true)))*1.00),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function InitTrig_myzj2 takes nothing returns nothing
set gg_trg_myzj2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_myzj2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_myzj2,Condition(function Trig_myzj2_Conditions))
call TriggerAddAction(gg_trg_myzj2,function Trig_myzj2_Actions)
endfunction
function Trig_mysp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DC'))then
return false
endif
return true
endfunction
function Trig_mysp_Func002Func001C takes nothing returns boolean
if(not(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_mysp_Func002Func002Func005C takes nothing returns boolean
if((IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nrwm'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nbzd'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='opeo'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='ogru'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='orai'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nvil'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='SSSS'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nwzr'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='uktg'))then
return true
endif
return false
endfunction
function Trig_mysp_Func002Func002C takes nothing returns boolean
if(not Trig_mysp_Func002Func002Func005C())then
return false
endif
return true
endfunction
function Trig_mysp_Func002C takes nothing returns boolean
if(not(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true))then
return false
endif
return true
endfunction
function Trig_mysp_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Drain.mdx",GetSpellTargetUnit(),"overhead"))
if(not(GetUnitTypeId(GetTriggerUnit())=='Ewar'))then
if(Trig_mysp_Func002C())then
if(Trig_mysp_Func002Func001C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))],bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))],bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))],bj_MODIFYMETHOD_ADD,20)
call DisplayTextToPlayer(Player(0),0,0,"友军英雄 加20全属性")
else
call SetUnitLifePercentBJ(GetSpellTargetUnit(),100)
call DisplayTextToPlayer(Player(0),0,0,"友军单位，满血")
endif
else
if(Trig_mysp_Func002Func002C())then
call SetUnitLifePercentBJ(GetSpellTargetUnit(),(GetUnitLifePercent(GetSpellTargetUnit())-20.00))
call DisplayTextToPlayer(Player(0),0,0,"敌方BOSS，20%掉血")
else
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),1000000000.00,false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call DisplayTextToPlayer(Player(0),0,0,"敌方单位，秒杀！")
endif
endif
else
//call PauseUnit(GetSpellTargetUnit(),true)
//call SetUnitInvulnerable(GetSpellTargetUnit(),true)
//call PauseUnit(GetSpellTargetUnit(),false)
//call SetUnitInvulnerable(GetSpellTargetUnit(),false)
if(GetRandomInt(1,2)==1)then
if(not(GetUnitTypeId(GetSpellTargetUnit())=='Uear'))then
if(not(GetUnitTypeId(GetSpellTargetUnit())=='N000'))then
call PauseUnit(GetSpellTargetUnit(),true)
call DisplayTextToPlayer(Player(0),0,0,"该单位受到超能静止术的影响，将永久静止！")
endif
endif
endif
endif
endfunction
function InitTrig_mysp takes nothing returns nothing
set gg_trg_mysp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_mysp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_mysp,Condition(function Trig_mysp_Conditions))
call TriggerAddAction(gg_trg_mysp,function Trig_mysp_Actions)
endfunction
function Trig_ldzl1_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A0CY'))then
return false
endif
return true
endfunction
function Trig_ldzl1_Func001C takes nothing returns boolean
if(not(udg_buerzhi_ldzl==false))then
return false
endif
return true
endfunction
function Trig_ldzl1_Actions takes nothing returns nothing
if(Trig_ldzl1_Func001C())then
call UnitAddAbility(GetTriggerUnit(),'A0CP')
set udg_buerzhi_ldzl=true
else
call IncUnitAbilityLevelSwapped('A0CP',GetTriggerUnit())
endif
endfunction
function InitTrig_ldzl1 takes nothing returns nothing
set gg_trg_ldzl1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ldzl1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_ldzl1,Condition(function Trig_ldzl1_Conditions))
call TriggerAddAction(gg_trg_ldzl1,function Trig_ldzl1_Actions)
endfunction
function Trig_ldzl2_Conditions takes nothing returns boolean
if(not(GetUnitAbilityLevel(GetAttacker(),'A0CY')>0))then
return false
endif
return true
endfunction
function Trig_ldzl2_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_ldzl2_Actions takes nothing returns nothing
if(Trig_ldzl2_Func001C())then
set udg_point=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
call UnitAddAbility(GetLastCreatedUnit(),'A0CT')
call IssueTargetOrderById(GetLastCreatedUnit(),852111,GetAttackedUnitBJ())
set udg_float_ldzl=(1.00*(200.00*(I2R(GetUnitAbilityLevel(GetAttacker(),'A0CY'))*1.00)))
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),udg_float_ldzl,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call RemoveLocation(udg_point)
else
endif
endfunction
function InitTrig_ldzl2 takes nothing returns nothing
set gg_trg_ldzl2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ldzl2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ldzl2,Condition(function Trig_ldzl2_Conditions))
call TriggerAddAction(gg_trg_ldzl2,function Trig_ldzl2_Actions)
endfunction
function Trig_ll_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CQ'))then
return false
endif
return true
endfunction
function Trig_ll_Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_ll_Func006001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_ll_Func006001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_ll_Func006001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_ll_Func006001003002001(),Trig_ll_Func006001003002002())
endfunction
function Trig_ll_Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_ll_Func006001003001(),Trig_ll_Func006001003002())
endfunction
function Trig_ll_Func006A takes nothing returns nothing
call UnitDamageTarget(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetEnumUnit(),(((80.00*Pow(I2R(GetHeroLevel(GetTriggerUnit())),1.10))*I2R(udg_int_ljlt))*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0CQ'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_ll_Actions takes nothing returns nothing
set udg_point=GetSpellTargetLoc()
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Great Lightning.mdx",udg_point))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_xxdian[5]))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_ll=PolarProjectionBJ(udg_point,100.00,(60.00*I2R(bj_forLoopAIndex)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Great Lightning.mdx",udg_point_ll))
call RemoveLocation(udg_point_ll)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_ll=PolarProjectionBJ(udg_point,200.00,(30.00*I2R(bj_forLoopAIndex)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Great Lightning.mdx",udg_point_ll))
call RemoveLocation(udg_point_ll)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_point,Condition(function Trig_ll_Func006001003)),function Trig_ll_Func006A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_ll takes nothing returns nothing
set gg_trg_ll=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ll,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ll,Condition(function Trig_ll_Conditions))
call TriggerAddAction(gg_trg_ll,function Trig_ll_Actions)
endfunction
function Trig_wlst_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CS'))then
return false
endif
return true
endfunction
function Trig_wlst_Actions takes nothing returns nothing
set udg_point_wlsta=GetUnitLoc(GetTriggerUnit())
set udg_unit_wlst=GetTriggerUnit()
call EnableTrigger(gg_trg_wlst1)
call StartTimerBJ(udg_jsq_wlst,false,15.00)
endfunction
function InitTrig_wlst takes nothing returns nothing
set gg_trg_wlst=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wlst,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_wlst,Condition(function Trig_wlst_Conditions))
call TriggerAddAction(gg_trg_wlst,function Trig_wlst_Actions)
endfunction
function Trig_wlst1_Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_wlst1_Func006001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_wlst))==true)
endfunction
function Trig_wlst1_Func006001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_wlst1_Func006001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_wlst1_Func006001003002001(),Trig_wlst1_Func006001003002002())
endfunction
function Trig_wlst1_Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_wlst1_Func006001003001(),Trig_wlst1_Func006001003002())
endfunction
function Trig_wlst1_Func006A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(udg_unit_wlst),udg_point_wlsta,bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0CT')
call IssueTargetOrderById(GetLastCreatedUnit(),852111,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
call UnitDamageTarget(udg_unit_wlst,GetEnumUnit(),(((50.00*I2R(GetHeroStr(udg_unit_wlst,true)))*I2R(udg_int_ljlt))*I2R(GetUnitAbilityLevel(udg_unit_wlst,'A0CS'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_wlst1_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Great Lightning.mdx",udg_point_wlsta))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_wlst=PolarProjectionBJ(udg_point_wlsta,200.00,(60.00*I2R(bj_forLoopAIndex)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\LightningWrath.mdx",udg_point_wlst))
call RemoveLocation(udg_point_wlst)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_wlst=PolarProjectionBJ(udg_point_wlsta,300.00,(60.00*I2R(bj_forLoopAIndex)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\LightningWrath.mdx",udg_point_wlst))
call RemoveLocation(udg_point_wlst)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_wlst=PolarProjectionBJ(udg_point_wlsta,400.00,(60.00*I2R(bj_forLoopAIndex)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\LightningWrath.mdx",udg_point_wlst))
call RemoveLocation(udg_point_wlst)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_point_wlst=PolarProjectionBJ(udg_point_wlsta,600.00,(60.00*I2R(bj_forLoopAIndex)))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\LightningWrath.mdx",udg_point_wlst))
call RemoveLocation(udg_point_wlst)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_point_wlsta,Condition(function Trig_wlst1_Func006001003)),function Trig_wlst1_Func006A)
endfunction
function InitTrig_wlst1 takes nothing returns nothing
set gg_trg_wlst1=CreateTrigger()
call DisableTrigger(gg_trg_wlst1)
call TriggerRegisterTimerEventPeriodic(gg_trg_wlst1,1.00)
call TriggerAddAction(gg_trg_wlst1,function Trig_wlst1_Actions)
endfunction
function Trig_wlst2_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_wlst1)
call RemoveLocation(udg_point_wlsta)
endfunction
function InitTrig_wlst2 takes nothing returns nothing
set gg_trg_wlst2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_wlst2,udg_jsq_wlst)
call TriggerAddAction(gg_trg_wlst2,function Trig_wlst2_Actions)
endfunction
function Trig_dcp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CR'))then
return false
endif
return true
endfunction
function Trig_dcp_Actions takes nothing returns nothing
set udg_double_dcpb=1.00
set udg_point_dcpa=GetUnitLoc(GetTriggerUnit())
set udg_point_dcpb=GetSpellTargetLoc()
set udg_double_dcp=AngleBetweenPoints(udg_point_dcpa,udg_point_dcpb)
set udg_unit_dcp=GetTriggerUnit()
set udg_point=PolarProjectionBJ(udg_point_dcpa,100.00,udg_double_dcp)
call CreateNUnitsAtLoc(1,'u00N',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
set udg_unit_dcpb=GetLastCreatedUnit()
call EnableTrigger(gg_trg_dcp1)
endfunction
function InitTrig_dcp takes nothing returns nothing
set gg_trg_dcp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dcp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_dcp,Condition(function Trig_dcp_Conditions))
call TriggerAddAction(gg_trg_dcp,function Trig_dcp_Actions)
endfunction
function Trig_dcp1_Func003C takes nothing returns boolean
if(not(udg_double_dcpb>=15.00))then
return false
endif
return true
endfunction
function Trig_dcp1_Actions takes nothing returns nothing
call SetUnitScalePercent(udg_unit_dcpb,(100.00*udg_double_dcpb),(100.00*udg_double_dcpb),(100.00*udg_double_dcpb))
set udg_double_dcpb=(udg_double_dcpb+0.50)
if(Trig_dcp1_Func003C())then
call EnableTrigger(gg_trg_dcp2)
call StartTimerBJ(udg_jsq_dcp,false,1.00)
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_dcp1 takes nothing returns nothing
set gg_trg_dcp1=CreateTrigger()
call DisableTrigger(gg_trg_dcp1)
call TriggerRegisterTimerEventPeriodic(gg_trg_dcp1,0.10)
call TriggerAddAction(gg_trg_dcp1,function Trig_dcp1_Actions)
endfunction
function Trig_dcp2_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_dcp2_Func003001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_dcp))==true)
endfunction
function Trig_dcp2_Func003001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_dcp2_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_dcp2_Func003001003002001(),Trig_dcp2_Func003001003002002())
endfunction
function Trig_dcp2_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_dcp2_Func003001003001(),Trig_dcp2_Func003001003002())
endfunction
function Trig_dcp2_Func003Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetEnumUnit(),'Bprg')==false))then
return false
endif
return true
endfunction
function Trig_dcp2_Func003A takes nothing returns nothing
if(Trig_dcp2_Func003Func001C())then
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(udg_unit_dcp),udg_point_dcpc,bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0CT')
call IssueTargetOrderById(GetLastCreatedUnit(),852111,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
else
endif
endfunction
function Trig_dcp2_Func005001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_dcp2_Func005001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_dcp))==true)
endfunction
function Trig_dcp2_Func005001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_dcp2_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_dcp2_Func005001003002001(),Trig_dcp2_Func005001003002002())
endfunction
function Trig_dcp2_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_dcp2_Func005001003001(),Trig_dcp2_Func005001003002())
endfunction
function Trig_dcp2_Func005A takes nothing returns nothing
call UnitDamageTarget(udg_unit_dcp,GetEnumUnit(),(((15.00*I2R(GetHeroStr(udg_unit_dcp,true)))*I2R(udg_int_ljlt))*I2R(GetUnitAbilityLevel(udg_unit_dcp,'A0CR'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_LIGHTNING,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_dcp2_Actions takes nothing returns nothing
set udg_point_dcpc=GetUnitLoc(udg_unit_dcpb)
call SetUnitPositionLocFacingBJ(udg_unit_dcpb,PolarProjectionBJ(udg_point_dcpc,20.00,udg_double_dcp),udg_double)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point_dcpc,Condition(function Trig_dcp2_Func003001003)),function Trig_dcp2_Func003A)
call TriggerSleepAction(0.00)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point_dcpc,Condition(function Trig_dcp2_Func005001003)),function Trig_dcp2_Func005A)
call RemoveLocation(udg_point_dcpc)
endfunction
function InitTrig_dcp2 takes nothing returns nothing
set gg_trg_dcp2=CreateTrigger()
call DisableTrigger(gg_trg_dcp2)
call TriggerRegisterTimerEventPeriodic(gg_trg_dcp2,0.01)
call TriggerAddAction(gg_trg_dcp2,function Trig_dcp2_Actions)
endfunction
function Trig_dcp3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_dcp2)
call RemoveLocation(udg_point_dcpa)
call RemoveLocation(udg_point_dcpb)
call RemoveLocation(udg_point_dcpc)
call RemoveUnit(udg_unit_dcpb)
endfunction
function InitTrig_dcp3 takes nothing returns nothing
set gg_trg_dcp3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_dcp3,udg_jsq_dcp)
call TriggerAddAction(gg_trg_dcp3,function Trig_dcp3_Actions)
endfunction
function Trig_ldcc1_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(gg_unit_Udre_0182)==true))then
return false
endif
return true
endfunction
function Trig_ldcc1_Func003002003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_ldcc1_Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_ldcc1_Func003002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_ldcc1_Func003002003002002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_ldcc1_Func003002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ldcc1_Func003002003002002001(),Trig_ldcc1_Func003002003002002002())
endfunction
function Trig_ldcc1_Func003002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_ldcc1_Func003002003002001(),Trig_ldcc1_Func003002003002002())
endfunction
function Trig_ldcc1_Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_ldcc1_Func003002003001(),Trig_ldcc1_Func003002003002())
endfunction
function Trig_ldcc1_Func004A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(gg_unit_Udre_0182),udg_point,bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0CT')
call IssueTargetOrderById(GetLastCreatedUnit(),852111,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
endfunction
function Trig_ldcc1_Func005A takes nothing returns nothing
call UnitDamageTarget(gg_unit_Udre_0182,GetEnumUnit(),(15000.00*Pow(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Udre_0182))],1.60)),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_LIGHTNING,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_ldcc1_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(gg_unit_Udre_0182)
set udg_group_ldcc=GetUnitsInRangeOfLocMatching(500.00,udg_point,Condition(function Trig_ldcc1_Func003002003))
call ForGroupBJ(udg_group_ldcc,function Trig_ldcc1_Func004A)
call ForGroupBJ(udg_group_ldcc,function Trig_ldcc1_Func005A)
endfunction
function InitTrig_ldcc1 takes nothing returns nothing
set gg_trg_ldcc1=CreateTrigger()
call DisableTrigger(gg_trg_ldcc1)
call TriggerRegisterTimerEventPeriodic(gg_trg_ldcc1,5.00)
call TriggerAddCondition(gg_trg_ldcc1,Condition(function Trig_ldcc1_Conditions))
call TriggerAddAction(gg_trg_ldcc1,function Trig_ldcc1_Actions)
endfunction
function Trig_ldcc2_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(gg_unit_Udre_0182)==true))then
return false
endif
return true
endfunction
function Trig_ldcc2_Func003002003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_ldcc2_Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_ldcc2_Func003002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_ldcc2_Func003002003002002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_ldcc2_Func003002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ldcc2_Func003002003002002001(),Trig_ldcc2_Func003002003002002002())
endfunction
function Trig_ldcc2_Func003002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_ldcc2_Func003002003002001(),Trig_ldcc2_Func003002003002002())
endfunction
function Trig_ldcc2_Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_ldcc2_Func003002003001(),Trig_ldcc2_Func003002003002())
endfunction
function Trig_ldcc2_Func004A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(gg_unit_Udre_0182),udg_point,bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0CT')
call IssueTargetOrderById(GetLastCreatedUnit(),852111,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
endfunction
function Trig_ldcc2_Func005A takes nothing returns nothing
call UnitDamageTarget(gg_unit_Udre_0182,GetEnumUnit(),(20000.00*Pow(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Udre_0182))],1.60)),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_LIGHTNING,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_ldcc2_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(gg_unit_Udre_0182)
set udg_group_ldcc=GetUnitsInRangeOfLocMatching(500.00,udg_point,Condition(function Trig_ldcc2_Func003002003))
call ForGroupBJ(udg_group_ldcc,function Trig_ldcc2_Func004A)
call ForGroupBJ(udg_group_ldcc,function Trig_ldcc2_Func005A)
endfunction
function InitTrig_ldcc2 takes nothing returns nothing
set gg_trg_ldcc2=CreateTrigger()
call DisableTrigger(gg_trg_ldcc2)
call TriggerRegisterTimerEventPeriodic(gg_trg_ldcc2,1.00)
call TriggerAddCondition(gg_trg_ldcc2,Condition(function Trig_ldcc2_Conditions))
call TriggerAddAction(gg_trg_ldcc2,function Trig_ldcc2_Actions)
endfunction
function Trig_bossjingong_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_bossjingong_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________074)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_bossjingong takes nothing returns nothing
set gg_trg_bossjingong=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_bossjingong,gg_rct______________063)
call TriggerAddCondition(gg_trg_bossjingong,Condition(function Trig_bossjingong_Conditions))
call TriggerAddAction(gg_trg_bossjingong,function Trig_bossjingong_Actions)
endfunction
function Trig_counter_Actions takes nothing returns nothing
//set udg_iloveyou=11
//call StartTimerBJ(udg_mojie,false,60.00)
//set udg_countstop=6
//set udg_dubo2=4
//call SetHeroLevelBJ(udg_heroname[1],(654),true)
//call SetUnitInvulnerable(gg_unit_h001_0004,true)
//set udg_mscore[1]=udg_mscore[1]+10000000

//call AddSpecialEffectTarget("fateknife.mdx",gg_unit_Ewar_0127,"hand right")


//call StartTimerBJ(udg_mojie,false,10.00)
call StartTimerBJ(udg_counter,false,60.00)
call CreateTimerDialogBJ(udg_counter,"第一波学校进攻即将到来!")

set k=udg_pass[3]+udg_pass[4]+udg_pass[10]

set udg_jingong=GetLastCreatedTimerDialogBJ()
call TriggerExecute(gg_trg_change2)

//call CreateNUnitsAtLoc(1,'earc',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________040),120.00)
//call CreateItemLoc('REDS',GetRectCenter(gg_rct______________005))
//call CreateItemLoc('GRES',GetRectCenter(gg_rct______________005))
//call CreateItemLoc('BLUS',GetRectCenter(gg_rct______________005))

//call CreateNUnitsAtLoc(1,'Bos5',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________312),270.00)
//call CreateNUnitsAtLoc(1,'Uv05',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________313),180.00)
//call CreateNUnitsAtLoc(1,'Uv06',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________314),220.00)
//call CreateNUnitsAtLoc(1,'Uv07',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________315),180.00)



set udg_lunpan=5500
loop
exitwhen udg_lunpan>622
call CreateItemLoc(udg_Item[udg_lunpan],GetRectCenter(gg_rct______________005))
set udg_lunpan=udg_lunpan+1
endloop



//call CreateNUnitsAtLoc(1,'U00S',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________040),180.00)
//call CreateNUnitsAtLoc(1,'Bos3',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________040),180.00)
//call CreateNUnitsAtLoc(1,'Bos9',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________040),180.00)
//call CreateNUnitsAtLoc(1,'Bos5',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________040),180.00)
//call CreateNUnitsAtLoc(1,'Bos6',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________040),180.00)

//call UnitAddAbility(udg_heroname[1], 'A0HY')



//set udg_fadongjilv[1]=(udg_fadongjilv[1]+8)
//set udg_waves=30



set udg_lunpan=150
loop
exitwhen udg_lunpan>20
call CreateItemLoc('V0U0',GetRectCenter(gg_rct______________005))
call CreateItemLoc('V0U1',GetRectCenter(gg_rct______________005))
call CreateItemLoc('V0U2',GetRectCenter(gg_rct______________005))
call CreateItemLoc('V001',GetRectCenter(gg_rct______________005))
call CreateItemLoc('V002',GetRectCenter(gg_rct______________005))
call CreateItemLoc('V003',GetRectCenter(gg_rct______________005))
call CreateItemLoc('V004',GetRectCenter(gg_rct______________005))
set udg_lunpan=udg_lunpan+1
endloop



call DisplayTextToForce(GetPlayersAll(),"|cffff000060秒钟后第一波怪物将会到达。|r")
//call CreateNUnitsAtLoc(1,'otbk',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________210),180.00)
//call SetUnitInvulnerable(GetLastCreatedUnit(),true)
//call CreateNUnitsAtLoc(1,'uobs',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________210),180.00)
//call SetUnitInvulnerable(GetLastCreatedUnit(),true)
//call CreateNUnitsAtLoc(1,'uobs',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________211),180.00)
//call SetUnitInvulnerable(GetLastCreatedUnit(),true)
endfunction
function InitTrig_counter takes nothing returns nothing
set gg_trg_counter=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_counter,udg_start)
call TriggerAddAction(gg_trg_counter,function Trig_counter_Actions)
endfunction
function Trig_counter2_Func004Func003Func003Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_waves==29))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003Func003Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_waves==28))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003Func003Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_waves==26))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003Func003Func001Func001Func001C takes nothing returns boolean
if(not(udg_waves==25))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003Func003Func001Func001C takes nothing returns boolean
if(not(udg_waves==23))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003Func003Func001C takes nothing returns boolean
if(not(udg_waves==22))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003Func003C takes nothing returns boolean
if(not(udg_waves==20))then
return false
endif
return true
endfunction
function Trig_counter2_Func004Func003C takes nothing returns boolean
if(not(udg_waves==19))then
return false
endif
return true
endfunction
function Trig_counter2_Func004C takes nothing returns boolean
if(not(udg_waves==9))then
return false
endif
return true
endfunction
function Trig_counter2_Func006Func001C takes nothing returns boolean
if(not(udg_ycjuqing==true))then
return false
endif
return true
endfunction
function Trig_counter2_Func006Func008C takes nothing returns boolean
if(not(udg_buerzhi_tingguai==true))then
return false
endif
return true
endfunction
function Trig_counter2_Func006C takes nothing returns boolean
if(udg_nanduBL>=2)then
if(not(udg_waves<30))then
return false
endif
else
if(not(udg_waves<29))then
return false
endif
endif
return true
endfunction
function Trig_counter2_Actions takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_jinggongguai_______u)
set udg_jsq=false
call TimerDialogDisplayBJ(false,udg_jingong)
if(udg_selfdestruct>=4)then
if(udg_waves==2)then
call CreateNUnitsAtLoc(1,'unec',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
else
endif
if(udg_waves==10)then
call CreateNUnitsAtLoc(1,'hphx',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：火凤凰！下波特殊怪：秒死你|r")
else
endif
if(udg_waves==11)then
call CreateNUnitsAtLoc(1,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：秒死你！下波特殊怪：火凤凰X2冰龙X2|r")
else
endif
if(udg_waves==12)then
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'hphx',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：火凤凰X2冰龙X2！下波特殊怪：陆战无敌X8|r")
else
endif
if(udg_waves==13)then

if(not(udg_Monster[13]=='x001'))then

call CreateNUnitsAtLoc(8,'efdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：陆战无敌X8！下波特殊怪：火箭X2！|r")
endif

else
endif
if(udg_waves==14)then
if(not(udg_Monster[14]=='x002'))then

call CreateNUnitsAtLoc(2,'ncea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：火箭X2！|r")
endif
else
endif
if(udg_waves==15)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00下波特殊怪：秒死你X5|r")
else
endif
if(udg_waves==16)then
call CreateNUnitsAtLoc(5,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：秒死你X5！下波特殊怪：(秒死你)X10|r")
else
endif

if(udg_waves==28)then
call CreateNUnitsAtLoc(1,'Uv09',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：超级三圣道人|r")
else
endif

if(udg_waves==17)then
call CreateNUnitsAtLoc(5,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(5,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：(秒死你)X10！下波特殊怪：(破甲1000+火箭+冰龙)X5！|r")
else
endif
if(udg_waves==18)then
call CreateNUnitsAtLoc(5,'otbk',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(5,'ncea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(5,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波特殊怪：(破甲1000+火箭+冰龙)X5！！|r")
else
endif
if(Trig_counter2_Func004C())then
set udg_mscore[1]=udg_mscore[1]+600
set udg_mscore[2]=udg_mscore[2]+600
set udg_mscore[3]=udg_mscore[3]+600
set udg_mscore[4]=udg_mscore[4]+600
set udg_mscore[5]=udg_mscore[5]+600
set udg_mscore[6]=udg_mscore[6]+600
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00全员奖励600点试炼积分！快去换装备吧！|r")

call DisplayTextToForce(GetPlayersAll(),"|cffffcc00年级办主任从宿舍杀来了！！各位大侠赶快回防！|r")

call DisplayTextToForce(GetPlayersAll(),"|cffffcc00下波特殊怪：秒死你|r")
call TriggerSleepAction(2.00)
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌15秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,15)
call CreateNUnitsAtLoc(1,'opeo',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'nrwm',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
if(udg_dubo2==1)then
call CreateNUnitsAtLoc(1,'Npld',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"教皇：听办公室主任说你们在外赌博仍不悔改！老子要动用教廷的力量灭了你们!！")
set udg_dubo2=2
endif
else
if(Trig_counter2_Func004Func003C())then
set udg_mscore[1]=udg_mscore[1]+5000
set udg_mscore[2]=udg_mscore[2]+5000
set udg_mscore[3]=udg_mscore[3]+5000
set udg_mscore[4]=udg_mscore[4]+5000
set udg_mscore[5]=udg_mscore[5]+5000
set udg_mscore[6]=udg_mscore[6]+5000
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00全员奖励5000点试炼积分！快去换装备吧！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00学生处处长从宿舍杀来了！！各位大侠赶快回防！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00下波boss怪：海神|r")
call TriggerSleepAction(2.00)
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌15秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,15)
if(udg_dubo2==2)then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"主神：你们的所作所为已经触动了神，坏孩子必须得到应有的惩罚！！")
set udg_dubo2=3
endif
call CreateNUnitsAtLoc(1,'ogru',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'nrwm',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
else
if(Trig_counter2_Func004Func003Func003C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00极限攻速")
if(udg_countstop>=3)then
if(udg_renshu>=90)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：海神+吸血鬼！|r")
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos2',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'nrwm',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：小妖精|r")
call CreateNUnitsAtLoc(1,'Uv02',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
endif
else
if(Trig_counter2_Func004Func003Func003Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00100%陆战无敌")
if(udg_countstop>=3)then
if(udg_renshu>=90)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：三圣道人+吸血鬼！下波boss怪：海神+剑魂|r")
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'nrwm',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos2',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
endif
else
if(Trig_counter2_Func004Func003Func003Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00破甲1000")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：海神+剑魂+小妖精！|r")
if(udg_countstop>=3)then
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'nrwm',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uv02',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc001000防御，被动属性伤害免疫！")
if(udg_renshu>=90)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：海神+剑魂！下波BOSS怪：海神+剑魂+吸血鬼|r")
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00100%200倍暴击！")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：三圣道人+海神+吸血鬼！|r")
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos2',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)

else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00100%物理躲避、免疫被动属性伤害")
call DisplayTextToForce(GetPlayersAll(),"|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效。\n|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效。\n|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效\n|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效")
call EnableTrigger(gg_trg_ycjuqing)

call TriggerExecute(gg_trg_ycjuqing_______u)
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001Func001Func001Func001C())then
set udg_mscore[1]=udg_mscore[1]+100000
set udg_mscore[2]=udg_mscore[2]+100000
set udg_mscore[3]=udg_mscore[3]+100000
set udg_mscore[4]=udg_mscore[4]+100000
set udg_mscore[5]=udg_mscore[5]+100000
set udg_mscore[6]=udg_mscore[6]+100000
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00全员奖励100000点试炼积分！请大家去勇者的试炼换装备吧！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00学院院长亲自进攻了！！各位大侠赶快回防！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：主神+剑魂+冥神！|r")
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF本波BOSS怪：冥神进攻来了，请各位小心应战！！！|r")
if(udg_dubo2==3)then
if(udg_renshu>=90)then
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌35秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,35)
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"鸿钧道人：主神那个白痴连这群笨蛋学生都搞不定，还要得我亲自出马！！")
call DisplayTextToForce(GetPlayersAll(),"鸿钧道人：都来送死吧，让着你们点，给你们所有人专属等级升2级也无所谓！！")
call CreateNUnitsAtLoc(1,'Bos8',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_rabbit=udg_rabbit+4
set udg_jinengdengji[1]=udg_jinengdengji[1]+2
set udg_jinengdengji[2]=udg_jinengdengji[2]+2
set udg_jinengdengji[3]=udg_jinengdengji[3]+2
set udg_jinengdengji[4]=udg_jinengdengji[4]+2
set udg_jinengdengji[5]=udg_jinengdengji[5]+2
set udg_jinengdengji[6]=udg_jinengdengji[6]+2
set udg_dubo2=4
endif
endif
call TriggerSleepAction(3.00)
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌20秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,20)
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
if(Trig_counter2_Func004C())then
set udg_mscore[1]=udg_mscore[1]+600
set udg_mscore[2]=udg_mscore[2]+600
set udg_mscore[3]=udg_mscore[3]+600
set udg_mscore[4]=udg_mscore[4]+600
set udg_mscore[5]=udg_mscore[5]+600
set udg_mscore[6]=udg_mscore[6]+600
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00全员奖励600点试炼积分！快去换装备吧！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00年级办主任进攻来了！！各位大侠赶快回防！|r")
call TriggerSleepAction(5.00)
call CreateNUnitsAtLoc(1,'opeo',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
if(udg_dubo2==1)then
call CreateNUnitsAtLoc(1,'Npld',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"教皇：听办公室主任说你们在外赌博仍不悔改！老子要动用教廷的力量灭了你们!！")
set udg_dubo2=2
endif
else
if(Trig_counter2_Func004Func003C())then
set udg_mscore[1]=udg_mscore[1]+5000
set udg_mscore[2]=udg_mscore[2]+5000
set udg_mscore[3]=udg_mscore[3]+5000
set udg_mscore[4]=udg_mscore[4]+5000
set udg_mscore[5]=udg_mscore[5]+5000
set udg_mscore[6]=udg_mscore[6]+5000
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00全员奖励5000点试炼积分！快去换装备吧！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00学生处处长进攻来了！！各位大侠赶快回防！|r")
call TriggerSleepAction(5.00)
call CreateNUnitsAtLoc(1,'ogru',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
if(udg_dubo2==2)then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"主神：你们的所作所为已经触动了神，你们这群坏孩子必须得到应有的惩罚！！")
set udg_dubo2=3
endif
else
if(Trig_counter2_Func004Func003Func003C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00极限攻速")
if(udg_selfdestruct>=2)then
if(udg_countstop>=3)then

call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：海神！|r")
endif
endif
if(udg_countstop==0)then
if(udg_renshu<=90)then
set udg_mscore[1]=udg_mscore[1]+30000
set udg_mscore[2]=udg_mscore[2]+30000
set udg_mscore[3]=udg_mscore[3]+30000
set udg_mscore[4]=udg_mscore[4]+30000
set udg_mscore[5]=udg_mscore[5]+30000
set udg_mscore[6]=udg_mscore[6]+30000
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00无停奖励30000积分！！|r")
endif
endif
else
if(Trig_counter2_Func004Func003Func003Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00100%陆战无敌")
if(udg_selfdestruct>=2)then
if(udg_countstop>=3)then

call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：剑魂！|r")
endif
endif
else
if(Trig_counter2_Func004Func003Func003Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00破甲1000")
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc001000防御，被动属性伤害免疫！")
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00100%200倍暴击！")
if(udg_selfdestruct>=2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00本波BOSS怪：三圣道人+吸血鬼！|r")
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos2',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000特殊怪物进攻\n此波怪物特性：|R\n|cffffcc00100%物理躲避、免疫被动属性伤害")
call DisplayTextToForce(GetPlayersAll(),"|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效。\n|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效。\n|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效\n|cFF0041FF 现在输入“GB”，可关闭众神降临，1分钟内输入有效")
call EnableTrigger(gg_trg_ycjuqing)
call TriggerExecute(gg_trg_ycjuqing_______u)
else
if(Trig_counter2_Func004Func003Func003Func001Func001Func001Func001Func001Func001C())then
set udg_mscore[1]=udg_mscore[1]+100000
set udg_mscore[2]=udg_mscore[2]+100000
set udg_mscore[3]=udg_mscore[3]+100000
set udg_mscore[4]=udg_mscore[4]+100000
set udg_mscore[5]=udg_mscore[5]+100000
set udg_mscore[6]=udg_mscore[6]+100000
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00全员奖励100000点试炼积分！快去换装备吧！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00学院院长带着冥神来进攻了！！请各位小心应战！|r")
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(1,'orai',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)

else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
if(udg_waves==30)then
if(udg_dubo2==3)then
if(udg_renshu<90)then
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct______________035),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"四大剑魂：主神那个白痴连这群笨蛋学生都搞不定，还要得我们亲自出马！！")
call DisplayTextToForce(GetPlayersAll(),"四大剑魂：都来送死吧，让着你们点，给你们所有人专属等级升2级也无所谓！！")
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"食神也来进攻了，请各位小心应战！！")
else
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"鸿钧道人：主神那个白痴连这群笨蛋学生都搞不定，还要得我亲自出马！！")
call DisplayTextToForce(GetPlayersAll(),"鸿钧道人：都来送死吧，让着你们点，给你们所有人专属等级升2级也无所谓！！")
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"食神也来进攻了，请各位小心应战！！")
endif
//set udg_rabbit=udg_rabbit+4
set udg_jinengdengji[1]=udg_jinengdengji[1]+2
set udg_jinengdengji[2]=udg_jinengdengji[2]+2
set udg_jinengdengji[3]=udg_jinengdengji[3]+2
set udg_jinengdengji[4]=udg_jinengdengji[4]+2
set udg_jinengdengji[5]=udg_jinengdengji[5]+2
set udg_jinengdengji[6]=udg_jinengdengji[6]+2
endif
call CreateNUnitsAtLoc(1,'Nklj',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
set udg_shuaguai=1
set udg_point2=GetUnitLoc(udg_heroname[udg_lunpan])
if(udg_waves>=1)then
if(udg_renwuc==1)then
if(not(UnitHasItemOfTypeBJ(udg_heroname[udg_lunpan],'I995')==true))then
call KillUnit(udg_heroname[udg_lunpan])
call KillUnit(udg_heroname[udg_lunpan])
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡轮盘指定的玩家没有完成任务，死神来带走了他！|r")
set udg_lunpan3=0
else
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call SetPlayerStateBJ(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD)+100000))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_heroname[udg_lunpan],'I995'))
if(GetBooleanAnd((udg_waves>=6),(udg_waves<=10)))then
call CreateItemLoc(udg_Item[GetRandomInt(40,61)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(320,324)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>10),(udg_waves<=15)))then
call CreateItemLoc(udg_Item[GetRandomInt(25,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(340,344)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>15),(udg_waves<=20)))then
call CreateItemLoc(udg_Item[GetRandomInt(9,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(360,369)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>20),(udg_waves<=25)))then
call CreateItemLoc(udg_Item[GetRandomInt(171,174)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(380,391)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>25),(udg_waves<=30)))then
call CreateItemLoc(udg_Item[GetRandomInt(180,182)],udg_point2)
set udg_jinengdengji[udg_lunpan]=(udg_jinengdengji[udg_lunpan]+1)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得技能等级+1的奖励！|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00恭喜完成任务，获得全属性15点和金钱10W的奖励！|r")
set udg_lunpan3=1
endif
endif
if(udg_renwuc==5)then
if(not(UnitHasItemOfTypeBJ(udg_heroname[udg_lunpan],'bzbf')==true))then
call KillUnit(udg_heroname[udg_lunpan])
call KillUnit(udg_heroname[udg_lunpan])
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡轮盘指定的玩家没有完成任务，死神来带走了他！|r")
else
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call SetPlayerStateBJ(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD)+100000))
if(GetBooleanAnd((udg_waves>=6),(udg_waves<=10)))then
call CreateItemLoc(udg_Item[GetRandomInt(40,61)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(320,324)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>10),(udg_waves<=15)))then
call CreateItemLoc(udg_Item[GetRandomInt(25,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(340,344)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>15),(udg_waves<=20)))then
call CreateItemLoc(udg_Item[GetRandomInt(9,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(360,369)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>20),(udg_waves<=25)))then
call CreateItemLoc(udg_Item[GetRandomInt(171,174)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(380,391)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>25),(udg_waves<=30)))then
call CreateItemLoc(udg_Item[GetRandomInt(180,182)],udg_point2)
set udg_jinengdengji[udg_lunpan]=(udg_jinengdengji[udg_lunpan]+1)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得技能等级+1的奖励！|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00恭喜完成任务，获得全属性15点和金钱10W的奖励！|r")
set udg_lunpan3=1
endif
endif
if(udg_renwuc==2)then
if(udg_kills[udg_lunpan]-udg_kills[udg_lunpan]/10*10==udg_lunpan)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call SetPlayerStateBJ(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD)+100000))
if(GetBooleanAnd((udg_waves>=6),(udg_waves<=10)))then
call CreateItemLoc(udg_Item[GetRandomInt(40,61)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(320,324)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>10),(udg_waves<=15)))then
call CreateItemLoc(udg_Item[GetRandomInt(25,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(340,344)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>15),(udg_waves<=20)))then
call CreateItemLoc(udg_Item[GetRandomInt(9,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(360,369)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>20),(udg_waves<=25)))then
call CreateItemLoc(udg_Item[GetRandomInt(171,174)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(380,391)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>25),(udg_waves<=30)))then
call CreateItemLoc(udg_Item[GetRandomInt(180,182)],udg_point2)
set udg_jinengdengji[udg_lunpan]=(udg_jinengdengji[udg_lunpan]+1)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得技能等级+1的奖励！|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00恭喜完成任务，获得全属性15点和金钱10W的奖励！|r")
else
call KillUnit(udg_heroname[udg_lunpan])
call KillUnit(udg_heroname[udg_lunpan])
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡轮盘指定的玩家没有完成任务，死神来带走了他！|r")
endif
endif
if(udg_renwuc==3)then
if(udg_lunpan4==1)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call SetPlayerStateBJ(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD)+100000))
if(GetBooleanAnd((udg_waves>=5),(udg_waves<=10)))then
call CreateItemLoc(udg_Item[GetRandomInt(40,61)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(320,324)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>10),(udg_waves<=15)))then
call CreateItemLoc(udg_Item[GetRandomInt(25,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(340,344)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>15),(udg_waves<=20)))then
call CreateItemLoc(udg_Item[GetRandomInt(9,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(360,369)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>20),(udg_waves<=25)))then
call CreateItemLoc(udg_Item[GetRandomInt(171,174)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(380,391)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>25),(udg_waves<=30)))then
call CreateItemLoc(udg_Item[GetRandomInt(180,182)],udg_point2)
set udg_jinengdengji[udg_lunpan]=(udg_jinengdengji[udg_lunpan]+1)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得技能等级+1的奖励！|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00恭喜完成任务，获得全属性15点和金钱10W的奖励！|r")
else
call KillUnit(udg_heroname[udg_lunpan])
call KillUnit(udg_heroname[udg_lunpan])
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡轮盘指定的玩家没有完成任务，死神来带走了他！|r")
endif
endif
if(udg_renwuc==6)then
if(udg_lunpan6==30)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call SetPlayerStateBJ(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD)+100000))
if(GetBooleanAnd((udg_waves>=5),(udg_waves<=10)))then
call CreateItemLoc(udg_Item[GetRandomInt(40,61)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(320,324)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>10),(udg_waves<=15)))then
call CreateItemLoc(udg_Item[GetRandomInt(25,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(340,344)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>15),(udg_waves<=20)))then
call CreateItemLoc(udg_Item[GetRandomInt(9,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(360,369)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>20),(udg_waves<=25)))then
call CreateItemLoc(udg_Item[GetRandomInt(171,174)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(380,391)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>25),(udg_waves<=30)))then
call CreateItemLoc(udg_Item[GetRandomInt(180,182)],udg_point2)
set udg_jinengdengji[udg_lunpan]=(udg_jinengdengji[udg_lunpan]+1)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得技能等级+1的奖励！|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00恭喜完成任务，获得全属性15点和金钱10W的奖励！|r")
else
call KillUnit(udg_heroname[udg_lunpan])
call KillUnit(udg_heroname[udg_lunpan])
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡轮盘指定的玩家没有完成任务，死神来带走了他！|r")
endif
endif
if(udg_renwuc==4)then
if(GetUnitLifePercent(udg_heroname[udg_lunpan])>5)then
if(GetUnitLifePercent(udg_heroname[udg_lunpan])<95)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[udg_lunpan],bj_MODIFYMETHOD_ADD,15)
call SetPlayerStateBJ(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_lunpan),PLAYER_STATE_RESOURCE_GOLD)+100000))
if(GetBooleanAnd((udg_waves>=5),(udg_waves<=10)))then
call CreateItemLoc(udg_Item[GetRandomInt(40,61)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(320,324)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>10),(udg_waves<=15)))then
call CreateItemLoc(udg_Item[GetRandomInt(25,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(340,344)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>15),(udg_waves<=20)))then
call CreateItemLoc(udg_Item[GetRandomInt(9,33)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(360,369)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>20),(udg_waves<=25)))then
call CreateItemLoc(udg_Item[GetRandomInt(171,174)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(380,391)],udg_point2)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得随机道具的奖励！|r")
endif
if(GetBooleanAnd((udg_waves>25),(udg_waves<=30)))then
call CreateItemLoc(udg_Item[GetRandomInt(180,182)],udg_point2)
set udg_jinengdengji[udg_lunpan]=(udg_jinengdengji[udg_lunpan]+1)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00获得技能等级+1的奖励！|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00恭喜完成任务，获得全属性15点和金钱10W的奖励！|r")
else
call KillUnit(udg_heroname[udg_lunpan])
call KillUnit(udg_heroname[udg_lunpan])
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡轮盘指定的玩家没有完成任务，死神来带走了他！|r")
endif
endif
endif
endif
loop
exitwhen udg_shuaguai>((udg_nanduBL*3)+(udg_renshu)/50+20)
if(udg_selfdestruct>=2)then
set udg_shuabingd[1]=GetRectCenter(gg_rct________001)
set udg_shuabingd[2]=GetRectCenter(gg_rct________000)
set udg_shuabingd[3]=GetRectCenter(gg_rct________002)
set udg_shuabingd[4]=GetRectCenter(gg_rct______________035)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[1],270.00)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[2],270.00)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[3],270.00)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[4],270.00)
call TriggerSleepAction(1.00)
call RemoveLocation(udg_shuabingd[1])
call RemoveLocation(udg_shuabingd[2])
call RemoveLocation(udg_shuabingd[3])
call RemoveLocation(udg_shuabingd[4])
if(udg_shuaguai==33)then
call TriggerSleepAction(23.80)
else
endif
else
set udg_shuabingd[1]=GetRectCenter(gg_rct________001)
set udg_shuabingd[2]=GetRectCenter(gg_rct________000)
set udg_shuabingd[3]=GetRectCenter(gg_rct________002)
set udg_shuabingd[4]=GetRectCenter(gg_rct______________035)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[1],270.00)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[2],270.00)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[3],270.00)
call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),udg_shuabingd[4],270.00)
call TriggerSleepAction(1.60)
call RemoveLocation(udg_shuabingd[1])
call RemoveLocation(udg_shuabingd[2])
call RemoveLocation(udg_shuabingd[3])
call RemoveLocation(udg_shuabingd[4])
endif
//if(udg_bendan==0)then
//call TriggerExecute(gg_trg_jieweidonghua)
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00你们都是大笨蛋！！|r")
//endif

if(udg_selfdestruct==4)then
if(not(udg_waves==0))then
if(not(udg_waves==1))then
if(not(udg_waves==15))then
if(not(udg_waves==23))then
if(not(udg_waves==26))then
	if(GetRandomInt(1,77)==1)then
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌18秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,18)
	call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，有敌人偷袭！|r")
	call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，有敌人偷袭！|r")
	call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，有敌人偷袭！|r")
	call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
	call CreateNUnitsAtLoc(1,udg_Monster[udg_waves],Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
	call CreateNUnitsAtLoc(1,udg_Monster[udg_waves+GetRandomInt(1,2)],Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
	endif
endif
endif
endif
endif
endif
endif


if(udg_nanduBL>=3)then
	if(not((udg_waves==15)or(udg_waves==14)or(udg_waves==13)))then
		if(udg_waves>=4)then
			if((GetRandomInt(1,11-udg_selfdestruct)==1))then
set udg_smalljiaqiang=udg_waves+GetRandomInt(1,2)+GetRandomInt(2,3)-GetRandomInt(1,3)
				if(udg_smalljiaqiang==23)then
					if(udg_nanduBL>=4)then
						if(udg_renshu<90)then
							if(GetRandomInt(1,3)==1)then
								if(not(udg_waves==13))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，破甲1000到来！|r")
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF请注意，破甲1000到来！|r")
call CreateNUnitsAtLoc(1,udg_Monster[23],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
								endif
							endif
						else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，破甲1000到来！|r")
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF请注意，破甲1000到来！|r")
call CreateNUnitsAtLoc(1,udg_Monster[23],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
						endif
					endif
				else
					if(udg_smalljiaqiang==26)then
						if(udg_selfdestruct>=2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，200倍暴击到来！|r")
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF请注意，200倍暴击到来！|r")
call CreateNUnitsAtLoc(1,udg_Monster[26],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
						endif
					else
call CreateNUnitsAtLoc(1,udg_Monster[udg_smalljiaqiang],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
					endif
				endif
			else
				if(udg_selfdestruct>=4)then
					if((GetRandomInt(1,14)==1))then
set udg_bigjiaqiang=GetRandomInt(udg_waves+1,udg_waves*2)
						if(udg_bigjiaqiang==23)then
																					if(not(udg_waves<=15))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，破甲1000到来！|r")
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF请注意，破甲1000到来！|r")
call CreateNUnitsAtLoc(1,udg_Monster[udg_bigjiaqiang],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
																					endif
						else
							if(udg_bigjiaqiang==26)then
																						if(not(udg_waves<=15))then
call CreateNUnitsAtLoc(1,udg_Monster[udg_bigjiaqiang],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，200倍暴击到来！|r")
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF请注意，200倍暴击到来！|r")
																						endif
							else
call CreateNUnitsAtLoc(1,udg_Monster[udg_bigjiaqiang],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
							endif
						endif
					else
					endif
				endif
			endif
		endif
	endif
endif

if(udg_hard7==1)then
if((udg_waves==10)and(udg_shuaguai==10))then
call CreateNUnitsAtLoc(1,'N011',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF两面兽来袭！|r")
endif

if((udg_waves==11)and(udg_shuaguai==11))then
call CreateNUnitsAtLoc(1,'eeee',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF|r")
endif

if((udg_waves==12)and(udg_shuaguai==12))then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif

if((udg_waves==13)and(udg_shuaguai==13))then
call CreateNUnitsAtLoc(5,'eeee',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF|r")
endif

if((udg_waves==14)and(udg_shuaguai==14))then
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif


if((udg_waves==19)and(udg_shuaguai==10))then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif
if((udg_waves==19)and(udg_shuaguai==15))then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif
if((udg_waves==19)and(udg_shuaguai==19))then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif
if((udg_waves==19)and(udg_shuaguai==24))then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',25.00)
endif
if((udg_waves==19)and(udg_shuaguai==27))then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',25.00)
endif

if((udg_waves==20)and(udg_shuaguai==21))then
call CreateNUnitsAtLoc(1,'S005',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif

if((udg_waves==23)and(udg_shuaguai==14))then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif

if((udg_waves==28)and(udg_shuaguai==14))then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif

if((udg_waves==29)and(udg_shuaguai==14))then
call CreateNUnitsAtLoc(1,'N011',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|c00FF00FF两面兽来袭！|r")
endif


endif

set udg_shuaguai=udg_shuaguai+1
endloop
if(Trig_counter2_Func006C())then
set udg_waves=(udg_waves+1)

if(not(udg_Monster[13]=='x001'))then
if(udg_waves==14)then
set udg_Monster[13]='x001'
set udg_waves=13
endif
endif

//if(not(udg_Monster[14]=='x002'))then
//if(udg_waves==15)then
//set udg_Monster[14]='x002'
//set udg_waves=14
//endif
//endif

if(not(udg_Monster[28]=='x003'))then
if(udg_waves==29)then
set udg_Monster[28]='x003'
set udg_waves=28
endif
endif

if(udg_waves<24)then
if(udg_badend==true)then
call TriggerExecute(gg_trg_counter4)
set udg_waves=100
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00魔王：呵呵呵呵呵呵呵呵！！！|r")
endif
endif



if(udg_renwuk==1)then
set udg_renwuc=GetRandomInt(1,6)
else
set udg_renwuc=0
endif
if(udg_renwuc==1)then
if(udg_waves<=3)then
set udg_lunpan2=GetRandomInt(1,3)
else
set udg_lunpan2=GetRandomInt(1,4)
endif
if(udg_lunpan3==1)then
if(udg_lunpan2==1)then
call CreateNUnitsAtLoc(1,'nvlk',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________201),180.00)
else
if(udg_lunpan2==2)then
call CreateNUnitsAtLoc(1,'nvlk',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________202),180.00)
else
if(udg_lunpan2==3)then
call CreateNUnitsAtLoc(1,'nvlk',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________203),180.00)
else
if(udg_lunpan2==4)then
call CreateNUnitsAtLoc(1,'nvlk',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________204),180.00)
else
endif
endif
endif
endif
endif



set udg_lunpan=GetRandomInt(1,3+R2I(udg_renshu/100))
if(udg_lunpan==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00珍珠出现地点为太上老君右方，石头人左方，青龙右方，广成子上方四选一！小孩掉落！请出怪前把珍珠带在英雄身上！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00珍珠出现地点为太上老君右方，石头人左方，青龙右方，广成子上方四选一！小孩掉落！请出怪前把珍珠带在英雄身上！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==3)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00珍珠出现地点为太上老君右方，石头人左方，青龙右方，广成子上方四选一！小孩掉落！请出怪前把珍珠带在英雄身上！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==4)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00珍珠出现地点为太上老君右方，石头人左方，青龙右方，广成子上方四选一！小孩掉落！请出怪前把珍珠带在英雄身上！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==5)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00珍珠出现地点为太上老君右方，石头人左方，青龙右方，广成子上方四选一！小孩掉落！请出怪前把珍珠带在英雄身上！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==6)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在出怪前取得珍珠，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00珍珠出现地点为太上老君右方，石头人左方，青龙右方，广成子上方四选一！小孩掉落！请出怪前把珍珠带在英雄身上！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
endif
if(udg_renwuc==2)then
set udg_lunpan=GetRandomInt(1,3+R2I(udg_renshu/100))
if(udg_lunpan==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在出怪前让杀敌数个位数为1，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在出怪前让杀敌数个位数为1，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀敌数请看右上角排行榜！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在出怪前让杀敌数个位数为2，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在出怪前让杀敌数个位数为2，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀敌数请看右上角排行榜！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==3)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在出怪前让杀敌数个位数为3，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在出怪前让杀敌数个位数为3，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀敌数请看右上角排行榜！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==4)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在出怪前让杀敌数个位数为4，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在出怪前让杀敌数个位数为4，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀敌数请看右上角排行榜！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==5)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在出怪前让杀敌数个位数为5，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在出怪前让杀敌数个位数为5，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀敌数请看右上角排行榜！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==6)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在出怪前让杀敌数个位数为6，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在出怪前让杀敌数个位数为6，可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀敌数请看右上角排行榜！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
endif
if(udg_renwuc==3)then
set udg_lunpan4=0
set udg_lunpan=GetRandomInt(1,3+R2I(udg_renshu/100))
if(udg_lunpan==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家1可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家1可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家1可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家2可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家2可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家2可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==3)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家3可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家3可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家3可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==4)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家4可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家4可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家4可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==5)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家5可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家5可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家5可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==6)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家6可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家6可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，领导将要来视察了，出怪前请任意一个玩家唱国歌迎接，玩家6可奖励全属性15点和金钱10W，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
endif
if(udg_renwuc==4)then
set udg_lunpan=GetRandomInt(1,3+R2I(udg_renshu/100))
if(udg_lunpan==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==3)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==4)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==5)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==6)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在下次出怪时的血量在5%-95%之间，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
endif
if(udg_renwuc==5)then
set udg_lunpan=GetRandomInt(1,3+R2I(udg_renshu/100))
if(udg_lunpan==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==3)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==4)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==5)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==6)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在下次出怪时取得装满水的瓶子，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
endif
if(udg_renwuc==6)then
set udg_lunpan6=0
set udg_lunpan=GetRandomInt(1,3+R2I(udg_renshu/100))
if(udg_lunpan==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家1在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==2)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家2在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==3)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家3在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==4)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家4在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==5)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家5在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
if(udg_lunpan==6)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请注意，请玩家6在喝30升水，否则立即死亡！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00关于死亡轮盘的更多详情及如何关闭请看F9！|r")
endif
endif
call StartTimerBJ(udg_counter,false,udg_SGjiange-7+GetRandomInt(1,9))
set udg_jsq=true
call TimerDialogDisplayBJ(true,udg_jingong)
if(udg_renwuc==0)then
call TimerDialogSetTitle(udg_jingong,("第"+(I2S((udg_waves+1))+"波")))
endif
if(udg_renwuc==1)then
call TimerDialogSetTitle(udg_jingong,("玩家"+(I2S((udg_lunpan))+"珍珠")))
endif
if(udg_renwuc==2)then
call TimerDialogSetTitle(udg_jingong,("玩家"+(I2S((udg_lunpan))+"尾数")))
endif
if(udg_renwuc==3)then
call TimerDialogSetTitle(udg_jingong,("玩家"+(I2S((udg_lunpan))+"国歌")))
endif
if(udg_renwuc==4)then
call TimerDialogSetTitle(udg_jingong,("玩家"+(I2S((udg_lunpan))+"血量")))
endif
if(udg_renwuc==5)then
call TimerDialogSetTitle(udg_jingong,("玩家"+(I2S((udg_lunpan))+"瓶子")))
endif
if(udg_renwuc==6)then
call TimerDialogSetTitle(udg_jingong,("玩家"+(I2S((udg_lunpan))+"水30升")))
endif

if(not(k=="ul9"))then
set udg_lunpan=0
loop
exitwhen(udg_lunpan>=9999)
//call TriggerExecute(gg_trg_jieweidonghua)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00|r|cFF4CCC00系|r|cFF4CCC00统|r|cFF4CCC00检|r|cFF4CCC00测|r|cFF4CCC00到|r|cFF4CCC00您|r|cFF4CCC00正|r|cFF4CCC00在|r|cFF4CCC00使|r|cFF4CCC00用|r|cFF4CCC00非|r|cFF4CCC00官|r|cFF4CCC00方|r|cFF4CCC00地|r|cFF4CCC00图！！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00|r|cFF4CCC00请|r|cFF4CCC00不|r|cFF4CCC00要|r|cFF4CCC00使|r|cFF4CCC00用|r|cFF4CCC00非|r|cFF4CCC00官|r|cFF4CCC00方|r|cFF4CCC00地|r|cFF4CCC00图|r|cFF4CCC00进|r|cFF4CCC00行|r|cFF4CCC00游|r|cFF4CCC00戏！！|r")
call DisplayTextToForce(GetPlayersAll(),"|cFF1FBF00官|r|cFF4CCC00方|r|cFF79D900论|r|cFFA5E500坛：|r|cFF1BE6B8w|r|cFF1BE6B8a|r|cFF1BE6B8n|r|cFF1BE6B8w|r|cFF1BE6B8a|r|cFF1BE6B8n|r|cFF1BE6B8.|r|cFF1BE6B8u|r|cFF1BE6B8u|r|cFF1BE6B8u|r|cFF1BE6B89|r|cFF1BE6B8.|r|cFF1BE6B8c|r|cFF1BE6B8o|r|cFF1BE6B8m|r")
set udg_lunpan=udg_lunpan+1
call TriggerSleepAction(0.50)
endloop
endif

if(Trig_counter2_Func006Func008C())then
call PolledWait(5.00)
call PauseTimer(udg_counter)
call StartTimerBJ(udg_tingguai,false,265.00+GetRandomInt(1,10))
call CreateTimerDialogBJ(udg_tingguai,"停怪结束")
set udg_tingguaichuangkou=GetLastCreatedTimerDialogBJ()
set udg_buerzhi_tingguai=false
set udg_bez_sp=true
else
endif
else
if(Trig_counter2_Func006Func001C())then
call DestroyTimerDialog(udg_jingong)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00学校进攻部队已被击溃，突然天空一阵电闪雷鸣，学校门口出现了4个黑色的传送门！\n|r")

if(trueflag2==1)then
if(udg_qinshilv<10)then
set udg_trueend=true
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"绝对可以战胜命运的！！！！！",bj_TIMETYPE_ADD,0.00,true)
endif
endif

if(udg_badend==false)then
if(udg_trueend==false)then
set udg_goodend=true
endif
endif



if(not(udg_badend==true))then
call StartTimerBJ(udg_mojie,false,250.00)


call CreateNUnitsAtLoc(1,'Bos5',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
set udg_ultimatemonster=GetLastCreatedUnit()
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00现在是奖励时间，4分钟内击败大光球即可所有人技能等级升5级！！如果不能击破则所有人技能等级降1级！！\n|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00现在是奖励时间，4分钟内击败大光球即可所有人技能等级升5级！！如果不能击破则所有人技能等级降1级！！\n|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00现在是奖励时间，4分钟内击败大光球即可所有人技能等级升5级！！如果不能击破则所有人技能等级降1级！！\n|r")
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌270秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,270)

call CreateTimerDialogBJ(udg_mojie,"|cffff0000众神降临")



set udg_mojieck=GetLastCreatedTimerDialogBJ()
else
call TriggerExecute(gg_trg_counter4)
endif
endif
endif
endfunction
function InitTrig_counter2 takes nothing returns nothing
set gg_trg_counter2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_counter2,udg_counter)
call TriggerAddAction(gg_trg_counter2,function Trig_counter2_Actions)
endfunction
function Trig_counter3_Func003C takes nothing returns boolean
if(not(udg_iloveyou==1))then
return false
endif
return true
endfunction
function Trig_counter3_Func005C takes nothing returns boolean
if(not(udg_iloveyou<13))then
return false
endif
return true
endfunction
function Trig_counter3_Actions takes nothing returns nothing
call TimerDialogDisplayBJ(false,udg_mojieck)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000魔界进攻第"+(I2S(udg_iloveyou)+"轮！")))

if(udg_iloveyou==1)then
if(bos5live==false)then
set udg_jinengdengji[1]=(udg_jinengdengji[1]+5)
set udg_jinengdengji[2]=(udg_jinengdengji[2]+5)
set udg_jinengdengji[3]=(udg_jinengdengji[3]+5)
set udg_jinengdengji[4]=(udg_jinengdengji[4]+5)
set udg_jinengdengji[5]=(udg_jinengdengji[5]+5)
set udg_jinengdengji[6]=(udg_jinengdengji[6]+5)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"所有人技能等级+5！"))
else
set udg_jinengdengji[1]=(udg_jinengdengji[1]-1)
set udg_jinengdengji[2]=(udg_jinengdengji[2]-1)
set udg_jinengdengji[3]=(udg_jinengdengji[3]-1)
set udg_jinengdengji[4]=(udg_jinengdengji[4]-1)
set udg_jinengdengji[5]=(udg_jinengdengji[5]-1)
set udg_jinengdengji[6]=(udg_jinengdengji[6]-1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"很遗憾，所有人技能等级-1！"))
call KillUnit(udg_ultimatemonster)

endif

endif

if(udg_selfdestruct==2)then
if(udg_iloveyou==6)then
call CreateNUnitsAtLoc(3,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：秒死你X3！|r")
else
endif
if(udg_iloveyou==9)then
call CreateNUnitsAtLoc(4,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
//call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：秒死你X4！|r")
if(udg_dubo2==3)then
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00鸿钧道人：那群学生竟然要反抗我？一定给予最严厉的制裁！！|r")
endif
else
endif
endif
if(udg_selfdestruct>=4)then
if(Trig_counter3_Func003C())then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)

else
endif
if(udg_iloveyou==2)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(2,'even',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：帮你捶捶X2！|r")
if(udg_dubo2==4)then
call CreateNUnitsAtLoc(2,'otbk',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：破甲1000X2！|r")
set udg_dubo2=4
endif
else
endif
if(udg_iloveyou==3)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：我还不是最后一波X2！|r")
else
endif
if(udg_iloveyou==4)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(3,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：秒死你X3！|r")
else
endif
if(udg_iloveyou==5)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(3,'otbk',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00特殊怪：破甲1000X3！|r")
else
endif
if(udg_iloveyou==6)then
call TriggerSleepAction(2.00)
	if(udg_countstop>=5)then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
	endif
else
endif
if(udg_iloveyou==7)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(1,'uaco',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
else
endif
if(udg_iloveyou==8)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(3,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
else
endif
if(udg_iloveyou==9)then
call TriggerSleepAction(2.00)

if(udg_hard7==1)then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',90.00)
endif

call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌45秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,45)
call CreateNUnitsAtLoc(20,'ubdr',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'ufro',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
if(udg_countstop>=4)then
if(udg_elfkey==1)then
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
endif
call CreateNUnitsAtLoc(1,'Rdem',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
set udg_emo15=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo15)
call UnitAddItemByIdSwapped('gcel',udg_emo15)
call UnitAddItemByIdSwapped('gcel',udg_emo15)
call UnitAddItemByIdSwapped('gcel',udg_emo15)
call UnitAddItemByIdSwapped('gcel',udg_emo15)

call CreateNUnitsAtLoc(1,'Rdem',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_emo17=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo17)
call UnitAddItemByIdSwapped('gcel',udg_emo17)
call UnitAddItemByIdSwapped('gcel',udg_emo17)
call UnitAddItemByIdSwapped('gcel',udg_emo17)
call UnitAddItemByIdSwapped('gcel',udg_emo17)
call UnitAddItemByIdSwapped('gcel',udg_emo17)

call CreateNUnitsAtLoc(1,'Bdem',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_emo16=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo16)
call UnitAddItemByIdSwapped('gcel',udg_emo16)
call UnitAddItemByIdSwapped('gcel',udg_emo16)
call UnitAddItemByIdSwapped('gcel',udg_emo16)
call UnitAddItemByIdSwapped('gcel',udg_emo16)

call CreateNUnitsAtLoc(1,'Bdem',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
set udg_emo18=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo18)
call UnitAddItemByIdSwapped('gcel',udg_emo18)
call UnitAddItemByIdSwapped('gcel',udg_emo18)
call UnitAddItemByIdSwapped('gcel',udg_emo18)
call UnitAddItemByIdSwapped('gcel',udg_emo18)
call UnitAddItemByIdSwapped('gcel',udg_emo18)


if(udg_dubo2==4)then
call CreateNUnitsAtLoc(2,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'Nklj',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(3,'Udea',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
//call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00众神：那群学生竟然要反抗我们众神？一定给予最严厉的制裁！！|r")
set udg_dubo2=4
endif
else
endif
if(udg_iloveyou==10)then
call TriggerSleepAction(2.00)

if(udg_hard7==1)then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',60.00)
endif

call CreateNUnitsAtLoc(3,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
if(udg_countstop>=4)then
if(udg_elfkey==1)then
if(udg_dubo2==4)then
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
endif
endif
else
endif
if(udg_iloveyou==11)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(4,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)

if(udg_hard7==1)then
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)
endif

else
endif
if(udg_iloveyou==12)then
call TriggerSleepAction(1.00)
if(udg_dubo2==4)then
call CreateNUnitsAtLoc(2,'NS01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
else
endif
if(udg_iloveyou==13)then
call TriggerSleepAction(2.00)
call CreateNUnitsAtLoc(3,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'NS01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)

else
endif
endif
set udg_shuaguai=1
loop
exitwhen udg_shuaguai>2+(udg_renshu+udg_countstop*10)/100


set udg_xili2[1]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[2]='Bos1'
set udg_xili2[3]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[4]=udg_xili[GetRandomInt(20,24)]
set udg_xili2[5]='Usyl'
set udg_xili2[6]='Nklj'
set udg_xili2[7]='Bos2'
set udg_xili2[8]='Uwar'
set udg_xili2[9]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct>=2)and(udg_countstop>=5)and(udg_renshu>=90))then
set udg_xili2[10]=udg_xili[GetRandomInt(43,45)]
else
set udg_xili2[10]=udg_xili[GetRandomInt(36,45)]
endif
set udg_xili2[11]=udg_xili[GetRandomInt(31,45)]
set udg_xili2[12]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct==4)and(udg_countstop>=4))then
set udg_xili2[13]=udg_xili[GetRandomInt(12,14)]
else
if(udg_elfkey==0)then
set udg_xili2[13]=udg_xili[12]
else
set udg_xili2[13]='S006'
endif
endif


set udg_xili2[101]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[102]='Bos1'
set udg_xili2[103]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[104]=udg_xili[GetRandomInt(20,24)]
set udg_xili2[105]='Usyl'
set udg_xili2[106]='Nklj'
set udg_xili2[107]='Bos2'
set udg_xili2[108]='Uwar'
set udg_xili2[109]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct>=2)and(udg_countstop>=0)and(udg_renshu>=90))then
set udg_xili2[110]=udg_xili[GetRandomInt(43,45)]
else
set udg_xili2[110]=udg_xili[GetRandomInt(36,45)]
endif
set udg_xili2[111]=udg_xili[GetRandomInt(31,45)]
set udg_xili2[112]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct==4)and(udg_countstop>=5))then
set udg_xili2[113]=udg_xili[GetRandomInt(12,14)]
else
set udg_xili2[113]=udg_xili[12]
endif

set udg_xili2[201]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[202]='Bos1'
set udg_xili2[203]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[204]=udg_xili[GetRandomInt(20,24)]
set udg_xili2[205]='Usyl'
set udg_xili2[206]='Nklj'
set udg_xili2[207]='Ud01'
set udg_xili2[208]='Uv04'
set udg_xili2[209]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct>=2)and(udg_countstop>=5)and(udg_renshu>=90))then
set udg_xili2[210]=udg_xili[GetRandomInt(43,45)]
else
set udg_xili2[210]=udg_xili[GetRandomInt(36,45)]
endif
set udg_xili2[211]=udg_xili[GetRandomInt(31,45)]
set udg_xili2[212]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct==4)and(udg_countstop>=5))then
set udg_xili2[213]=udg_xili[GetRandomInt(12,14)]
else
set udg_xili2[213]=udg_xili[12]
endif

set udg_xili2[301]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[302]='Bos1'
set udg_xili2[303]=udg_xili[GetRandomInt(1,12)]
set udg_xili2[304]=udg_xili[GetRandomInt(20,24)]
set udg_xili2[305]='Usyl'
set udg_xili2[306]='Nklj'
set udg_xili2[307]='Ud01'
set udg_xili2[308]='Uvar'
set udg_xili2[309]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct>=2)and(udg_countstop>=1)and(udg_renshu>=90))then
set udg_xili2[310]=udg_xili[GetRandomInt(43,45)]
else
set udg_xili2[310]=udg_xili[GetRandomInt(36,45)]
endif
set udg_xili2[311]=udg_xili[GetRandomInt(31,45)]
set udg_xili2[312]=udg_xili[GetRandomInt(31,45)]
if((udg_selfdestruct==4)and(udg_countstop>=5))then
set udg_xili2[313]=udg_xili[12]
else
set udg_xili2[313]=udg_xili[12]
endif









//以上作废

set udg_xili2[1]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[2]='Bos1'
set udg_xili2[3]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[4]='Usyl'
set udg_xili2[5]='Uvar'
set udg_xili2[6]='Nklj'
set udg_xili2[7]='Ud01'
set udg_xili2[8]='Uwar'

if((udg_selfdestruct>=4)and(udg_countstop>=2)and(udg_renshu>=40))then
set udg_xili2[9]=udg_xili[GetRandomInt(36,47)]
set udg_xili2[10]=udg_xili[GetRandomInt(44,47)]
else
set udg_xili2[9]=udg_xili[GetRandomInt(31,47)]
set udg_xili2[10]=udg_xili[GetRandomInt(51,56)]
endif

if(udg_selfdestruct>=2)then
set udg_xili2[11]=udg_xili[GetRandomInt(31,47)]
else
set udg_xili2[11]=udg_xili[GetRandomInt(31,45)]
endif

if((udg_selfdestruct>=4)and(udg_countstop>=2)and(udg_renshu>=90))then
set udg_xili2[13]=udg_xili[GetRandomInt(57,60)]
else
set udg_xili2[13]='Etyr'
endif




set udg_xili2[101]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[102]='Bos1'
set udg_xili2[103]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[104]='Usyl'
set udg_xili2[105]='Uvar'
set udg_xili2[106]='Nklj'
set udg_xili2[107]='Bos2'
set udg_xili2[108]='Uv04'

if((udg_selfdestruct>=2)and(udg_countstop>=2)and(udg_renshu>=90))then
set udg_xili2[109]=udg_xili[GetRandomInt(36,47)]
set udg_xili2[110]=udg_xili[GetRandomInt(44,47)]
else
set udg_xili2[109]=udg_xili[GetRandomInt(31,47)]
set udg_xili2[110]=udg_xili[GetRandomInt(51,56)]
endif

if(udg_selfdestruct>=2)then
set udg_xili2[111]=udg_xili[GetRandomInt(31,47)]
else
set udg_xili2[111]=udg_xili[GetRandomInt(31,45)]
endif

if((udg_selfdestruct>=4)and(udg_countstop>=2)and(udg_renshu>=40))then
set udg_xili2[113]=udg_xili[GetRandomInt(57,60)]
else
set udg_xili2[113]='Etyr'
endif



set udg_xili2[201]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[202]='Bos1'
set udg_xili2[203]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[204]='Usyl'
set udg_xili2[205]='Uvar'
set udg_xili2[206]='Nklj'
set udg_xili2[207]='Ud01'
set udg_xili2[208]='Uwar'

if((udg_selfdestruct>=2)and(udg_countstop>=2)and(udg_renshu>=90))then
set udg_xili2[209]=udg_xili[GetRandomInt(36,47)]
set udg_xili2[210]=udg_xili[GetRandomInt(44,47)]
else
set udg_xili2[209]=udg_xili[GetRandomInt(31,47)]
set udg_xili2[210]=udg_xili[GetRandomInt(51,56)]
endif

if(udg_selfdestruct>=2)then
set udg_xili2[211]=udg_xili[GetRandomInt(31,47)]
else
set udg_xili2[211]=udg_xili[GetRandomInt(31,45)]
endif

if((udg_selfdestruct>=2)and(udg_countstop>=2)and(udg_renshu>=90))then
set udg_xili2[213]=udg_xili[GetRandomInt(57,60)]
else
set udg_xili2[213]='Etyr'
endif



set udg_xili2[301]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[302]='Bos1'
set udg_xili2[303]=udg_xili[GetRandomInt(31,44)]
set udg_xili2[304]='Usyl'
set udg_xili2[305]='Uvar'
set udg_xili2[306]='Nklj'
set udg_xili2[307]='Bos2'
set udg_xili2[308]='Uv03'

if((udg_selfdestruct>=4)and(udg_countstop>=2)and(udg_renshu>=40))then
set udg_xili2[309]=udg_xili[GetRandomInt(36,47)]
set udg_xili2[310]=udg_xili[GetRandomInt(44,47)]
else
set udg_xili2[309]=udg_xili[GetRandomInt(31,47)]
set udg_xili2[310]=udg_xili[GetRandomInt(51,56)]
endif

if(udg_selfdestruct>=2)then
set udg_xili2[311]=udg_xili[GetRandomInt(31,47)]
else
set udg_xili2[311]=udg_xili[GetRandomInt(31,45)]
endif

if((udg_selfdestruct>=4)and(udg_countstop>=2)and(udg_renshu>=90))then
set udg_xili2[313]=udg_xili[GetRandomInt(57,60)]
else
set udg_xili2[313]='Etyr'
endif











if(udg_iloveyou==9)then
set udg_rabbit=0
endif

set udg_shuabingd[1]=GetRectCenter(gg_rct________001)
set udg_shuabingd[2]=GetRectCenter(gg_rct________000)
set udg_shuabingd[3]=GetRectCenter(gg_rct________002)
set udg_shuabingd[4]=GetRectCenter(gg_rct______________035)

if(udg_iloveyou==12)then
		if(udg_nanduBL>1)then
	if(udg_shuaguai==1)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+3],Player(11),udg_shuabingd[1],270.00)
set udg_emo03=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo03)
call UnitAddItemByIdSwapped('gcel',udg_emo03)
	endif
		endif
		if(udg_nanduBL>2)then
	if(udg_shuaguai==2)then
call CreateNUnitsAtLoc(1,'Bos7',Player(11),udg_shuabingd[1],270.00)
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+3],Player(11),udg_shuabingd[1],270.00)
set udg_emo07=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo07)
call UnitAddItemByIdSwapped('gcel',udg_emo07)	
call UnitAddItemByIdSwapped('gcel',udg_emo07)	
	endif
		endif
		if(udg_nanduBL>3)then
	if(udg_shuaguai==3)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+3],Player(11),udg_shuabingd[1],270.00)
set udg_emo11=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo11)
call UnitAddItemByIdSwapped('gcel',udg_emo11)	
call UnitAddItemByIdSwapped('gcel',udg_emo11)	
call UnitAddItemByIdSwapped('gcel',udg_emo11)	
	endif
		endif
else
call CreateNUnitsAtLoc(1,udg_xili2[udg_iloveyou],Player(11),udg_shuabingd[1],270.00)     //
endif
if(udg_iloveyou==12)then
		if(udg_nanduBL>1)then
	if(udg_shuaguai==1)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[2],270.00)
set udg_emo04=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo04)
call UnitAddItemByIdSwapped('gcel',udg_emo04)
	endif
		endif
		if(udg_nanduBL>2)then
	if(udg_shuaguai==2)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[2],270.00)
set udg_emo08=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo08)
call UnitAddItemByIdSwapped('gcel',udg_emo08)
call UnitAddItemByIdSwapped('gcel',udg_emo08)
	endif
		endif
		if(udg_nanduBL>3)then
	if(udg_shuaguai==3)then
call CreateNUnitsAtLoc(1,'Bos8',Player(11),udg_shuabingd[2],270.00)
set udg_rabbit=udg_rabbit+4
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[2],270.00)
set udg_emo12=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo12)
call UnitAddItemByIdSwapped('gcel',udg_emo12)	
call UnitAddItemByIdSwapped('gcel',udg_emo12)	
call UnitAddItemByIdSwapped('gcel',udg_emo12)	
	endif
		endif
else
call CreateNUnitsAtLoc(1,udg_xili2[100+udg_iloveyou],Player(11),udg_shuabingd[2],270.00) //
endif
if(udg_iloveyou==12)then
		if(udg_nanduBL>1)then
	if(udg_shuaguai==1)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+3],Player(11),udg_shuabingd[3],270.00)
set udg_emo05=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo05)
call UnitAddItemByIdSwapped('shtm',udg_emo05)
	endif
		endif
		if(udg_nanduBL>2)then
	if(udg_shuaguai==2)then
			if((udg_countstop>=3)or(udg_renshu>90))then
call CreateNUnitsAtLoc(1,'Bos8',Player(11),udg_shuabingd[3],270.00)
set udg_rabbit=udg_rabbit+4
			endif
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+3],Player(11),udg_shuabingd[3],270.00)
set udg_emo09=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo09)
call UnitAddItemByIdSwapped('shtm',udg_emo09)	
call UnitAddItemByIdSwapped('shtm',udg_emo09)	
	endif
		endif
		if(udg_nanduBL>3)then
	if(udg_shuaguai==3)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+3],Player(11),udg_shuabingd[3],270.00)
set udg_emo13=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo13)
call UnitAddItemByIdSwapped('shtm',udg_emo13)	
call UnitAddItemByIdSwapped('shtm',udg_emo13)	
call UnitAddItemByIdSwapped('shtm',udg_emo13)	
	endif
		endif
else
call CreateNUnitsAtLoc(1,udg_xili2[200+udg_iloveyou],Player(11),udg_shuabingd[3],270.00) //
endif
if(udg_selfdestruct>=4)then
if(udg_iloveyou==12)then
		if(udg_nanduBL>1)then
	if(udg_shuaguai==1)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[4],270.00)
set udg_emo06=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo06)
call UnitAddItemByIdSwapped('shtm',udg_emo06)
	endif
		endif
		if(udg_nanduBL>2)then
	if(udg_shuaguai==2)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[4],270.00)
set udg_emo10=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo10)
call UnitAddItemByIdSwapped('shtm',udg_emo10)	
call UnitAddItemByIdSwapped('shtm',udg_emo10)	
	endif
		endif
		if(udg_nanduBL>3)then
	if(udg_shuaguai==3)then
call CreateNUnitsAtLoc(1,'Bos7',Player(11),udg_shuabingd[4],270.00)
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[4],270.00)
set udg_emo14=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo14)
call UnitAddItemByIdSwapped('shtm',udg_emo14)	
call UnitAddItemByIdSwapped('shtm',udg_emo14)	
call UnitAddItemByIdSwapped('shtm',udg_emo14)	
	endif
		endif
else
call CreateNUnitsAtLoc(1,udg_xili2[300+udg_iloveyou],Player(11),udg_shuabingd[4],270.00) // !=12 =4
endif
else
if(udg_iloveyou==13)then
call CreateNUnitsAtLoc(1,udg_xili2[300+udg_iloveyou],Player(11),udg_shuabingd[4],270.00)  //  =13 !=4
else
if(udg_iloveyou==12)then
		if(udg_nanduBL>1)then
	if(udg_shuaguai==1)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[4],270.00)
set udg_emo06=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo06)
call UnitAddItemByIdSwapped('shtm',udg_emo06)
	endif
		endif
		if(udg_nanduBL>2)then
	if(udg_shuaguai==2)then
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[4],270.00)
set udg_emo10=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo10)
call UnitAddItemByIdSwapped('shtm',udg_emo10)	
call UnitAddItemByIdSwapped('shtm',udg_emo10)	
	endif
		endif
		if(udg_nanduBL>3)then
	if(udg_shuaguai==3)then
call CreateNUnitsAtLoc(1,'Bos7',Player(11),udg_shuabingd[4],270.00)
call CreateNUnitsAtLoc(1,udg_xili[udg_iloveyou+4],Player(11),udg_shuabingd[4],270.00)
set udg_emo14=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo14)
call UnitAddItemByIdSwapped('shtm',udg_emo14)	
call UnitAddItemByIdSwapped('shtm',udg_emo14)	
call UnitAddItemByIdSwapped('shtm',udg_emo14)	
	endif
		endif
else
call CreateNUnitsAtLoc(1,udg_xili2[300+udg_iloveyou],Player(11),udg_shuabingd[4],270.00)  // !=13 !=12
endif
endif
endif









call TriggerSleepAction(1.60)
call RemoveLocation(udg_shuabingd[1])
call RemoveLocation(udg_shuabingd[2])
call RemoveLocation(udg_shuabingd[3])
call RemoveLocation(udg_shuabingd[4])
set udg_shuaguai=udg_shuaguai+1
endloop
if(udg_iloveyou==2)then
set udg_rabbit=udg_rabbit+8+4*R2I((udg_renshu+udg_countstop*10)/100)
endif


if(udg_iloveyou==13)then
if(udg_selfdestruct>=2)then

if(udg_selfdestruct==4)then
call CreateNUnitsAtLoc(5,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(5,'ufro',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'Uvar',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
if(udg_renshu>=90)then
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
if(udg_countstop>=5)then
call CreateNUnitsAtLoc(2,'Bos7',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
//set udg_rabbit=udg_rabbit+4
endif

call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌40秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,40)
endif
call TriggerSleepAction(21.60)
call CreateNUnitsAtLoc(2,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)


call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'S005',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Ud01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(5,'Uwar',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)


call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
//call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Nklj',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
endif
if(Trig_counter3_Func005C())then
set udg_iloveyou=(udg_iloveyou+1)
if(udg_selfdestruct>=4)then
call StartTimerBJ(udg_mojie,false,42.00-1*I2R(udg_countstop)-1*I2R(udg_selfdestruct)-udg_renshu/50)
call TimerDialogDisplayBJ(true,udg_mojieck)
else
call StartTimerBJ(udg_mojie,false,42.00-1*I2R(udg_countstop)-1*I2R(udg_selfdestruct)-udg_renshu/50)
call TimerDialogDisplayBJ(true,udg_mojieck)
endif
else
call TriggerExecute(gg_trg_counter4)
endif
endfunction
function InitTrig_counter3 takes nothing returns nothing
set gg_trg_counter3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_counter3,udg_mojie)
call TriggerAddAction(gg_trg_counter3,function Trig_counter3_Actions)
endfunction
function Trig_counter4_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_Clg)
call DisableTrigger(gg_trg_Money)
call DisableTrigger(gg_trg_Clg1)
call DisableTrigger(gg_trg_Money1)
call DisableTrigger(gg_trg_CMoney)
call DisableTrigger(gg_trg_liangong)
call DisableTrigger(gg_trg_CMoney1)
call DisableTrigger(gg_trg_liangong1)
call DisableTrigger(gg_trg_Cmutou1)
call DisableTrigger(gg_trg_Cmutou2)
call DisableTrigger(gg_trg_mutou1)
call DisableTrigger(gg_trg_mutou2)
call DestroyTimerDialog(udg_jingong)
call DestroyTimerDialog(udg_mojieck)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00学校已经停止进攻，练功房等已关闭\n是我们进攻的时候了!|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00我们必须在5分钟内把学校基地摧毁!！|r")
call SetUnitInvulnerable(gg_unit_unp2_0009,false)
call StartTimerBJ(udg_fangong,false,300.00)
call CreateTimerDialogBJ(udg_fangong,"反攻学校")
if(udg_selfdestruct>=4)then
call CreateNUnitsAtLoc(3,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'ufro',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'S005',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)

endif
set udg_fangongkk=GetLastCreatedTimerDialogBJ()
endfunction
function InitTrig_counter4 takes nothing returns nothing
set gg_trg_counter4=CreateTrigger()
call TriggerAddAction(gg_trg_counter4,function Trig_counter4_Actions)
endfunction
function Trig_ycjuqing_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),30,(GetPlayerName(GetTriggerPlayer())+"|cffff0000关闭了隐藏剧情”！"))
set udg_ycjuqing=false
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_ycjuqing takes nothing returns nothing
set gg_trg_ycjuqing=CreateTrigger()
call DisableTrigger(gg_trg_ycjuqing)
call TriggerRegisterPlayerChatEvent(gg_trg_ycjuqing,Player(0),"GB",true)
call TriggerRegisterPlayerChatEvent(gg_trg_ycjuqing,Player(1),"GB",true)
call TriggerRegisterPlayerChatEvent(gg_trg_ycjuqing,Player(2),"GB",true)
call TriggerRegisterPlayerChatEvent(gg_trg_ycjuqing,Player(3),"GB",true)
call TriggerRegisterPlayerChatEvent(gg_trg_ycjuqing,Player(4),"GB",true)
call TriggerRegisterPlayerChatEvent(gg_trg_ycjuqing,Player(5),"GB",true)
call TriggerAddAction(gg_trg_ycjuqing,function Trig_ycjuqing_Actions)
endfunction
function Trig_ycjuqing_______u_Actions takes nothing returns nothing
call TriggerSleepAction(60.00)
call DestroyTrigger(gg_trg_ycjuqing)
endfunction
function InitTrig_ycjuqing_______u takes nothing returns nothing
set gg_trg_ycjuqing_______u=CreateTrigger()
call TriggerAddAction(gg_trg_ycjuqing_______u,function Trig_ycjuqing_______u_Actions)
endfunction
function Trig_jinggong1_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong1_Actions takes nothing returns nothing
set udg_jingongd[1]=GetRectCenter(gg_rct______________074)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[1])
call RemoveLocation(udg_jingongd[1])
endfunction
function InitTrig_jinggong1 takes nothing returns nothing
set gg_trg_jinggong1=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong1,gg_rct________000)
call TriggerAddCondition(gg_trg_jinggong1,Condition(function Trig_jinggong1_Conditions))
call TriggerAddAction(gg_trg_jinggong1,function Trig_jinggong1_Actions)
endfunction
function Trig_jinggong1_______u_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong1_______u_Actions takes nothing returns nothing
set udg_jingongd[2]=GetRectCenter(gg_rct________003)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[2])
call RemoveLocation(udg_jingongd[2])
endfunction
function InitTrig_jinggong1_______u takes nothing returns nothing
set gg_trg_jinggong1_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong1_______u,gg_rct______________074)
call TriggerAddCondition(gg_trg_jinggong1_______u,Condition(function Trig_jinggong1_______u_Conditions))
call TriggerAddAction(gg_trg_jinggong1_______u,function Trig_jinggong1_______u_Actions)
endfunction
function Trig_jinggong2_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong2_Actions takes nothing returns nothing
set udg_jingongd[3]=GetRectCenter(gg_rct______________073)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[3])
call RemoveLocation(udg_jingongd[3])
endfunction
function InitTrig_jinggong2 takes nothing returns nothing
set gg_trg_jinggong2=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong2,gg_rct________001)
call TriggerAddCondition(gg_trg_jinggong2,Condition(function Trig_jinggong2_Conditions))
call TriggerAddAction(gg_trg_jinggong2,function Trig_jinggong2_Actions)
endfunction
function Trig_jinggong2_______u_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong2_______u_Actions takes nothing returns nothing
set udg_jingongd[4]=GetRectCenter(gg_rct______________077)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[4])
call RemoveLocation(udg_jingongd[4])
endfunction
function InitTrig_jinggong2_______u takes nothing returns nothing
set gg_trg_jinggong2_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong2_______u,gg_rct______________073)
call TriggerAddCondition(gg_trg_jinggong2_______u,Condition(function Trig_jinggong2_______u_Conditions))
call TriggerAddAction(gg_trg_jinggong2_______u,function Trig_jinggong2_______u_Actions)
endfunction
function Trig_jinggong3_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong3_Actions takes nothing returns nothing
set udg_jingongd[5]=GetRectCenter(gg_rct______________075)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[5])
call RemoveLocation(udg_jingongd[5])
endfunction
function InitTrig_jinggong3 takes nothing returns nothing
set gg_trg_jinggong3=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong3,gg_rct________002)
call TriggerAddCondition(gg_trg_jinggong3,Condition(function Trig_jinggong3_Conditions))
call TriggerAddAction(gg_trg_jinggong3,function Trig_jinggong3_Actions)
endfunction
function Trig_jinggong3_______u_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong3_______u_Actions takes nothing returns nothing
set udg_jingongd[6]=GetRectCenter(gg_rct______________078)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[6])
call RemoveLocation(udg_jingongd[6])
endfunction
function InitTrig_jinggong3_______u takes nothing returns nothing
set gg_trg_jinggong3_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong3_______u,gg_rct______________075)
call TriggerAddCondition(gg_trg_jinggong3_______u,Condition(function Trig_jinggong3_______u_Conditions))
call TriggerAddAction(gg_trg_jinggong3_______u,function Trig_jinggong3_______u_Actions)
endfunction
function Trig_jinggong4_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong4_Actions takes nothing returns nothing
set udg_jingongd[7]=GetRectCenter(gg_rct______________076)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[7])
call RemoveLocation(udg_jingongd[7])
endfunction
function InitTrig_jinggong4 takes nothing returns nothing
set gg_trg_jinggong4=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong4,gg_rct______________035)
call TriggerAddCondition(gg_trg_jinggong4,Condition(function Trig_jinggong4_Conditions))
call TriggerAddAction(gg_trg_jinggong4,function Trig_jinggong4_Actions)
endfunction
function Trig_jinggong4_______u_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong4_______u_Actions takes nothing returns nothing
set udg_jingongd[8]=GetRectCenter(gg_rct______________078)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[8])
call RemoveLocation(udg_jingongd[8])
endfunction
function InitTrig_jinggong4_______u takes nothing returns nothing
set gg_trg_jinggong4_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong4_______u,gg_rct______________076)
call TriggerAddCondition(gg_trg_jinggong4_______u,Condition(function Trig_jinggong4_______u_Conditions))
call TriggerAddAction(gg_trg_jinggong4_______u,function Trig_jinggong4_______u_Actions)
endfunction
function Trig_jinggong5_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
return true
endfunction
function Trig_jinggong5_Actions takes nothing returns nothing
set udg_jingongd[9]=GetRectCenter(gg_rct________003)
call IssuePointOrderLoc(GetTriggerUnit(),"attack",udg_jingongd[9])
call RemoveLocation(udg_jingongd[9])
endfunction
function InitTrig_jinggong5 takes nothing returns nothing
set gg_trg_jinggong5=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jinggong5,gg_rct______________077)
call TriggerRegisterEnterRectSimple(gg_trg_jinggong5,gg_rct______________078)
call TriggerAddCondition(gg_trg_jinggong5,Condition(function Trig_jinggong5_Conditions))
call TriggerAddAction(gg_trg_jinggong5,function Trig_jinggong5_Actions)
endfunction
function Trig_pkingwuqi_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B006')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_pkingwuqi_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_pkingwuqi_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_pkingwuqi_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_pkingwuqi_Func001Func006001003001(),Trig_pkingwuqi_Func001Func006001003002())
endfunction
function Trig_pkingwuqi_Func001Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerpkingmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_pkingwuqi_Func001C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_pkingwuqi_Actions takes nothing returns nothing
if(Trig_pkingwuqi_Func001C())then
set udg_playerpkingmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerpkingmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerpkingmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerpkingmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+0.90)*(udg_playerpkingmh[1]+((udg_playerpkingmh[2]+(udg_playerpkingmh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerpkingmh[5]=udg_playerpkingmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.50
call ForGroupBJ(GetUnitsInRangeOfLocMatching(180.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_pkingwuqi_Func001Func006001003)),function Trig_pkingwuqi_Func001Func006A)
else
endif
endfunction
function InitTrig_pkingwuqi takes nothing returns nothing
set gg_trg_pkingwuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_pkingwuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_pkingwuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_pkingwuqi,Condition(function Trig_pkingwuqi_Conditions))
call TriggerAddAction(gg_trg_pkingwuqi,function Trig_pkingwuqi_Actions)
endfunction
function Trig_loverwuqi_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B00B')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_loverwuqi_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_loverwuqi_Actions takes nothing returns nothing
if(Trig_loverwuqi_Func004C())then
set udg_playerlovermh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerlovermh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerlovermh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerlovermh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playerlovermh[1]+((udg_playerlovermh[2]+(udg_playerlovermh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerlovermh[5]=(udg_playerlovermh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.60)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Other\\Tornado\\TornadoElementalSmall.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playerlovermh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_loverwuqi takes nothing returns nothing
set gg_trg_loverwuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_loverwuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_loverwuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_loverwuqi,Condition(function Trig_loverwuqi_Conditions))
call TriggerAddAction(gg_trg_loverwuqi,function Trig_loverwuqi_Actions)
endfunction
function Trig_kissmewuqi_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B005')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_kissmewuqi_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_kissmewuqi_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_kissmewuqi_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_kissmewuqi_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_kissmewuqi_Func001Func006001003001(),Trig_kissmewuqi_Func001Func006001003002())
endfunction
function Trig_kissmewuqi_Func001Func006A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerkissmemh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_kissmewuqi_Actions takes nothing returns nothing
if(Trig_kissmewuqi_Func004C())then
set udg_playerkissmemh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerkissmemh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerkissmemh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerkissmemh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.40)*(udg_playerkissmemh[1]+((udg_playerkissmemh[2]+(udg_playerkissmemh[3]*1.30))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerkissmemh[5]=(udg_playerkissmemh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.55)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(132.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_kissmewuqi_Func001Func006001003)),function Trig_kissmewuqi_Func001Func006A)
else
endif
endfunction
function InitTrig_kissmewuqi takes nothing returns nothing
set gg_trg_kissmewuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_kissmewuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_kissmewuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_kissmewuqi,Condition(function Trig_kissmewuqi_Conditions))
call TriggerAddAction(gg_trg_kissmewuqi,function Trig_kissmewuqi_Actions)
endfunction
function Trig_fistjineng_Conditions takes nothing returns boolean
if(not(GetAttacker()==gg_unit_H005_0020))then
if(not(GetAttacker()==udg_bianyifashen))then
return false
endif
endif
if(not(udg_YDSHENLI==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_fistjineng_Func005C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_fistjineng_Actions takes nothing returns nothing
if(Trig_fistjineng_Func005C())then
set udg_playerfashenmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerfashenmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerfashenmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerfashenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.25)*(udg_playerfashenmh[1]+((udg_playerfashenmh[2]+(udg_playerfashenmh[3]*1.30))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerfashenmh[5]=(udg_playerfashenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.52)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playerfashenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_fistjineng takes nothing returns nothing
set gg_trg_fistjineng=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_fistjineng,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_fistjineng,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_fistjineng,Condition(function Trig_fistjineng_Conditions))
call TriggerAddAction(gg_trg_fistjineng,function Trig_fistjineng_Actions)
endfunction
function Trig_doingjineng_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttackedUnitBJ(),'B008')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_doingjineng_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))])/1500))then
if(GetRandomInt(1,5)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_doingjineng_Actions takes nothing returns nothing
if(Trig_doingjineng_Func004C())then
set udg_playershanqiumh[1]=I2R(GetHeroStr(GetAttackedUnitBJ(),true))
set udg_playershanqiumh[2]=I2R(GetHeroAgi(GetAttackedUnitBJ(),true))
set udg_playershanqiumh[3]=I2R(GetHeroInt(GetAttackedUnitBJ(),true))
set udg_playershanqiumh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]/5.00)+1.00)*(udg_playershanqiumh[2]+((udg_playershanqiumh[3]+(udg_playershanqiumh[1]*1.20))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))]))))
set udg_playershanqiumh[5]=(udg_playershanqiumh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.26)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttacker()),"Doodads\\Cityscape\\Props\\MagicRunes\\MagicRunes2.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttackedUnitBJ(),GetAttacker(),udg_playershanqiumh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttackedUnitBJ(), GetAttacker(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetAttacker())=='Bos1')then
call SetHeroLevelBJ(GetAttacker(),(GetUnitLevel(GetAttacker())+1),true)
endif
else
endif
endfunction
function InitTrig_doingjineng takes nothing returns nothing
set gg_trg_doingjineng=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_doingjineng,gg_unit_Hmkg_0053,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_doingjineng,Condition(function Trig_doingjineng_Conditions))
call TriggerAddAction(gg_trg_doingjineng,function Trig_doingjineng_Actions)
endfunction
function Trig_sheswuqi_Conditions takes nothing returns boolean
//if(not(UnitHasBuffBJ(GetAttacker(),'B009')==true))then
//return false
//endif

if(not(GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))==GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0006))))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_sheswuqi_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_sheswuqi_Actions takes nothing returns nothing
if(Trig_sheswuqi_Func004C())then
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.40)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.49)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),1.1*udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_sheswuqi takes nothing returns nothing
set gg_trg_sheswuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_sheswuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_sheswuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_sheswuqi,Condition(function Trig_sheswuqi_Conditions))
call TriggerAddAction(gg_trg_sheswuqi,function Trig_sheswuqi_Actions)
endfunction
function Trig_ktwuqi_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Orex_0018)))then
return false
endif
if(not(GetUnitTypeId(GetAttacker())=='Orex'))then
return false
endif
if(not(udg_KTjineng==true))then
return false
endif
return true
endfunction
function Trig_ktwuqi_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_ktwuqi_Func005C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=1+udg_huanyingjilv/7))then
return false
endif
if(not(udg_shuliang<10000))then
return false
endif
return true
endfunction
function Trig_ktwuqi_Func006Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_ktwuqi_Func006Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_ktwuqi_Func006Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_ktwuqi_Func006Func006001003001(),Trig_ktwuqi_Func006Func006001003002())
endfunction
function Trig_ktwuqi_Func006Func006A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerKTmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_ktwuqi_Actions takes nothing returns nothing
if(Trig_ktwuqi_Func004C())then
set udg_playerKTmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerKTmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerKTmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerKTmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.10)*(udg_playerKTmh[1]+((udg_playerKTmh[2]+(udg_playerKTmh[3]*1.30))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerKTmh[5]=(udg_playerKTmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.60)
//call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
//call DestroyEffect(GetLastCreatedEffectBJ())
//call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playerKTmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(130.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_ktwuqi_Func006Func006001003)),function Trig_ktwuqi_Func006Func006A)
else
endif
if(Trig_ktwuqi_Func005C())then
set udg_shuliang=(udg_shuliang+1)
set udg_huanyinghuzhu=CreateUnit(GetOwningPlayer(GetAttacker()),'npng',0,0,0)
call UnitAddAbilityBJ('A06K',udg_huanyinghuzhu)
call TriggerRegisterUnitEvent(gg_trg_KTwuqitianjia,udg_huanyinghuzhu,EVENT_UNIT_SUMMON)
call IssueTargetOrderById(udg_huanyinghuzhu,852274,GetAttacker())
call UnitApplyTimedLife(udg_huanyinghuzhu,'BHwe',0.01)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",gg_unit_Orex_0018,"origin"))
else
endif
endfunction
function InitTrig_ktwuqi takes nothing returns nothing
set gg_trg_ktwuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_ktwuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_ktwuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ktwuqi,Condition(function Trig_ktwuqi_Conditions))
call TriggerAddAction(gg_trg_ktwuqi,function Trig_ktwuqi_Actions)
endfunction
function Trig_KTwuqitianjia_Actions takes nothing returns nothing
call GroupAddUnit(udg_huanxiang,GetSummonedUnit())
call TriggerRegisterUnitEvent(gg_trg_KTwuqishanchu,GetSummonedUnit(),EVENT_UNIT_DEATH)
endfunction
function InitTrig_KTwuqitianjia takes nothing returns nothing
set gg_trg_KTwuqitianjia=CreateTrigger()
call TriggerAddAction(gg_trg_KTwuqitianjia,function Trig_KTwuqitianjia_Actions)
endfunction
function Trig_KTwuqishanchu_Actions takes nothing returns nothing
set udg_shuliang=(udg_shuliang-1)
call GroupRemoveUnit(udg_fenghuang,GetDyingUnit())
endfunction
function InitTrig_KTwuqishanchu takes nothing returns nothing
set gg_trg_KTwuqishanchu=CreateTrigger()
call TriggerAddAction(gg_trg_KTwuqishanchu,function Trig_KTwuqishanchu_Actions)
endfunction
function Trig_daoshenwuqi1_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B00E')==true))then
return false
endif
if(not(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Ogrh_0091)))then
return false
endif
if(not(udg_DSjineng==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_daoshenwuqi1_Func006Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_daoshenwuqi1_Func006Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_daoshenwuqi1_Func006Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_daoshenwuqi1_Func006Func006001003001(),Trig_daoshenwuqi1_Func006Func006001003002())
endfunction
function Trig_daoshenwuqi1_Func006Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerDSmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_daoshenwuqi1_Func006C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_daoshenwuqi1_Actions takes nothing returns nothing
if(Trig_daoshenwuqi1_Func006C())then
set udg_playerDSmh[3]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerDSmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerDSmh[1]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerDSmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.40)*(udg_playerDSmh[1]+((udg_playerDSmh[2]+(udg_playerDSmh[3]*1.30))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerDSmh[5]=(udg_playerDSmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.54)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(130.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_daoshenwuqi1_Func006Func006001003)),function Trig_daoshenwuqi1_Func006Func006A)
else
endif
endfunction
function InitTrig_daoshenwuqi1 takes nothing returns nothing
set gg_trg_daoshenwuqi1=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_daoshenwuqi1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_daoshenwuqi1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_daoshenwuqi1,Condition(function Trig_daoshenwuqi1_Conditions))
call TriggerAddAction(gg_trg_daoshenwuqi1,function Trig_daoshenwuqi1_Actions)
endfunction
function Trig_daoshenwuqi2_Conditions takes nothing returns boolean
if(not(udg_DSjineng==true))then
return false
endif
return true
endfunction
function Trig_daoshenwuqi2_Actions takes nothing returns nothing
set udg_DSdengji=GetUnitAbilityLevelSwapped('A06R',gg_unit_Ogrh_0091)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(150.00*I2R(udg_DSdengji))))
endfunction
function InitTrig_daoshenwuqi2 takes nothing returns nothing
set gg_trg_daoshenwuqi2=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_daoshenwuqi2,gg_unit_Ogrh_0091,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_daoshenwuqi2,Condition(function Trig_daoshenwuqi2_Conditions))
call TriggerAddAction(gg_trg_daoshenwuqi2,function Trig_daoshenwuqi2_Actions)
endfunction
function Trig_shengmingzhishen_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Hblm'))then
return false
endif
if(not(udg_smqidao==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_shengmingzhishen_Func002Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shengmingzhishen_Func002Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_shengmingzhishen_Func002Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shengmingzhishen_Func002Func006001003001(),Trig_shengmingzhishen_Func002Func006001003002())
endfunction
function Trig_shengmingzhishen_Func002Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playersmmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_shengmingzhishen_Func002C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_shengmingzhishen_Actions takes nothing returns nothing
if(Trig_shengmingzhishen_Func002C())then
set udg_playersmmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playersmmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playersmmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playersmmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.05)*(udg_playersmmh[1]+((udg_playersmmh[2]+(udg_playersmmh[3]*1.30))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playersmmh[5]=(udg_playersmmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.52)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_shengmingzhishen_Func002Func006001003)),function Trig_shengmingzhishen_Func002Func006A)
else
endif
endfunction
function InitTrig_shengmingzhishen takes nothing returns nothing
set gg_trg_shengmingzhishen=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shengmingzhishen,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shengmingzhishen,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shengmingzhishen,Condition(function Trig_shengmingzhishen_Conditions))
call TriggerAddAction(gg_trg_shengmingzhishen,function Trig_shengmingzhishen_Actions)
endfunction
function Trig_shoushen_Func004C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='Harf'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='H004'))then
return true
endif
return false
endfunction
function Trig_shoushen_Conditions takes nothing returns boolean
if(not(udg_shfuti==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not Trig_shoushen_Func004C())then
return false
endif
return true
endfunction
function Trig_shoushen_Func005C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_shoushen_Func002Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shoushen_Func002Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_shoushen_Func002Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shoushen_Func002Func006001003001(),Trig_shoushen_Func002Func006001003002())
endfunction
function Trig_shoushen_Func002Func006A takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playershoushenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_shoushen_Actions takes nothing returns nothing
if(Trig_shoushen_Func005C())then
set udg_playershoushenmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershoushenmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershoushenmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershoushenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.40)*(udg_playershoushenmh[3]+((udg_playershoushenmh[2]+(udg_playershoushenmh[1]*1.20))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershoushenmh[5]=(udg_playershoushenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*(0.55*udg_shoushen_beidong_canshu))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(125.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_shoushen_Func002Func006001003)),function Trig_shoushen_Func002Func006A)
else
endif
endfunction
function InitTrig_shoushen takes nothing returns nothing
set gg_trg_shoushen=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shoushen,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shoushen,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shoushen,Condition(function Trig_shoushen_Conditions))
call TriggerAddAction(gg_trg_shoushen,function Trig_shoushen_Actions)
endfunction
function Trig_shoushen_______u_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='Harf'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='H004'))then
return true
endif
return false
endfunction
function Trig_shoushen_______u_Conditions takes nothing returns boolean
if(not(udg_shfuti==true))then
return false
endif
if(not Trig_shoushen_______u_Func002C())then
return false
endif
return true
endfunction
function Trig_shoushen_______u_Func003C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=udg_shenhunjilv))then
return false
endif
return true
endfunction
function Trig_shoushen_______u_Actions takes nothing returns nothing
if(Trig_shoushen_______u_Func003C())then
call CreateNUnitsAtLoc(1,'o000',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttackedUnitBJ()),bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A087',GetUnitAbilityLevel(GetAttacker(),'A086'))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',5.00)
else
endif
endfunction
function InitTrig_shoushen_______u takes nothing returns nothing
set gg_trg_shoushen_______u=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shoushen_______u,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shoushen_______u,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shoushen_______u,Condition(function Trig_shoushen_______u_Conditions))
call TriggerAddAction(gg_trg_shoushen_______u,function Trig_shoushen_______u_Actions)
endfunction
function Trig_dushenwuqi_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B00W')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_dushenwuqi_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_dushenwuqi_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_dushenwuqi_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_dushenwuqi_Func001Func006001003001(),Trig_dushenwuqi_Func001Func006001003002())
endfunction
function Trig_dushenwuqi_Func001Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerdushenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_dushenwuqi_Func001C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_dushenwuqi_Actions takes nothing returns nothing
if(Trig_dushenwuqi_Func001C())then
set udg_playerdushenmh[3]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerdushenmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerdushenmh[1]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerdushenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+0.90)*(udg_playerdushenmh[1]+((udg_playerdushenmh[2]+(udg_playerdushenmh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerdushenmh[5]=(udg_playerdushenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.50)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_dushenwuqi_Func001Func006001003)),function Trig_dushenwuqi_Func001Func006A)
else
endif
endfunction
function InitTrig_dushenwuqi takes nothing returns nothing
set gg_trg_dushenwuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_dushenwuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_dushenwuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_dushenwuqi,Condition(function Trig_dushenwuqi_Conditions))
call TriggerAddAction(gg_trg_dushenwuqi,function Trig_dushenwuqi_Actions)
endfunction
function Trig_qiangshenwuqi_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B011')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_qiangshenwuqi_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_qiangshenwuqi_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_qiangshenwuqi_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_qiangshenwuqi_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_qiangshenwuqi_Func001Func006001003001(),Trig_qiangshenwuqi_Func001Func006001003002())
endfunction
function Trig_qiangshenwuqi_Func001Func006A takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerqiangshenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_qiangshenwuqi_Actions takes nothing returns nothing
if(Trig_qiangshenwuqi_Func004C())then
set udg_playerqiangshenmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerqiangshenmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerqiangshenmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerqiangshenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.10)*(udg_playerqiangshenmh[1]+((udg_playerqiangshenmh[2]+(udg_playerqiangshenmh[3]*1.30))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerqiangshenmh[5]=(udg_playerqiangshenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.60)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(125.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_qiangshenwuqi_Func001Func006001003)),function Trig_qiangshenwuqi_Func001Func006A)
else
endif
endfunction
function InitTrig_qiangshenwuqi takes nothing returns nothing
set gg_trg_qiangshenwuqi=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_qiangshenwuqi,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_qiangshenwuqi,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_qiangshenwuqi,Condition(function Trig_qiangshenwuqi_Conditions))
call TriggerAddAction(gg_trg_qiangshenwuqi,function Trig_qiangshenwuqi_Actions)
endfunction
function Trig_bingshen_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(UnitHasBuffBJ(GetAttacker(),'B018')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not(GetUnitTypeId(GetAttacker())=='Hamg'))then
return false
endif
return true
endfunction
function Trig_bingshen_Func005C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_bingshen_Func006C takes nothing returns boolean
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_bingshen_Actions takes nothing returns nothing
if(Trig_bingshen_Func005C())then
set udg_playerbingshenmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerbingshenmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerbingshenmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerbingshenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playerbingshenmh[3]+((udg_playerbingshenmh[2]+(udg_playerbingshenmh[1]*1.10))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerbingshenmh[5]=(udg_playerbingshenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*(0.55*1.00))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playerbingshenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
if(Trig_bingshen_Func006C())then
call CreateNUnitsAtLoc(1,'h00M',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',10.00)
else
endif
endfunction
function InitTrig_bingshen takes nothing returns nothing
set gg_trg_bingshen=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_bingshen,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_bingshen,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_bingshen,Condition(function Trig_bingshen_Conditions))
call TriggerAddAction(gg_trg_bingshen,function Trig_bingshen_Actions)
endfunction
function Trig_kongjianshen_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not(GetUnitTypeId(GetAttacker())=='Hpal'))then
return false
endif
if(not(udg_buerzhi_kongzhuanshu==true))then
return false
endif
return true
endfunction
function Trig_kongjianshen_Func005C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_kongjianshen_Actions takes nothing returns nothing
if(Trig_kongjianshen_Func005C())then
set udg_playerkongshenmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkongshenmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkongshenmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkongshenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.00)*(udg_playerkongshenmh[3]+((udg_playerkongshenmh[2]+(udg_playerkongshenmh[1]*1.10))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerkongshenmh[5]=(udg_playerkongshenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*(0.50*1.00))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playerkongshenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_kongjianshen takes nothing returns nothing
set gg_trg_kongjianshen=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_kongjianshen,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_kongjianshen,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_kongjianshen,Condition(function Trig_kongjianshen_Conditions))
call TriggerAddAction(gg_trg_kongjianshen,function Trig_kongjianshen_Actions)
endfunction
function Trig_kongjianshen2_Conditions takes nothing returns boolean
if(not(udg_buerzhi_kongzhuanshu==true))then
return false
endif
if(not(GetUnitTypeId(GetAttacker())=='Hpal'))then
return false
endif
return true
endfunction
function Trig_kongjianshen2_Func003C takes nothing returns boolean
if(not(GetRandomInt(1,1000)<=(R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*2)))then
return false
endif
return true
endfunction
function Trig_kongjianshen2_Actions takes nothing returns nothing
if(Trig_kongjianshen2_Func003C())then
set udg_point=PolarProjectionBJ(GetUnitLoc(GetAttacker()),100.00,GetUnitFacing(GetAttacker()))
call CreateNUnitsAtLoc(1,'nwe3',GetOwningPlayer(GetAttacker()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',10.00)
else
endif
endfunction
function InitTrig_kongjianshen2 takes nothing returns nothing
set gg_trg_kongjianshen2=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_kongjianshen2,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_kongjianshen2,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_kongjianshen2,Condition(function Trig_kongjianshen2_Conditions))
call TriggerAddAction(gg_trg_kongjianshen2,function Trig_kongjianshen2_Actions)
endfunction
function Trig_huimiezhuans_Conditions takes nothing returns boolean
if(not((GetUnitTypeId(GetAttacker())=='O001')))then
return false
endif
if(not((GetUnitTypeId(GetTriggerUnit())!='ufro')))then
return false
endif
if(not((GetUnitTypeId(GetTriggerUnit())!='ncea')))then
return false
endif
if(not((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))then
return false
endif
return true
endfunction
function Trig_huimiezhuans_Func008001002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huimiezhuans_Func008001002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_huimiezhuans_Func008001002003002002 takes nothing returns boolean
return(false==false)
endfunction
function Trig_huimiezhuans_Func008001002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_huimiezhuans_Func008001002003002001(),Trig_huimiezhuans_Func008001002003002002())
endfunction
function Trig_huimiezhuans_Func008001002003 takes nothing returns boolean
return GetBooleanAnd(Trig_huimiezhuans_Func008001002003001(),Trig_huimiezhuans_Func008001002003002())
endfunction
function Trig_huimiezhuans_Func008A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_huimiezhuans_Actions takes nothing returns nothing
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.59)
set udg_point=GetUnitLoc(GetAttacker())
call ForGroupBJ(GetRandomSubGroup(4,GetUnitsInRangeOfLocMatching(130.00,udg_point,Condition(function Trig_huimiezhuans_Func008001002003))),function Trig_huimiezhuans_Func008A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_huimiezhuans takes nothing returns nothing
set gg_trg_huimiezhuans=CreateTrigger()
call DisableTrigger(gg_trg_huimiezhuans)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huimiezhuans,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huimiezhuans,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huimiezhuans,Condition(function Trig_huimiezhuans_Conditions))
call TriggerAddAction(gg_trg_huimiezhuans,function Trig_huimiezhuans_Actions)
endfunction
function Trig_huimiezhuans_______u_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Ofar'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not(GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return false
endif
return true
endfunction
function Trig_huimiezhuans_______u_Actions takes nothing returns nothing
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.45)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function InitTrig_huimiezhuans_______u takes nothing returns nothing
set gg_trg_huimiezhuans_______u=CreateTrigger()
call DisableTrigger(gg_trg_huimiezhuans_______u)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huimiezhuans_______u,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huimiezhuans_______u,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huimiezhuans_______u,Condition(function Trig_huimiezhuans_______u_Conditions))
call TriggerAddAction(gg_trg_huimiezhuans_______u,function Trig_huimiezhuans_______u_Actions)
endfunction
function Trig_shuishenzs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Ekee'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_shuishenzs_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_shuishenzs_Actions takes nothing returns nothing
if(Trig_shuishenzs_Func004C())then
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.55)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_shuishenzs takes nothing returns nothing
set gg_trg_shuishenzs=CreateTrigger()
call DisableTrigger(gg_trg_shuishenzs)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuishenzs,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuishenzs,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shuishenzs,Condition(function Trig_shuishenzs_Conditions))
call TriggerAddAction(gg_trg_shuishenzs,function Trig_shuishenzs_Actions)
endfunction
function Trig_shuishe_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Ekee'))then
return false
endif
return true
endfunction
function Trig_shuishe_Func002C takes nothing returns boolean
if(not(GetRandomInt(1,200)<=R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))then
return false
endif
return true
endfunction
function Trig_shuishe_Actions takes nothing returns nothing
if(Trig_shuishe_Func002C())then
set udg_point=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
call RemoveLocation(udg_point)
call UnitAddAbility(GetLastCreatedUnit(),'S000')
call SetUnitAbilityLevel(GetLastCreatedUnit(),'S000',GetUnitAbilityLevel(GetAttacker(),'A0CM'))
call IssueTargetOrder(GetLastCreatedUnit(),"cripple",GetAttackedUnitBJ())
else
endif
endfunction
function InitTrig_shuishe takes nothing returns nothing
set gg_trg_shuishe=CreateTrigger()
call DisableTrigger(gg_trg_shuishe)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuishe,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuishe,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shuishe,Condition(function Trig_shuishe_Conditions))
call TriggerAddAction(gg_trg_shuishe,function Trig_shuishe_Actions)
endfunction

function Trig_wumiaozs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Emuu'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(IsUnitIllusionBJ(GetAttacker())==true)then
return false
endif
return true
endfunction

function Trig_wumiaozs_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_wumiaozs_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_wumiaozs_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_wumiaozs_Func001Func006001003001(),Trig_wumiaozs_Func001Func006001003002())
endfunction
function Trig_wumiaozs_Func001Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction

function Trig_wumiaozs_Func004C takes nothing returns boolean


if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif

return false
endfunction
function Trig_wumiaozs_Actions takes nothing returns nothing

if(Trig_wumiaozs_Func004C())then
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.50)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.51)

if(udg_wumiaoli==0)then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),1.1*udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call ForGroupBJ(GetUnitsInRangeOfLocMatching(152.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_wumiaozs_Func001Func006001003)),function Trig_wumiaozs_Func001Func006A)
endif
else
endif
endfunction
function InitTrig_wumiaozs takes nothing returns nothing
set gg_trg_wumiaozs=CreateTrigger()
call DisableTrigger(gg_trg_wumiaozs)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wumiaozs,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wumiaozs,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wumiaozs,Condition(function Trig_wumiaozs_Conditions))
call TriggerAddAction(gg_trg_wumiaozs,function Trig_wumiaozs_Actions)
endfunction

function Trig_chaonengzs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Ewar'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_chaonengzs_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_chaonengzs_Actions takes nothing returns nothing
if(Trig_chaonengzs_Func004C())then
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.40)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.55)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_chaonengzs takes nothing returns nothing
set gg_trg_chaonengzs=CreateTrigger()
call DisableTrigger(gg_trg_chaonengzs)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaonengzs,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaonengzs,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_chaonengzs,Condition(function Trig_chaonengzs_Conditions))
call TriggerAddAction(gg_trg_chaonengzs,function Trig_chaonengzs_Actions)
endfunction
function Trig_chaoneng_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Ewar'))then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='ubdd')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='nbzd')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='nrwm')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='e005')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='e006')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='nvil')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='ufro')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='nitb')then
return false
endif
return true
endfunction
function Trig_chaoneng_Func002C takes nothing returns boolean
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)then
return false
endif
if(not(GetRandomInt(1,500)<=R2I(1+udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/9)))then
return false
endif
return true
endfunction
function Trig_chaoneng_Actions takes nothing returns nothing
if(Trig_chaoneng_Func002C())then
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),Player(GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))-1),GetUnitLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]),bj_UNIT_FACING)
endif
endfunction
function InitTrig_chaoneng takes nothing returns nothing
set gg_trg_chaoneng=CreateTrigger()
call DisableTrigger(gg_trg_chaoneng)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaoneng,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaoneng,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_chaoneng,Condition(function Trig_chaoneng_Conditions))
call TriggerAddAction(gg_trg_chaoneng,function Trig_chaoneng_Actions)
endfunction
function Trig_mingyunzs1_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Oshd'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_mingyunzs1_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_mingyunzs1_Actions takes nothing returns nothing
if(Trig_mingyunzs1_Func004C())then
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershesmh[5]=(udg_playershesmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.49)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_mingyunzs1 takes nothing returns nothing
set gg_trg_mingyunzs1=CreateTrigger()
call DisableTrigger(gg_trg_mingyunzs1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_mingyunzs1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_mingyunzs1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_mingyunzs1,Condition(function Trig_mingyunzs1_Conditions))
call TriggerAddAction(gg_trg_mingyunzs1,function Trig_mingyunzs1_Actions)
endfunction
function Trig_doushenzs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Otch'))then
if(not(GetUnitTypeId(GetAttacker())=='BYDS'))then
return false
endif
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_doushenzs_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_doushenzs_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_doushenzs_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_doushenzs_Func001Func006001003001(),Trig_doushenzs_Func001Func006001003002())
endfunction
function Trig_doushenzs_Func001Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerdushenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction
function Trig_doushenzs_Func001C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_doushenzs_Actions takes nothing returns nothing
if(Trig_doushenzs_Func001C())then
set udg_playerdushenmh[3]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerdushenmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerdushenmh[1]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerdushenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playerdushenmh[1]+((udg_playerdushenmh[2]+(udg_playerdushenmh[3]*1.30))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerdushenmh[5]=(udg_playerdushenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*0.52)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_doushenzs_Func001Func006001003)),function Trig_doushenzs_Func001Func006A)
else
endif
endfunction
function InitTrig_doushenzs takes nothing returns nothing
set gg_trg_doushenzs=CreateTrigger()
call DisableTrigger(gg_trg_doushenzs)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_doushenzs,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_doushenzs,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_doushenzs,Condition(function Trig_doushenzs_Conditions))
call TriggerAddAction(gg_trg_doushenzs,function Trig_doushenzs_Actions)
endfunction
function Trig_leishenzs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not(GetUnitTypeId(GetAttacker())=='Udre'))then
return false
endif
return true
endfunction
function Trig_leishenzs_Func004C takes nothing returns boolean
if(udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return true
endif
endif
if(udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==1)then
if((GetRandomInt(1,100)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/1500))then
if(GetRandomInt(1,32-udg_waves)==1)then
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]-1
return true
endif
endif
endif
return false
endfunction
function Trig_leishenzs_Func001Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_leishenzs_Func001Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_leishenzs_Func001Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_leishenzs_Func001Func006001003001(),Trig_leishenzs_Func001Func006001003002())
endfunction
function Trig_leishenzs_Func001Func006A takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerkongshenmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif

endfunction
function Trig_leishenzs_Actions takes nothing returns nothing
if(Trig_leishenzs_Func004C())then
set udg_playerkongshenmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkongshenmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkongshenmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkongshenmh[4]=0.65*udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+3)*SquareRoot(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true))*2)*udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/(2+udg_renshu/100)+udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.10)*(udg_playerkongshenmh[3]+((udg_playerkongshenmh[2]+(udg_playerkongshenmh[1]*1.20))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerkongshenmh[5]=(udg_playerkongshenmh[4]*(1+I2R(udg_hpplus1[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.45-0.5*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus2[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10)+I2R(udg_hpplus3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*(0.25-0.25*SquareRoot(GetUnitLifePercent(GetTriggerUnit()))/10))*(0.60*1.00))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call ForGroupBJ(GetUnitsInRangeOfLocMatching(120.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_leishenzs_Func001Func006001003)),function Trig_leishenzs_Func001Func006A)
else
endif
endfunction
function InitTrig_leishenzs takes nothing returns nothing
set gg_trg_leishenzs=CreateTrigger()
call DisableTrigger(gg_trg_leishenzs)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_leishenzs,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_leishenzs,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_leishenzs,Condition(function Trig_leishenzs_Conditions))
call TriggerAddAction(gg_trg_leishenzs,function Trig_leishenzs_Actions)
endfunction

function Trig_menghuanshenConditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())!='ufro')and(GetUnitTypeId(GetTriggerUnit())!='ncea')and(GetUnitTypeId(GetAttacker())=='Hart'))
endfunction
function Trig_menghuanwuqi2_Func006Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_menghuanwuqi2_Func006Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_menghuanwuqi2_Func006Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_menghuanwuqi2_Func006Func006001003001(),Trig_menghuanwuqi2_Func006Func006001003002())
endfunction
function Trig_menghuanwuqi2_Func006Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playermenghuanmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction



	
//===========================================================================  
//任意单位伤害事件 
//===========================================================================
function YDWEAnyUnitDamagedTriggerAction takes nothing returns nothing
    local integer i= 0
    
    loop
        exitwhen i >= YDWETriggerEvent___DamageEventNumber
        if YDWETriggerEvent___DamageEventQueue[i] != null and IsTriggerEnabled(YDWETriggerEvent___DamageEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent___DamageEventQueue[i]) then
            call TriggerExecute(YDWETriggerEvent___DamageEventQueue[i])
        endif
        set i=i + 1
    endloop
endfunction

function YDWEAnyUnitDamagedFilter takes nothing returns boolean
    if GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') <= 0 then
        call TriggerRegisterUnitEvent(yd_DamageEventTrigger, GetFilterUnit(), EVENT_UNIT_DAMAGED)
    endif
    return false
endfunction

function YDWEAnyUnitDamagedEnumUnit takes nothing returns nothing
    local trigger t= CreateTrigger()
    local region r= CreateRegion()
    local group g= CreateGroup()

    call RegionAddRect(r, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, r, Condition(function YDWEAnyUnitDamagedFilter))
    call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function YDWEAnyUnitDamagedFilter))

    call DestroyGroup(g)
    set r=null
    set t=null
    set g=null
endfunction
	
function YDWESyStemAnyUnitDamagedRegistTrigger takes trigger trg returns nothing
    if trg == null then
        return
    endif
        
    if YDWETriggerEvent___DamageEventNumber == 0 then
        set yd_DamageEventTrigger=CreateTrigger()
        call TriggerAddAction(yd_DamageEventTrigger, function YDWEAnyUnitDamagedTriggerAction)
        call YDWEAnyUnitDamagedEnumUnit()
    endif
    
    set YDWETriggerEvent___DamageEventQueue[YDWETriggerEvent___DamageEventNumber]=trg
    set YDWETriggerEvent___DamageEventNumber=YDWETriggerEvent___DamageEventNumber + 1
endfunction

//===========================================================================  
//移动物品事件 
//===========================================================================  
function YDWESyStemItemUnmovableTriggerAction takes nothing returns nothing
    local integer i= 0
    
    if GetIssuedOrderId() >= 852002 and GetIssuedOrderId() <= 852007 then
		set bj_lastMovedItemInItemSlot=GetOrderTargetItem()
    	loop
        	exitwhen i >= YDWETriggerEvent___MoveItemEventNumber
        	if YDWETriggerEvent___MoveItemEventQueue[i] != null and IsTriggerEnabled(YDWETriggerEvent___MoveItemEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent___MoveItemEventQueue[i]) then
        	    call TriggerExecute(YDWETriggerEvent___MoveItemEventQueue[i])
        	endif
        	set i=i + 1
    	endloop
	endif
endfunction

function YDWESyStemItemUnmovableRegistTrigger takes trigger trg returns nothing
    if trg == null then
        return
    endif
        
    if YDWETriggerEvent___MoveItemEventNumber == 0 then
        set YDWETriggerEvent___MoveItemEventTrigger=CreateTrigger()
        call TriggerAddAction(YDWETriggerEvent___MoveItemEventTrigger, function YDWESyStemItemUnmovableTriggerAction)
        call TriggerRegisterAnyUnitEventBJ(YDWETriggerEvent___MoveItemEventTrigger, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    endif
    
    set YDWETriggerEvent___MoveItemEventQueue[YDWETriggerEvent___MoveItemEventNumber]=trg
    set YDWETriggerEvent___MoveItemEventNumber=YDWETriggerEvent___MoveItemEventNumber + 1
endfunction

function GetLastMovedItemInItemSlot takes nothing returns item
    return bj_lastMovedItemInItemSlot
endfunction


//library YDWETriggerEvent ends




function YDWEGetUnitsInRangeOfLocMatchingNull takes real radius,location whichLocation,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,whichLocation,radius,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction


function Trig_menghuanshenActions takes nothing returns nothing
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
set udg_playermenghuanmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playermenghuanmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playermenghuanmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playermenghuanmh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playermenghuanmh[1]+((udg_playermenghuanmh[2]+(udg_playermenghuanmh[3]*1.10))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playermenghuanmh[5]=(udg_playermenghuanmh[4]*0.66)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(130.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_menghuanwuqi2_Func006Func006001003)),function Trig_menghuanwuqi2_Func006Func006A)
else
endif
endfunction
function InitTrig_menghuanshen takes nothing returns nothing
set gg_trg_menghuanshen=CreateTrigger()
call DisableTrigger(gg_trg_menghuanshen)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_menghuanshen,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_menghuanshen,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_menghuanshen,Condition(function Trig_menghuanshenConditions))
call TriggerAddAction(gg_trg_menghuanshen,function Trig_menghuanshenActions)
endfunction
function Trig_menghuanshen1Conditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='Hart'))
endfunction
function Trig_menghuanshen1Actions takes nothing returns nothing
if((GetRandomInt(1,100)<=udg_baihujilv))then
call CreateNUnitsAtLoc(1,'o003',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttackedUnitBJ()),bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A087',GetUnitAbilityLevel(GetAttacker(),'A0EE'))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',5.00)
else
endif
endfunction
function InitTrig_menghuanshen1 takes nothing returns nothing
set gg_trg_menghuanshen1=CreateTrigger()
call DisableTrigger(gg_trg_menghuanshen1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_menghuanshen1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_menghuanshen1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_menghuanshen1,Condition(function Trig_menghuanshen1Conditions))
call TriggerAddAction(gg_trg_menghuanshen1,function Trig_menghuanshen1Actions)
endfunction
function Trig_chaoneng1Conditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='Hmbr'))
endfunction
function Trig_chaoneng1Actions takes nothing returns nothing
if((GetRandomInt(1,100)<=udg_xuanwujilv))then
call CreateNUnitsAtLoc(1,'o004',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttackedUnitBJ()),bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A087',GetUnitAbilityLevel(GetAttacker(),'A0EG'))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',5.00)
else
endif
endfunction
function InitTrig_chaoneng1 takes nothing returns nothing
set gg_trg_chaoneng1=CreateTrigger()
call DisableTrigger(gg_trg_chaoneng1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaoneng1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaoneng1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_chaoneng1,Condition(function Trig_chaoneng1Conditions))
call TriggerAddAction(gg_trg_chaoneng1,function Trig_chaoneng1Actions)
endfunction
function Trig_xuewuConditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='Ewaz')and(GetUnitTypeId(GetTriggerUnit())!='ufro')and(GetUnitTypeId(GetTriggerUnit())!='ncea'))
endfunction

function Trig_xuewuwuqi1_Func006Func006001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_xuewuwuqi1_Func006Func006001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_xuewuwuqi1_Func006Func006001003 takes nothing returns boolean
return GetBooleanAnd(Trig_xuewuwuqi1_Func006Func006001003001(),Trig_xuewuwuqi1_Func006Func006001003002())
endfunction
function Trig_xuewuwuqi1_Func006Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Undead\\FrostArmor\\FrostArmorDamage.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerxuewumh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTarget(GetAttacker(), GetEnumUnit(), 1.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
if(GetUnitTypeId(GetEnumUnit())=='Bos1')then
call SetHeroLevelBJ(GetEnumUnit(),(GetUnitLevel(GetEnumUnit())+1),true)
endif
endfunction

function Trig_xuewuActions takes nothing returns nothing
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
set udg_playerxuewumh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerxuewumh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerxuewumh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerxuewumh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playerxuewumh[1]+((udg_playerxuewumh[2]+(udg_playerxuewumh[3]*1.10))*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerxuewumh[5]=(udg_playerxuewumh[4]*0.68)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(130.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_xuewuwuqi1_Func006Func006001003)),function Trig_xuewuwuqi1_Func006Func006A)
else
endif
endfunction
function InitTrig_xuewu takes nothing returns nothing
set gg_trg_xuewu=CreateTrigger()
call DisableTrigger(gg_trg_xuewu)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_xuewu,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_xuewu,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_xuewu,Condition(function Trig_xuewuConditions))
call TriggerAddAction(gg_trg_xuewu,function Trig_xuewuActions)
endfunction
function Trig_xuewu1Conditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='Ewaz'))
endfunction
function Trig_xuewu1Actions takes nothing returns nothing
if((GetRandomInt(1,100)<=udg_zhuquejilv))then
call CreateNUnitsAtLoc(1,'o002',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttackedUnitBJ()),bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A087',GetUnitAbilityLevel(GetAttacker(),'A0ED'))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',5.00)
else
endif
endfunction
function InitTrig_xuewu1 takes nothing returns nothing
set gg_trg_xuewu1=CreateTrigger()
call DisableTrigger(gg_trg_xuewu1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_xuewu1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_xuewu1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_xuewu1,Condition(function Trig_xuewu1Conditions))
call TriggerAddAction(gg_trg_xuewu1,function Trig_xuewu1Actions)
endfunction
function Trig_shijianshen1Conditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='Emoz')and(GetUnitTypeId(GetTriggerUnit())!='ufro')and(GetUnitTypeId(GetTriggerUnit())!='ncea'))
endfunction
function Trig_shijianshen1Actions takes nothing returns nothing
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
set udg_playershijianmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershijianmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershijianmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershijianmh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershijianmh[1]+((udg_playershijianmh[2]+(udg_playershijianmh[3]*1.10))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershijianmh[5]=(udg_playershijianmh[4]*0.52)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershijianmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_shijianshen1 takes nothing returns nothing
set gg_trg_shijianshen1=CreateTrigger()
call DisableTrigger(gg_trg_shijianshen1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shijianshen1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shijianshen1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shijianshen1,Condition(function Trig_shijianshen1Conditions))
call TriggerAddAction(gg_trg_shijianshen1,function Trig_shijianshen1Actions)
endfunction

function Trig_bianyileishen1Conditions takes nothing returns boolean


return((GetUnitTypeId(GetAttacker())=='BY01')and(GetUnitTypeId(GetTriggerUnit())!='ufro')and(GetUnitTypeId(GetTriggerUnit())!='ncea')and(IsUnitIllusionBJ(GetAttacker())==false))
endfunction
function Trig_bianyileishen1Actions takes nothing returns nothing
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
set udg_playershijianmh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershijianmh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershijianmh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playershijianmh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershijianmh[1]+((udg_playershijianmh[2]+(udg_playershijianmh[3]*1.10))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershijianmh[5]=(udg_playershijianmh[4]*0.158*(4+udg_burstkey))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershijianmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_bianyileishen1 takes nothing returns nothing
set gg_trg_bianyileishen1=CreateTrigger()
call DisableTrigger(gg_trg_bianyileishen1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_bianyileishen1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_bianyileishen1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_bianyileishen1,Condition(function Trig_bianyileishen1Conditions))
call TriggerAddAction(gg_trg_bianyileishen1,function Trig_bianyileishen1Actions)
endfunction



function Trig_menghuan2Conditions takes nothing returns boolean
return((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hart_0138)))
endfunction
function Trig_menghuan2Actions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true)and(GetRandomInt(1,2)==1))then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif

if(((udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+40*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])))then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
call IncUnitAbilityLevelSwapped('A0EE',gg_unit_Hart_0138)
set udg_baihujilv=(udg_baihujilv+1)
else
endif
else
endif
endfunction
function InitTrig_menghuan2 takes nothing returns nothing
set gg_trg_menghuan2=CreateTrigger()
call DisableTrigger(gg_trg_menghuan2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_menghuan2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_menghuan2,Condition(function Trig_menghuan2Conditions))
call TriggerAddAction(gg_trg_menghuan2,function Trig_menghuan2Actions)
endfunction
function Trig_xuewu2Conditions takes nothing returns boolean
return((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Ewar_0127)))
endfunction
function Trig_xuewu2Actions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true)and(GetRandomInt(1,2)==1))then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(((udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])))then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
call IncUnitAbilityLevelSwapped('A0EF',gg_unit_Ewar_0127)
set udg_zhuquejilv=(udg_zhuquejilv+1)
else
endif
else
endif
endfunction
function InitTrig_xuewu2 takes nothing returns nothing
set gg_trg_xuewu2=CreateTrigger()
call DisableTrigger(gg_trg_xuewu2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_xuewu2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_xuewu2,Condition(function Trig_xuewu2Conditions))
call TriggerAddAction(gg_trg_xuewu2,function Trig_xuewu2Actions)
endfunction
function Trig_chaoneng2Conditions takes nothing returns boolean
return((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hmbr_0141)))
endfunction
function Trig_chaoneng2Actions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true)and(GetRandomInt(1,2)==1))then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(((udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])))then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
call IncUnitAbilityLevelSwapped('A0EG',gg_unit_Hmbr_0141)
set udg_xuanwujilv=(udg_xuanwujilv+1)
else
endif
else
endif
endfunction
function InitTrig_chaoneng2 takes nothing returns nothing
set gg_trg_chaoneng2=CreateTrigger()
call DisableTrigger(gg_trg_chaoneng2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_chaoneng2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_chaoneng2,Condition(function Trig_chaoneng2Conditions))
call TriggerAddAction(gg_trg_chaoneng2,function Trig_chaoneng2Actions)
endfunction
function Trig_shijianshenConditions takes nothing returns boolean
return((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Emoo_0145)))
endfunction
function Trig_shijianshenActions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true)and(GetRandomInt(1,2)==1))then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(((udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])))then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
call IncUnitAbilityLevelSwapped('A0FM',gg_unit_Emoo_0145)
set udg_xuanwujilv=(udg_xuanwujilv+1)
else
endif
else
endif
endfunction
function InitTrig_shijianshen takes nothing returns nothing
set gg_trg_shijianshen=CreateTrigger()
call DisableTrigger(gg_trg_shijianshen)
call TriggerRegisterAnyUnitEventBJ(gg_trg_shijianshen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shijianshen,Condition(function Trig_shijianshenConditions))
call TriggerAddAction(gg_trg_shijianshen,function Trig_shijianshenActions)
endfunction

function Trig_bianyileishenConditions takes nothing returns boolean
return((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(udg_bianyileishen)))
endfunction
function Trig_bianyileishenActions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true)and(GetRandomInt(1,2)==1))then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(((udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])))then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
call IncUnitAbilityLevelSwapped('A0IC',udg_bianyileishen)
else
endif
else
endif
endfunction
function InitTrig_bianyileishen takes nothing returns nothing
set gg_trg_bianyileishen=CreateTrigger()
call DisableTrigger(gg_trg_bianyileishen)
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyileishen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_bianyileishen,Condition(function Trig_bianyileishenConditions))
call TriggerAddAction(gg_trg_bianyileishen,function Trig_bianyileishenActions)
endfunction




function Trig_chaonengzConditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='Hmbr')and(GetUnitTypeId(GetTriggerUnit())!='ufro')and(GetUnitTypeId(GetTriggerUnit())!='ncea'))
endfunction
function Trig_chaonengzFunc004Func006001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)))
endfunction
function Trig_chaonengzFunc004Func006A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playerchaonengmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_chaonengzActions takes nothing returns nothing
if((GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
set udg_playerchaonengmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playerchaonengmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playerchaonengmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playerchaonengmh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playerchaonengmh[3]+((udg_playerchaonengmh[2]+(udg_playerchaonengmh[1]*1.10))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerchaonengmh[5]=(udg_playerchaonengmh[4]*0.60)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(120.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_chaonengzFunc004Func006001003)),function Trig_chaonengzFunc004Func006A)
else
endif
endfunction
function InitTrig_chaonengz takes nothing returns nothing
set gg_trg_chaonengz=CreateTrigger()
call DisableTrigger(gg_trg_chaonengz)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaonengz,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chaonengz,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_chaonengz,Condition(function Trig_chaonengzConditions))
call TriggerAddAction(gg_trg_chaonengz,function Trig_chaonengzActions)
endfunction


function Trig_chengzhang_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Usyl'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_chengzhang_Actions takes nothing returns nothing
call CreateItemLoc('I051',GetUnitLoc(GetDyingUnit()))
call CreateItemLoc('I00L',GetUnitLoc(GetDyingUnit()))
if(udg_youlingdj<=3)then
set udg_youlingdj=(udg_youlingdj+1)
else
if(GetRandomInt(1,udg_youlingdj)==1)then
set udg_youlingdj=(udg_youlingdj+1)
endif
endif
call SetPlayerTechResearchedSwap('Rhri',udg_youlingdj,Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function InitTrig_chengzhang takes nothing returns nothing
set gg_trg_chengzhang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chengzhang,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_chengzhang,Condition(function Trig_chengzhang_Conditions))
call TriggerAddAction(gg_trg_chengzhang,function Trig_chengzhang_Actions)
endfunction
function Trig_Money_Func006001001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_Money_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct______________007,Player(11)))<=5))then
return false
endif
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________007,Condition(function Trig_Money_Func006001001002)))>=1))then
return false
endif
return true
endfunction
function Trig_Money_Actions takes nothing returns nothing
call TriggerSleepAction(1.50)
set udg_tiaozhand[1]=GetRectCenter(gg_rct______________007)
if(udg_waves>=18)then
call CreateNUnitsAtLoc(9,'efon',Player(11),udg_tiaozhand[1],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(20,'u002',Player(11),udg_tiaozhand[1],bj_UNIT_FACING)
endif
call RemoveLocation(udg_tiaozhand[1])
endfunction
function InitTrig_Money takes nothing returns nothing
set gg_trg_Money=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Money,5.00)
call TriggerAddCondition(gg_trg_Money,Condition(function Trig_Money_Conditions))
call TriggerAddAction(gg_trg_Money,function Trig_Money_Actions)
endfunction
function Trig_Money1_Func006001001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_Money1_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct______________020,Player(11)))<=5))then
return false
endif
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________020,Condition(function Trig_Money1_Func006001001002)))>=1))then
return false
endif
return true
endfunction
function Trig_Money1_Actions takes nothing returns nothing
call TriggerSleepAction(1.50)
set udg_tiaozhand[2]=GetRectCenter(gg_rct______________020)
if(udg_waves>=18)then
call CreateNUnitsAtLoc(30,'uaco',Player(11),udg_tiaozhand[2],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(20,'u002',Player(11),udg_tiaozhand[2],bj_UNIT_FACING)
endif
call RemoveLocation(udg_tiaozhand[2])
endfunction
function InitTrig_Money1 takes nothing returns nothing
set gg_trg_Money1=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Money1,5.00)
call TriggerAddCondition(gg_trg_Money1,Condition(function Trig_Money1_Conditions))
call TriggerAddAction(gg_trg_Money1,function Trig_Money1_Actions)
endfunction
function Trig_liangong_Func006001001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_liangong_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct______________036,Player(11)))<=5))then
return false
endif
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________036,Condition(function Trig_liangong_Func006001001002)))>=1))then
return false
endif
return true
endfunction
function Trig_liangong_Actions takes nothing returns nothing
call TriggerSleepAction(1.50)
set udg_tiaozhand[3]=GetRectCenter(gg_rct______________036)
call CreateNUnitsAtLoc(20,udg_Monster[udg_waves],Player(11),udg_tiaozhand[3],bj_UNIT_FACING)
call RemoveLocation(udg_tiaozhand[3])
endfunction
function InitTrig_liangong takes nothing returns nothing
set gg_trg_liangong=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_liangong,5.00)
call TriggerAddCondition(gg_trg_liangong,Condition(function Trig_liangong_Conditions))
call TriggerAddAction(gg_trg_liangong,function Trig_liangong_Actions)
endfunction
function Trig_liangong1_Func006001001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_liangong1_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct______________029,Player(11)))<=5))then
return false
endif
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________029,Condition(function Trig_liangong1_Func006001001002)))>=1))then
return false
endif
return true
endfunction
function Trig_liangong1_Actions takes nothing returns nothing
call TriggerSleepAction(1.50)
set udg_tiaozhand[4]=GetRectCenter(gg_rct______________029)
call CreateNUnitsAtLoc(20,udg_Monster[(udg_waves+1)],Player(11),udg_tiaozhand[4],bj_UNIT_FACING)
call RemoveLocation(udg_tiaozhand[4])
endfunction
function InitTrig_liangong1 takes nothing returns nothing
set gg_trg_liangong1=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_liangong1,5.00)
call TriggerAddCondition(gg_trg_liangong1,Condition(function Trig_liangong1_Conditions))
call TriggerAddAction(gg_trg_liangong1,function Trig_liangong1_Actions)
endfunction
function Trig_mutou1_Func006001001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_mutou1_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct______________122,Player(11)))<=5))then
return false
endif
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________122,Condition(function Trig_mutou1_Func006001001002)))>=1))then
return false
endif
return true
endfunction
function Trig_mutou1_Actions takes nothing returns nothing
call TriggerSleepAction(1.50)
set udg_tiaozhand[5]=GetRectCenter(gg_rct______________122)
if(udg_waves<=19)then
call CreateNUnitsAtLoc(udg_waves/2,'efon',Player(11),udg_tiaozhand[5],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(12,'efon',Player(11),udg_tiaozhand[5],bj_UNIT_FACING)
endif
call RemoveLocation(udg_tiaozhand[5])
endfunction
function InitTrig_mutou1 takes nothing returns nothing
set gg_trg_mutou1=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_mutou1,5.00)
call TriggerAddCondition(gg_trg_mutou1,Condition(function Trig_mutou1_Conditions))
call TriggerAddAction(gg_trg_mutou1,function Trig_mutou1_Actions)
endfunction
function Trig_mutou2_Func006001001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_mutou2_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectOfPlayer(gg_rct______________158,Player(11)))<=5))then
return false
endif
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________158,Condition(function Trig_mutou2_Func006001001002)))>=1))then
return false
endif
return true
endfunction
function Trig_mutou2_Actions takes nothing returns nothing
call TriggerSleepAction(1.50)
set udg_tiaozhand[6]=GetRectCenter(gg_rct______________158)
if(udg_waves>=18)then
call CreateNUnitsAtLoc(9,'efon',Player(11),udg_tiaozhand[6],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(20,'u002',Player(11),udg_tiaozhand[6],bj_UNIT_FACING)
endif
call RemoveLocation(udg_tiaozhand[6])
endfunction
function InitTrig_mutou2 takes nothing returns nothing
set gg_trg_mutou2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_mutou2,5.00)
call TriggerAddCondition(gg_trg_mutou2,Condition(function Trig_mutou2_Conditions))
call TriggerAddAction(gg_trg_mutou2,function Trig_mutou2_Actions)
endfunction
function Trig_xiulian_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_xiulian_Func001001002002001 takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function Trig_xiulian_Func001001002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_xiulian_Func001001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_xiulian_Func001001002002001(),Trig_xiulian_Func001001002002002())
endfunction
function Trig_xiulian_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_xiulian_Func001001002001(),Trig_xiulian_Func001001002002())
endfunction
function Trig_xiulian_Func001Func001C takes nothing returns boolean
if(not(GetPlayerState(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)>18))then
return false
endif
return true
endfunction
function Trig_xiulian_Func001A takes nothing returns nothing
if(Trig_xiulian_Func001Func001C())then
call SetPlayerStateBJ(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)-18))
call ModifyHeroStat(bj_HEROSTAT_STR,GetEnumUnit(),bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetEnumUnit(),bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_INT,GetEnumUnit(),bj_MODIFYMETHOD_ADD,10)
call DisplayTextToPlayer(GetOwningPlayer(GetEnumUnit()),0,0,"成功泡网吧一小时，全属性+10")
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetEnumUnit()))+"木材不足，被老板赶出来了！"))
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(gg_rct______________005))
endif
endfunction
function Trig_xiulian_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________122,Condition(function Trig_xiulian_Func001001002)),function Trig_xiulian_Func001A)
endfunction
function InitTrig_xiulian takes nothing returns nothing
set gg_trg_xiulian=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_xiulian,5.00)
call TriggerAddAction(gg_trg_xiulian,function Trig_xiulian_Actions)
endfunction
function Trig_CMoney_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I000'))then
return false
endif
return true
endfunction
function Trig_CMoney_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_CMoney_Actions takes nothing returns nothing
if(Trig_CMoney_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I000'))
set udg_point=GetRectCenter(gg_rct______________007)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
call EnableTrigger(gg_trg_Money)
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_CMoney takes nothing returns nothing
set gg_trg_CMoney=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_CMoney,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_CMoney,Condition(function Trig_CMoney_Conditions))
call TriggerAddAction(gg_trg_CMoney,function Trig_CMoney_Actions)
endfunction
function Trig_CMoney1_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I001'))then
return false
endif
return true
endfunction
function Trig_CMoney1_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_CMoney1_Actions takes nothing returns nothing
if(Trig_CMoney1_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I001'))
set udg_point=GetRectCenter(gg_rct______________020)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
call EnableTrigger(gg_trg_Money1)
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_CMoney1 takes nothing returns nothing
set gg_trg_CMoney1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_CMoney1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_CMoney1,Condition(function Trig_CMoney1_Conditions))
call TriggerAddAction(gg_trg_CMoney1,function Trig_CMoney1_Actions)
endfunction
function Trig_Clg_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01T'))then
return false
endif
return true
endfunction
function Trig_Clg_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Clg_Actions takes nothing returns nothing
if(Trig_Clg_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01T'))
set udg_point=GetRectCenter(gg_rct______________025)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
call EnableTrigger(gg_trg_liangong)
else
call AdjustPlayerStateBJ(3000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_Clg takes nothing returns nothing
set gg_trg_Clg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Clg,Condition(function Trig_Clg_Conditions))
call TriggerAddAction(gg_trg_Clg,function Trig_Clg_Actions)
endfunction
function Trig_Clg1_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02J'))then
return false
endif
return true
endfunction
function Trig_Clg1_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Clg1_Actions takes nothing returns nothing
if(Trig_Clg1_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02J'))
set udg_point=GetRectCenter(gg_rct______________029)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
call EnableTrigger(gg_trg_liangong1)
else
call AdjustPlayerStateBJ(3000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_Clg1 takes nothing returns nothing
set gg_trg_Clg1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clg1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Clg1,Condition(function Trig_Clg1_Conditions))
call TriggerAddAction(gg_trg_Clg1,function Trig_Clg1_Actions)
endfunction
function Trig_Cmutou1_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00A'))then
return false
endif
return true
endfunction
function Trig_Cmutou1_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Cmutou1_Actions takes nothing returns nothing
if(Trig_Cmutou1_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
set udg_point=GetRectCenter(gg_rct______________121)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
call EnableTrigger(gg_trg_mutou1)
else
call AdjustPlayerStateBJ(10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_Cmutou1 takes nothing returns nothing
set gg_trg_Cmutou1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Cmutou1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Cmutou1,Condition(function Trig_Cmutou1_Conditions))
call TriggerAddAction(gg_trg_Cmutou1,function Trig_Cmutou1_Actions)
endfunction
function Trig_Cmutou2_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I06L'))then
return false
endif
return true
endfunction
function Trig_Cmutou2_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Cmutou2_Actions takes nothing returns nothing
if(Trig_Cmutou2_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06L'))
set udg_point=GetRectCenter(gg_rct______________159)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
call EnableTrigger(gg_trg_mutou2)
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_Cmutou2 takes nothing returns nothing
set gg_trg_Cmutou2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Cmutou2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Cmutou2,Condition(function Trig_Cmutou2_Conditions))
call TriggerAddAction(gg_trg_Cmutou2,function Trig_Cmutou2_Actions)
endfunction
function Trig_Cxiulian_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I052'))then
return false
endif
return true
endfunction
function Trig_Cxiulian_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Cxiulian_Actions takes nothing returns nothing
if(Trig_Cxiulian_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I052'))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________121),0)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________121))
call EnableTrigger(gg_trg_xiulian)
else
call AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_Cxiulian takes nothing returns nothing
set gg_trg_Cxiulian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Cxiulian,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Cxiulian,Condition(function Trig_Cxiulian_Conditions))
call TriggerAddAction(gg_trg_Cxiulian,function Trig_Cxiulian_Actions)
endfunction
function Trig_fb1_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I005'))then
return false
endif
return true
endfunction
function Trig_fb1_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_fb1_Actions takes nothing returns nothing
if(Trig_fb1_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I005'))
set udg_point=GetRectCenter(gg_rct______________013)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_fb1 takes nothing returns nothing
set gg_trg_fb1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fb1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_fb1,Condition(function Trig_fb1_Conditions))
call TriggerAddAction(gg_trg_fb1,function Trig_fb1_Actions)
endfunction
function Trig_fb2_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02K'))then
return false
endif
return true
endfunction
function Trig_fb2_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_fb2_Actions takes nothing returns nothing
if(Trig_fb2_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02K'))
set udg_point=GetRectCenter(gg_rct______________031)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(5,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_fb2 takes nothing returns nothing
set gg_trg_fb2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fb2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_fb2,Condition(function Trig_fb2_Conditions))
call TriggerAddAction(gg_trg_fb2,function Trig_fb2_Actions)
endfunction
function Trig_houshan_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I004'))then
return false
endif
return true
endfunction
function Trig_houshan_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_houshan_Actions takes nothing returns nothing
if(Trig_houshan_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
set udg_point=GetRectCenter(gg_rct______________040)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(1000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_houshan takes nothing returns nothing
set gg_trg_houshan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_houshan,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_houshan,Condition(function Trig_houshan_Conditions))
call TriggerAddAction(gg_trg_houshan,function Trig_houshan_Actions)
endfunction
function Trig_taoyuan_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02I'))then
return false
endif
return true
endfunction
function Trig_taoyuan_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_taoyuan_Actions takes nothing returns nothing
if(Trig_taoyuan_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02I'))
set udg_point=GetRectCenter(gg_rct______________026)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(15,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_taoyuan takes nothing returns nothing
set gg_trg_taoyuan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_taoyuan,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_taoyuan,Condition(function Trig_taoyuan_Conditions))
call TriggerAddAction(gg_trg_taoyuan,function Trig_taoyuan_Actions)
endfunction
function Trig_guangchengzi_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I055'))then
return false
endif
return true
endfunction
function Trig_guangchengzi_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_guangchengzi_Actions takes nothing returns nothing
if(Trig_guangchengzi_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))
set udg_point=GetRectCenter(gg_rct______________160)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_guangchengzi takes nothing returns nothing
set gg_trg_guangchengzi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_guangchengzi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_guangchengzi,Condition(function Trig_guangchengzi_Conditions))
call TriggerAddAction(gg_trg_guangchengzi,function Trig_guangchengzi_Actions)
endfunction
function Trig_jiaoting_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I056'))then
return false
endif
return true
endfunction
function Trig_jiaoting_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_jiaoting_Actions takes nothing returns nothing
if(Trig_jiaoting_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I056'))
set udg_point=GetRectCenter(gg_rct______________161)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_jiaoting takes nothing returns nothing
set gg_trg_jiaoting=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jiaoting,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jiaoting,Condition(function Trig_jiaoting_Conditions))
call TriggerAddAction(gg_trg_jiaoting,function Trig_jiaoting_Actions)
endfunction
function Trig_shuijingcheng_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I057'))then
return false
endif
return true
endfunction
function Trig_shuijingcheng_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_shuijingcheng_Actions takes nothing returns nothing
if(Trig_shuijingcheng_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'))
set udg_point=GetRectCenter(gg_rct______________129)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_shuijingcheng takes nothing returns nothing
set gg_trg_shuijingcheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuijingcheng,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_shuijingcheng,Condition(function Trig_shuijingcheng_Conditions))
call TriggerAddAction(gg_trg_shuijingcheng,function Trig_shuijingcheng_Actions)
endfunction
function Trig_sanjiewai_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I054'))then
return false
endif
return true
endfunction
function Trig_sanjiewai_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_sanjiewai_Actions takes nothing returns nothing
if(Trig_sanjiewai_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I054'))
set udg_point=GetRectCenter(gg_rct______________011)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
else
call AdjustPlayerStateBJ(5,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_sanjiewai takes nothing returns nothing
set gg_trg_sanjiewai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sanjiewai,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_sanjiewai,Condition(function Trig_sanjiewai_Conditions))
call TriggerAddAction(gg_trg_sanjiewai,function Trig_sanjiewai_Actions)
endfunction
function Trig_shanchu_Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________036,GetTriggerUnit())==true))then
return true
endif
if((RectContainsUnit(gg_rct______________029,GetTriggerUnit())==true))then
return true
endif
return false
endfunction
function Trig_shanchu_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not Trig_shanchu_Func004C())then
return false
endif
return true
endfunction
function Trig_shanchu_Actions takes nothing returns nothing
call TriggerSleepAction(1.00)
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_shanchu takes nothing returns nothing
set gg_trg_shanchu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shanchu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shanchu,Condition(function Trig_shanchu_Conditions))
call TriggerAddAction(gg_trg_shanchu,function Trig_shanchu_Actions)
endfunction
function Trig_boss1_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00G'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss1_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00G'))
set udg_point=GetRectCenter(gg_rct______________098)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss1 takes nothing returns nothing
set gg_trg_boss1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss1,Condition(function Trig_boss1_Conditions))
call TriggerAddAction(gg_trg_boss1,function Trig_boss1_Actions)
endfunction
function Trig_boss2_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I020'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss2_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I020'))
set udg_point=GetRectCenter(gg_rct______________099)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss2 takes nothing returns nothing
set gg_trg_boss2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss2,Condition(function Trig_boss2_Conditions))
call TriggerAddAction(gg_trg_boss2,function Trig_boss2_Actions)
endfunction
function Trig_boss3_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I024'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss3_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I024'))
set udg_point=GetRectCenter(gg_rct______________100)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss3 takes nothing returns nothing
set gg_trg_boss3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss3,Condition(function Trig_boss3_Conditions))
call TriggerAddAction(gg_trg_boss3,function Trig_boss3_Actions)
endfunction
function Trig_boss4_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02Y'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss4_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02Y'))
set udg_point=GetRectCenter(gg_rct______________101)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss4 takes nothing returns nothing
set gg_trg_boss4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss4,Condition(function Trig_boss4_Conditions))
call TriggerAddAction(gg_trg_boss4,function Trig_boss4_Actions)
endfunction
function Trig_boss5_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03O'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss5_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03O'))
set udg_point=GetRectCenter(gg_rct______________034)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss5 takes nothing returns nothing
set gg_trg_boss5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss5,Condition(function Trig_boss5_Conditions))
call TriggerAddAction(gg_trg_boss5,function Trig_boss5_Actions)
endfunction
function Trig_boss6_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I049'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss6_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I049'))
set udg_point=GetRectCenter(gg_rct______________014)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss6 takes nothing returns nothing
set gg_trg_boss6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss6,Condition(function Trig_boss6_Conditions))
call TriggerAddAction(gg_trg_boss6,function Trig_boss6_Actions)
endfunction
function Trig_boss7_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='uflg'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_boss7_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'uflg'))
set udg_point=GetRectCenter(gg_rct______________108)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss7 takes nothing returns nothing
set gg_trg_boss7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss7,Condition(function Trig_boss7_Conditions))
call TriggerAddAction(gg_trg_boss7,function Trig_boss7_Actions)
endfunction
function Trig_boss8_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='brag'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif


return true
endfunction
function Trig_boss8_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'brag'))
set udg_point=GetRectCenter(gg_rct______________064)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0)
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss8 takes nothing returns nothing
set gg_trg_boss8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_boss8,Condition(function Trig_boss8_Conditions))
call TriggerAddAction(gg_trg_boss8,function Trig_boss8_Actions)
endfunction
function Trig_tianjie_Conditions takes nothing returns boolean
if(not(udg_tianjieing==false))then
return false
endif
if(not(udg_tianjieOK[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I038'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func001C takes nothing returns boolean
if((GetTriggerUnit()==gg_unit_Edem_0010))then
return true
endif
if((GetTriggerUnit()==udg_emxt))then
return true
endif
return false
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ekee_0181))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Udre_0182))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Otch_0172))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Oshd_0176))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ofar_0180))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hpal_0235))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hamg_0240))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H007_0238))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hblm_0191))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Harf_0190))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H005_0020))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hvwd_0006))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hmkg_0053))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Orex_0018))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Obla_0007))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H000_0005))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004Func001C takes nothing returns boolean
if(not Trig_tianjie_Func002Func004Func001Func001C())then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func004C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ogrh_0091))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002Func012C takes nothing returns boolean
if((GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_tianjie_Func002C takes nothing returns boolean
if(not(GetHeroLevel(GetTriggerUnit())>=30))then
return false
endif
return true
endfunction
function Trig_tianjie_Actions takes nothing returns nothing
set udg_tianjiedw=GetTriggerUnit()
if(Trig_tianjie_Func002C())then
if(Trig_tianjie_Func002Func004C())then
set udg_whotianjie=1
else
if(Trig_tianjie_Func002Func004Func001C())then
set udg_whotianjie=2
else
if(Trig_tianjie_Func002Func004Func001Func002C())then
set udg_whotianjie=3
else
if(Trig_tianjie_Func002Func004Func001Func002Func001C())then
set udg_whotianjie=4
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001C())then
set udg_whotianjie=5
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001C())then
set udg_whotianjie=6
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001C())then
set udg_whotianjie=7
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001C())then
set udg_whotianjie=8
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001C())then
set udg_whotianjie=9
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001C())then
set udg_whotianjie=10
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_whotianjie=11
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_whotianjie=12
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_whotianjie=13
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_whotianjie=14
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_buerzhi_huimie1=true
set udg_whotianjie=15
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002C())then
set udg_whotianjie=16
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002Func001C())then
set udg_whotianjie=17
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002Func001Func001C())then
set udg_whotianjie=18
else
if(Trig_tianjie_Func002Func004Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002Func001Func001Func001C())then
set udg_whotianjie=19
else
 if ( ( GetTriggerUnit() == gg_unit_Ewar_0138 ) ) then
                                                                                        set udg_whotianjie=20
                                                                                    else
                                                                                    endif
if ( ( GetTriggerUnit() == gg_unit_Emuu_0141 ) ) then
set udg_whotianjie=21
else


if((GetTriggerUnit()==gg_unit_Hart_0138))then
set udg_whotianjie=22
else
if((GetTriggerUnit()==gg_unit_Ewar_0127))then
set udg_whotianjie=23
else
if((GetTriggerUnit()==gg_unit_Hmbr_0141))then
set udg_whotianjie=24
else
if((GetTriggerUnit()==gg_unit_Emoo_0145))then
set udg_whotianjie=25
else
if((GetTriggerUnit()==udg_bianyifashen))then
set udg_whotianjie=26
else

if((GetTriggerUnit()==udg_newhero1))then
set udg_whotianjie=27
else

if((GetTriggerUnit()==udg_bianyileishen))then
set udg_whotianjie=28
else


if((GetTriggerUnit()==gg_unit_bydoushen))then
set udg_whotianjie=29
else
endif






endif

endif

endif

endif
endif



endif
endif





endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
set udg_tianjieing=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I038'))
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________096))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________096),0)
call StartTimerBJ(udg_tianjie,false,30)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"渡天劫"))
set udg_tianjiechuangkao=GetLastCreatedTimerDialogBJ()
if(Trig_tianjie_Func002Func012C())then
set udg_sanchong=false
call CreateNUnitsAtLoc(1,'e005',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________032),bj_UNIT_FACING)
set udg_tjjy=GetLastCreatedUnit()
call TriggerRegisterUnitEvent(gg_trg_zhuanshuxuexi,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
else
set udg_sanchong=true
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000遇到了千年难现的二重天劫，不知是福还是祸！|r"))
call CreateNUnitsAtLoc(1,'e005',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________164),bj_UNIT_FACING)
set udg_tjjy3[1]=GetLastCreatedUnit()
call TriggerRegisterUnitEvent(gg_trg_zhuanshuxuexi,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e005',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________164),bj_UNIT_FACING)
set udg_tjjy3[2]=GetLastCreatedUnit()
call TriggerRegisterUnitEvent(gg_trg_zhuanshuxuexi,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
//call CreateNUnitsAtLoc(1,'e005',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________164),bj_UNIT_FACING)
//set udg_tjjy3[3]=GetLastCreatedUnit()
//call TriggerRegisterUnitEvent(gg_trg_zhuanshuxuexi,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你还没有渡劫的资格！")
call AdjustPlayerStateBJ(5,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endfunction
function InitTrig_tianjie takes nothing returns nothing
set gg_trg_tianjie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tianjie,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_tianjie,Condition(function Trig_tianjie_Conditions))
call TriggerAddAction(gg_trg_tianjie,function Trig_tianjie_Actions)
endfunction
function Trig_tianjie1_Func001Func006Func002002 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(gg_rct______________005))
endfunction
function Trig_tianjie1_Func001Func006C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________118,udg_tianjiedw)==true))then
return false
endif
return true
endfunction
function Trig_tianjie1_Func001C takes nothing returns boolean
if(not(udg_tianjieOK[GetConvertedPlayerId(GetOwningPlayer(udg_tianjiedw))]==false))then
return false
endif
return true
endfunction
function Trig_tianjie1_Func002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)
endfunction
function Trig_tianjie1_Func002001002002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='e003')
endfunction
function Trig_tianjie1_Func002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_tianjie1_Func002001002001(),Trig_tianjie1_Func002001002002())
endfunction
function Trig_tianjie1_Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_tianjie1_Func003Func002002 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(gg_rct______________005))
endfunction
function Trig_tianjie1_Func003C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________118,udg_tianjiedw)==true))then
return false
endif
return true
endfunction
function Trig_tianjie1_Actions takes nothing returns nothing
if(Trig_tianjie1_Func001C())then
call DestroyTimerDialog(udg_tianjiechuangkao)
call RemoveUnit(udg_tjjy)
call RemoveUnit(udg_tjjy3[1])
call RemoveUnit(udg_tjjy3[2])
call RemoveUnit(udg_tjjy3[3])
if(Trig_tianjie1_Func001Func006C())then
call ForGroupBJ(GetUnitsInRectAll(gg_rct______________118),function Trig_tianjie1_Func001Func006Func002002)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_shenjiedw),GetRectCenter(gg_rct______________005),0)
else
endif
set udg_tianjieing=false
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_tianjiedw))+"渡劫失败！"))
set udg_buerzhi_huimie1=false
set udg_sanchong=false
set udg_tjjy=null
else
endif
call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________118,Condition(function Trig_tianjie1_Func002001002)),function Trig_tianjie1_Func002A)
if(Trig_tianjie1_Func003C())then
call ForGroupBJ(GetUnitsInRectAll(gg_rct______________118),function Trig_tianjie1_Func003Func002002)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_shenjiedw),GetRectCenter(gg_rct______________005),0)
else
endif
set udg_tianjiedw=null
set udg_tianjieing=false
endfunction
function InitTrig_tianjie1 takes nothing returns nothing
set gg_trg_tianjie1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_tianjie1,udg_tianjie)
call TriggerAddAction(gg_trg_tianjie1,function Trig_tianjie1_Actions)
endfunction
function Trig_zhuanshuxuexi_Func002001001002001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Trig_zhuanshuxuexi_Func002001001002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_zhuanshuxuexi_Func002001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_zhuanshuxuexi_Func002001001002001(),Trig_zhuanshuxuexi_Func002001001002002())
endfunction
function Trig_zhuanshuxuexi_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________118,Condition(function Trig_zhuanshuxuexi_Func002001001002)))<=0))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func004002 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(gg_rct______________005))
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==19))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==18))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==17))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==16))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==15))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==14))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==13))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==12))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==11))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==10))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==9))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==8))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==7))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==6))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==5))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==4))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001Func001C takes nothing returns boolean
if(not(udg_whotianjie==3))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010Func001C takes nothing returns boolean
if(not(udg_whotianjie==2))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func010C takes nothing returns boolean
if(not(udg_whotianjie==1))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Func011C takes nothing returns boolean
if(not(udg_sanchong==true))then
return false
endif
return true
endfunction
function Trig_zhuanshuxuexi_Actions takes nothing returns nothing
set udg_buerzhi_huimie1=false
call DestroyTimerDialog(udg_tianjiechuangkao)
call ForGroupBJ(GetUnitsInRectAll(gg_rct______________118),function Trig_zhuanshuxuexi_Func004002)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnitBJ()),GetRectCenter(gg_rct______________005),0)
set udg_tianjieing=false
set udg_tianjieOK[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=true
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=1
if(Trig_zhuanshuxuexi_Func010C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00生命法印|R,力量增加1000点,贱系数加10。"))
call UnitAddAbilityBJ('A06R',gg_unit_Ogrh_0091)
set udg_DSjineng=true
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Ogrh_0091,bj_MODIFYMETHOD_ADD,1000)
else
if(Trig_zhuanshuxuexi_Func010Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00黑暗力量|R,敏捷增加1000点,，通宵系数加10"))
call UnitAddAbilityBJ('A05W',udg_heroname[111])
call UnitMakeAbilityPermanent(udg_heroname[111],true,'A05W')
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Edem_0010,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_heian)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00战神气息|R,全属性增加600点,通宵系数加10"))
call UnitAddAbility(gg_unit_H000_0005,'A05U')
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_H000_0005,bj_MODIFYMETHOD_ADD,600)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_H000_0005,bj_MODIFYMETHOD_ADD,600)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_H000_0005,bj_MODIFYMETHOD_ADD,600)
call EnableTrigger(gg_trg_zhanshen)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00贱气|R,敏捷增加1000点,贱系数加10"))
call UnitAddAbilityBJ('A020',gg_unit_Obla_0007)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
set udg_jianqi=true
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Obla_0007,bj_MODIFYMETHOD_ADD,1000)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00幻影迷踪|R,敏捷增加1000点,淫荡系数加10."))
call UnitAddAbilityBJ('A06J',gg_unit_Orex_0018)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
set udg_KTjineng=true
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Orex_0018,bj_MODIFYMETHOD_ADD,1000)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00天神庇佑|R,力量增加1000点,淫荡系数加10"))
call UnitAddAbilityBJ('A05F',gg_unit_Hmkg_0053)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Hmkg_0053,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_tianshen)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00极限速度|R,敏捷增加1000,贱系数加5，属性伤害发动几率+1"))
call UnitAddAbilityBJ('A04J',gg_unit_Hvwd_0006)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+5)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Hvwd_0006,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_jixiansudu)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00淫荡神力|r，全属性增加500点，淫荡系数加10"))
call UnitAddAbilityBJ('A02K',gg_unit_H005_0020)
call UnitAddAbilityBJ('A05G',gg_unit_H005_0020)
call SetPlayerAbilityAvailableBJ(false,'A05G',GetOwningPlayer(gg_unit_H005_0020))
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_H005_0020,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_H005_0020,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_H005_0020,bj_MODIFYMETHOD_ADD,500)
set udg_YDSHENLI=true
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00神魂附体|r，力量增加1000点，通宵系数加5，属性伤害发动几率+1"))
call UnitAddAbilityBJ('A086',gg_unit_Harf_0190)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
call UnitMakeAbilityPermanent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],true,'A086')
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+5)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Harf_0190,bj_MODIFYMETHOD_ADD,1000)
set udg_shfuti=true
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00生命祈祷|r，全属性增加500点，淫荡系数加10"))
call UnitAddAbilityBJ('A085',gg_unit_Hblm_0191)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Hblm_0191,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Hblm_0191,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_Hblm_0191,bj_MODIFYMETHOD_ADD,500)
set udg_smqidao=true
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00赌神心法|r，力量增加1000点，通宵系数加10"))
call UnitAddAbilityBJ('A08U',gg_unit_H008_0239)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_H008_0239,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_dushen)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00弑神枪法|r，敏捷增加1000点，贱系数加10"))
call UnitAddAbilityBJ('A0A0',gg_unit_H007_0238)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_H007_0238,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_qiangshen)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00冰之本源|r，敏捷增加1000点，贱系数加5，属性伤害发动几率+1"))
call UnitAddAbilityBJ('A0BA',gg_unit_Hamg_0240)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+5)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Hamg_0240,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_bingshenby)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00空间召唤|r，敏捷增加1000点，淫荡系数加10"))
call UnitAddAbilityBJ('Acdb',gg_unit_Hpal_0235)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Hpal_0235,bj_MODIFYMETHOD_ADD,1000)
set udg_buerzhi_kongzhuanshu=true
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00毁灭裁决|r，全属性增加500点，通宵系数加10"))
call UnitAddAbilityBJ('A0CL',gg_unit_Ofar_0180)
call UnitMakeAbilityPermanent(gg_unit_Ofar_0180,true,'A0CL')
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Ofar_0180,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Ofar_0180,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_Ofar_0180,bj_MODIFYMETHOD_ADD,500)
call EnableTrigger(gg_trg_huimiezhuans)
call EnableTrigger(gg_trg_huimiezhuans_______u)
call EnableTrigger(gg_trg_huimiezssj)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00命运法则|r，力量500点，敏捷1000点，贱系数加10"))
call UnitAddAbilityBJ('A0CW',gg_unit_Oshd_0176)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Oshd_0176,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Oshd_0176,bj_MODIFYMETHOD_ADD,1000)
if(udg_con==0)then
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_Oshd_0176,bj_MODIFYMETHOD_ADD,500)
endif
call EnableTrigger(gg_trg_mingyunzssj)
call EnableTrigger(gg_trg_mingyunzs1)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00五行混沌|r，力量增加1000点，通宵系数加10"))
call UnitAddAbilityBJ('A0CK',gg_unit_Otch_0172)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Otch_0172,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_doushenzs)
call EnableTrigger(gg_trg_doushenzssj)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00雷电磁场|r，力量增加1000点，淫荡系数加10"))
call UnitAddAbilityBJ('A0CU',gg_unit_Udre_0182)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Udre_0182,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_ldcc1)
call EnableTrigger(gg_trg_leishenzs)
call EnableTrigger(gg_trg_leishenzssj)
else
if(Trig_zhuanshuxuexi_Func010Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00水涡吞噬|r，全属性增加500点，通宵系数加10"))
call UnitAddAbilityBJ('A0CM',gg_unit_Ekee_0181)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Ekee_0181,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Ekee_0181,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_Ekee_0181,bj_MODIFYMETHOD_ADD,500)
call EnableTrigger(gg_trg_shuishenzs)
call EnableTrigger(gg_trg_shuishe)
call EnableTrigger(gg_trg_shuishenzssj)
else
 if ( ( udg_whotianjie == 20 ) ) then
call DisplayTextToForce(GetPlayersAll(), ( GetPlayerName(GetOwningPlayer(GetKillingUnitBJ())) + "成功渡过天劫，习得|cFF33FF00超能复制|r，敏捷增加1000点，淫荡系数加10，属性伤害发动几率+1" ))
call UnitAddAbilityBJ('A0CM', gg_unit_Ewar_0138)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=( udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] + 10 )
call ModifyHeroStat(bj_HEROSTAT_AGI, gg_unit_Ewar_0138, bj_MODIFYMETHOD_ADD, 1000)
call EnableTrigger(gg_trg_chaonengzs)
call EnableTrigger(gg_trg_chaoneng)
call EnableTrigger(gg_trg_chaonengzssj)
else
 if ( ( udg_whotianjie == 21 ) ) then
                                                                                        call DisplayTextToForce(GetPlayersAll(), ( GetPlayerName(GetOwningPlayer(GetKillingUnitBJ())) + "成功渡过天劫，习得|cFF33FF00呜喵的祝福|r，全属性增加500点，淫荡系数加10" ))
                                                                                        //call UnitAddAbilityBJ('A0H0', gg_unit_Emuu_0141)
                                                                                        set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=( udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] + 10 )
                                                                                        call ModifyHeroStat(bj_HEROSTAT_STR, gg_unit_Emuu_0141, bj_MODIFYMETHOD_ADD, 500)
                                                                                        call ModifyHeroStat(bj_HEROSTAT_AGI, gg_unit_Emuu_0141, bj_MODIFYMETHOD_ADD, 500)
                                                                                        call ModifyHeroStat(bj_HEROSTAT_INT, gg_unit_Emuu_0141, bj_MODIFYMETHOD_ADD, 500)
call EnableTrigger(gg_trg_wumiaozs)
call EnableTrigger(gg_trg_wumiaozssj)
                                                                                    else
                                                                                    

if((udg_whotianjie == 22))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00圣兽召唤-白虎|r，敏捷增加1000点，通宵系数加10"))
call UnitAddAbilityBJ('A0EE',gg_unit_Hart_0138)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Hart_0138,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_menghuanshen)
call EnableTrigger(gg_trg_menghuanshen1)
call EnableTrigger(gg_trg_menghuan2)
else
if((udg_whotianjie == 23))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00圣兽召唤-青龙|r，全属性增加500点，淫荡系数加10"))
call UnitAddAbilityBJ('A0EF',gg_unit_Ewar_0127)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Ewar_0127,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Ewar_0127,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_Ewar_0127,bj_MODIFYMETHOD_ADD,500)
call EnableTrigger(gg_trg_xuewu)
call EnableTrigger(gg_trg_xuewu1)
call EnableTrigger(gg_trg_xuewu2)
else
if((udg_whotianjie == 24))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00圣兽召唤-玄武|r，力量增加1000点，贱系数加10"))
call UnitAddAbilityBJ('A0EG',gg_unit_Hmbr_0141)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Hmbr_0141,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_chaonengz)
call EnableTrigger(gg_trg_chaoneng1)
call EnableTrigger(gg_trg_chaoneng2)
else
if((udg_whotianjie == 25))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00时间断接|r，敏捷增加1000点，通宵系数加10"))
call UnitAddAbilityBJ('A0FM',gg_unit_Emoo_0145)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Emoo_0145,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_shijianshen)
call EnableTrigger(gg_trg_shijianshen1)
else

if((udg_whotianjie == 26))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00变异的淫荡神力|r，全属性增加500点，淫荡系数加10"))
call UnitAddAbilityBJ('A0I0',udg_bianyifashen)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_bianyifashen,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_bianyifashen,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_bianyifashen,bj_MODIFYMETHOD_ADD,500)
set udg_YDSHENLI=true
//call EnableTrigger(gg_trg_shijianshen)
//call EnableTrigger(gg_trg_shijianshen1)
else


if((udg_whotianjie == 27))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00变异的炎之力|r，全属性增加500点，淫荡系数加10"))
call UnitAddAbilityBJ('A0I0',udg_newhero1)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_bianyifashen,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_bianyifashen,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_bianyifashen,bj_MODIFYMETHOD_ADD,500)
//call EnableTrigger(gg_trg_shijianshen)
//call EnableTrigger(gg_trg_shijianshen1)
else

if((udg_whotianjie == 28))then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00变异的炎之力|r，全属性增加500点，通宵系数加10"))
call UnitAddAbilityBJ('A0IC',udg_bianyileishen)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_bianyileishen,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_bianyileishen,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_bianyileishen,bj_MODIFYMETHOD_ADD,500)
call EnableTrigger(gg_trg_bianyileishen)
call EnableTrigger(gg_trg_bianyileishen1)
else

if(udg_whotianjie==29)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+"成功渡过天劫，习得|cFF33FF00五行混沌|r，力量增加1000点，通宵系数加10"))
call UnitAddAbilityBJ('A0CK',gg_unit_bydoushen)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+10)
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_bydoushen,bj_MODIFYMETHOD_ADD,1000)
call EnableTrigger(gg_trg_doushenzs)
call EnableTrigger(gg_trg_doushenzssj)
else
endif




endif


endif


endif



endif
endif
endif
endif                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
if(udg_con>=1)then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000由于在能量模式下渡过天劫，再获得智力500点属性奖励！")
//call ModifyHeroStat(bj_HEROSTAT_STR,udg_tianjiedw,bj_MODIFYMETHOD_ADD,500)
//call ModifyHeroStat(bj_HEROSTAT_AGI,udg_tianjiedw,bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_tianjiedw,bj_MODIFYMETHOD_ADD,500)
endif
set udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=1
set udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
if(Trig_zhuanshuxuexi_Func011C())then
set udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
set udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=1
call DisplayTextToForce(GetPlayersAll(),"|cffff0000由于渡过的是三重天劫，所以额外获得1000全属性奖励！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_tianjiedw,bj_MODIFYMETHOD_ADD,1000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_tianjiedw,bj_MODIFYMETHOD_ADD,1000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_tianjiedw,bj_MODIFYMETHOD_ADD,1000)
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+3
call DisplayTextToForce(GetPlayersAll(),"|cffff0000由于渡过的是三重天劫，积分加3！")
set udg_sanchong=false
else
endif
set udg_tjjy=null
endfunction
function InitTrig_zhuanshuxuexi takes nothing returns nothing
set gg_trg_zhuanshuxuexi=CreateTrigger()
call TriggerAddCondition(gg_trg_zhuanshuxuexi,Condition(function Trig_zhuanshuxuexi_Conditions))
call TriggerAddAction(gg_trg_zhuanshuxuexi,function Trig_zhuanshuxuexi_Actions)
endfunction
function Trig_shenjie_Conditions takes nothing returns boolean
if(not(udg_shenjieing==false))then
return false
endif
if(not(udg_shenjieOK[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I048'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(udg_shenjie2ing==12))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func001C takes nothing returns boolean
if((GetTriggerUnit()==gg_unit_Edem_0010))then
return true
endif
if((GetTriggerUnit()==udg_emxt))then
return true
endif
return false
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func002C takes nothing returns boolean
if((GetTriggerUnit()==gg_unit_Ofar_0180))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='O001'))then
return true
endif
return false
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ekee_0181))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Udre_0182))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Otch_0172))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Oshd_0176))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func002C())then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hpal_0235))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hamg_0240))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H007_0238))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hblm_0191))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Harf_0190))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H005_0020))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hvwd_0006))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hmkg_0053))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Orex_0018))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Obla_0007))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001Func003C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H000_0005))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001Func001C takes nothing returns boolean
if(not Trig_shenjie_Func003Func001Func001Func001C())then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ogrh_0091))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003Func012C takes nothing returns boolean
if(not(GetRandomInt(1,20)<=50))then
return false
endif
return true
endfunction
function Trig_shenjie_Func003C takes nothing returns boolean
if(not(GetHeroLevel(GetTriggerUnit())>=240))then
return false
endif
return true
endfunction
function Trig_shenjie_Actions takes nothing returns nothing
set udg_jiuchong=false
set udg_shenjiedw=GetTriggerUnit()
set udg_shenjieu=GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))
if(Trig_shenjie_Func003C())then
if(Trig_shenjie_Func003Func001C())then
set udg_whoshenjie=1
else
if(Trig_shenjie_Func003Func001Func001C())then
set udg_whoshenjie=2
else
if(Trig_shenjie_Func003Func001Func001Func003C())then
set udg_whoshenjie=3
else
if(Trig_shenjie_Func003Func001Func001Func003Func002C())then
set udg_whoshenjie=4
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002C())then
set udg_whoshenjie=5
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002C())then
set udg_whoshenjie=6
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002C())then
set udg_whoshenjie=7
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002C())then
set udg_whoshenjie=8
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002C())then
set udg_whoshenjie=9
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002C())then
set udg_whoshenjie=10
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001C())then
set udg_whoshenjie=11
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001C())then
set udg_whoshenjie=12
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001C())then
set udg_whoshenjie=13
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001C())then
set udg_whoshenjie=14
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001C())then
set udg_buerzhi_huimie2=true
set udg_whoshenjie=15
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003C())then
set udg_whoshenjie=16
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003Func001C())then
set udg_whoshenjie=17
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003Func001Func001C())then
set udg_whoshenjie=18
else
if(Trig_shenjie_Func003Func001Func001Func003Func002Func002Func002Func002Func002Func002Func002Func001Func001Func001Func001Func001Func003Func001Func001Func001C())then
set udg_whoshenjie=19
else
if ( ( GetTriggerUnit() == gg_unit_Ewar_0138 ) ) then
set udg_whoshenjie=20
else
if ( ( GetTriggerUnit() == gg_unit_Emuu_0141 ) ) then
                                                                                            set udg_whoshenjie=21
                                                                                        else
                                                                                        
                                                                                        
if((GetTriggerUnit()==gg_unit_Hart_0138))then
set udg_whoshenjie=22
else
if((GetTriggerUnit()==gg_unit_Ewar_0127))then
set udg_whoshenjie=23
else
if((GetTriggerUnit()==gg_unit_Hmbr_0141))then
set udg_whoshenjie=24
else
if((GetTriggerUnit()==gg_unit_Emoo_0145))then
set udg_whoshenjie=25
else

if((GetTriggerUnit()==udg_newhero1))then
set udg_whoshenjie=26
else
endif


endif
endif
endif
endif                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                          
                                                                                        
                                                                                        
                                                                                        endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
set udg_shenjieing=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I048'))
set udg_shenjie2ing=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________097))
call SetUnitPositionLoc(udg_unit_bb[udg_shenjie2ing],GetRectCenter(gg_rct______________097))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________097))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________097),0)
//set udg_shenjie=CreateTimer()
call StartTimerBJ(udg_shenjie,false,90.00)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"渡神劫"))
set udg_shenjiechuangkou=GetLastCreatedTimerDialogBJ()
if(Trig_shenjie_Func003Func012C())then
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Usyl',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Usyl',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Uvar',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Uvar',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Bos9',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________028),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
set udg_shenjieOK[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call IssueImmediateOrder(GetLastCreatedUnit(),"locustswarm")
set udg_sjjy=GetLastCreatedUnit()
else
set udg_jiuchong=true
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000遇到了九重神劫，九重神劫下至今无人存活！|r"))
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'e006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Usyl',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Usyl',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Uvar',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Uvar',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRandomLocInRect(gg_rct______________165),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,'Bos9',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________028),bj_UNIT_FACING)
call TriggerRegisterUnitEvent(gg_trg_shenjieJL,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
set udg_shenjieOK[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你还没有渡神劫的资格！请您240级以后再来挑战")
call AdjustPlayerStateBJ(30,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endfunction
function InitTrig_shenjie takes nothing returns nothing
set gg_trg_shenjie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shenjie,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_shenjie,Condition(function Trig_shenjie_Conditions))
call TriggerAddAction(gg_trg_shenjie,function Trig_shenjie_Actions)
endfunction
function Trig_shenjie1_Func001C takes nothing returns boolean
if(not(udg_shenjieOK[udg_shenjieu]==false))then
return false
endif
return true
endfunction
function Trig_shenjie1_Func002001002001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
//return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)
//if(not(GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)))
//return false
//endif
endfunction
function Trig_shenjie1_Func002001002002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='e003')
endfunction
function Trig_shenjie1_Func002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_shenjie1_Func002001002001(),Trig_shenjie1_Func002001002002())
endfunction
function Trig_shenjie1_Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_shenjie1_Func003Func002002 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(gg_rct______________005))
endfunction
function Trig_shenjie1_Func003C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________119,udg_shenjiedw)==true))then
return false
endif
return true
endfunction
function Trig_shenjie1_Actions takes nothing returns nothing
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"渡劫失败")
//call SetUnitPositionLoc(udg_heroname[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
//call SetUnitPositionLoc(udg_unit_bb[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
endfunction
function InitTrig_shenjie1 takes nothing returns nothing
set gg_trg_shenjie1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_shenjie1,udg_shenjie)
call TriggerAddAction(gg_trg_shenjie1,function Trig_shenjie1_Actions)
endfunction
function Trig_shenjieJL_Func002001001002001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Trig_shenjieJL_Func002001001002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shenjieJL_Func002001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_shenjieJL_Func002001001002001(),Trig_shenjieJL_Func002001001002002())
endfunction
function Trig_shenjieJL_Conditions takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________119,Condition(function Trig_shenjieJL_Func002001001002)))<=0))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func004002 takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(gg_rct______________005))
endfunction
function Trig_shenjieJL_Func006C takes nothing returns boolean
if(not(udg_jiuchong==true))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==19))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==18))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==17))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==16))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==14))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==15))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001C takes nothing returns boolean
if(not(udg_whoshenjie==13))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==12))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002C takes nothing returns boolean
if(not(udg_whoshenjie==11))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003C takes nothing returns boolean
if(not(udg_whoshenjie==10))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==9))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==8))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002C takes nothing returns boolean
if(not(udg_whoshenjie==7))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002Func003C takes nothing returns boolean
if(not(udg_whoshenjie==6))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==5))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==4))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==3))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007Func002C takes nothing returns boolean
if(not(udg_whoshenjie==2))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func007C takes nothing returns boolean
if(not(udg_whoshenjie==1))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func008Func001Func001Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(udg_shenjiedw,'I067')==true))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func008Func001Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(udg_shenjiedw,'I064')==true))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func008Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(udg_shenjiedw,'I065')==true))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func008C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(udg_shenjiedw,'I066')==true))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func013Func001Func001Func001C takes nothing returns boolean
if(not(udg_ccc==4))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func013Func001Func001C takes nothing returns boolean
if(not(udg_ccc==3))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func013Func001C takes nothing returns boolean
if(not(udg_ccc==2))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Func013C takes nothing returns boolean
if(not(udg_ccc==1))then
return false
endif
return true
endfunction
function Trig_shenjieJL_Actions takes nothing returns nothing
set udg_buerzhi_huimie2=false
call DestroyTimerDialog(udg_shenjiechuangkou)
call ForGroupBJ(GetUnitsInRectAll(gg_rct______________119),function Trig_shenjieJL_Func004002)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_shenjiedw),GetRectCenter(gg_rct______________005),0)
if(Trig_shenjieJL_Func006C())then
set udg_shenjieint=2
set udg_jiuchong=false
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_shenjiedw))+"|cffff0000！！！！九重神劫居然过了！！！！"))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000那么....专属等级+2，被动发动几率+1！|r")
set udg_shenjie2ing=12
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]+1)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]+1.00)
else
set udg_shenjieint=1
set udg_jiuchong=false
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_shenjiedw))+"成功渡过神劫！专属等级+2，被动发动几率+1。"))
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]+1)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]+2)
endif
if(Trig_shenjieJL_Func007C())then
call SetUnitAbilityLevel(gg_unit_Ogrh_0091,'A06R',(GetUnitAbilityLevel(gg_unit_Ogrh_0091,'A06R')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002C())then
call SetUnitAbilityLevel(gg_unit_Edem_0010,'A05W',(GetUnitAbilityLevel(gg_unit_Edem_0010,'A05W')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_H000_0005,'A05U',(GetUnitAbilityLevel(gg_unit_H000_0005,'A05U')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Obla_0007,'A020',(GetUnitAbilityLevel(gg_unit_Obla_0007,'A020')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Orex_0018,'A06J',(GetUnitAbilityLevel(gg_unit_Orex_0018,'A06J')+udg_shenjieint))
set udg_huanyingjilv=(udg_huanyingjilv+udg_shenjieint)
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003C())then
call SetUnitAbilityLevel(gg_unit_Hmkg_0053,'A05F',(GetUnitAbilityLevel(gg_unit_Hmkg_0053,'A05F')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002C())then
call SetUnitAbilityLevel(gg_unit_Hvwd_0006,'A04J',(GetUnitAbilityLevel(gg_unit_Hvwd_0006,'A04J')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_H005_0020,'A02K',(GetUnitAbilityLevel(gg_unit_H005_0020,'A02K')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Harf_0190,'A086',(GetUnitAbilityLevel(gg_unit_Harf_0190,'A086')+udg_shenjieint))
set udg_shenhunjilv=(udg_shenhunjilv+udg_shenjieint)
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003C())then
call SetUnitAbilityLevel(gg_unit_Hblm_0191,'A085',(GetUnitAbilityLevel(gg_unit_Hblm_0191,'A085')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002C())then
call SetUnitAbilityLevel(gg_unit_H008_0239,'A08U',(GetUnitAbilityLevel(gg_unit_H008_0239,'A08U')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_H007_0238,'A0A0',(GetUnitAbilityLevel(gg_unit_H007_0238,'A0A0')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001C())then
call SetUnitAbilityLevel(gg_unit_Hamg_0240,'A0BA',(GetUnitAbilityLevel(gg_unit_Hamg_0240,'A0BA')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Ofar_0180,'A0CL',(GetUnitAbilityLevel(gg_unit_Ofar_0180,'A0CL')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Hpal_0235,'Acdb',(GetUnitAbilityLevel(gg_unit_Hpal_0235,'Acdb')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Oshd_0176,'A0CW',(GetUnitAbilityLevel(gg_unit_Oshd_0176,'A0CW')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Otch_0172,'A0CK',(GetUnitAbilityLevel(gg_unit_Otch_0172,'A0CK')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Udre_0182,'A0CU',(GetUnitAbilityLevel(gg_unit_Udre_0182,'A0CU')+udg_shenjieint))
else
if(Trig_shenjieJL_Func007Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Ekee_0181,'A0CM',(GetUnitAbilityLevel(gg_unit_Ekee_0181,'A0CM')+udg_shenjieint))
else
if ( ( udg_whoshenjie == 20 ) ) then
call SetUnitAbilityLevel(gg_unit_Ewar_0138, 'A0CM', ( GetUnitAbilityLevel(gg_unit_Ewar_0138, 'A0CM') + udg_shenjieint ))
else
if ( ( udg_whoshenjie == 21 ) ) then
                                                                                        call SetUnitAbilityLevel(gg_unit_Emuu_0141, 'A0EM', ( GetUnitAbilityLevel(gg_unit_Emuu_0141, 'A0EM') + udg_shenjieint ))
                                                                                    else
                                                                                    
if((udg_whoshenjie==22))then
call SetUnitAbilityLevel(gg_unit_Hart_0138,'A0EE',(GetUnitAbilityLevel(gg_unit_Hart_0138,'A0EE')+udg_shenjieint))
else
if((udg_whoshenjie==23))then
call SetUnitAbilityLevel(gg_unit_Ewar_0127,'A0ED',(GetUnitAbilityLevel(gg_unit_Ewar_0127,'A0EF')+udg_shenjieint))
else
if((udg_whoshenjie==24))then
call SetUnitAbilityLevel(gg_unit_Hmbr_0141,'A0EG',(GetUnitAbilityLevel(gg_unit_Hmbr_0141,'A0EG')+udg_shenjieint))
else
if((udg_whoshenjie==25))then
call SetUnitAbilityLevel(gg_unit_Emoo_0145,'A0FM',(GetUnitAbilityLevel(gg_unit_Emoo_0145,'A0FM')+udg_shenjieint))
else

if((udg_whoshenjie==26))then
//call SetUnitAbilityLevel(udg_newhero1,'A0FM',(GetUnitAbilityLevel(gg_unit_Emoo_0145,'A0FM')+udg_shenjieint))
else
endif

endif
endif
endif
endif                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    
                                                                                    endif
                                                                                    
                                                                                    
                                                                                    
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
if(Trig_shenjieJL_Func008C())then
set udg_ccc=1
else
if(Trig_shenjieJL_Func008Func001C())then
set udg_ccc=2
else
if(Trig_shenjieJL_Func008Func001Func001C())then
set udg_ccc=3
else
if(Trig_shenjieJL_Func008Func001Func001Func001C())then
set udg_ccc=4
else
set udg_ccc=GetRandomInt(1,4)
endif
endif
endif
endif
set udg_shenjieing=false
set udg_shenjieOK[GetConvertedPlayerId(GetOwningPlayer(udg_shenjiedw))]=true
//call UnitAddAbilityBJ(udg_jineng[udg_ccc],udg_shenjiedw)
//call UnitMakeAbilityPermanent(udg_shenjiedw,true,udg_jineng[udg_ccc])
if(Trig_shenjieJL_Func013C())then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_shenjiedw))+"|cFF33FF00并领悟天道规则，习得时间法则！|R"))
else
if(Trig_shenjieJL_Func013Func001C())then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_shenjiedw))+"|cFF33FF00并领悟天道规则，习得灭之法则！|R"))
else
if(Trig_shenjieJL_Func013Func001Func001C())then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_shenjiedw))+"|cFF33FF00并领悟天道规则，习得空间法则！|R"))
else
if(Trig_shenjieJL_Func013Func001Func001Func001C())then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_shenjiedw))+"|cFF33FF00并领悟天道规则，习得速度法则！|R"))
else
endif
endif
endif
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_shenjiedw,'I066'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_shenjiedw,'I065'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_shenjiedw,'I064'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_shenjiedw,'I067'))
set udg_sjjy=null
endfunction
function InitTrig_shenjieJL takes nothing returns nothing
set gg_trg_shenjieJL=CreateTrigger()
call TriggerAddCondition(gg_trg_shenjieJL,Condition(function Trig_shenjieJL_Conditions))
call TriggerAddAction(gg_trg_shenjieJL,function Trig_shenjieJL_Actions)
endfunction
function Trig_chengsheng_Conditions takes nothing returns boolean
if(not(GetHeroLevel(GetTriggerUnit())==300))then
return false
endif
if(not(udg_csheng==false))then
return false
endif
if(not(udg_siwangcishu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0))then
return false
endif
if(not(R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])>=10))then
return false
endif
if(not(GetRandomInt(1,25)<=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==19))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==18))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==17))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==16))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==14))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001C takes nothing returns boolean
if(not(udg_whoshenjie==15))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001C takes nothing returns boolean
if(not(udg_whoshenjie==13))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==12))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002C takes nothing returns boolean
if(not(udg_whoshenjie==11))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003C takes nothing returns boolean
if(not(udg_whoshenjie==10))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==9))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==8))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002C takes nothing returns boolean
if(not(udg_whoshenjie==7))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003C takes nothing returns boolean
if(not(udg_whoshenjie==6))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==5))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==4))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==3))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002Func002C takes nothing returns boolean
if(not(udg_whoshenjie==2))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001Func002C takes nothing returns boolean
if(not(udg_whoshenjie==1))then
return false
endif
return true
endfunction
function Trig_chengsheng_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_chengsheng_Actions takes nothing returns nothing
if(Trig_chengsheng_Func001C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3.00)
if(Trig_chengsheng_Func001Func002C())then
call SetUnitAbilityLevel(gg_unit_Ogrh_0091,'A06R',(GetUnitAbilityLevel(gg_unit_Ogrh_0091,'A06R')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Edem_0010,'A05W',(GetUnitAbilityLevel(gg_unit_Edem_0010,'A05W')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_H000_0005,'A05U',(GetUnitAbilityLevel(gg_unit_H000_0005,'A05U')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Obla_0007,'A020',(GetUnitAbilityLevel(gg_unit_Obla_0007,'A020')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Orex_0018,'A06J',(GetUnitAbilityLevel(gg_unit_Orex_0018,'A06J')+udg_shenjieint))
set udg_huanyingjilv=(udg_huanyingjilv+udg_shenjieint)
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003C())then
call SetUnitAbilityLevel(gg_unit_Hmkg_0053,'A05F',(GetUnitAbilityLevel(gg_unit_Hmkg_0053,'A05F')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002C())then
call SetUnitAbilityLevel(gg_unit_Hvwd_0006,'A04J',(GetUnitAbilityLevel(gg_unit_Hvwd_0006,'A04J')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_H005_0020,'A02K',(GetUnitAbilityLevel(gg_unit_H005_0020,'A02K')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_Harf_0190,'A086',(GetUnitAbilityLevel(gg_unit_Harf_0190,'A086')+udg_shenjieint))
set udg_shenhunjilv=(udg_shenhunjilv+udg_shenjieint)
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003C())then
call SetUnitAbilityLevel(gg_unit_Hblm_0191,'A085',(GetUnitAbilityLevel(gg_unit_Hblm_0191,'A085')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002C())then
call SetUnitAbilityLevel(gg_unit_H008_0239,'A08U',(GetUnitAbilityLevel(gg_unit_H008_0239,'A08U')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002C())then
call SetUnitAbilityLevel(gg_unit_H007_0238,'A0A0',(GetUnitAbilityLevel(gg_unit_H007_0238,'A0A0')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001C())then
call SetUnitAbilityLevel(gg_unit_Hamg_0240,'A0BA',(GetUnitAbilityLevel(gg_unit_Hamg_0240,'A0BA')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Ofar_0180,'A0CL',(GetUnitAbilityLevel(gg_unit_Ofar_0180,'A0CL')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Hpal_0235,'Acdb',(GetUnitAbilityLevel(gg_unit_Hpal_0235,'Acdb')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Oshd_0176,'A0CW',(GetUnitAbilityLevel(gg_unit_Oshd_0176,'A0CW')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Otch_0172,'A0CK',(GetUnitAbilityLevel(gg_unit_Otch_0172,'A0CK')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Udre_0182,'A0CU',(GetUnitAbilityLevel(gg_unit_Udre_0182,'A0CU')+udg_shenjieint))
else
if(Trig_chengsheng_Func001Func002Func002Func002Func002Func002Func003Func002Func002Func002Func003Func002Func002Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitAbilityLevel(gg_unit_Ekee_0181,'A0CM',(GetUnitAbilityLevel(gg_unit_Ekee_0181,'A0CM')+udg_shenjieint))
else
if ( ( udg_whoshenjie == 20 ) ) then
call SetUnitAbilityLevel(gg_unit_Ewar_0138, 'A0CM', ( GetUnitAbilityLevel(gg_unit_Ewar_0138, 'A0CM') + udg_shenjieint ))
else
if ( ( udg_whoshenjie == 21 ) ) then
                                                                                            call SetUnitAbilityLevel(gg_unit_Emuu_0141, 'A0EM', ( GetUnitAbilityLevel(gg_unit_Emuu_0141, 'A0EM') + udg_shenjieint ))
                                                                                        else
                                                                                        endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call UnitAddAbility(GetTriggerUnit(),'A0A1')
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000法力无边，功德满天下，终于修身成圣！"))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000全属性增加1500，专属技能等级加3，圣之下一切皆为蝼蚁！")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1500)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1500)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1500)
set udg_csheng=true
set udg_shenjieint=3
else
endif
endfunction
function InitTrig_chengsheng takes nothing returns nothing
set gg_trg_chengsheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chengsheng,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(gg_trg_chengsheng,Condition(function Trig_chengsheng_Conditions))
call TriggerAddAction(gg_trg_chengsheng,function Trig_chengsheng_Actions)
endfunction
function Trig_chuangkou_Func011Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuangkou_Func011Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuangkou_Func011Func001Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuangkou_Func011Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuangkou_Func011Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuangkou_Func011C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuangkou_Actions takes nothing returns nothing
call DialogClear(udg_nanduchuangkou)
call DialogSetMessage(udg_nanduchuangkou,"游戏难度")
call DialogAddButtonBJ(udg_nanduchuangkou,udg_nandu[0])
set udg_nanduanniu[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuangkou,udg_nandu[1])
set udg_nanduanniu[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuangkou,udg_nandu[2])
set udg_nanduanniu[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuangkou,udg_nandu[3])
set udg_nanduanniu[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuangkou,udg_nandu[4])
set udg_nanduanniu[4]=GetLastCreatedButtonBJ()
if(Trig_chuangkou_Func011C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(0)))
call DialogDisplay(Player(0),udg_nanduchuangkou,true)
else
if(Trig_chuangkou_Func011Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(1)))
call DialogDisplay(Player(1),udg_nanduchuangkou,true)
else
if(Trig_chuangkou_Func011Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(2)))
call DialogDisplay(Player(2),udg_nanduchuangkou,true)
else
if(Trig_chuangkou_Func011Func001Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(3)))
call DialogDisplay(Player(3),udg_nanduchuangkou,true)
else
if(Trig_chuangkou_Func011Func001Func001Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(4)))
call DialogDisplay(Player(4),udg_nanduchuangkou,true)
else
if(Trig_chuangkou_Func011Func001Func001Func001Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(5)))
call DialogDisplay(Player(5),udg_nanduchuangkou,true)
else
endif
endif
endif
endif
endif
endif
call ResetToGameCamera(0.00)
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,2000.00,0)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_chuangkou takes nothing returns nothing
set gg_trg_chuangkou=CreateTrigger()
call TriggerAddAction(gg_trg_chuangkou,function Trig_chuangkou_Actions)
endfunction

//Trig_chuang2kou
//udg_nanduchuang2kou
//udg_nan2du[]
//udg_nan2duanniu[]


function Trig_chuang2kou_Func011Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuang2kou_Func011Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuang2kou_Func011Func001Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuang2kou_Func011Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuang2kou_Func011Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuang2kou_Func011C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_chuang2kou_Actions takes nothing returns nothing
call DialogClear(udg_nanduchuang2kou)
call DialogSetMessage(udg_nanduchuang2kou,"游戏模式")
call DialogAddButtonBJ(udg_nanduchuang2kou,udg_nan2du[0])
set udg_nan2duanniu[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuang2kou,udg_nan2du[1])
set udg_nan2duanniu[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuang2kou,udg_nan2du[2])
set udg_nan2duanniu[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_nanduchuang2kou,udg_nan2du[3])
set udg_nan2duanniu[3]=GetLastCreatedButtonBJ()
if(Trig_chuang2kou_Func011C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(0)))
call DialogDisplay(Player(0),udg_nanduchuang2kou,true)
else
if(Trig_chuang2kou_Func011Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(1)))
call DialogDisplay(Player(1),udg_nanduchuang2kou,true)
else
if(Trig_chuang2kou_Func011Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(2)))
call DialogDisplay(Player(2),udg_nanduchuang2kou,true)
else
if(Trig_chuang2kou_Func011Func001Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(3)))
call DialogDisplay(Player(3),udg_nanduchuang2kou,true)
else
if(Trig_chuang2kou_Func011Func001Func001Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(4)))
call DialogDisplay(Player(4),udg_nanduchuang2kou,true)
else
if(Trig_chuang2kou_Func011Func001Func001Func001Func001Func001C())then
call CinematicModeBJ(false,GetForceOfPlayer(Player(5)))
call DialogDisplay(Player(5),udg_nanduchuang2kou,true)
else
endif
endif
endif
endif
endif
endif
call ResetToGameCamera(0.00)
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,2000.00,0)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_chuang2kou takes nothing returns nothing
set gg_trg_chuang2kou=CreateTrigger()
call TriggerAddAction(gg_trg_chuang2kou,function Trig_chuang2kou_Actions)
endfunction




function Trig_cho2ose_Func001Func002Func001C takes nothing returns boolean
if(not(GetPlayerController(GetEnumPlayer())==MAP_CONTROL_USER))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func001Func002A takes nothing returns nothing
if(Trig_cho2ose_Func001Func002Func001C())then
call SetPlayerTechResearchedSwap('Rhme',2,GetEnumPlayer())
set udg_con=2
set udg_renwuk=1
call DisplayTextToForce(GetPlayersAll(),"|cffff0000能量模式开启，注意MP！")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000死亡轮盘开启，注意任务！")
else
endif
endfunction
function Trig_cho2ose_Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nan2duanniu[0]))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nan2duanniu[1]))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func003C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nan2duanniu[2]))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func004C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nan2duanniu[3]))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func008Func001Func001Func001C takes nothing returns boolean
if(not(udg_con==2))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func008Func001Func001C takes nothing returns boolean
if(not(udg_renwuk==1))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func008Func001C takes nothing returns boolean
if(not(udg_con==0))then
return false
endif
return true
endfunction
function Trig_cho2ose_Func008C takes nothing returns boolean
if(not(udg_renwuk==0))then
return false
endif
return true
endfunction
function Trig_cho2ose_Actions takes nothing returns nothing
if(Trig_cho2ose_Func001C())then
//call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00 |r|cFF00EF10现|r|cFF00DF20在|r|cFF00CF30的|r|cFF00BF40游|r|cFF00AF50戏|r|cFF009F60难|r|cFF008F70度|r|cFF008080为|r|cFF00708F随|r|cFF00609F便|r|cFF0050AF玩|r|cFF0040BF玩|r|cFF0030CF |r|cFF0020DF |r")
call ForForce(GetPlayersAll(),function Trig_cho2ose_Func001Func002A)
else
endif
if(Trig_cho2ose_Func002C())then
//call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00F00F在|r|cFF00E11E的|r|cFF00D22D游|r|cFF00C33C戏|r|cFF00B44B难|r|cFF00A55A度|r|cFF009669为|r|cFF008778普|r|cFF007887通|r|cFF006996难|r|cFF005AA5度|r|cFF004BB4 |r|cFF003CC3 |r|cFF002DD2 |r|cFF001EE1 |r")
//call SetPlayerTechResearchedSwap('Rhme',1,Player(11))
//call SetPlayerTechResearchedSwap('Rhme',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_con=2
set udg_renwuk=0
call DisplayTextToForce(GetPlayersAll(),"|cffff0000能量模式开启，注意MP！")
else
endif
if(Trig_cho2ose_Func003C())then
//call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00F00F在|r|cFF00E11E的|r|cFF00D22D游|r|cFF00C33C戏|r|cFF00B44B难|r|cFF00A55A度|r|cFF009669为|r|cFF008778困|r|cFF007887难|r|cFF006996难|r|cFF005AA5度|r|cFF004BB4 |r|cFF003CC3 |r|cFF002DD2 |r|cFF001EE1 |r")
//call SetPlayerTechResearchedSwap('Rhme',2,Player(11))
//call SetPlayerTechResearchedSwap('Rhme',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_con=0
set udg_renwuk=1
call DisplayTextToForce(GetPlayersAll(),"|cffff0000死亡轮盘开启，注意任务！")
else
endif
if(Trig_cho2ose_Func004C())then
//call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00EE11在|r|cFF00DD22的|r|cFF00CC33游|r|cFF00BB44戏|r|cFF00AA55难|r|cFF009966度|r|cFF008877为|r|cFF007788极|r|cFF006699难|r|cFF0055AA |r|cFF0044BB |r|cFF0033CC |r|cFF0022DD |r")
//call SetPlayerTechResearchedSwap('Rhme',4,Player(11))
//call SetPlayerTechResearchedSwap('Rhme',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_con=0
set udg_renwuk=0
else
endif
//call DisplayTextToForce(GetPlayersAll(),"|cFFFF66FF本|r|cFFFF64FB图|r|cFFFF63F7回|r|cFFFF61F3城|r|cFFFF60EF方|r|cFFFF5EEB式|r|cFFFF5CE7：|r|cFFFF5BE3 |r|cFFFF59DF |r|cFFFF57DB1|r|cFFFF56D7.|r|cFFFF54D2聊|r|cFFFF53CE天|r|cFFFF51CA栏|r|cFFFF4FC6输|r|cFFFF4EC2入|r|cFFFF4CBEH|r|cFFFF4ABAC|r|cFFFF49B6或|r|cFFFF47B2者|r|cFFFF46AEH|r|cFFFF44AAG|r|cFFFF42A6。|r|cFFFF41A2 |r|cFFFF3F9E |r|cFFFF3E9A2|r|cFFFF3C96.|r|cFFFF3A92宝|r|cFFFF398E宝|r|cFFFF378A技|r|cFFFF3586能|r|cFFFF3482回|r|cFFFF327D城|r|cFFFF3179 |r|cFFFF2F75 |r\n")
//call DisplayTextToForce(GetPlayersAll(),"|cFFFF2D71游|r|cFFFF2C6D戏|r|cFFFF2A69前|r|cFFFF2865期|r|cFFFF2761可|r|cFFFF255D到|r|cFFFF2459学|r|cFFFF2255校|r|cFFFF2051后|r|cFFFF1F4D山|r|cFFFF1D49做|r|cFFFF1C45任|r|cFFFF1A41务|r|cFFFF183D。|r\n|cFFFF1739 |r|cFFFF1535 |r|cFFFF1331更|r|cFFFF122D多|r|cFFFF1028帮|r|cFFFF0F24助|r|cFFFF0D20内|r|cFFFF0B1C容|r|cFFFF0A18，|r|cFFFF0814请|r|cFFFF0610登|r|cFFFF050C陆|r|cFFFF0308。|r|cffff0000http://wanwan."+udg_pass[13]+"."+udg_pass[14]+"|r")
call CinematicModeBJ(false,GetPlayersAll())


call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_cho2ose takes nothing returns nothing
set gg_trg_cho2ose=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_cho2ose,udg_nanduchuang2kou)
call TriggerAddAction(gg_trg_cho2ose,function Trig_cho2ose_Actions)
endfunction



function Trig_choose_Func001Func002Func001C takes nothing returns boolean
if(not(GetPlayerController(GetEnumPlayer())==MAP_CONTROL_USER))then
return false
endif
return true
endfunction
function Trig_choose_Func001Func002A takes nothing returns nothing
if(Trig_choose_Func001Func002Func001C())then
call SetPlayerTechResearchedSwap('Rhme',2,GetEnumPlayer())
set udg_nanduBL=1
else
endif
endfunction
function Trig_choose_Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nanduanniu[0]))then
return false
endif
return true
endfunction
function Trig_choose_Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nanduanniu[1]))then
return false
endif
return true
endfunction
function Trig_choose_Func003C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nanduanniu[2]))then
return false
endif
return true
endfunction
function Trig_choose_Func004C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nanduanniu[3]))then
return false
endif
return true
endfunction

function Trig_choose_Func005C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_nanduanniu[4]))then
return false
endif
return true
endfunction

function Trig_choose_Func008Func001Func001Func001C takes nothing returns boolean
if(not(udg_nanduBL==4))then
return false
endif
return true
endfunction
function Trig_choose_Func008Func001Func001C takes nothing returns boolean
if(not(udg_nanduBL==3))then
return false
endif
return true
endfunction
function Trig_choose_Func008Func001C takes nothing returns boolean
if(not(udg_nanduBL==2))then
return false
endif
return true
endfunction
function Trig_choose_Func008C takes nothing returns boolean
if(not(udg_nanduBL==1))then
return false
endif
return true
endfunction
function Trig_choose_Actions takes nothing returns nothing
if(Trig_choose_Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00 |r|cFF00EF10现|r|cFF00DF20在|r|cFF00CF30的|r|cFF00BF40游|r|cFF00AF50戏|r|cFF009F60难|r|cFF008F70度|r|cFF008080为|r|cFF00708F随|r|cFF00609F便|r|cFF0050AF玩|r|cFF0040BF玩|r|cFF0030CF |r|cFF0020DF |r")
call ForForce(GetPlayersAll(),function Trig_choose_Func001Func002A)
else
endif
if(Trig_choose_Func002C())then
call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00F00F在|r|cFF00E11E的|r|cFF00D22D游|r|cFF00C33C戏|r|cFF00B44B难|r|cFF00A55A度|r|cFF009669为|r|cFF008778普|r|cFF007887通|r|cFF006996难|r|cFF005AA5度|r|cFF004BB4 |r|cFF003CC3 |r|cFF002DD2 |r|cFF001EE1 |r")
call SetPlayerTechResearchedSwap('Rhme',1,Player(11))
call SetPlayerTechResearchedSwap('Rhme',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_nanduBL=2
else
endif
if(Trig_choose_Func003C())then
call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00F00F在|r|cFF00E11E的|r|cFF00D22D游|r|cFF00C33C戏|r|cFF00B44B难|r|cFF00A55A度|r|cFF009669为|r|cFF008778困|r|cFF007887难|r|cFF006996难|r|cFF005AA5度|r|cFF004BB4 |r|cFF003CC3 |r|cFF002DD2 |r|cFF001EE1 |r")
call SetPlayerTechResearchedSwap('Rhme',3,Player(11))
call SetPlayerTechResearchedSwap('Rhme',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_nanduBL=3
else
endif
if(Trig_choose_Func004C())then
call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00EE11在|r|cFF00DD22的|r|cFF00CC33游|r|cFF00BB44戏|r|cFF00AA55难|r|cFF009966度|r|cFF008877为|r|cFF007788极|r|cFF006699难|r|cFF0055AA |r|cFF0044BB |r|cFF0033CC |r|cFF0022DD |r")
call SetPlayerTechResearchedSwap('Rhme',5,Player(11))
call SetPlayerTechResearchedSwap('Rhme',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_nanduBL=4
else
endif
if(Trig_choose_Func005C())then
call DisplayTextToForce(GetPlayersAll(),"|cFF00FF00现|r|cFF00EE11在|r|cFF00DD22的|r|cFF00CC33游|r|cFF00BB44戏|r|cFF00AA55难|r|cFF009966度|r|cFF008877为|r|cFF007788疯狂|r|cFF006699难度|r|cFF0055AA |r|cFF0044BB |r|cFF0033CC |r|cFF0022DD |r")
call SetPlayerTechResearchedSwap('Rhme',7,Player(11))
call SetPlayerTechResearchedSwap('Rhme',5,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('Rhla',1,Player(11))
set udg_nanduBL=4
set udg_selfdestruct=2
else
endif


call DisplayTextToForce(GetPlayersAll(),"|cFFFF66FF本|r|cFFFF64FB图|r|cFFFF63F7回|r|cFFFF61F3城|r|cFFFF60EF方|r|cFFFF5EEB式|r|cFFFF5CE7：|r|cFFFF5BE3 |r|cFFFF59DF |r|cFFFF57DB1|r|cFFFF56D7.|r|cFFFF54D2聊|r|cFFFF53CE天|r|cFFFF51CA栏|r|cFFFF4FC6输|r|cFFFF4EC2入|r|cFFFF4CBEH|r|cFFFF4ABAC|r|cFFFF49B6或|r|cFFFF47B2者|r|cFFFF46AEH|r|cFFFF44AAG|r|cFFFF42A6。|r|cFFFF41A2 |r|cFFFF3F9E |r|cFFFF3E9A2|r|cFFFF3C96.|r|cFFFF3A92宝|r|cFFFF398E宝|r|cFFFF378A技|r|cFFFF3586能|r|cFFFF3482回|r|cFFFF327D城|r|cFFFF3179 |r|cFFFF2F75 |r\n")
call DisplayTextToForce(GetPlayersAll(),"|cFFFF2D71游|r|cFFFF2C6D戏|r|cFFFF2A69前|r|cFFFF2865期|r|cFFFF2761可|r|cFFFF255D到|r|cFFFF2459学|r|cFFFF2255校|r|cFFFF2051后|r|cFFFF1F4D山|r|cFFFF1D49做|r|cFFFF1C45任|r|cFFFF1A41务|r|cFFFF183D。|r\n|cFFFF1739 |r|cFFFF1535 |r|cFFFF1331更|r|cFFFF122D多|r|cFFFF1028帮|r|cFFFF0F24助|r|cFFFF0D20内|r|cFFFF0B1C容|r|cFFFF0A18，|r|cFFFF0814请|r|cFFFF0610登|r|cFFFF050C陆|r|cFFFF0308。|r|cffff0000http://wanwan."+udg_pass[13]+"."+udg_pass[14]+"|r")
call CinematicModeBJ(false,GetPlayersAll())
if(Trig_choose_Func008C())then
set udg_SGjiange=95.00
else
if(Trig_choose_Func008Func001C())then
set udg_SGjiange=85.00
else
if(Trig_choose_Func008Func001Func001C())then
set udg_SGjiange=75.00
else
if(Trig_choose_Func008Func001Func001Func001C())then
set udg_SGjiange=65.00
else
endif
endif
endif
endif
call TriggerExecute(gg_trg_chuang2kou)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_choose takes nothing returns nothing
set gg_trg_choose=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_choose,udg_nanduchuangkou)
call TriggerAddAction(gg_trg_choose,function Trig_choose_Actions)
endfunction
function Trig_yingcangnandu_Conditions takes nothing returns boolean
if(not(udg_ycndu==false))then
return false
endif
if(not(udg_nanduBL==4))then
return false
endif
return true
endfunction
function Trig_yingcangnandu_Actions takes nothing returns nothing
set udg_ycndu=true
if(udg_selfdestruct==2)then
set udg_selfdestruct=udg_selfdestruct+2
call SetPlayerTechResearchedSwap('Rhme',8,Player(11))
call SetPlayerTechResearchedSwap('Rhme',6,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('Rhla',1,Player(11))
set udg_ycndu=false
call DisplayTimedTextToForce(GetPlayersAll(),30,("|CFFFF0000"+(GetPlayerName(GetTriggerPlayer())+"开启了隐藏难度！怪物强度提升！")))
else
if((udg_selfdestruct==4)and(udg_hard7==0))then
if(udg_renshu>40)then
set udg_selfdestruct=4
call SetPlayerTechResearchedSwap('Rhme',9,Player(11))
call SetPlayerTechResearchedSwap('Rhme',6,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('Rhla',1,Player(11))
set udg_nanduBL=4
set udg_hard7=1
call DisplayTimedTextToForce(GetPlayersAll(),30,("|CFFFFAA00"+(GetPlayerName(GetTriggerPlayer())+"开启了究极难度！请各位大虾小心！")))
else
call DisplayTimedTextToForce(GetPlayersAll(),30,("|CFF00AA00"+(GetPlayerName(GetTriggerPlayer())+"此难度单人无法开启！")))
endif
endif
endif
set udg_SGjiange=62.00
endfunction
function InitTrig_yingcangnandu takes nothing returns nothing
set gg_trg_yingcangnandu=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_yingcangnandu,Player(0),"-BT",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yingcangnandu,Player(1),"-BT",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yingcangnandu,Player(2),"-BT",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yingcangnandu,Player(3),"-BT",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yingcangnandu,Player(4),"-BT",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yingcangnandu,Player(5),"-BT",true)
call TriggerAddCondition(gg_trg_yingcangnandu,Condition(function Trig_yingcangnandu_Conditions))
call TriggerAddAction(gg_trg_yingcangnandu,function Trig_yingcangnandu_Actions)
endfunction
function Trig_yingcangnandu_______u_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_yingcangnandu)
endfunction
function InitTrig_yingcangnandu_______u takes nothing returns nothing
set gg_trg_yingcangnandu_______u=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_yingcangnandu_______u,120.00)
call TriggerAddAction(gg_trg_yingcangnandu_______u,function Trig_yingcangnandu_______u_Actions)
endfunction
function Trig_yincang_Actions takes nothing returns nothing
set udg_pking=true
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_yincang takes nothing returns nothing
set gg_trg_yincang=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_yincang,Player(0),"youling."+udg_pass[13]+"."+udg_pass[14]+"",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yincang,Player(1),"youling."+udg_pass[13]+"."+udg_pass[14]+"",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yincang,Player(2),"youling."+udg_pass[13]+"."+udg_pass[14]+"",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yincang,Player(3),"youling."+udg_pass[13]+"."+udg_pass[14]+"",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yincang,Player(4),"youling."+udg_pass[13]+"."+udg_pass[14]+"",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yincang,Player(5),"youling."+udg_pass[13]+"."+udg_pass[14]+"",true)
call TriggerAddAction(gg_trg_yincang,function Trig_yincang_Actions)
endfunction
function Trig_xuanze_Conditions takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________004,GetTriggerUnit())==true))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='H000'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='Edem'))then
return false
endif
if(not(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]==null))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hamg_0240))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Edem_0010))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H007_0238))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Orex_0018))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Obla_0007))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H000_0005))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hvwd_0006))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ogrh_0091))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hmkg_0053))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Harf_0190))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Udre_0182))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Otch_0172))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ofar_0180))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Oshd_0176))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Ekee_0181))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H005_0020))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hpal_0235))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func002C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Hblm_0191))then
return false
endif
return true
endfunction
function Trig_xuanze_Func002Func016A takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),(udg_renshu+40.00))
endfunction
function Trig_xuanze_Func002C takes nothing returns boolean
if(not(GetUnitUserData(GetTriggerUnit())==GetConvertedPlayerId(GetTriggerPlayer())))then
return false
endif
return true
endfunction
function Trig_xuanze_Actions takes nothing returns nothing
if(Trig_xuanze_Func002C())then
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call GroupRemoveUnitSimple(GetTriggerUnit(),udg_group_yingx)
call UnitAddItemByIdSwapped('oflg',GetTriggerUnit())
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________005),0.20)
set udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_bbtwo[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
set udg_shuaxinsj=(udg_shuaxinsj-0.10)
set udg_renshu=(udg_renshu+50.00)
call ForForce(GetPlayersAllies(Player(7)),function Trig_xuanze_Func002Func016A)
call DisplayTextToForce(GetPlayersAll(),("当前经验率为"+(R2S((udg_renshu+40.00))+"%")))
else
if(Trig_xuanze_Func002Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8兽神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8力量近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8召唤豪猪，技能强化，豪猪进化，合体|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8神魂附体|r \n|cFFFF0000重修技能：|r|cFF1BE6B8兽人咆哮|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8狂野森林长大，与野兽为伍，有着超强的控兽能力，但却头脑简单\n80级即可入世重修|r  \n\n\n")
else
if(Trig_xuanze_Func002Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8力量神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8力量近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8没事锤锤,没事插插,我挡,天神下凡|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8天神的庇佑|r \n|cFFFF0000重修技能：|r|cFF1BE6B8挨打功|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8有着比蒙巨兽的血统，天生狂暴且崇尚力量，有着兽族彪悍的身材和抗击打能力，执着的追求力量的巅峰|r  \n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8赌神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8力量近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8赌神飞镖,赌钱,赌属性,赌命|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8赌神心法|r \n|cFFFF0000重修技能：|r|cFF1BE6B8一线生机|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8一个流氓+无赖，白天混迹于各大赌场，夜晚却是劫富济贫，这样的人到底有着什么样的秘密......|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8刀神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8贱系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8力量近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8惊天刀气,粉碎,刀气附体,狂化|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8生命法印|r \n|cFFFF0000重修技能：|r|cFF1BE6B8惊神刀气|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8一把黝黑的无名刀，一本破烂的无名刀谱，创造了只属于一个人的传说|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8射神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8贱系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷远程型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8暗枪,荡贱术,强击光环,万贱术|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8极限速度|r \n|cFFFF0000重修技能：|r|cFF1BE6B8分身术|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8出生时，口含金色小箭，眼神仿佛能洞穿一切|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8战神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8羲和之封,重击,战神一击,神佛杀|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8战神气息|r \n|cFFFF0000重修技能：|r|cFF1BE6B8迅步|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8传说中的人物|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8剑神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8贱系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8贱气逼人,致命一击,镜像,贱人风暴|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8贱气|r \n|cFFFF0000重修技能：|r|cFF1BE6B8神之分身|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8武器之道，唯快不破，剑者无敌|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8暗杀之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8疾风步,施毒术,背刺,瞬步斩|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8幻影迷踪|r \n|cFFFF0000重修技能：|r|cFF1BE6B8吸引守卫|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8无处不在，无孔不入，无往不利|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8枪神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8贱系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8基本枪法,枪魂之盾,雷狱天枪,枪魂灭|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8弑神枪法|r \n|cFFFF0000重修技能：|r|cFF1BE6B8战斗技巧|r \n|cFFFF0000英雄简介：|r|cFF1BE6B83岁习枪，7岁略有所成，15岁巅峰寂寞，25岁未曾一败\n枪神精妙的技巧受到许多长者的青睐，80级即可入世重修|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8风神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8风之束缚,激活献祭,闪避,变身(变身附带:风神之力)|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8黑暗力量|r \n|cFFFF0000重修技能：|r|cFF1BE6B8疯狂变身|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8长得玉树临风，潇洒倜傥，俗称少女杀手|r\n\n\n")
else
if(Trig_xuanze_Func002Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8冰神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8贱系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷远程型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8冰环爆,冰凌环绕,冰箱,冰封天下|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8冰之本源|r \n|cFFFF0000重修技能：|r|cFF1BE6B8霜冻闪电|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8冰霜的魔法，冰霜的面孔，所到之处寒气四逼|r\n\n\n")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
if(Trig_xuanze_Func002Func002C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8生命之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8生命之光,生命之阵,重生,燃烧生命|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8生命祈祷|r \n|cFFFF0000重修技能：|r|cFF1BE6B8生命恢复|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8机缘巧合得到一颗精灵之泪，吸收后，那强大的生命能量令整个大陆生机勃发|r\n\n\n")
else
if(Trig_xuanze_Func002Func002Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8空间之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷远程型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8空间标识,天外来箭,强化,空间乱流|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8空间召唤|r \n|cFFFF0000重修技能：|r|cFF1BE6B8空间追踪|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8美貌与正义的化身，远观像不食人间烟火的仙女，近看又有小女孩的娇媚|r\n\n\n")
else
if(Trig_xuanze_Func002Func002Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8法神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力远程型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8淫荡风暴,魔力抗拒,净化术,冰霜闪电|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8淫荡神力|r \n|cFFFF0000重修技能：|r|cFF1BE6B8极速冷却|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8传说是在龙族长大的，身怀全系魔法，其身法亦是神鬼莫测|r\n\n\n")
else
if(Trig_xuanze_Func002Func002Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8水神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力远战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8水流冲袭,水之牢笼,水之甘露,水神咆哮|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8水涡吞噬|r \n|cFFFF0000重修技能：|r|cFF1BE6B8水脉冲|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8掌管天下水域，能随时调动为其战斗|r  \n\n\n")
else
if(Trig_xuanze_Func002Func002Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8命运之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8贱系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力远战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8命运之光,命运之封,命运之生,命运之箭|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8命运法则|r \n|cFFFF0000重修技能：|r|cFF1BE6B8命运审判|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8冥冥万物，相生相克相影相形，无形的命运牵动着有形的命运，冥冥之中，无形的神掌握了万物的命运|r  \n\n\n")
else
if(Trig_xuanze_Func002Func002Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8毁灭之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力远战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8毁灭之门,毁灭之翼,毁灭气息,神泣百花杀|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8毁灭裁决|r \n|cFFFF0000重修技能：|r|cFF1BE6B8战斗转换|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8神界三大至高神之一，血红的眼睛,嗜血的个性,一切的一切都只为毁掉一切...|r \n\n\n")
else
if(Trig_xuanze_Func002Func002Func001Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8斗神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8力量近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8水行拳,风行拳,金行拳,火星拳|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8五行混沌|r \n|cFFFF0000重修技能：|r|cFF1BE6B8土行拳|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8研究五行起家，五行合一，混沌聚。混沌开，五行现|r  \n\n\n")
else
if(Trig_xuanze_Func002Func002Func001Func001Func001Func001Func001Func001Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8雷神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8力量近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8落雷术,电磁炮,雷电之力,万雷噬天|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8雷电磁场|r \n|cFFFF0000重修技能：|r|cFF1BE6B8雷劫炼体|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8主天之灾福，持物之权衡，掌物掌人，司生司杀，唯有雷神|r  \n\n\n")
else
if(GetTriggerUnit()==gg_unit_Ewar_0138)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8超能之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8淫荡系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力远战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8神|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8神|r \n|cFFFF0000重修技能：|r|cFF1BE6B8神|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8传说中的神之子.集合所有技能之精华所造就出来的英雄.问世之时将赋予给神一种可怕的力量--MP能量之术.此术发动后.将会消耗掉目标单位的MP值.从而使目标单位精力枯竭而亡...\n天地间自有平衡.因为此英雄实力过于强大.个性傲娇.出生后就不为神能所控制.最可怕的是MP能量之术发动后.也会自动的赋予周围敌方单位此种技能.神也不能判定创造出雪舞到底是福还是祸.为避免给天地间造成丝毫的混乱.神不得已将雪舞长久的封印下去.......|r  \n\n\n")
endif
if(GetTriggerUnit()==gg_unit_Emuu_0141)then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8呜喵之神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8萌系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8智力近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8神|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8神|r \n|cFFFF0000重修技能：|r|cFF1BE6B8神|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8啊，又是无聊的一天啊。咦，那间学校是怎么回事，难道是异变么，虽然不是处理异变的人类，但是有什么麻烦的话，就不能悠闲的研究蘑菇了吧，就去看一下吧\n名字的话，就用呜喵神好了，毕竟对于人类来说，超于他们能接受的能力的话，就是神灵了吧|r  \n\n\n")
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SetUnitUserData(GetTriggerUnit(),GetConvertedPlayerId(GetTriggerPlayer()))
call TriggerSleepAction(0.20)
call SetUnitUserData(GetTriggerUnit(),111)
endif
endfunction
function InitTrig_xuanze takes nothing returns nothing
set gg_trg_xuanze=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze,Player(5),true)
call TriggerAddCondition(gg_trg_xuanze,Condition(function Trig_xuanze_Conditions))
call TriggerAddAction(gg_trg_xuanze,function Trig_xuanze_Actions)
endfunction
function Trig_xuanze_2_Conditions takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________004,GetTriggerUnit())==true))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='H000'))then
return false
endif
if(not(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]==null))then
return false
endif
return true
endfunction
function Trig_xuanze_2_Func002Func003Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H000_0005))then
return false
endif
return true
endfunction
function Trig_xuanze_2_Func002Func003Func015A takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),(udg_renshu+40.00))
endfunction
function Trig_xuanze_2_Func002Func003C takes nothing returns boolean
if(not(GetUnitUserData(GetTriggerUnit())==GetConvertedPlayerId(GetTriggerPlayer())))then
return false
endif
return true
endfunction
function Trig_xuanze_2_Func002C takes nothing returns boolean
if(not(udg_pking==true))then
return false
endif
return true
endfunction
function Trig_xuanze_2_Actions takes nothing returns nothing
if(Trig_xuanze_2_Func002C())then
if(Trig_xuanze_2_Func002Func003C())then
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call GroupRemoveUnitSimple(GetTriggerUnit(),udg_group_yingx)
call UnitAddItemByIdSwapped('oflg',GetTriggerUnit())
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________005),0.20)
set udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_bbtwo[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
set udg_shuaxinsj=(udg_shuaxinsj-0.10)
set udg_renshu=(udg_renshu+50.00)
call ForForce(GetPlayersAllies(Player(7)),function Trig_xuanze_2_Func002Func003Func015A)
call DisplayTextToForce(GetPlayersAll(),("当前经验率为"+(R2S((udg_renshu+40.00))+"%")))
else
if(Trig_xuanze_2_Func002Func003Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8战神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8羲和之封,重击,战神一击,神佛杀|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8战神气息|r \n|")
else
endif
call SetUnitUserData(GetTriggerUnit(),GetConvertedPlayerId(GetTriggerPlayer()))
call TriggerSleepAction(0.20)
call SetUnitUserData(GetTriggerUnit(),111)
endif
else
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"此英雄为隐藏英雄，需输入密码才可选择,请到wanwan."+udg_pass[13]+"."+udg_pass[14]+"查看隐藏密码。")
endif
endfunction
function InitTrig_xuanze_2 takes nothing returns nothing
set gg_trg_xuanze_2=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_2,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_2,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_2,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_2,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_2,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_2,Player(5),true)
call TriggerAddCondition(gg_trg_xuanze_2,Condition(function Trig_xuanze_2_Conditions))
call TriggerAddAction(gg_trg_xuanze_2,function Trig_xuanze_2_Actions)
endfunction
function Trig_xuanze_3_Conditions takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________004,GetTriggerUnit())==true))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='Edem'))then
return false
endif
if(not(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]==null))then
return false
endif
return true
endfunction
function Trig_xuanze_3_Func002Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_Edem_0010))then
return false
endif
return true
endfunction
function Trig_xuanze_3_Func002Func016A takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),(udg_renshu+40.00))
endfunction
function Trig_xuanze_3_Func002C takes nothing returns boolean
if(not(GetUnitUserData(GetTriggerUnit())==GetConvertedPlayerId(GetTriggerPlayer())))then
return false
endif
return true
endfunction
function Trig_xuanze_3_Actions takes nothing returns nothing
if(Trig_xuanze_3_Func002C())then
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call SetUnitOwner(GetTriggerUnit(),GetTriggerPlayer(),true)
call GroupRemoveUnitSimple(GetTriggerUnit(),udg_group_yingx)
call UnitAddItemByIdSwapped('oflg',GetTriggerUnit())
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________005),0.20)
set udg_heroname[111]=GetTriggerUnit()
set udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_bbtwo[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
set udg_shuaxinsj=(udg_shuaxinsj-0.10)
set udg_renshu=(udg_renshu+50.00)
call ForForce(GetPlayersAllies(Player(7)),function Trig_xuanze_3_Func002Func016A)
call DisplayTextToForce(GetPlayersAll(),("当前经验率为"+(R2S((udg_renshu+40.00))+"%")))
else
if(Trig_xuanze_3_Func002Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFFFF0000英雄名字：|r|cFF1BE6B8风神|r  \n|cFFFF0000所属系数：|r|cFF1BE6B8通宵系数|r \n|cFFFF0000英雄属性：|r|cFF1BE6B8敏捷近战型|r \n|cFFFF0000普通技能：|r|cFF1BE6B8风之束缚,激活献祭,闪避,变身(变身附带:风神之力)|r \n|cFFFF0000渡劫技能：|r|cFF1BE6B8黑暗力量|r \n|cFFFF0000重修技能：|r|cFF1BE6B8疯狂变身|r \n|cFFFF0000英雄简介：|r|cFF1BE6B8长得玉树临风，潇洒倜傥，俗称少女杀手|r\n\n\n")
else
endif
call SetUnitUserData(GetTriggerUnit(),GetConvertedPlayerId(GetTriggerPlayer()))
call TriggerSleepAction(0.20)
call SetUnitUserData(GetTriggerUnit(),111)
endif
endfunction
function InitTrig_xuanze_3 takes nothing returns nothing
set gg_trg_xuanze_3=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_3,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_3,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_3,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_3,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_3,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_xuanze_3,Player(5),true)
call TriggerAddCondition(gg_trg_xuanze_3,Condition(function Trig_xuanze_3_Conditions))
call TriggerAddAction(gg_trg_xuanze_3,function Trig_xuanze_3_Actions)
endfunction
function Trig_suijixuanze_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='hrif'))then
return false
endif
if(not(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]==null))then
return false
endif
return true
endfunction
function Trig_suijixuanze_Func001Func014A takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),(udg_renshu+40.00))
endfunction
function Trig_suijixuanze_Func001C takes nothing returns boolean
if(not(GetUnitUserData(GetTriggerUnit())==GetConvertedPlayerId(GetTriggerPlayer())))then
return false
endif
return true
endfunction
function Trig_suijixuanze_Actions takes nothing returns nothing
if(Trig_suijixuanze_Func001C())then
set udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]=GroupPickRandomUnit(udg_group_yingx)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],GetRectCenter(gg_rct______________005))
call GroupRemoveUnitSimple(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],udg_group_yingx)
call SetUnitOwner(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],GetTriggerPlayer(),true)
call UnitAddItemByIdSwapped('oflg',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]),GetRectCenter(gg_rct______________005),0.20)
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_bbtwo[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,'e003',GetTriggerPlayer(),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
set udg_shuaxinsj=(udg_shuaxinsj-0.10)
set udg_renshu=(udg_renshu+50.00)
call ForForce(GetPlayersAllies(Player(7)),function Trig_suijixuanze_Func001Func014A)
call DisplayTextToForce(GetPlayersAll(),("当前经验率为"+(R2S((udg_renshu+40.00))+"%")))
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"选择了随机英雄，额外奖励1W金币！"))
call AdjustPlayerStateBJ(10000,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
else
call SetUnitUserData(GetTriggerUnit(),GetConvertedPlayerId(GetTriggerPlayer()))
call TriggerSleepAction(0.20)
call SetUnitUserData(GetTriggerUnit(),111)
endif
endfunction
function InitTrig_suijixuanze takes nothing returns nothing
set gg_trg_suijixuanze=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_suijixuanze,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_suijixuanze,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_suijixuanze,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_suijixuanze,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_suijixuanze,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_suijixuanze,Player(5),true)
call TriggerAddCondition(gg_trg_suijixuanze,Condition(function Trig_suijixuanze_Conditions))
call TriggerAddAction(gg_trg_suijixuanze,function Trig_suijixuanze_Actions)
endfunction
function Trig_HeroFuhuo_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif
if(not(udg_ppp[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
if(GetTriggerUnit()==udg_heroname[udg_shenjie2ing])then
return false
endif
return true
endfunction
function Trig_HeroFuhuo_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetUnitName(GetTriggerUnit())+"已经阵亡，15秒后自动复活！！！"))
call StartTimerBJ(udg_fuhuo[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,15.00)
call CreateTimerDialogBJ(bj_lastStartedTimer,(GetUnitName(GetTriggerUnit())+"复活"))
set udg_fuhuochuangkou[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetLastCreatedTimerDialogBJ()
set udg_countdeath=udg_countdeath+1
if(udg_selfdestruct>=4)then
if(udg_countdeath==5*udg_renshu/50)then
call CreateNUnitsAtLoc(20,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetUnitName(GetTriggerUnit())+"团队死亡次数过多，特殊怪：秒死你X20进攻！！！"))
else
endif 
if(udg_countdeath==10*udg_renshu/50)then
call CreateNUnitsAtLoc(50,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetUnitName(GetTriggerUnit())+"团队死亡次数过多，特殊怪：秒死你X50进攻！！！"))
else
endif
if(udg_countdeath==15*udg_renshu/50)then
call CreateNUnitsAtLoc(100,'ubdr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetUnitName(GetTriggerUnit())+"团队死亡次数过多，特殊怪：秒死你X100进攻！！！"))
else
endif   
endif     
endfunction
function InitTrig_HeroFuhuo takes nothing returns nothing
set gg_trg_HeroFuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroFuhuo,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_HeroFuhuo,Condition(function Trig_HeroFuhuo_Conditions))
call TriggerAddAction(gg_trg_HeroFuhuo,function Trig_HeroFuhuo_Actions)
endfunction
function Trig_HeroFuhuo1_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetExpiredTimer()==udg_fuhuo[bj_forLoopAIndex]then
call ReviveHeroLoc(udg_heroname[bj_forLoopAIndex],GetRectCenter(gg_rct______________005),true)
call SetUnitManaPercentBJ(udg_heroname[bj_forLoopAIndex],100)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_heroname[bj_forLoopAIndex]),GetRectCenter(gg_rct______________005),0.00)
call DestroyTimerDialog(udg_fuhuochuangkou[bj_forLoopAIndex])


call DisplayTextToForce(GetPlayersAll(),"|cffff00ff由于英雄死亡，侵蚀率上升|cffffffff"+R2S((100-udg_qinshilv)*0.1*4/(udg_siwangcishu[bj_forLoopAIndex]+4))+"%！！！！")
set udg_siwangcishu[bj_forLoopAIndex]=(udg_siwangcishu[bj_forLoopAIndex]+1)
set udg_score[bj_forLoopAIndex]=udg_score[bj_forLoopAIndex]-1
set udg_qinshilv=udg_qinshilv+(100-udg_qinshilv)*0.1*5/(udg_siwangcishu[bj_forLoopAIndex]+5)
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_HeroFuhuo1 takes nothing returns nothing
set gg_trg_HeroFuhuo1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroFuhuo1,udg_fuhuo[1])
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroFuhuo1,udg_fuhuo[2])
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroFuhuo1,udg_fuhuo[3])
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroFuhuo1,udg_fuhuo[4])
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroFuhuo1,udg_fuhuo[5])
call TriggerRegisterTimerExpireEventBJ(gg_trg_HeroFuhuo1,udg_fuhuo[6])
call TriggerAddAction(gg_trg_HeroFuhuo1,function Trig_HeroFuhuo1_Actions)
endfunction
function Trig_Make_Func001A takes nothing returns nothing
call TriggerRegisterDeathEvent(gg_trg_chongsheng,GetFilterDestructable())
endfunction
function Trig_Make_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(GetPlayableMapRect(),function Trig_Make_Func001A)
endfunction
function InitTrig_Make takes nothing returns nothing
set gg_trg_Make=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Make,1.00)
call TriggerAddAction(gg_trg_Make,function Trig_Make_Actions)
endfunction
function Trig_chongsheng_Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetDyingDestructable())=='ITtw'))then
return false
endif
return true
endfunction
function Trig_chongsheng_Actions takes nothing returns nothing
if(Trig_chongsheng_Func001C())then
set udg_point=GetDestructableLoc(GetDyingDestructable())
call CreateItemLoc('mcou',udg_point)
call RemoveLocation(udg_point)
else
endif
call TriggerSleepAction(60.00)
call DestructableRestoreLife(GetDyingDestructable(),GetDestructableMaxLife(GetLastCreatedDestructable()),false)
endfunction
function InitTrig_chongsheng takes nothing returns nothing
set gg_trg_chongsheng=CreateTrigger()
call TriggerAddAction(gg_trg_chongsheng,function Trig_chongsheng_Actions)
endfunction
function Trig_win1_Func001A takes nothing returns nothing
call CustomVictoryBJ(GetEnumPlayer(),true,true)
endfunction
function Trig_win1_Actions takes nothing returns nothing
call ForForce(GetPlayersAllies(Player(7)),function Trig_win1_Func001A)
endfunction
function InitTrig_win1 takes nothing returns nothing
set gg_trg_win1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_win1,udg_win)
call TriggerAddAction(gg_trg_win1,function Trig_win1_Actions)
endfunction
function Trig_fail_Func001A takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(),"失败!")
endfunction
function Trig_fail_Actions takes nothing returns nothing
call ForForce(GetPlayersAllies(Player(7)),function Trig_fail_Func001A)
endfunction
function InitTrig_fail takes nothing returns nothing
set gg_trg_fail=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_fail,udg_fail)
call TriggerRegisterTimerExpireEventBJ(gg_trg_fail,udg_fail1)
call TriggerAddAction(gg_trg_fail,function Trig_fail_Actions)
endfunction
function Trig_fial1_Func001A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(gg_rct________003),0.50)
endfunction
function Trig_fial1_Actions takes nothing returns nothing
call ForForce(GetPlayersAllies(Player(7)),function Trig_fial1_Func001A)
call TriggerExecute(gg_trg_jieweidonghua)
endfunction
function InitTrig_fial1 takes nothing returns nothing
set gg_trg_fial1=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_fial1,gg_unit_h001_0004,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_fial1,function Trig_fial1_Actions)
endfunction
function Trig_fail_______u_Func002A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(gg_rct________003),0.50)
endfunction
function Trig_fail_______u_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|cffff0000由于在2分钟内，没有摧毁学校董事长办公室，游戏失败！！")
call ForForce(GetPlayersAllies(Player(7)),function Trig_fail_______u_Func002A)
call TriggerExecute(gg_trg_jieweidonghua)
endfunction
function InitTrig_fail_______u takes nothing returns nothing
set gg_trg_fail_______u=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_fail_______u,udg_fangong)
call TriggerAddAction(gg_trg_fail_______u,function Trig_fail_______u_Actions)
endfunction
function Trig_jieweidonghua_Func004002 takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function Trig_jieweidonghua_Actions takes nothing returns nothing
call StartTimerBJ(udg_fail1,false,60.00)
call CreateTimerDialogBJ(udg_fail1,"|cffff0000游戏结束|r")
set udg_shuaguai=0
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function Trig_jieweidonghua_Func004002)
call DisableTrigger(gg_trg_counter2)
call DisableTrigger(gg_trg_HeroFuhuo1)
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000游戏失败，重新再来吧！\n欢迎到论坛查看通关攻略！\n和提出对地图的任何建议！\nwanwan."+udg_pass[13]+"."+udg_pass[14]+"")
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=100
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateTextTagLocBJ("wanwan."+udg_pass[13]+"."+udg_pass[14]+"",GetRectCenter(gg_rct________003),0,(5.00+(I2R(bj_forLoopAIndex)*2.20)),0.00,100.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,(45.00*I2R(bj_forLoopAIndex)))
call SetTextTagLifespan(GetLastCreatedTextTag(),5)
call TriggerSleepAction(1.00)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
endfunction
function InitTrig_jieweidonghua takes nothing returns nothing
set gg_trg_jieweidonghua=CreateTrigger()
call TriggerAddAction(gg_trg_jieweidonghua,function Trig_jieweidonghua_Actions)
endfunction
function Trig_fangkaguai_Func001Func001Func002001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_fangkaguai_Func001Func001Func002001001002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_fangkaguai_Func001Func001Func002001001002002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(11))
endfunction
function Trig_fangkaguai_Func001Func001Func002001001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_fangkaguai_Func001Func001Func002001001002002001(),Trig_fangkaguai_Func001Func001Func002001001002002002())
endfunction
function Trig_fangkaguai_Func001Func001Func002001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_fangkaguai_Func001Func001Func002001001002001(),Trig_fangkaguai_Func001Func001Func002001001002002())
endfunction
function Trig_fangkaguai_Func001Func001Func005A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(gg_rct________003),0.50)
endfunction
function Trig_fangkaguai_Func001Func001C takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________124,Condition(function Trig_fangkaguai_Func001Func001Func002001001002)))>=160))then
return false
endif
return true
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002002001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002002001002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uske')
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002002001 takes nothing returns boolean
return GetBooleanAnd(Trig_fangkaguai_Func001Func003Func007001001002002001001(),Trig_fangkaguai_Func001Func003Func007001001002002001002())
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(11))
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_fangkaguai_Func001Func003Func007001001002002001(),Trig_fangkaguai_Func001Func003Func007001001002002002())
endfunction
function Trig_fangkaguai_Func001Func003Func007001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_fangkaguai_Func001Func003Func007001001002001(),Trig_fangkaguai_Func001Func003Func007001001002002())
endfunction
function Trig_fangkaguai_Func001Func003C takes nothing returns boolean
if(not(CountUnitsInGroup(GetUnitsInRectMatching(gg_rct______________124,Condition(function Trig_fangkaguai_Func001Func003Func007001001002)))>=180))then
return false
endif
return true
endfunction
function Trig_fangkaguai_Func001C takes nothing returns boolean
if(not(udg_kaguai==false))then
return false
endif
return true
endfunction
function Trig_fangkaguai_Actions takes nothing returns nothing
if(Trig_fangkaguai_Func001C())then
if(Trig_fangkaguai_Func001Func003C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000请注意！！请注意！！地图进攻怪物堆积过多，请速度清理，否则一分钟后游戏将失败！")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000请注意！！请注意！！地图进攻怪物堆积过多，请速度清理，否则一分钟后游戏将失败！")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000请注意！！请注意！！地图进攻怪物堆积过多，请速度清理，否则一分钟后游戏将失败！")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000请注意！！请注意！！地图进攻怪物堆积过多，请速度清理，否则一分钟后游戏将失败！")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000请注意！！请注意！！地图进攻怪物堆积过多，请速度清理，否则一分钟后游戏将失败！")
set udg_kaguai=true
else
endif
else
if(Trig_fangkaguai_Func001Func001C())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000地图进攻怪物堆积过多，游戏失败。")
call TriggerExecute(gg_trg_jieweidonghua)
call ForForce(GetPlayersAllies(Player(7)),function Trig_fangkaguai_Func001Func001Func005A)
else
set udg_kaguai=false
endif
endif
endfunction
function InitTrig_fangkaguai takes nothing returns nothing
set gg_trg_fangkaguai=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_fangkaguai,60.00)
call TriggerAddAction(gg_trg_fangkaguai,function Trig_fangkaguai_Actions)
endfunction
function Trig_hke_Z01_______u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z01_______u_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________031)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z01_______u takes nothing returns nothing
set gg_trg_hke_Z01_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z01_______u,gg_rct______________123)
call TriggerAddCondition(gg_trg_hke_Z01_______u,Condition(function Trig_hke_Z01_______u_Conditions))
call TriggerAddAction(gg_trg_hke_Z01_______u,function Trig_hke_Z01_______u_Actions)
endfunction
function Trig_BOSSyidong_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_BOSSyidong_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________110)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000进入了异空间！"))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_BOSSyidong takes nothing returns nothing
set gg_trg_BOSSyidong=CreateTrigger()
call DisableTrigger(gg_trg_BOSSyidong)
call TriggerRegisterEnterRectSimple(gg_trg_BOSSyidong,gg_rct______________109)
call TriggerAddCondition(gg_trg_BOSSyidong,Condition(function Trig_BOSSyidong_Conditions))
call TriggerAddAction(gg_trg_BOSSyidong,function Trig_BOSSyidong_Actions)
endfunction
function Trig_hke_Z21_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z21_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________040)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z21 takes nothing returns nothing
set gg_trg_hke_Z21=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z21,gg_rct______________039)
call TriggerAddCondition(gg_trg_hke_Z21,Condition(function Trig_hke_Z21_Conditions))
call TriggerAddAction(gg_trg_hke_Z21,function Trig_hke_Z21_Actions)
endfunction
function Trig_hke_Z31_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z31_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________042)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z31 takes nothing returns nothing
set gg_trg_hke_Z31=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z31,gg_rct______________041)
call TriggerAddCondition(gg_trg_hke_Z31,Condition(function Trig_hke_Z31_Conditions))
call TriggerAddAction(gg_trg_hke_Z31,function Trig_hke_Z31_Actions)
endfunction
function Trig_hke_Z41_______u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z41_______u_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________011)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z41_______u takes nothing returns nothing
set gg_trg_hke_Z41_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z41_______u,gg_rct______________010)
call TriggerAddCondition(gg_trg_hke_Z41_______u,Condition(function Trig_hke_Z41_______u_Conditions))
call TriggerAddAction(gg_trg_hke_Z41_______u,function Trig_hke_Z41_______u_Actions)
endfunction
function Trig_hke_Z41______________u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z41______________u_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________015)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z41______________u takes nothing returns nothing
set gg_trg_hke_Z41______________u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z41______________u,gg_rct______________012)
call TriggerAddCondition(gg_trg_hke_Z41______________u,Condition(function Trig_hke_Z41______________u_Conditions))
call TriggerAddAction(gg_trg_hke_Z41______________u,function Trig_hke_Z41______________u_Actions)
endfunction
function Trig_hke_Z41_______________2_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z41_______________2_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________017)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z41_______________2 takes nothing returns nothing
set gg_trg_hke_Z41_______________2=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z41_______________2,gg_rct______________016)
call TriggerAddCondition(gg_trg_hke_Z41_______________2,Condition(function Trig_hke_Z41_______________2_Conditions))
call TriggerAddAction(gg_trg_hke_Z41_______________2,function Trig_hke_Z41_______________2_Actions)
endfunction
function Trig_hke_Z41_______________3_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_hke_Z41_______________3_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________043)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hke_Z41_______________3 takes nothing returns nothing
set gg_trg_hke_Z41_______________3=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_hke_Z41_______________3,gg_rct______________030)
call TriggerAddCondition(gg_trg_hke_Z41_______________3,Condition(function Trig_hke_Z41_______________3_Conditions))
call TriggerAddAction(gg_trg_hke_Z41_______________3,function Trig_hke_Z41_______________3_Actions)
endfunction
function Trig_Moneyout________9_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_Moneyout________9_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________005)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_Moneyout________9 takes nothing returns nothing
set gg_trg_Moneyout________9=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Moneyout________9,gg_rct______________009)
call TriggerRegisterEnterRectSimple(gg_trg_Moneyout________9,gg_rct______________069)
call TriggerRegisterEnterRectSimple(gg_trg_Moneyout________9,gg_rct______________018)
call TriggerRegisterEnterRectSimple(gg_trg_Moneyout________9,gg_rct______________071)
call TriggerRegisterEnterRectSimple(gg_trg_Moneyout________9,gg_rct______________008)
call TriggerRegisterEnterRectSimple(gg_trg_Moneyout________9,gg_rct______________134)
call TriggerAddCondition(gg_trg_Moneyout________9,Condition(function Trig_Moneyout________9_Conditions))
call TriggerAddAction(gg_trg_Moneyout________9,function Trig_Moneyout________9_Actions)
endfunction
function Trig_sheng_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03W'))then
return false
endif
return true
endfunction
function Trig_sheng_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________062)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_sheng takes nothing returns nothing
set gg_trg_sheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sheng,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_sheng,Condition(function Trig_sheng_Conditions))
call TriggerAddAction(gg_trg_sheng,function Trig_sheng_Actions)
endfunction
function Trig_shen_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03Y'))then
return false
endif
return true
endfunction
function Trig_shen_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________061)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_shen takes nothing returns nothing
set gg_trg_shen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shen,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_shen,Condition(function Trig_shen_Conditions))
call TriggerAddAction(gg_trg_shen,function Trig_shen_Actions)
endfunction
function Trig_xian_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03V'))then
return false
endif
return true
endfunction
function Trig_xian_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________060)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_xian takes nothing returns nothing
set gg_trg_xian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xian,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_xian,Condition(function Trig_xian_Conditions))
call TriggerAddAction(gg_trg_xian,function Trig_xian_Actions)
endfunction
function Trig_honglong_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03X'))then
return false
endif
return true
endfunction
function Trig_honglong_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________067)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_honglong takes nothing returns nothing
set gg_trg_honglong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_honglong,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_honglong,Condition(function Trig_honglong_Conditions))
call TriggerAddAction(gg_trg_honglong,function Trig_honglong_Actions)
endfunction
function Trig_qinglong_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03Z'))then
return false
endif
return true
endfunction
function Trig_qinglong_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________065)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_qinglong takes nothing returns nothing
set gg_trg_qinglong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qinglong,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_qinglong,Condition(function Trig_qinglong_Conditions))
call TriggerAddAction(gg_trg_qinglong,function Trig_qinglong_Actions)
endfunction
function Trig_bangongshi_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I023'))then
return false
endif
return true
endfunction
function Trig_bangongshi_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________059)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_bangongshi takes nothing returns nothing
set gg_trg_bangongshi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bangongshi,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_bangongshi,Condition(function Trig_bangongshi_Conditions))
call TriggerAddAction(gg_trg_bangongshi,function Trig_bangongshi_Actions)
endfunction
function Trig_guangcheng_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I05J'))then
return false
endif
return true
endfunction
function Trig_guangcheng_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________156)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_guangcheng takes nothing returns nothing
set gg_trg_guangcheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_guangcheng,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_guangcheng,Condition(function Trig_guangcheng_Conditions))
call TriggerAddAction(gg_trg_guangcheng,function Trig_guangcheng_Actions)
endfunction
function Trig_jiaohuang_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I05K'))then
return false
endif
return true
endfunction
function Trig_jiaohuang_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________157)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_jiaohuang takes nothing returns nothing
set gg_trg_jiaohuang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jiaohuang,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_jiaohuang,Condition(function Trig_jiaohuang_Conditions))
call TriggerAddAction(gg_trg_jiaohuang,function Trig_jiaohuang_Actions)
endfunction
function Trig_shuijing_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I05L'))then
return false
endif
return true
endfunction
function Trig_shuijing_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________138)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
call RemoveLocation(udg_point)
endfunction
function InitTrig_shuijing takes nothing returns nothing
set gg_trg_shuijing=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuijing,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_shuijing,Condition(function Trig_shuijing_Conditions))
call TriggerAddAction(gg_trg_shuijing,function Trig_shuijing_Actions)
endfunction
function Trig_yidong________10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_yidong________10_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________126)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_yidong________10 takes nothing returns nothing
set gg_trg_yidong________10=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_yidong________10,gg_rct______________125)
call TriggerAddCondition(gg_trg_yidong________10,Condition(function Trig_yidong________10_Conditions))
call TriggerAddAction(gg_trg_yidong________10,function Trig_yidong________10_Actions)
endfunction
function Trig_yidong________10_______u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_yidong________10_______u_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________125)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_yidong________10_______u takes nothing returns nothing
set gg_trg_yidong________10_______u=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_yidong________10_______u,gg_rct______________127)
call TriggerRegisterEnterRectSimple(gg_trg_yidong________10_______u,gg_rct______________139)
call TriggerAddCondition(gg_trg_yidong________10_______u,Condition(function Trig_yidong________10_______u_Conditions))
call TriggerAddAction(gg_trg_yidong________10_______u,function Trig_yidong________10_______u_Actions)
endfunction
function Trig_yidong________11_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_yidong________11_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________129)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_yidong________11 takes nothing returns nothing
set gg_trg_yidong________11=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_yidong________11,gg_rct______________128)
call TriggerRegisterEnterRectSimple(gg_trg_yidong________11,gg_rct______________135)
call TriggerAddCondition(gg_trg_yidong________11,Condition(function Trig_yidong________11_Conditions))
call TriggerAddAction(gg_trg_yidong________11,function Trig_yidong________11_Actions)
endfunction
function Trig_yidong________12_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_yidong________12_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________131)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_yidong________12 takes nothing returns nothing
set gg_trg_yidong________12=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_yidong________12,gg_rct______________130)
call TriggerRegisterEnterRectSimple(gg_trg_yidong________12,gg_rct______________136)
call TriggerAddCondition(gg_trg_yidong________12,Condition(function Trig_yidong________12_Conditions))
call TriggerAddAction(gg_trg_yidong________12,function Trig_yidong________12_Actions)
endfunction
function Trig_yidong________13_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_yidong________13_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________133)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_yidong________13 takes nothing returns nothing
set gg_trg_yidong________13=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_yidong________13,gg_rct______________132)
call TriggerAddCondition(gg_trg_yidong________13,Condition(function Trig_yidong________13_Conditions))
call TriggerAddAction(gg_trg_yidong________13,function Trig_yidong________13_Actions)
endfunction
function Trig_yidong________17_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_yidong________17_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________138)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_yidong________17 takes nothing returns nothing
set gg_trg_yidong________17=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_yidong________17,gg_rct______________137)
call TriggerAddCondition(gg_trg_yidong________17,Condition(function Trig_yidong________17_Conditions))
call TriggerAddAction(gg_trg_yidong________17,function Trig_yidong________17_Actions)
endfunction
function Trig_jianqi_Conditions takes nothing returns boolean
if(not(udg_jianqi==true))then
return false
endif
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Obla_0007)))then
return false
endif
return true
endfunction
function Trig_jianqi_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_jianqi_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_jianqi_Func004Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_jianqi_Func004C takes nothing returns boolean
if(not Trig_jianqi_Func004Func005C())then
return false
endif
return true
endfunction
function Trig_jianqi_Actions takes nothing returns nothing
if(Trig_jianqi_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_jianqi_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_jianqi_Func004Func004C())then
call IncUnitAbilityLevelSwapped('A020',gg_unit_Obla_0007)
else
endif
else
endif
endfunction
function InitTrig_jianqi takes nothing returns nothing
set gg_trg_jianqi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianqi,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jianqi,Condition(function Trig_jianqi_Conditions))
call TriggerAddAction(gg_trg_jianqi,function Trig_jianqi_Actions)
endfunction
function Trig_tianshen_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hmkg_0053)))then
return false
endif
return true
endfunction
function Trig_tianshen_Func002C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_tianshen_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_tianshen_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_tianshen_Func003C takes nothing returns boolean
if(not Trig_tianshen_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_tianshen_Actions takes nothing returns nothing
if(Trig_tianshen_Func002C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_tianshen_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_tianshen_Func003Func004C())then
if(GetUnitAbilityLevel(gg_unit_Hmkg_0053,'A05F')<=9)then
call IncUnitAbilityLevelSwapped('A05F',gg_unit_Hmkg_0053)
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级无法继续提升"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
endif
else
endif
else
endif
endfunction
function InitTrig_tianshen takes nothing returns nothing
set gg_trg_tianshen=CreateTrigger()
call DisableTrigger(gg_trg_tianshen)
call TriggerRegisterAnyUnitEventBJ(gg_trg_tianshen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_tianshen,Condition(function Trig_tianshen_Conditions))
call TriggerAddAction(gg_trg_tianshen,function Trig_tianshen_Actions)
endfunction
function Trig_yindang_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_H005_0020)))then
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(udg_bianyifashen)))then
return false
endif
endif
if(not(udg_YDSHENLI==true))then
return false
endif
return true
endfunction
function Trig_yindang_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_yindang_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_yindang_Func004Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_yindang_Func004C takes nothing returns boolean
if(not Trig_yindang_Func004Func005C())then
return false
endif
return true
endfunction
function Trig_yindang_Actions takes nothing returns nothing
if(Trig_yindang_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_yindang_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_yindang_Func004Func004C())then
call IncUnitAbilityLevelSwapped('A02K',gg_unit_H005_0020)
//call IncUnitAbilityLevelSwapped('A02K',gg_unit_H005_0020)
else
endif
else
endif
endfunction
function InitTrig_yindang takes nothing returns nothing
set gg_trg_yindang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yindang,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_yindang,Condition(function Trig_yindang_Conditions))
call TriggerAddAction(gg_trg_yindang,function Trig_yindang_Actions)
endfunction
function Trig_heian_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Edem_0010)))then
return false
endif
return true
endfunction
function Trig_heian_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_heian_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_heian_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_heian_Func003C takes nothing returns boolean
if(not Trig_heian_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_heian_Actions takes nothing returns nothing
if(Trig_heian_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_heian_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_heian_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A05W',gg_unit_Edem_0010)
else
endif
else
endif
endfunction
function InitTrig_heian takes nothing returns nothing
set gg_trg_heian=CreateTrigger()
call DisableTrigger(gg_trg_heian)
call TriggerRegisterAnyUnitEventBJ(gg_trg_heian,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_heian,Condition(function Trig_heian_Conditions))
call TriggerAddAction(gg_trg_heian,function Trig_heian_Actions)
endfunction
function Trig_zhanshen_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_H000_0005)))then
return false
endif
return true
endfunction
function Trig_zhanshen_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_zhanshen_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_zhanshen_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_zhanshen_Func003C takes nothing returns boolean
if(not Trig_zhanshen_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_zhanshen_Actions takes nothing returns nothing
if(Trig_zhanshen_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_zhanshen_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_zhanshen_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A05U',gg_unit_H000_0005)
else
endif
else
endif
endfunction
function InitTrig_zhanshen takes nothing returns nothing
set gg_trg_zhanshen=CreateTrigger()
call DisableTrigger(gg_trg_zhanshen)
call TriggerRegisterAnyUnitEventBJ(gg_trg_zhanshen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zhanshen,Condition(function Trig_zhanshen_Conditions))
call TriggerAddAction(gg_trg_zhanshen,function Trig_zhanshen_Actions)
endfunction
function Trig_jixiansudu_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hvwd_0006)))then
return false
endif
return true
endfunction
function Trig_jixiansudu_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_jixiansudu_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_jixiansudu_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_jixiansudu_Func003C takes nothing returns boolean
if(not Trig_jixiansudu_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_jixiansudu_Actions takes nothing returns nothing
if(Trig_jixiansudu_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_jixiansudu_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_jixiansudu_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A04J',gg_unit_Hvwd_0006)
else
endif
else
endif
endfunction
function InitTrig_jixiansudu takes nothing returns nothing
set gg_trg_jixiansudu=CreateTrigger()
call DisableTrigger(gg_trg_jixiansudu)
call TriggerRegisterAnyUnitEventBJ(gg_trg_jixiansudu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jixiansudu,Condition(function Trig_jixiansudu_Conditions))
call TriggerAddAction(gg_trg_jixiansudu,function Trig_jixiansudu_Actions)
endfunction
function Trig_huanyingmizong_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Orex_0018)))then
return false
endif
if(not(udg_KTjineng==true))then
return false
endif
return true
endfunction
function Trig_huanyingmizong_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_huanyingmizong_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_huanyingmizong_Func004Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_huanyingmizong_Func004C takes nothing returns boolean
if(not Trig_huanyingmizong_Func004Func005C())then
return false
endif
return true
endfunction
function Trig_huanyingmizong_Actions takes nothing returns nothing
if(Trig_huanyingmizong_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_huanyingmizong_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_huanyingmizong_Func004Func004C())then
call IncUnitAbilityLevelSwapped('A06J',gg_unit_Orex_0018)
set udg_huanyingjilv=(udg_huanyingjilv+1)
else
endif
else
endif
endfunction
function InitTrig_huanyingmizong takes nothing returns nothing
set gg_trg_huanyingmizong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanyingmizong,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_huanyingmizong,Condition(function Trig_huanyingmizong_Conditions))
call TriggerAddAction(gg_trg_huanyingmizong,function Trig_huanyingmizong_Actions)
endfunction
function Trig_doushen_Conditions takes nothing returns boolean
if(not(udg_DSjineng==true))then
return false
endif
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Ogrh_0091)))then
return false
endif
return true
endfunction
function Trig_doushen_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_doushen_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_doushen_Func004Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_doushen_Func004C takes nothing returns boolean
if(not Trig_doushen_Func004Func005C())then
return false
endif
return true
endfunction
function Trig_doushen_Actions takes nothing returns nothing
if(Trig_doushen_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_doushen_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_doushen_Func004Func004C())then
call IncUnitAbilityLevelSwapped('A06R',gg_unit_Ogrh_0091)
else
endif
else
endif
endfunction
function InitTrig_doushen takes nothing returns nothing
set gg_trg_doushen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_doushen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_doushen,Condition(function Trig_doushen_Conditions))
call TriggerAddAction(gg_trg_doushen,function Trig_doushen_Actions)
endfunction
function Trig_smzhishen_Conditions takes nothing returns boolean
if(not(udg_smqidao==true))then
return false
endif
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hblm_0191)))then
return false
endif
return true
endfunction
function Trig_smzhishen_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_smzhishen_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_smzhishen_Func004C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_smzhishen_Actions takes nothing returns nothing
if(Trig_smzhishen_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_smzhishen_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_smzhishen_Func004Func004C())then
call IncUnitAbilityLevelSwapped('A085',gg_unit_Hblm_0191)
else
call PauseUnit(gg_unit_Hblm_0191,true)
call PauseUnit(gg_unit_Hblm_0191,false)
endif
else
endif
endfunction
function InitTrig_smzhishen takes nothing returns nothing
set gg_trg_smzhishen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_smzhishen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_smzhishen,Condition(function Trig_smzhishen_Conditions))
call TriggerAddAction(gg_trg_smzhishen,function Trig_smzhishen_Actions)
endfunction
function Trig_shfuti_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Harf_0190)))then
return false
endif
if(not(udg_shfuti==true))then
return false
endif
return true
endfunction
function Trig_shfuti_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_shfuti_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_shfuti_Func004C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_shfuti_Actions takes nothing returns nothing
if(Trig_shfuti_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_shfuti_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_shfuti_Func004Func004C())then
call IncUnitAbilityLevelSwapped('A086',gg_unit_Harf_0190)
set udg_shenhunjilv=(udg_shenhunjilv+1)
else
endif
else
endif
endfunction
function InitTrig_shfuti takes nothing returns nothing
set gg_trg_shfuti=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shfuti,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shfuti,Condition(function Trig_shfuti_Conditions))
call TriggerAddAction(gg_trg_shfuti,function Trig_shfuti_Actions)
endfunction
function Trig_dushen_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_H008_0239)))then
return false
endif
return true
endfunction
function Trig_dushen_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_dushen_Func003Func005C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_dushen_Func003Func006C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_dushen_Func003C takes nothing returns boolean
if(not Trig_dushen_Func003Func006C())then
return false
endif
return true
endfunction
function Trig_dushen_Actions takes nothing returns nothing
if(Trig_dushen_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_dushen_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
set udg_dushengjnint=(udg_dushengjnint+1.00)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_dushen_Func003Func005C())then
call IncUnitAbilityLevelSwapped('A08U',gg_unit_H008_0239)
else
endif
else
endif
endfunction
function InitTrig_dushen takes nothing returns nothing
set gg_trg_dushen=CreateTrigger()
call DisableTrigger(gg_trg_dushen)
call TriggerRegisterAnyUnitEventBJ(gg_trg_dushen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_dushen,Condition(function Trig_dushen_Conditions))
call TriggerAddAction(gg_trg_dushen,function Trig_dushen_Actions)
endfunction
function Trig_qiangshen_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_H007_0238)))then
return false
endif
return true
endfunction
function Trig_qiangshen_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_qiangshen_Func003Func005C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_qiangshen_Func003Func006C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_qiangshen_Func003C takes nothing returns boolean
if(not Trig_qiangshen_Func003Func006C())then
return false
endif
return true
endfunction
function Trig_qiangshen_Actions takes nothing returns nothing
if(Trig_qiangshen_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_qiangshen_Func003C())then
set udg_qiangshenjnint=(udg_qiangshenjnint+1)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到|cffff0000"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"|r级")))
if(Trig_qiangshen_Func003Func005C())then
call IncUnitAbilityLevelSwapped('A0A0',gg_unit_H007_0238)
else
endif
else
endif
endfunction
function InitTrig_qiangshen takes nothing returns nothing
set gg_trg_qiangshen=CreateTrigger()
call DisableTrigger(gg_trg_qiangshen)
call TriggerRegisterAnyUnitEventBJ(gg_trg_qiangshen,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_qiangshen,Condition(function Trig_qiangshen_Conditions))
call TriggerAddAction(gg_trg_qiangshen,function Trig_qiangshen_Actions)
endfunction
function Trig_bingshenby_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hamg_0240)))then
return false
endif
return true
endfunction
function Trig_bingshenby_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_bingshenby_Func003Func005C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_bingshenby_Func003Func006C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_bingshenby_Func003C takes nothing returns boolean
if(not Trig_bingshenby_Func003Func006C())then
return false
endif
return true
endfunction
function Trig_bingshenby_Actions takes nothing returns nothing
if(Trig_bingshenby_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_bingshenby_Func003C())then
set udg_bingshenjnint=(udg_bingshenjnint+1)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到|cffff0000"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"|r级")))
if(Trig_bingshenby_Func003Func005C())then
call IncUnitAbilityLevelSwapped('A0BA',gg_unit_Hamg_0240)
call SetPlayerTechResearchedSwap('R002',GetUnitAbilityLevel(gg_unit_Hamg_0240,'A0BA'),GetOwningPlayer(GetKillingUnitBJ()))
else
endif
else
endif
endfunction
function InitTrig_bingshenby takes nothing returns nothing
set gg_trg_bingshenby=CreateTrigger()
call DisableTrigger(gg_trg_bingshenby)
call TriggerRegisterAnyUnitEventBJ(gg_trg_bingshenby,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_bingshenby,Condition(function Trig_bingshenby_Conditions))
call TriggerAddAction(gg_trg_bingshenby,function Trig_bingshenby_Actions)
endfunction
function Trig_kongjianshen1_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Hpal_0235)))then
return false
endif
if(not(udg_buerzhi_kongzhuanshu==true))then
return false
endif
return true
endfunction
function Trig_kongjianshen1_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_kongjianshen1_Func004Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_kongjianshen1_Func004Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_kongjianshen1_Func004C takes nothing returns boolean
if(not Trig_kongjianshen1_Func004Func005C())then
return false
endif
return true
endfunction
function Trig_kongjianshen1_Actions takes nothing returns nothing
if(Trig_kongjianshen1_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_kongjianshen1_Func004C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到|cffff0000"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"|r级")))
if(Trig_kongjianshen1_Func004Func004C())then
call IncUnitAbilityLevelSwapped('Acdb',gg_unit_Hpal_0235)
call SetPlayerTechResearchedSwap('Rhan',R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),GetOwningPlayer(GetKillingUnitBJ()))
else
endif
else
endif
endfunction
function InitTrig_kongjianshen1 takes nothing returns nothing
set gg_trg_kongjianshen1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_kongjianshen1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_kongjianshen1,Condition(function Trig_kongjianshen1_Conditions))
call TriggerAddAction(gg_trg_kongjianshen1,function Trig_kongjianshen1_Actions)
endfunction
function Trig_huimiezssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Ofar_0180)))then
return false
endif
return true
endfunction
function Trig_huimiezssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_huimiezssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_huimiezssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_huimiezssj_Func003C takes nothing returns boolean
if(not Trig_huimiezssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_huimiezssj_Actions takes nothing returns nothing
if(Trig_huimiezssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_huimiezssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_huimiezssj_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A0CL',gg_unit_Ofar_0180)
else
endif
else
endif
endfunction
function InitTrig_huimiezssj takes nothing returns nothing
set gg_trg_huimiezssj=CreateTrigger()
call DisableTrigger(gg_trg_huimiezssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_huimiezssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_huimiezssj,Condition(function Trig_huimiezssj_Conditions))
call TriggerAddAction(gg_trg_huimiezssj,function Trig_huimiezssj_Actions)
endfunction
function Trig_shuishenzssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Ekee_0181)))then
return false
endif
return true
endfunction
function Trig_shuishenzssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_shuishenzssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_shuishenzssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_shuishenzssj_Func003C takes nothing returns boolean
if(not Trig_shuishenzssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_shuishenzssj_Actions takes nothing returns nothing
if(Trig_shuishenzssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_shuishenzssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_shuishenzssj_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A0CM',gg_unit_Ekee_0181)
else
endif
else
endif
endfunction
function InitTrig_shuishenzssj takes nothing returns nothing
set gg_trg_shuishenzssj=CreateTrigger()
call DisableTrigger(gg_trg_shuishenzssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuishenzssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shuishenzssj,Condition(function Trig_shuishenzssj_Conditions))
call TriggerAddAction(gg_trg_shuishenzssj,function Trig_shuishenzssj_Actions)
endfunction

function Trig_wumiaozssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Emuu_0141)))then
return false
endif
return true
endfunction
function Trig_wumiaozssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_wumiaozssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_wumiaozssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_wumiaozssj_Func003C takes nothing returns boolean
if(not Trig_wumiaozssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_wumiaozssj_Actions takes nothing returns nothing
if(Trig_wumiaozssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_wumiaozssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_wumiaozssj_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A0EM',gg_unit_Emuu_0141)
else
endif
else
endif
endfunction
function InitTrig_wumiaozssj takes nothing returns nothing
set gg_trg_wumiaozssj=CreateTrigger()
call DisableTrigger(gg_trg_wumiaozssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_wumiaozssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_wumiaozssj,Condition(function Trig_wumiaozssj_Conditions))
call TriggerAddAction(gg_trg_wumiaozssj,function Trig_wumiaozssj_Actions)
endfunction

function Trig_chaonengzssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Ewar_0138)))then
return false
endif
return true
endfunction
function Trig_chaonengzssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_chaonengzssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_chaonengzssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_chaonengzssj_Func003C takes nothing returns boolean
if(not Trig_chaonengzssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_chaonengzssj_Actions takes nothing returns nothing
if(Trig_chaonengzssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_chaonengzssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_chaonengzssj_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A0CM',gg_unit_Ewar_0138)
else
endif
else
endif
endfunction
function InitTrig_chaonengzssj takes nothing returns nothing
set gg_trg_chaonengzssj=CreateTrigger()
call DisableTrigger(gg_trg_chaonengzssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_chaonengzssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_chaonengzssj,Condition(function Trig_chaonengzssj_Conditions))
call TriggerAddAction(gg_trg_chaonengzssj,function Trig_chaonengzssj_Actions)
endfunction
function Trig_mingyunzssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Oshd_0176)))then
return false
endif
return true
endfunction
function Trig_mingyunzssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_mingyunzssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_mingyunzssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_mingyunzssj_Func003C takes nothing returns boolean
if(not Trig_mingyunzssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_mingyunzssj_Actions takes nothing returns nothing
if(Trig_mingyunzssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_mingyunzssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_mingyunzssj_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A0CW',gg_unit_Oshd_0176)
else
endif
else
endif
endfunction
function InitTrig_mingyunzssj takes nothing returns nothing
set gg_trg_mingyunzssj=CreateTrigger()
call DisableTrigger(gg_trg_mingyunzssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_mingyunzssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_mingyunzssj,Condition(function Trig_mingyunzssj_Conditions))
call TriggerAddAction(gg_trg_mingyunzssj,function Trig_mingyunzssj_Actions)
endfunction
function Trig_doushenzssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Otch_0172)))then
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_bydoushen)))then
return false
endif
endif
return true
endfunction
function Trig_doushenzssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_doushenzssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_doushenzssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_doushenzssj_Func003C takes nothing returns boolean
if(not Trig_doushenzssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_doushenzssj_Actions takes nothing returns nothing
if(Trig_doushenzssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_doushenzssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_doushenzssj_Func003Func004C())then

if((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Otch_0172)))then

call IncUnitAbilityLevelSwapped('A0CK',gg_unit_Otch_0172)

endif
if((GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_bydoushen)))then

call IncUnitAbilityLevelSwapped('A0CK',gg_unit_bydoushen)

endif



else
endif
else
endif
endfunction
function InitTrig_doushenzssj takes nothing returns nothing
set gg_trg_doushenzssj=CreateTrigger()
call DisableTrigger(gg_trg_doushenzssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_doushenzssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_doushenzssj,Condition(function Trig_doushenzssj_Conditions))
call TriggerAddAction(gg_trg_doushenzssj,function Trig_doushenzssj_Actions)
endfunction
function Trig_leishenzssj_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(gg_unit_Udre_0182)))then
return false
endif
return true
endfunction
function Trig_leishenzssj_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'asbl')==true))then
return false
endif
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_leishenzssj_Func003Func004C takes nothing returns boolean
if(not(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<30.00))then
return false
endif
return true
endfunction
function Trig_leishenzssj_Func003Func005C takes nothing returns boolean
if(not(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>=800+10*udg_waves+(22+udg_selfdestruct*3)*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
return false
endif
return true
endfunction
function Trig_leishenzssj_Func003C takes nothing returns boolean
if(not Trig_leishenzssj_Func003Func005C())then
return false
endif
return true
endfunction
function Trig_leishenzssj_Actions takes nothing returns nothing
if(Trig_leishenzssj_Func001C())then
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2)
else
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endif
if(Trig_leishenzssj_Func003C())then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+(("的专属技能等级已升级到"+R2S(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))+"级")))
if(Trig_leishenzssj_Func003Func004C())then
call IncUnitAbilityLevelSwapped('A0CU',gg_unit_Udre_0182)
else
endif
else
endif
endfunction
function InitTrig_leishenzssj takes nothing returns nothing
set gg_trg_leishenzssj=CreateTrigger()
call DisableTrigger(gg_trg_leishenzssj)
call TriggerRegisterAnyUnitEventBJ(gg_trg_leishenzssj,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_leishenzssj,Condition(function Trig_leishenzssj_Conditions))
call TriggerAddAction(gg_trg_leishenzssj,function Trig_leishenzssj_Actions)
endfunction
function Trig_gong_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00F'))then
return false
endif
return true
endfunction
function Trig_gong_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00D'))=='I00D'))then
return false
endif
return true
endfunction
function Trig_gong_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00E'))=='I00E'))then
return false
endif
return true
endfunction
function Trig_gong_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00B'))=='I00B'))then
return false
endif
return true
endfunction
function Trig_gong_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00C'))=='I00C'))then
return false
endif
return true
endfunction
function Trig_gong_Actions takes nothing returns nothing
if(Trig_gong_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的弓已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00D'))
call UnitAddItemByIdSwapped('I00E',GetTriggerUnit())
return
else
endif
if(Trig_gong_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00E'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的弓已升级到三级")
call UnitAddItemByIdSwapped('I00B',GetTriggerUnit())
return
else
endif
if(Trig_gong_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00B'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的弓已升级到MAX级")
call UnitAddItemByIdSwapped('I00C',GetTriggerUnit())
return
else
endif
if(Trig_gong_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_gong takes nothing returns nothing
set gg_trg_gong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_gong,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_gong,Condition(function Trig_gong_Conditions))
call TriggerAddAction(gg_trg_gong,function Trig_gong_Actions)
endfunction
function Trig_dao_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01O'))then
return false
endif
return true
endfunction
function Trig_dao_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01F'))=='I01F'))then
return false
endif
return true
endfunction
function Trig_dao_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01E'))=='I01E'))then
return false
endif
return true
endfunction
function Trig_dao_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01B'))=='I01B'))then
return false
endif
return true
endfunction
function Trig_dao_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01G'))=='I01G'))then
return false
endif
return true
endfunction
function Trig_dao_Actions takes nothing returns nothing
if(Trig_dao_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的刀已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01F'))
call UnitAddItemByIdSwapped('I01E',GetTriggerUnit())
return
else
endif
if(Trig_dao_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01E'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的刀已升级到三级")
call UnitAddItemByIdSwapped('I01B',GetTriggerUnit())
return
else
endif
if(Trig_dao_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01B'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的刀已升级到MAX级")
call UnitAddItemByIdSwapped('I01G',GetTriggerUnit())
return
else
endif
if(Trig_dao_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_dao takes nothing returns nothing
set gg_trg_dao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dao,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_dao,Condition(function Trig_dao_Conditions))
call TriggerAddAction(gg_trg_dao,function Trig_dao_Actions)
endfunction
function Trig_jian_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01N'))then
return false
endif
return true
endfunction
function Trig_jian_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01H'))=='I01H'))then
return false
endif
return true
endfunction
function Trig_jian_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01C'))=='I01C'))then
return false
endif
return true
endfunction
function Trig_jian_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))=='I01I'))then
return false
endif
return true
endfunction
function Trig_jian_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01J'))=='I01J'))then
return false
endif
return true
endfunction
function Trig_jian_Actions takes nothing returns nothing
if(Trig_jian_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的剑已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01H'))
call UnitAddItemByIdSwapped('I01C',GetTriggerUnit())
return
else
endif
if(Trig_jian_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01C'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的剑已升级到三级")
call UnitAddItemByIdSwapped('I01I',GetTriggerUnit())
return
else
endif
if(Trig_jian_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01I'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的剑已升级到MAX级")
call UnitAddItemByIdSwapped('I01J',GetTriggerUnit())
return
else
endif
if(Trig_jian_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_jian takes nothing returns nothing
set gg_trg_jian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jian,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jian,Condition(function Trig_jian_Conditions))
call TriggerAddAction(gg_trg_jian,function Trig_jian_Actions)
endfunction
function Trig_zhang_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01P'))then
return false
endif
return true
endfunction
function Trig_zhang_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01M'))=='I01M'))then
return false
endif
return true
endfunction
function Trig_zhang_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01K'))=='I01K'))then
return false
endif
return true
endfunction
function Trig_zhang_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01L'))=='I01L'))then
return false
endif
return true
endfunction
function Trig_zhang_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'))=='I01D'))then
return false
endif
return true
endfunction
function Trig_zhang_Actions takes nothing returns nothing
if(Trig_zhang_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的杖已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01M'))
call UnitAddItemByIdSwapped('I01K',GetTriggerUnit())
return
else
endif
if(Trig_zhang_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01K'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的杖已升级到三级")
call UnitAddItemByIdSwapped('I01L',GetTriggerUnit())
return
else
endif
if(Trig_zhang_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I01L'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的杖已升级到MAX级")
call UnitAddItemByIdSwapped('I01D',GetTriggerUnit())
return
else
endif
if(Trig_zhang_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_zhang takes nothing returns nothing
set gg_trg_zhang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zhang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_zhang,Condition(function Trig_zhang_Conditions))
call TriggerAddAction(gg_trg_zhang,function Trig_zhang_Actions)
endfunction
function Trig_buyi_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I018'))then
return false
endif
return true
endfunction
function Trig_buyi_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))=='I00T'))then
return false
endif
return true
endfunction
function Trig_buyi_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))=='I00U'))then
return false
endif
return true
endfunction
function Trig_buyi_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))=='I00R'))then
return false
endif
return true
endfunction
function Trig_buyi_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))=='I00S'))then
return false
endif
return true
endfunction
function Trig_buyi_Actions takes nothing returns nothing
if(Trig_buyi_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"布衣已升级至二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00T'))
call UnitAddItemByIdSwapped('I00U',GetTriggerUnit())
return
else
endif
if(Trig_buyi_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00U'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"布衣已升级至三级")
call UnitAddItemByIdSwapped('I00R',GetTriggerUnit())
return
else
endif
if(Trig_buyi_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00R'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"布衣已升级至MAX级")
call UnitAddItemByIdSwapped('I00S',GetTriggerUnit())
return
else
endif
if(Trig_buyi_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_buyi takes nothing returns nothing
set gg_trg_buyi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_buyi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_buyi,Condition(function Trig_buyi_Conditions))
call TriggerAddAction(gg_trg_buyi,function Trig_buyi_Actions)
endfunction
function Trig_piyi_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I019'))then
return false
endif
return true
endfunction
function Trig_piyi_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))=='I00W'))then
return false
endif
return true
endfunction
function Trig_piyi_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00V'))=='I00V'))then
return false
endif
return true
endfunction
function Trig_piyi_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Y'))=='I00Y'))then
return false
endif
return true
endfunction
function Trig_piyi_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00X'))=='I00X'))then
return false
endif
return true
endfunction
function Trig_piyi_Actions takes nothing returns nothing
if(Trig_piyi_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"皮衣已升级至二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00W'))
call UnitAddItemByIdSwapped('I00V',GetTriggerUnit())
return
else
endif
if(Trig_piyi_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00V'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"皮衣已升级至三级")
call UnitAddItemByIdSwapped('I00Y',GetTriggerUnit())
return
else
endif
if(Trig_piyi_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00Y'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"皮衣已升级至MAX级")
call UnitAddItemByIdSwapped('I00X',GetTriggerUnit())
return
else
endif
if(Trig_piyi_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_piyi takes nothing returns nothing
set gg_trg_piyi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_piyi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_piyi,Condition(function Trig_piyi_Conditions))
call TriggerAddAction(gg_trg_piyi,function Trig_piyi_Actions)
endfunction
function Trig_dunpai_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I017'))then
return false
endif
return true
endfunction
function Trig_dunpai_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I011'))=='I011'))then
return false
endif
return true
endfunction
function Trig_dunpai_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I012'))=='I012'))then
return false
endif
return true
endfunction
function Trig_dunpai_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Z'))=='I00Z'))then
return false
endif
return true
endfunction
function Trig_dunpai_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I010'))=='I010'))then
return false
endif
return true
endfunction
function Trig_dunpai_Actions takes nothing returns nothing
if(Trig_dunpai_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"盾牌已升级至二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I011'))
call UnitAddItemByIdSwapped('I012',GetTriggerUnit())
return
else
endif
if(Trig_dunpai_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I012'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"盾牌已升级到三级")
call UnitAddItemByIdSwapped('I00Z',GetTriggerUnit())
return
else
endif
if(Trig_dunpai_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I00Z'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"盾牌已升级到MAX级")
call UnitAddItemByIdSwapped('I010',GetTriggerUnit())
return
else
endif
if(Trig_dunpai_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_dunpai takes nothing returns nothing
set gg_trg_dunpai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dunpai,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_dunpai,Condition(function Trig_dunpai_Conditions))
call TriggerAddAction(gg_trg_dunpai,function Trig_dunpai_Actions)
endfunction
function Trig_tkj_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01A'))then
return false
endif
return true
endfunction
function Trig_tkj_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I014'))=='I014'))then
return false
endif
return true
endfunction
function Trig_tkj_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))=='I015'))then
return false
endif
return true
endfunction
function Trig_tkj_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I016'))=='I016'))then
return false
endif
return true
endfunction
function Trig_tkj_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I013'))=='I013'))then
return false
endif
return true
endfunction
function Trig_tkj_Actions takes nothing returns nothing
if(Trig_tkj_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"铁盔已升级至二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I014'))
call UnitAddItemByIdSwapped('I015',GetTriggerUnit())
return
else
endif
if(Trig_tkj_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I015'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"铁盔已升级至三级")
call UnitAddItemByIdSwapped('I016',GetTriggerUnit())
return
else
endif
if(Trig_tkj_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I016'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"铁盔已升级至MAX级")
call UnitAddItemByIdSwapped('I013',GetTriggerUnit())
return
else
endif
if(Trig_tkj_Func006C())then
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(3,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_tkj takes nothing returns nothing
set gg_trg_tkj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tkj,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_tkj,Condition(function Trig_tkj_Conditions))
call TriggerAddAction(gg_trg_tkj,function Trig_tkj_Actions)
endfunction
function Trig_wing1_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Q')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
return true
endfunction
function Trig_wing1_Actions takes nothing returns nothing
if(Trig_wing1_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call UnitAddItemByIdSwapped('I02R',GetTriggerUnit())
else
endif
endfunction
function InitTrig_wing1 takes nothing returns nothing
set gg_trg_wing1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wing1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_wing1,function Trig_wing1_Actions)
endfunction
function Trig_wing2_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02P')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
return true
endfunction
function Trig_wing2_Actions takes nothing returns nothing
if(Trig_wing2_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call UnitAddItemByIdSwapped('I02S',GetTriggerUnit())
else
endif
endfunction
function InitTrig_wing2 takes nothing returns nothing
set gg_trg_wing2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wing2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_wing2,function Trig_wing2_Actions)
endfunction
function Trig_wing3_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02N')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
return true
endfunction
function Trig_wing3_Actions takes nothing returns nothing
if(Trig_wing3_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call UnitAddItemByIdSwapped('I02T',GetTriggerUnit())
else
endif
endfunction
function InitTrig_wing3 takes nothing returns nothing
set gg_trg_wing3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wing3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_wing3,function Trig_wing3_Actions)
endfunction
function Trig_wing4_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02O')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
return true
endfunction
function Trig_wing4_Actions takes nothing returns nothing
if(Trig_wing4_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call UnitAddItemByIdSwapped('I02U',GetTriggerUnit())
else
endif
endfunction
function InitTrig_wing4 takes nothing returns nothing
set gg_trg_wing4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wing4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_wing4,function Trig_wing4_Actions)
endfunction
function Trig_wing5_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02S')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02R')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02T')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02U')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
return true
endfunction
function Trig_wing5_Actions takes nothing returns nothing
if(Trig_wing5_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('I06K',GetTriggerUnit())
else
endif
endfunction
function InitTrig_wing5 takes nothing returns nothing
set gg_trg_wing5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wing5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_wing5,function Trig_wing5_Actions)
endfunction
function Trig_shenqi1_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01W'))then
return false
endif
return true
endfunction
function Trig_shenqi1_Func002C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01G')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01J')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00C')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01D')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039')==true))then
return false
endif
return true
endfunction
function Trig_shenqi1_Actions takes nothing returns nothing
if(Trig_shenqi1_Func002C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call UnitAddItemByIdSwapped('I01V',GetTriggerUnit())
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000合成失败！！|R")
call AdjustPlayerStateBJ(10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endfunction
function InitTrig_shenqi1 takes nothing returns nothing
set gg_trg_shenqi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shenqi1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_shenqi1,Condition(function Trig_shenqi1_Conditions))
call TriggerAddAction(gg_trg_shenqi1,function Trig_shenqi1_Actions)
endfunction
function Trig_yinqiang_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I01S'))then
return false
endif
return true
endfunction
function Trig_yinqiang_Func002C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I010')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I013')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039')==true))then
return false
endif
return true
endfunction
function Trig_yinqiang_Actions takes nothing returns nothing
if(Trig_yinqiang_Func002C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I010'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I013'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call UnitAddItemByIdSwapped('I01Q',GetTriggerUnit())
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000合成失败！！|R")
call AdjustPlayerStateBJ(10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endfunction
function InitTrig_yinqiang takes nothing returns nothing
set gg_trg_yinqiang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yinqiang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_yinqiang,Condition(function Trig_yinqiang_Conditions))
call TriggerAddAction(gg_trg_yinqiang,function Trig_yinqiang_Actions)
endfunction
function Trig_shoushi1_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02W')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03A')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03B')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039')==true))then
return false
endif
return true
endfunction
function Trig_shoushi1_Actions takes nothing returns nothing
if(Trig_shoushi1_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call UnitAddItemByIdSwapped('I03C',GetTriggerUnit())
set udg_hpplus1[GetConvertedPlayerId(GetTriggerPlayer())]=1
else
endif
endfunction
function InitTrig_shoushi1 takes nothing returns nothing
set gg_trg_shoushi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shoushi1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_shoushi1,function Trig_shoushi1_Actions)
endfunction
function Trig_shoushi2_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03D')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03E')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03F')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
return true
endfunction
function Trig_shoushi2_Actions takes nothing returns nothing
if(Trig_shoushi2_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call UnitAddItemByIdSwapped('I03G',GetTriggerUnit())
else
endif
endfunction
function InitTrig_shoushi2 takes nothing returns nothing
set gg_trg_shoushi2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shoushi2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_shoushi2,function Trig_shoushi2_Actions)
endfunction
function Trig_shoushi3_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03I')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03J')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03H')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
return true
endfunction
function Trig_shoushi3_Actions takes nothing returns nothing
if(Trig_shoushi3_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call UnitAddItemByIdSwapped('I03K',GetTriggerUnit())
else
endif
endfunction
function InitTrig_shoushi3 takes nothing returns nothing
set gg_trg_shoushi3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shoushi3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_shoushi3,function Trig_shoushi3_Actions)
endfunction
function Trig_duanzao_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I047'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func091C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I06G'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='LVUP'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func092C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I06H'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='LVUP'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func093C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I06I'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='LVUP'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func094C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I06J'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='LVUP'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func194C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='IFUU'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='IFUU'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='LVUP'))then
return false
endif
if(not(udg_siwangcishu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0))then
return false
endif

//if(not((udg_siwangcishu[1]+udg_siwangcishu[2]+udg_siwangcishu[3]+udg_siwangcishu[4]+udg_siwangcishu[5]+udg_siwangcishu[6])==0))then
//return false
//endif

return true
endfunction


function Trig_duanzao_Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I021'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I021'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I045'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I045'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I03S'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I03S'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I01Z'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I01Z'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I03L'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I03L'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I026'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I026'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I03M'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I03M'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Func002C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))=='I03N'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2))=='I03N'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3))=='I003'))then
return false
endif
return true
endfunction
function Trig_duanzao_Actions takes nothing returns nothing
if(Trig_duanzao_Func091C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call UnitAddItemByIdSwapped('I06M',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
endif
if(Trig_duanzao_Func092C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call UnitAddItemByIdSwapped('I06Q',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
endif
if(Trig_duanzao_Func194C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('IFU0',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
endif
if(Trig_duanzao_Func093C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call UnitAddItemByIdSwapped('I06S',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
endif
if(Trig_duanzao_Func094C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call UnitAddItemByIdSwapped('I06O',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
endif
if(Trig_duanzao_Func002C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I01Z',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I021',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I045',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001Func001Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I03S',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001Func001Func001Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I01Y',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001Func001Func001Func001Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I03T',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001Func001Func001Func001Func001Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I046',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
if(Trig_duanzao_Func002Func001Func001Func001Func001Func001Func001Func001C())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),1))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),2))
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),3))
call UnitAddItemByIdSwapped('I022',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("成功锻造了神器："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_duanzao takes nothing returns nothing
set gg_trg_duanzao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duanzao,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duanzao,Condition(function Trig_duanzao_Conditions))
call TriggerAddAction(gg_trg_duanzao,function Trig_duanzao_Actions)
endfunction
function Trig_duanzao_______u_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'sfog')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'flag')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
return true
endfunction
function Trig_duanzao_______u_Actions takes nothing returns nothing
if(Trig_duanzao_______u_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'sfog'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'flag'))
call UnitAddItemByIdSwapped('rnsp',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了：|cffff0000"+GetItemName(GetLastCreatedItem()))))
set udg_buerzhi_kongjianyikai=true
return
else
endif
endfunction
function InitTrig_duanzao_______u takes nothing returns nothing
set gg_trg_duanzao_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duanzao_______u,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_duanzao_______u,function Trig_duanzao_______u_Actions)
endfunction
function Trig_huizhang_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I99E')==true))then
return false
endif
if(not(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=10007))then
return false
endif
return true
endfunction
function Trig_huizhang_Actions takes nothing returns nothing
if(Trig_huizhang_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('I99F',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endfunction
function InitTrig_huizhang takes nothing returns nothing
set gg_trg_huizhang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huizhang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_huizhang,function Trig_huizhang_Actions)
endfunction
function Trig_qijiehigh_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05W')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'fgun')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
if(not(udg_siwangcishu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0))then
return false
endif
return true
endfunction
function Trig_qijiehigh_Actions takes nothing returns nothing
if(Trig_qijiehigh_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05W'))
if(GetRandomInt(1,1)==1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'fgun'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('I040',GetTriggerUnit())
set udg_qijiegaojie=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00合成失败，开天被砸碎了,合成成功率上升,积分+1！|r")
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set udg_qijiegaojie=udg_qijiegaojie+1
endif
return
else
endif
endfunction
function InitTrig_qijiehigh takes nothing returns nothing
set gg_trg_qijiehigh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qijiehigh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_qijiehigh,function Trig_qijiehigh_Actions)
endfunction

function Trig_tongyuh_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00M')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I064')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I065')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I066')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I067')==true))then
return false
endif
endif
endif
endif
return true
endfunction
function Trig_tongyuh_Actions takes nothing returns nothing
if(Trig_tongyuh_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I064'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I065'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I066'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I067'))
call UnitAddItemByIdSwapped('I044',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endfunction
function InitTrig_tongyuh takes nothing returns nothing
set gg_trg_tongyuh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tongyuh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_tongyuh,function Trig_tongyuh_Actions)
endfunction

function Trig_tongyum_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00M')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I064')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I065')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I066')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I067')==true))then
return false
endif
endif
endif
endif
return true
endfunction
function Trig_tongyum_Actions takes nothing returns nothing
if(Trig_tongyum_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I064'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I065'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I066'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I067'))
call UnitAddItemByIdSwapped('I043',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endfunction
function InitTrig_tongyum takes nothing returns nothing
set gg_trg_tongyum=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tongyum,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_tongyum,function Trig_tongyum_Actions)
endfunction

function Trig_hunsui_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03N')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03L')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03M')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05W')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I99U')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05N')==true))then
return false
endif
endif
if(not(udg_dubo2>=1))then
return false
endif
return true
endfunction
function Trig_hunsui_Actions takes nothing returns nothing
if(Trig_hunsui_Func001C())then
//call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03N'))
//call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03L'))
//call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03M'))
//call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05W'))
//call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05N'))
//call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I99U'))
//call UnitAddItemByIdSwapped('I99M',GetTriggerUnit())
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
//return
//else
endif
endfunction
function InitTrig_hunsui takes nothing returns nothing
set gg_trg_hunsui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_hunsui,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_hunsui,function Trig_hunsui_Actions)
endfunction
function Trig_braverychange_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gcel')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'shtm')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'spsh')==true))then
return false
endif
return true
endfunction
function Trig_braverychange_Actions takes nothing returns nothing
if(Trig_braverychange_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gcel'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'shtm'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'spsh'))
set udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1-udg_isbravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1-udg_notbravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("转换了伤害模式")))
return
else
endif
endfunction
function InitTrig_braverychange takes nothing returns nothing
set gg_trg_braverychange=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_braverychange,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_braverychange,function Trig_braverychange_Actions)
endfunction
function Trig_congcong_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'schl')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'tmmt')==true))then
return false
endif
return true
endfunction
function Trig_congcong_Actions takes nothing returns nothing
if(Trig_congcong_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'schl'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'tmmt'))
call UnitAddItemByIdSwapped('amrc',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endfunction
function InitTrig_congcong takes nothing returns nothing
set gg_trg_congcong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_congcong,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_congcong,function Trig_congcong_Actions)
endfunction
function Trig_huanyaolian_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05H')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03G')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
return true
endfunction
function Trig_huanyaolian_Actions takes nothing returns nothing
if(Trig_huanyaolian_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('I05I',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endfunction
function InitTrig_huanyaolian takes nothing returns nothing
set gg_trg_huanyaolian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanyaolian,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_huanyaolian,function Trig_huanyaolian_Actions)
endfunction
function Trig_tomato_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I990')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I991')==true))then
return false
endif
return true
endfunction
function Trig_tomato_Actions takes nothing returns nothing
if(Trig_tomato_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I990'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I991'))
if(GetRandomInt(1,120)<=50-udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("吃了土豆炒番茄，技能等级+1")))
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("做土豆炒番茄失败了，什么也没发生")))
endif
return
else
endif
endfunction
function InitTrig_tomato takes nothing returns nothing
set gg_trg_tomato=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tomato,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_tomato,function Trig_tomato_Actions)
endfunction

function Trig_yaokong_Func001C takes nothing returns boolean
if(not(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))==1))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IYYY')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IDDD')==true))then
return false
endif
return true
endfunction
function Trig_yaokong_Actions takes nothing returns nothing
if(Trig_yaokong_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IDDD'))
set udg_yaokongqi=1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("遥控器充满了电，可以遥控指挥轮盘了！")))
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("请玩家1输入下次轮盘的玩家，用数字1-6表示")))
return
endif
endfunction
function InitTrig_yaokong takes nothing returns nothing
set gg_trg_yaokong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yaokong,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_yaokong,function Trig_yaokong_Actions)
endfunction

function Trig_ultima_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06S')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06O')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06Q')==true))then
return false
endif
return true
endfunction
function Trig_ultima_Actions takes nothing returns nothing
if(Trig_ultima_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06Q'))
call UnitAddItemByIdSwapped('I99U',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
return
else
endif
endfunction
function InitTrig_ultima takes nothing returns nothing
set gg_trg_ultima=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ultima,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_ultima,function Trig_ultima_Actions)
endfunction
function Trig_yuezhang_Func002C takes nothing returns boolean
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05O'))=='I05O'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05M'))=='I05M'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05U'))=='I05U'))then
return true
endif
return false
endfunction
function Trig_yuezhang_Func003C takes nothing returns boolean
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Q'))=='I05Q'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05R'))=='I05R'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I060'))=='I060'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I062'))=='I062'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))=='I05S'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I063'))=='I063'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I061'))=='I061'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05X'))=='I05X'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05V'))=='I05V'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Y'))=='I05Y'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Z'))=='I05Z'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))=='I05T'))then
return true
endif
return false
endfunction
function Trig_yuezhang_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I05P'))then
return false
endif
if(not Trig_yuezhang_Func002C())then
return false
endif
if(not Trig_yuezhang_Func003C())then
return false
endif
return true
endfunction
function Trig_yuezhang_Func004Func001C takes nothing returns boolean
if(not(udg_yuezhang[1]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Q'))=='I05Q'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func005Func001C takes nothing returns boolean
if(not(udg_yuezhang[2]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05R'))=='I05R'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func006Func001C takes nothing returns boolean
if(not(udg_yuezhang[3]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I060'))=='I060'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func007Func001C takes nothing returns boolean
if(not(udg_yuezhang[4]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func007C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I062'))=='I062'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func008Func001C takes nothing returns boolean
if(not(udg_yuezhang[5]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func008C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))=='I05S'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func009Func001C takes nothing returns boolean
if(not(udg_yuezhang[6]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func009C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I063'))=='I063'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func010Func001C takes nothing returns boolean
if(not(udg_yuezhang[7]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func010C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I061'))=='I061'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func011Func001C takes nothing returns boolean
if(not(udg_yuezhang[8]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func011C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05X'))=='I05X'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func012Func001C takes nothing returns boolean
if(not(udg_yuezhang[9]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func012C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05V'))=='I05V'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func013Func001C takes nothing returns boolean
if(not(udg_yuezhang[10]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func013C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Y'))=='I05Y'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func014Func001C takes nothing returns boolean
if(not(udg_yuezhang[11]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func014C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Z'))=='I05Z'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func015Func001C takes nothing returns boolean
if(not(udg_yuezhang[12]==false))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func015C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))=='I05T'))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func016C takes nothing returns boolean
if(not(udg_yuezhangjieduan[1]==false))then
return false
endif
if(not(udg_yuezhangsl>=6))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func017C takes nothing returns boolean
if(not(udg_yuezhangjieduan[2]==false))then
return false
endif
if(not(udg_yuezhangsl>=9))then
return false
endif
return true
endfunction
function Trig_yuezhang_Func018C takes nothing returns boolean
if(not(udg_yuezhangjieduan[3]==false))then
return false
endif
if(not(udg_yuezhangsl>=12))then
return false
endif
return true
endfunction
function Trig_yuezhang_Actions takes nothing returns nothing
if(Trig_yuezhang_Func004C())then
if(Trig_yuezhang_Func004Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[1]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Q'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000眩晕乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func005C())then
if(Trig_yuezhang_Func005Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[2]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05R'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000妖化乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func006C())then
if(Trig_yuezhang_Func006Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[3]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I060'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000中毒乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func007C())then
if(Trig_yuezhang_Func007Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[4]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I062'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000减速乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func008C())then
if(Trig_yuezhang_Func008Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[5]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000残废乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func009C())then
if(Trig_yuezhang_Func009Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[6]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I063'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000灼烧乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func010C())then
if(Trig_yuezhang_Func010Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[7]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I061'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000睡眠乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func011C())then
if(Trig_yuezhang_Func011Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[8]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05X'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000禁魔乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func012C())then
if(Trig_yuezhang_Func012Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[9]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05V'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000虚弱乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func013C())then
if(Trig_yuezhang_Func013Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[10]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Y'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000虚无乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func014C())then
if(Trig_yuezhang_Func014Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[11]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Z'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000诅咒乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func015C())then
if(Trig_yuezhang_Func015Func001C())then
set udg_yuezhangsl=(udg_yuezhangsl+1)
set udg_yuezhang[12]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000迟缓乐章融合成功！")
else
call DisplayTextToForce(GetPlayersAll(),"|cffff0000同一乐章不能重复添加！")
endif
else
endif
if(Trig_yuezhang_Func016C())then
set udg_yuezhangjieduan[1]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05M'))
call UnitAddItemByIdSwapped('I05U',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("融合了六种乐章，合成了中阶神器："+GetItemName(GetLastCreatedItem()))))
else
endif
if(Trig_yuezhang_Func017C())then
set udg_yuezhangjieduan[2]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05U'))
call UnitAddItemByIdSwapped('I05O',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("融合了九种乐章，合成了高阶神器："+GetItemName(GetLastCreatedItem()))))
else
endif
if(Trig_yuezhang_Func018C())then
set udg_yuezhangjieduan[3]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05O'))
call UnitAddItemByIdSwapped('I05N',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("融合了十二种乐章，合成了超神器："+GetItemName(GetLastCreatedItem()))))
else
endif
endfunction
function InitTrig_yuezhang takes nothing returns nothing
set gg_trg_yuezhang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yuezhang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_yuezhang,Condition(function Trig_yuezhang_Conditions))
call TriggerAddAction(gg_trg_yuezhang,function Trig_yuezhang_Actions)
endfunction
function Trig_kaitian_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04H')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03K')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04G')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I051')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
return true
endfunction
function Trig_kaitian_Actions takes nothing returns nothing
if(Trig_kaitian_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('I05W',GetTriggerUnit())
else
endif
endfunction
function InitTrig_kaitian takes nothing returns nothing
set gg_trg_kaitian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_kaitian,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_kaitian,function Trig_kaitian_Actions)
endfunction
function Trig_dongxinanbei_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06B')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06E')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039')==true))then
return false
endif
return true
endfunction
function Trig_dongxinanbei_Actions takes nothing returns nothing
if(Trig_dongxinanbei_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call UnitAddItemByIdSwapped('I06F',GetTriggerUnit())
else
endif
endfunction
function InitTrig_dongxinanbei takes nothing returns nothing
set gg_trg_dongxinanbei=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dongxinanbei,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_dongxinanbei,function Trig_dongxinanbei_Actions)
endfunction
function Trig_dongxinanbei_______u_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'blba')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'oslo')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'fwss')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'esaz')==true))then
return false
endif
return true
endfunction
function Trig_dongxinanbei_______u_Actions takes nothing returns nothing
if(Trig_dongxinanbei_______u_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'blba'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'oslo'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'fwss'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'esaz'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('mlst',GetTriggerUnit())
else
endif
endfunction
function InitTrig_dongxinanbei_______u takes nothing returns nothing
set gg_trg_dongxinanbei_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dongxinanbei_______u,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_dongxinanbei_______u,function Trig_dongxinanbei_______u_Actions)
endfunction
function Trig_cc_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03U')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I051')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00P')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05C')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05G')==true))then
return false
endif
endif
return true
endfunction
function Trig_cc_Actions takes nothing returns nothing
if(Trig_cc_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('I02X',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
else
endif
endfunction
function InitTrig_cc takes nothing returns nothing
set gg_trg_cc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_cc,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_cc,function Trig_cc_Actions)
endfunction
function Trig_shitouBOSS_Func002Func002C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_shitouBOSS_Func002Func003C takes nothing returns boolean
if(not(udg_shitou==1))then
return false
endif
return true
endfunction
function Trig_shitouBOSS_Func002Func004Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_shitouBOSS_Func002Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='ninf'))then
return false
endif
return true
endfunction
function Trig_shitouBOSS_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nbzd'))then
return false
endif
return true
endfunction
function Trig_shitouBOSS_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
if(Trig_shitouBOSS_Func002C())then
set udg_shitou=GetRandomInt(1,3)
if(Trig_shitouBOSS_Func002Func002C())then
set udg_BOSSjifen=50
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(udg_guoge[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在国歌状态下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/50)+"|R点积分。"))))))
endif
else
endif

if(udg_qinglongshi<=1)then
call CreateItemLoc('I01R',udg_point)
set udg_qinglongshi=udg_qinglongshi+1
endif

if(Trig_shitouBOSS_Func002Func003C())then
call CreateItemLoc('I003',udg_point)
else
call CreateItemLoc('I01R',udg_point)
endif
else
if(Trig_shitouBOSS_Func002Func004C())then
if(Trig_shitouBOSS_Func002Func004Func001C())then
set udg_BOSSjifen=20
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
call CreateItemLoc('I039',udg_point)
else
endif
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_shitouBOSS takes nothing returns nothing
set gg_trg_shitouBOSS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shitouBOSS,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_shitouBOSS,function Trig_shitouBOSS_Actions)
endfunction
function Trig_renwu_Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Hlgr'))then
return false
endif
if(not(udg_liumang2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true))then
return false
endif
return true
endfunction
function Trig_renwu_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='njks'))then
return false
endif
if(not(udg_liumang[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true))then
return false
endif
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_renwu_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
if(Trig_renwu_Func002C())then
call CreateItemLoc('I02G',udg_point)
set udg_liumang[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=false
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,10.00,"终于找到项链了！")
else
if(Trig_renwu_Func002Func001C())then
call CreateItemLoc('I02L',udg_point)
set udg_liumang2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=false
else
endif
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_renwu takes nothing returns nothing
set gg_trg_renwu=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_renwu,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_renwu,function Trig_renwu_Actions)
endfunction

function Trig_suijiboss_Func002Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func001Func004Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif
if(not(GetRandomInt(1,16)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func001Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return true
endif
if(Trig_suijiboss_Func002Func001Func004Func002C())then
return true
endif
return false
endfunction
function Trig_suijiboss_Func002Func001C takes nothing returns boolean
return true
endfunction
function Trig_suijiboss_Func002Func002Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func001Func004Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif
if(not(GetRandomInt(1,16)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func001Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return true
endif
if(Trig_suijiboss_Func002Func002Func001Func004Func002C())then
return true
endif
return false
endfunction
function Trig_suijiboss_Func002Func002Func001C takes nothing returns boolean
if(not Trig_suijiboss_Func002Func002Func001Func004C())then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func001Func004Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif
if(not(GetRandomInt(1,16)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func001Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return true
endif
if(Trig_suijiboss_Func002Func002Func002Func001Func004Func002C())then
return true
endif
return false
endfunction
function Trig_suijiboss_Func002Func002Func002Func001C takes nothing returns boolean
if(not Trig_suijiboss_Func002Func002Func002Func001Func004C())then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func001Func004Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif
if(not(GetRandomInt(1,16)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func001Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return true
endif
if(Trig_suijiboss_Func002Func002Func002Func002Func001Func004Func002C())then
return true
endif
return false
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func001C takes nothing returns boolean
if(not Trig_suijiboss_Func002Func002Func002Func002Func001Func004C())then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001Func004Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif
if(not(GetRandomInt(1,16)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return true
endif
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001Func004Func002C())then
return true
endif
return false
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001C takes nothing returns boolean
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001Func004Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif
if(not(GetRandomInt(1,16)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001Func004C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return true
endif
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001Func004Func002C())then
return true
endif
return false
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001C takes nothing returns boolean
if(not Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001Func004C())then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func001C takes nothing returns boolean
if(not(GetUnitAbilityLevel(GetTriggerUnit(),'A0E2')<10))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func001Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Udea'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func002Func001C takes nothing returns boolean
if(not(GetRandomInt(1,100)==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func002C takes nothing returns boolean
if(not(udg_buerzhi_danren==false))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uear'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func003C takes nothing returns boolean
if(not(udg_buerzhi_kongjianyikai==false))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func004C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nitb'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func002C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='uswb'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Npld'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Nklj'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Etyr'))then
return false
endif
if(not(IsUnitIllusionBJ(GetDyingUnit())==false))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Hvsh'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Ekgg'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Ulic'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nrwm'))then
return false
endif
return true
endfunction
function Trig_suijiboss_Actions takes nothing returns nothing
if((RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false))then

set udg_point=GetUnitLoc(GetTriggerUnit())
if(Trig_suijiboss_Func002C())then
if(Trig_suijiboss_Func002Func001C())then
if(Trig_suijiboss_Func002Func001Func001C())then
set udg_BOSSjifen=50
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
set udg_chibangdiao=GetRandomInt(1,4)
call CreateItemLoc(udg_Item[udg_chibangdiao],udg_point)
else
endif
else
if(Trig_suijiboss_Func002Func002C())then
if(Trig_suijiboss_Func002Func002Func001C())then
if(Trig_suijiboss_Func002Func002Func001Func001C())then
set udg_BOSSjifen=40
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
set udg_wuqi1diao=GetRandomInt(9,13)
call CreateItemLoc(udg_Item[udg_wuqi1diao],udg_point)
else
endif
else
if(Trig_suijiboss_Func002Func002Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func001C())then
if(Trig_suijiboss_Func002Func002Func002Func001Func001C())then
set udg_BOSSjifen=80
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*3)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
set udg_wuqi2diao=GetRandomInt(14,18)
call CreateItemLoc(udg_Item[udg_wuqi2diao],udg_point)

if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="em")then
if(GetRandomInt(1,8)==1)then
if(udg_jianjian==0)then
call TriggerExecute(gg_trg_jieweidonghua)
endif
endif
endif

if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="76")then
if(GetRandomInt(1,6)==1)then
if(udg_jianjian==0)then
call TriggerExecute(gg_trg_jieweidonghua)
endif
endif
endif

if(GetRandomInt(1,6)==1)then
if(udg_xuemipass==2)then
call TriggerExecute(gg_trg_jieweidonghua)
endif
endif

if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="qq873653754")then
if(GetRandomInt(1,6)==1)then
call TriggerExecute(gg_trg_jieweidonghua)
endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="q873653754")then
if(GetRandomInt(1,3)==1)then
call TriggerExecute(gg_trg_jieweidonghua)

endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="873653754")then
if(GetRandomInt(1,3)==1)then
call TriggerExecute(gg_trg_jieweidonghua)

endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="冰凌城遇")then
if(GetRandomInt(1,3)==1)then
call TriggerExecute(gg_trg_jieweidonghua)

endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="冰凌成遇")then
if(GetRandomInt(1,3)==1)then
call TriggerExecute(gg_trg_jieweidonghua)

endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="water")then
if(GetRandomInt(1,3)==1)then
call TriggerExecute(gg_trg_jieweidonghua)

endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="也就内样吧")then
if(GetRandomInt(1,3)==1)then
call TriggerExecute(gg_trg_jieweidonghua)

endif
endif


if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="咋了")then
if(GetRandomInt(1,6)==1)then
call TriggerExecute(gg_trg_jieweidonghua)
endif
endif

if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="xiao hei")then
if(GetRandomInt(1,6)==1)then
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function Trig_jieweidonghua_Func004002)
call DisableTrigger(gg_trg_HeroFuhuo1)
endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="xiaohei")then
if(GetRandomInt(1,6)==1)then
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function Trig_jieweidonghua_Func004002)
call DisableTrigger(gg_trg_HeroFuhuo1)
endif
endif
if(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))=="寡妇死了")then
if(GetRandomInt(1,6)==1)then
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function Trig_jieweidonghua_Func004002)
call DisableTrigger(gg_trg_HeroFuhuo1)
endif
endif

if(GetRandomInt(1,3)==1)then
if(SubStringBJ(GetPlayerName(GetTriggerPlayer()),1,3)=="...")then
call TriggerSleepAction(15.00)
call DisableTrigger(gg_trg_HeroFuhuo1)
call CreateNUnitsAtLoc(10,'S006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________005),120.00)
call CreateNUnitsAtLoc(10,'Bos9',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________005),120.00)
endif
endif

else
endif
else
if(Trig_suijiboss_Func002Func002Func002Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func001C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func001Func001C())then
set udg_BOSSjifen=150
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*5)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/10*10==0)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/150)+"|R点积分。"))))))
endif
else
endif
set udg_wuqi3diao=GetRandomInt(19,22)
call CreateItemLoc(udg_Item[udg_wuqi3diao],udg_point)
else
endif
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func001C())then

call CreateNUnitsAtLoc(1,'Uv03',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________311),120.00)
call CreateNUnitsAtLoc(1,'Uv04',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________312),270.00)
call CreateNUnitsAtLoc(1,'Uv05',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________313),180.00)
call CreateNUnitsAtLoc(1,'Uv06',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________314),220.00)
call CreateNUnitsAtLoc(1,'Uv07',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________315),180.00)
call DisplayTextToForce(GetPlayersAll(),(("妖精王：？？！！")))

set udg_BOSSjifen=300
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*10)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))

else
endif
call CreateNUnitsAtLoc(1,'h00D',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(gg_rct______________062),220.00)
call CreateItemLoc('I05M',udg_point)
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func001Func001C())then
set udg_BOSSjifen=130
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*4)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/7*7==0)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/130)+"|R点积分。"))))))
endif
else
endif
set udg_shoushidiao=GetRandomInt(70,81)
if(udg_xuemipass==1)then
set udg_shoushidiao=GetRandomInt(77,80)
endif
if(udg_countstop==0)then
set udg_guangchengzi1=udg_guangchengzi1+1
if(udg_guangchengzi1==1)then
set udg_shoushidiao=70
//call CreateItemLoc(udg_Item[GetRandomInt(70,81)],udg_point)
endif
if(udg_guangchengzi1==2)then
set udg_shoushidiao=81
call CreateItemLoc(udg_Item[GetRandomInt(70,81)],udg_point)
endif
endif
call CreateItemLoc(udg_Item[udg_shoushidiao],udg_point)
else
endif
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func001Func001C())then
set udg_BOSSjifen=100
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*4)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
set udg_wuqi5diao=GetRandomInt(100,103)
call CreateItemLoc(udg_Item[udg_wuqi5diao],udg_point)
else
endif
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func002C())then
set udg_BOSSjifen=80
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*3)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
set udg_wuqi6diao=GetRandomInt(120,131)
call CreateItemLoc(udg_Item[udg_wuqi6diao],udg_point)
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func001C())then
call IncUnitAbilityLevel(gg_unit_h001_0004,'A0E2')
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,宿舍防御得到了加强！"+"")))))
else
endif
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func003C())then
set udg_int=GetRandomInt(132,133)
call CreateItemLoc(udg_Item[udg_int],udg_point)
else
endif
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func004C())then
set udg_BOSSjifen=100
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*5)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func002C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func002Func001C())then
call CreateItemLoc(udg_Item[134],udg_point)
else
call CreateItemLoc(udg_Item[135],udg_point)
endif
else
call CreateItemLoc(udg_Item[136],udg_point)
endif
else
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func001C())then
if(Trig_suijiboss_Func002Func002Func002Func002Func002Func004Func002Func002Func001Func002Func001Func001C())then
set udg_BOSSjifen=180
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*6)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
if(not(udg_selfdestruct>=4))then
set udg_int=GetRandomInt(170,174)
else
if(GetRandomInt(1,2)==1)then
set udg_int=GetRandomInt(170,174)
else
set udg_int=GetRandomInt(171,174)
endif
endif
call CreateItemLoc(udg_Item[udg_int],udg_point)
call SetItemUserData(GetLastCreatedItem(),0)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call RemoveLocation(udg_point)
endif
endfunction
function InitTrig_suijiboss takes nothing returns nothing
set gg_trg_suijiboss=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_suijiboss,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_suijiboss,function Trig_suijiboss_Actions)
endfunction


function Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='nwzr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='hkni'))then
return true
endif
return false
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001Func001Func001C())then
return false
endif
if(not(GetRandomInt(1,15)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001Func002C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='nbel'))then
return true
endif
return false
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001Func002C())then
return false
endif
if(not(GetRandomInt(1,15)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func003C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='u002'))then
return true
endif
return false
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001Func001C takes nothing returns boolean
if(not Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func003C())then
return false
endif
if(not(GetRandomInt(1,150)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001Func002C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='nslh'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nslr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nsll'))then
return true
endif
return false
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func001C takes nothing returns boolean
if(not Trig_suijixiaoguai_Func002Func001Func001Func001Func002C())then
return false
endif
set udg_chibangxindrop=udg_chibangxindrop+1
if(udg_chibangxindrop==10)then
return true
endif
if(not(GetRandomInt(1,9)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func002Func001Func001Func002C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='nnsu'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nzom'))then
return true
endif
return false
endfunction
function Trig_suijixiaoguai_Func002Func001Func001C takes nothing returns boolean
if(not Trig_suijixiaoguai_Func002Func001Func001Func002C())then
return false
endif
if(not(GetRandomInt(1,8+R2I(udg_qinshilv/8))==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='edry'))then
return false
endif
if(not(GetRandomInt(1,3+R2I(udg_qinshilv/10))==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='n001'))then
return false
endif
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nnmg'))then
return false
endif
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nsnp'))then
return false
endif
if(not(GetRandomInt(1,15)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func005C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nnrg'))then
return false
endif
if(not(GetRandomInt(1,15)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func009C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nvil'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func029C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nvlk'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func019C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='SSSS'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func039C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nbel'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func049C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Bos7'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func059C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Bos8'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func069C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nsgg'))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_Func079C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nggr'))then
return false
endif
return true
endfunction



function Trig_suijixiaoguai_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,10)==1)then
if(Trig_suijixiaoguai_Func069C())then
call CreateItemLoc(udg_Item[GetRandomInt(464,465)],udg_point)
endif
if(Trig_suijixiaoguai_Func079C())then
call CreateItemLoc(udg_Item[GetRandomInt(464,465)],udg_point)
endif
endif

if(Trig_suijixiaoguai_Func049C())then
call CreateItemLoc(udg_Item[GetRandomInt(416,419)],udg_point)
endif
if(Trig_suijixiaoguai_Func059C())then
call CreateItemLoc(udg_Item[420],udg_point)
endif

if(Trig_suijixiaoguai_Func039C())then
if(GetRandomInt(1,4)==1)then
call CreateItemLoc(udg_Item[GetRandomInt(411,413)],udg_point)
endif

if(GetRandomInt(1,18)==1)then
call CreateItemLoc(udg_Item[GetRandomInt(580,582)],udg_point)
endif

endif
if(Trig_suijixiaoguai_Func019C())then
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(19,22)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(184,185)],udg_point)
call CreateItemLoc(udg_Item[GetRandomInt(186,187)],udg_point)
else
endif
if(Trig_suijixiaoguai_Func029C())then
call CreateItemLoc(udg_Item[188],udg_point)
else
endif
if(Trig_suijixiaoguai_Func009C())then
if(udg_shenzhiyi==0)then
if(GetRandomInt(1,10)==1)then
call CreateItemLoc(udg_Item[183],udg_point)
else
set udg_score[1]=udg_score[1]+2
set udg_score[2]=udg_score[2]+2
set udg_score[3]=udg_score[3]+2
set udg_score[4]=udg_score[4]+2
set udg_score[5]=udg_score[5]+2
set udg_score[6]=udg_score[6]+2
call CreateItemLoc(udg_Item[170],udg_point)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000由于未掉落神之衣，所有人积分+2！")
set udg_shenzhiyi=1
endif
else
if(GetRandomInt(1,2)==1)then
call CreateItemLoc(udg_Item[183],udg_point)
else
call CreateItemLoc(udg_Item[119],udg_point)
endif
endif
else
if(Trig_suijixiaoguai_Func002C())then
set udg_shoushi1=GetRandomInt(25,27)
call CreateItemLoc(udg_Item[udg_shoushi1],udg_point)
if(udg_waves<=3)then
call CreateItemLoc(udg_Item[190],udg_point)
endif
else
if(Trig_suijixiaoguai_Func002Func001C())then
set udg_shoushi2=GetRandomInt(28,30)
call CreateItemLoc(udg_Item[udg_shoushi2],udg_point)
else
if(Trig_suijixiaoguai_Func002Func001Func001C())then
set udg_shoushi3=GetRandomInt(31,33)
call CreateItemLoc(udg_Item[udg_shoushi3],udg_point)
else
if(Trig_suijixiaoguai_Func002Func001Func001Func001C())then
call CreateItemLoc(udg_Item[40],udg_point)




if(udg_waves<=5)then
call CreateItemLoc(udg_Item[190],udg_point)
endif
else
if(Trig_suijixiaoguai_Func002Func001Func001Func001Func001C())then
set udg_chuansong=GetRandomInt(41,48)
call CreateItemLoc(udg_Item[udg_chuansong],udg_point)
else
if(Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001C())then
call CreateItemLoc('I003',udg_point)
else
if(Trig_suijixiaoguai_Func002Func001Func001Func001Func001Func001Func001C())then
call CreateItemLoc('I02V',udg_point)
if(udg_waves<=7)then
call CreateItemLoc(udg_Item[190],udg_point)
endif
else
endif
endif
endif
endif
endif
endif
endif
endif
if(Trig_suijixiaoguai_Func003C())then
call CreateItemLoc(udg_Item[180],udg_point)
else
endif
if(Trig_suijixiaoguai_Func004C())then
call CreateItemLoc(udg_Item[181],udg_point)
else
endif
if(Trig_suijixiaoguai_Func005C())then
call CreateItemLoc(udg_Item[182],udg_point)
else
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_suijixiaoguai takes nothing returns nothing
set gg_trg_suijixiaoguai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_suijixiaoguai,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_suijixiaoguai,function Trig_suijixiaoguai_Actions)
endfunction
function Trig_suijixiaoguai_______u_Func002Func001C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='nbel'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nzom'))then
return true
endif
return false
endfunction
function Trig_suijixiaoguai_______u_Func002C takes nothing returns boolean
if(not Trig_suijixiaoguai_______u_Func002Func001C())then
return false
endif
if(not(GetRandomInt(1,30)==1))then
return false
endif
return true
endfunction
function Trig_suijixiaoguai_______u_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
if(Trig_suijixiaoguai_______u_Func002C())then
set udg_shoushi3=GetRandomInt(120,131)
call CreateItemLoc(udg_Item[udg_shoushi3],udg_point)
else
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_suijixiaoguai_______u takes nothing returns nothing
set gg_trg_suijixiaoguai_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_suijixiaoguai_______u,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_suijixiaoguai_______u,function Trig_suijixiaoguai_______u_Actions)
endfunction
function Trig_daojuBOSS_Func002Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func002C takes nothing returns boolean
if(not(udg_daojubosstest[1]==true))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func002C takes nothing returns boolean
if(not(udg_daojubosstest[2]==true))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func003Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func003Func002C takes nothing returns boolean
if(not(udg_daojubosstest[3]==true))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func003Func003Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func003Func003Func002C takes nothing returns boolean
if(not(udg_daojubosstest[4]==true))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func003Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uvar'))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Utic'))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Nmag'))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uvng'))then
return false
endif
return true
endfunction
function Trig_daojuBOSS_Actions takes nothing returns nothing
if((RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false))then
set udg_point=GetUnitLoc(GetTriggerUnit())
if(Trig_daojuBOSS_Func002C())then
if(Trig_daojuBOSS_Func002Func001C())then
set udg_BOSSjifen=70
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
if(Trig_daojuBOSS_Func002Func002C())then
call CreateItemLoc('I02V',udg_point)
else
call CreateItemLoc('I04X',udg_point)
endif
else
if(Trig_daojuBOSS_Func002Func003C())then
if(Trig_daojuBOSS_Func002Func003Func001C())then
set udg_BOSSjifen=80
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
if(Trig_daojuBOSS_Func002Func003Func002C())then
call CreateItemLoc('I02V',udg_point)
else
call CreateItemLoc('I04Y',udg_point)
endif
else
if(Trig_daojuBOSS_Func002Func003Func003C())then
if(Trig_daojuBOSS_Func002Func003Func003Func001C())then
set udg_BOSSjifen=90
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*3)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
if(Trig_daojuBOSS_Func002Func003Func003Func002C())then
call CreateItemLoc('I02V',udg_point)
else
call CreateItemLoc('I04Z',udg_point)
endif
else
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then
if(Trig_daojuBOSS_Func002Func003Func003Func003C())then
if(Trig_daojuBOSS_Func002Func003Func003Func003Func001C())then
set udg_BOSSjifen=100
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*6)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/10*10==3)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/150)+"|R点积分。"))))))
endif



endif

if(Trig_daojuBOSS_Func002Func003Func003Func003Func002C())then
if(not(GetRandomInt(1,2)==1))then
call CreateItemLoc('I990',udg_point)
else
call CreateItemLoc('I991',udg_point)
endif
else
call CreateItemLoc('I050',udg_point)
endif
else
endif
endif
endif
endif
endif

if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then

if(GetUnitTypeId(GetDyingUnit())=='Rdem')then
set udg_BOSSjifen=300
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+300)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
call CreateItemLoc(udg_Item[GetRandomInt(77,80)],udg_point)

endif
endif
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then
if(GetUnitTypeId(GetDyingUnit())=='Bdem')then
set udg_BOSSjifen=300
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+300)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
call CreateItemLoc(udg_Item[GetRandomInt(77,80)],udg_point)

endif
endif

if(GetUnitTypeId(GetDyingUnit())=='Bos7')then
set udg_BOSSjifen=300
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+300)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))

endif

if(GetUnitTypeId(GetDyingUnit())=='Bos8')then
set udg_BOSSjifen=20
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+20)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))

endif

if(not(RectContainsUnit(gg_rct______________124,GetDyingUnit())==true))then

if(GetUnitTypeId(GetDyingUnit())=='Bos9')then
set udg_BOSSjifen=555
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+555)
call CreateItemLoc(udg_Item[GetRandomInt(433,434)],udg_point)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))

endif
endif


if(not(RectContainsUnit(gg_rct______________124,GetDyingUnit())==true))then
if(GetDyingUnit()==udg_uv)then
if(udg_uvlevel==0)then
set udg_qinshilv=udg_qinshilv*0.88
call CreateItemLoc('IFUU',udg_point)
call CreateItemLoc('I996',udg_point)
endif
endif
endif


call RemoveLocation(udg_point)
endif
endfunction
function InitTrig_daojuBOSS takes nothing returns nothing
set gg_trg_daojuBOSS=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_daojuBOSS,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_daojuBOSS,function Trig_daojuBOSS_Actions)
endfunction
function Trig_zdywp_Func002C takes nothing returns boolean
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then
if((GetUnitTypeId(GetDyingUnit())=='Ekgg'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='Hvsh'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='Nklj'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nitb'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='Udea'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='Npld'))then
return true
endif
endif
return false
endfunction
function Trig_zdywp_Conditions takes nothing returns boolean
if(not Trig_zdywp_Func002C())then
return false
endif
return true
endfunction
function Trig_zdywp_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,15)==1))then
return false
endif
return true
endfunction
function Trig_zdywp_Actions takes nothing returns nothing
if(Trig_zdywp_Func001C())then
set udg_point=GetUnitLoc(GetTriggerUnit())
set udg_shoushi3=GetRandomInt(200,207)
call CreateItemLoc(udg_Item[udg_shoushi3],udg_point)
//call CreateItemLoc(udg_Item[209],udg_point)
set udg_Item[udg_shoushi3]='I02V'
else
endif
endfunction
function InitTrig_zdywp takes nothing returns nothing
set gg_trg_zdywp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zdywp,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zdywp,Condition(function Trig_zdywp_Conditions))
call TriggerAddAction(gg_trg_zdywp,function Trig_zdywp_Actions)
endfunction
function Trig_tianxian_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Ekgg'))then
return false
endif
if(not(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_tianxian_Actions takes nothing returns nothing
call SetUnitAnimation(GetTriggerUnit(),"spell")
call UnitDamageTarget(GetTriggerUnit(),GetAttacker(),((2.00+I2R(udg_nanduBL))*(udg_renshu+50)*100.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
set udg_point=GetUnitLoc(GetAttacker())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_p_BD[bj_forLoopAIndex]=PolarProjectionBJ(udg_point,90.00,(I2R(bj_forLoopAIndex)*120.00))
call DestroyEffect(AddSpecialEffectLoc("Units\\NightElf\\Owl\\Owl.mdl",udg_p_BD[bj_forLoopAIndex]))
set udg_texiao_tianxian[bj_forLoopAIndex]=AddSpecialEffectLoc("Units\\NightElf\\Owl\\Owl.mdl",udg_p_BD[bj_forLoopAIndex])
call RemoveLocation(udg_p_BD[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_point)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
call DestroyEffect(udg_texiao_tianxian[1])
call DestroyEffect(udg_texiao_tianxian[2])
call DestroyEffect(udg_texiao_tianxian[3])
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_tianxian takes nothing returns nothing
set gg_trg_tianxian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tianxian,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_tianxian,Condition(function Trig_tianxian_Conditions))
call TriggerAddAction(gg_trg_tianxian,function Trig_tianxian_Actions)
endfunction
function Trig_jiaoh_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Npld'))then
return false
endif
if(not(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_jiaoh_Actions takes nothing returns nothing
call SetUnitAnimation(GetTriggerUnit(),"spell")
call UnitDamageTarget(GetTriggerUnit(),GetAttacker(),((2.00+I2R(udg_nanduBL))*(udg_renshu+50)*170.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
set udg_point=GetUnitLoc(GetAttacker())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_p_BD[bj_forLoopAIndex]=PolarProjectionBJ(udg_point,90.00,(I2R(bj_forLoopAIndex)*120.00))
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Invoke.mdx",udg_p_BD[bj_forLoopAIndex]))
call RemoveLocation(udg_p_BD[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_point)
endfunction
function InitTrig_jiaoh takes nothing returns nothing
set gg_trg_jiaoh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jiaoh,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_jiaoh,Condition(function Trig_jiaoh_Conditions))
call TriggerAddAction(gg_trg_jiaoh,function Trig_jiaoh_Actions)
endfunction
function Trig_shangshen_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Hvsh'))then
return false
endif
if(not(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_shangshen_Func004001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shangshen_Func004001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_shangshen_Func004001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_shangshen_Func004001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_shangshen_Func004001003002001(),Trig_shangshen_Func004001003002002())
endfunction
function Trig_shangshen_Func004001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shangshen_Func004001003001(),Trig_shangshen_Func004001003002())
endfunction
function Trig_shangshen_Func004A takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((2.00+I2R(udg_nanduBL))*(udg_renshu+50)*250.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_shangshen_Actions takes nothing returns nothing
call SetUnitAnimation(GetTriggerUnit(),"spell")
set udg_point=GetUnitLoc(GetAttacker())
set udg_texiao_shangshen=AddSpecialEffectLoc("war3mapImported\\BlizzardEruption.mdx",udg_point)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point,Condition(function Trig_shangshen_Func004001003)),function Trig_shangshen_Func004A)
call RemoveLocation(udg_point)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
call DestroyEffect(udg_texiao_shangshen)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_shangshen takes nothing returns nothing
set gg_trg_shangshen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shangshen,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shangshen,Condition(function Trig_shangshen_Conditions))
call TriggerAddAction(gg_trg_shangshen,function Trig_shangshen_Actions)
endfunction
function Trig_shangshen_______u_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Udea'))then
return false
endif
if(not(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_shangshen_______u_Func004001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shangshen_______u_Func004001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_shangshen_______u_Func004001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_shangshen_______u_Func004001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_shangshen_______u_Func004001003002001(),Trig_shangshen_______u_Func004001003002002())
endfunction
function Trig_shangshen_______u_Func004001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shangshen_______u_Func004001003001(),Trig_shangshen_______u_Func004001003002())
endfunction
function Trig_shangshen_______u_Func004A takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((2.00+I2R(udg_nanduBL))*(udg_renshu+50)*300.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_shangshen_______u_Actions takes nothing returns nothing
call SetUnitAnimation(GetTriggerUnit(),"spell")
set udg_point=GetUnitLoc(GetAttacker())
set udg_texiao_shangshen=AddSpecialEffectLoc("war3mapImported\\BlizzardEruption.mdx",udg_point)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point,Condition(function Trig_shangshen_______u_Func004001003)),function Trig_shangshen_______u_Func004A)
call RemoveLocation(udg_point)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
call DestroyEffect(udg_texiao_shangshen)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_shangshen_______u takes nothing returns nothing
set gg_trg_shangshen_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shangshen_______u,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shangshen_______u,Condition(function Trig_shangshen_______u_Conditions))
call TriggerAddAction(gg_trg_shangshen_______u,function Trig_shangshen_______u_Actions)
endfunction
function Trig_gangcz_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Nklj'))then
return false
endif
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_gangcz_Func005001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_gangcz_Func005001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_gangcz_Func005001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_gangcz_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_gangcz_Func005001003002001(),Trig_gangcz_Func005001003002002())
endfunction
function Trig_gangcz_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_gangcz_Func005001003001(),Trig_gangcz_Func005001003002())
endfunction
function Trig_gangcz_Func005A takes nothing returns nothing
call IssueTargetOrder(GetEnumUnit(),"attack",GetAttacker())
call UnitDamageTarget(GetAttacker(),GetEnumUnit(),((2.00+I2R(udg_nanduBL))*(udg_renshu+50)*130.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call AddSpecialEffectTargetUnitBJ("orgin",GetEnumUnit(),"war3mapImported\\RuneAura.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Trig_gangcz_Actions takes nothing returns nothing
call SetUnitAnimation(GetAttacker(),"spell")
set udg_point=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"war3mapImported\\RuneAura.mdx")
set udg_texiao_gcz=GetLastCreatedEffectBJ()
call ForGroupBJ(GetUnitsInRangeOfLocMatching(700.00,udg_point,Condition(function Trig_gangcz_Func005001003)),function Trig_gangcz_Func005A)
call RemoveLocation(udg_point)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
call DestroyEffect(udg_texiao_gcz)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_gangcz takes nothing returns nothing
set gg_trg_gangcz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_gangcz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_gangcz,Condition(function Trig_gangcz_Conditions))
call TriggerAddAction(gg_trg_gangcz,function Trig_gangcz_Actions)
endfunction
function Trig_haishen_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Udea'))then
return false
endif
return true
endfunction
function Trig_haishen_Func001Func009002003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_haishen_Func001Func009002003001002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='e003')
endfunction
function Trig_haishen_Func001Func009002003001 takes nothing returns boolean
return GetBooleanAnd(Trig_haishen_Func001Func009002003001001(),Trig_haishen_Func001Func009002003001002())
endfunction
function Trig_haishen_Func001Func009002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_KKdw[0]))==true)
endfunction
function Trig_haishen_Func001Func009002003 takes nothing returns boolean
return GetBooleanAnd(Trig_haishen_Func001Func009002003001(),Trig_haishen_Func001Func009002003002())
endfunction
function Trig_haishen_Func001Func010A takes nothing returns nothing
set udg_KKdw[3]=GetEnumUnit()
call UnitAddAbility(udg_KKdw[3],'A0DK')
call PauseUnit(udg_KKdw[3],true)
call SetUnitInvulnerable(udg_KKdw[3],true)
call SetUnitFlyHeight(udg_KKdw[3],600.00,1000.00)
call GroupAddUnit(udg_KKdwz[1],udg_KKdw[3])
endfunction
function Trig_haishen_Func001Func012A takes nothing returns nothing
call SetUnitFlyHeight(GetEnumUnit(),0.00,1500.00)
call PauseUnit(GetEnumUnit(),false)
call SetUnitInvulnerable(GetEnumUnit(),false)
endfunction
function Trig_haishen_Func001Func014A takes nothing returns nothing
call SetUnitFlyHeight(GetEnumUnit(),0.00,100000000.00)
call UnitRemoveAbility(GetEnumUnit(),'A0DK')
endfunction
function Trig_haishen_Func001Func016A takes nothing returns nothing
call UnitDamageTarget(udg_KKdw[0],GetEnumUnit(),1000.00,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call UnitDamageTarget(udg_KKdw[0],GetEnumUnit(),((2.00+I2R(udg_nanduBL))*(udg_renshu+50)*400.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_haishen_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,3)==1))then
return false
endif
return true
endfunction
function Trig_haishen_Actions takes nothing returns nothing
if(Trig_haishen_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
set udg_KKdw[0]=GetTriggerUnit()
set udg_point_haishen=GetUnitLoc(GetAttacker())
set udg_point_haishen1=PolarProjectionBJ(udg_point_haishen,200.00,0)
call AddSpecialEffectLocBJ(udg_point_haishen,"war3mapImported\\WaterCrumble.mdx")
set udg_texiao_haishen=GetLastCreatedEffectBJ()
call TriggerSleepAction(2.70)
set udg_KKdwz[0]=GetUnitsInRangeOfLocMatching(225.00,udg_point_haishen,Condition(function Trig_haishen_Func001Func009002003))
call ForGroupBJ(udg_KKdwz[0],function Trig_haishen_Func001Func010A)
call TriggerSleepAction(0.60)
call ForGroupBJ(udg_KKdwz[1],function Trig_haishen_Func001Func012A)
call TriggerSleepAction(0.60)
call ForGroupBJ(udg_KKdwz[1],function Trig_haishen_Func001Func014A)
call TriggerSleepAction(0.00)
call ForGroupBJ(udg_KKdwz[1],function Trig_haishen_Func001Func016A)
set udg_KKdw[0]=null
set udg_KKdw[3]=null
call DestroyGroup(udg_KKdwz[0])
call GroupClear(udg_KKdwz[1])
call RemoveLocation(udg_point_haishen)
call RemoveLocation(udg_point_haishen1)
call TriggerSleepAction(2)
call EnableTrigger(GetTriggeringTrigger())
call DestroyEffect(udg_texiao_haishen)
else
endif
endfunction
function InitTrig_haishen takes nothing returns nothing
set gg_trg_haishen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_haishen,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_haishen,Condition(function Trig_haishen_Conditions))
call TriggerAddAction(gg_trg_haishen,function Trig_haishen_Actions)
endfunction
function Trig_chuxian_Actions takes nothing returns nothing
call DestroyTimer(udg_fangong)
call DestroyTimerDialog(udg_fangongkk)
call ShowUnit(udg_HEBINGSHENG,true)
call UnitAddAbilityBJ('A01Z',udg_HEBINGSHENG)
call EnableTrigger(gg_trg_bossgj)
endfunction
function InitTrig_chuxian takes nothing returns nothing
set gg_trg_chuxian=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_chuxian,gg_unit_unp2_0009,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_chuxian,function Trig_chuxian_Actions)
endfunction
function Trig_jineng1_Actions takes nothing returns nothing
call UnitAddAbilityBJ('A04E',udg_HEBINGSHENG)
call UnitAddAbilityBJ('A05K',udg_HEBINGSHENG)
call IssueImmediateOrder(gg_unit_N000_0186,"divineshield")
endfunction
function InitTrig_jineng1 takes nothing returns nothing
set gg_trg_jineng1=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_jineng1,gg_unit_N000_0186,LESS_THAN,2000000.00)
call TriggerAddAction(gg_trg_jineng1,function Trig_jineng1_Actions)
endfunction
function Trig_siwang_Func002A takes nothing returns nothing
call StartTimerBJ(udg_win,false,180.00)
call CreateTimerDialogBJ(udg_win,"游戏结束")
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(gg_rct________003),0)
endfunction
function Trig_siwang_Func003A takes nothing returns nothing
call StartTimerBJ(udg_win,false,60.00)
call CreateTimerDialogBJ(udg_win,"游戏结束")
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(gg_rct________003),0)
endfunction
function Trig_siwang_Func004A takes nothing returns nothing
call StartTimerBJ(udg_win,false,500.00)
call CreateTimerDialogBJ(udg_win,"游戏结束")
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(gg_rct________003),0)
endfunction
function Trig_siwang_Actions takes nothing returns nothing

if(udg_badend==true)then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_N000_0186,"魔王",null,"你们以为就这样就打败我了吗",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_N000_0186,"魔王",null,"你们早就被侵蚀了哈哈哈哈哈",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"战神",null,"这是：？？？？？？头好晕",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"哎，学园已经被完全侵蚀了",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"那么，全都毁灭吧",bj_TIMETYPE_ADD,0.00,true)
call CreateNUnitsAtLoc(1,'X900',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call StartTimerBJ(udg_mowangcon,false,10000)
call ForForce(GetPlayersAllies(Player(7)),function Trig_siwang_Func002A)
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call StartTimerBJ(udg_jidiwudijsq,false,45)

call EnableTrigger(gg_trg_badenddrop)

call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000BADEND结局：|cffffffff被侵蚀的学园\n")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000BADEND结局：|cffffffff被侵蚀的学园\n")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000BADEND结局：|cffffffff被侵蚀的学园\n")

endif

if(udg_goodend==true)then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"战神",null,"我们终于击败魔王了！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"战神",null,"不过",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"战神",null,"为什么感觉少了点什么",bj_TIMETYPE_ADD,0.00,true)
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000GOODEND结局：明日的校园\nhttp://wanwan."+udg_pass[13]+"."+udg_pass[14]+"")
call ForForce(GetPlayersAllies(Player(7)),function Trig_siwang_Func003A)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"搞定，一分钟时间给你们交流~~")


set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=100
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateTextTagLocBJ("wanwan."+udg_pass[13]+"."+udg_pass[14]+"",GetRectCenter(gg_rct________003),0,(5.00+(I2R(bj_forLoopAIndex)*2.20)),0.00,100.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,(45.00*I2R(bj_forLoopAIndex)))
call SetTextTagLifespan(GetLastCreatedTextTag(),5)
call TriggerSleepAction(1.00)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop

endif

if(udg_trueend==true)then
call StartTimerBJ(udg_mowangcon,false,10000)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"学园董事长",null,"我到底做了什么啊",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"终于醒过来了么",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"混沌黑暗",null,"你们这帮学生！！！可恶！！！！",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"学园董事长",null,"我来替你们保护宿舍吧",bj_TIMETYPE_ADD,0.00,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"一定要胜利哦，千万不要被侵蚀哦",bj_TIMETYPE_ADD,0.00,true)
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call EnableTrigger(gg_trg_trueenddrop)

call CreateNUnitsAtLoc(1,'H900',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif


endfunction
function InitTrig_siwang takes nothing returns nothing
set gg_trg_siwang=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_siwang,gg_unit_N000_0186,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_siwang,function Trig_siwang_Actions)
endfunction
function Trig_bossgj_Actions takes nothing returns nothing
call IssuePointOrderLoc(udg_HEBINGSHENG,"attack",GetRectCenter(gg_rct______________074))
endfunction
function InitTrig_bossgj takes nothing returns nothing
set gg_trg_bossgj=CreateTrigger()
call DisableTrigger(gg_trg_bossgj)
call TriggerRegisterTimerEventPeriodic(gg_trg_bossgj,10.00)
call TriggerAddAction(gg_trg_bossgj,function Trig_bossgj_Actions)
endfunction
function Trig_jiangli1_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='opeo'))then
return false
endif
return true
endfunction
function Trig_jiangli1_Func002A takes nothing returns nothing
call AdjustPlayerStateBJ(20,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Trig_jiangli1_Func003C takes nothing returns boolean
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_jiangli1_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"年级办主任挂了，每个玩家奖励20木材。")
call ForForce(GetPlayersAll(),function Trig_jiangli1_Func002A)
if(Trig_jiangli1_Func003C())then
call CreateItemLoc('I01V',GetUnitLoc(GetDyingUnit()))
else
call CreateItemLoc('I01Q',GetUnitLoc(GetDyingUnit()))
endif
endfunction
function InitTrig_jiangli1 takes nothing returns nothing
set gg_trg_jiangli1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jiangli1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jiangli1,Condition(function Trig_jiangli1_Conditions))
call TriggerAddAction(gg_trg_jiangli1,function Trig_jiangli1_Actions)
endfunction
function Trig_jiangli2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='ogru'))then
return false
endif
if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_jiangli2_Func003A takes nothing returns nothing
call AdjustPlayerStateBJ(50,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Trig_jiangli2_Actions takes nothing returns nothing
set udg_BOSSjiangli2=GetRandomInt(13,16)
call DisplayTextToForce(GetPlayersAll(),"学生处处长挂了，每个玩家奖励50木材。")
call ForForce(GetPlayersAll(),function Trig_jiangli2_Func003A)
call CreateItemLoc(udg_Item[udg_BOSSjiangli2],GetUnitLoc(GetDyingUnit()))
endfunction
function InitTrig_jiangli2 takes nothing returns nothing
set gg_trg_jiangli2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jiangli2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jiangli2,Condition(function Trig_jiangli2_Conditions))
call TriggerAddAction(gg_trg_jiangli2,function Trig_jiangli2_Actions)
endfunction
function Trig_jiangli3_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='orai'))then
return false
endif
return true
endfunction
function Trig_jiangli3_Func003A takes nothing returns nothing
call AdjustPlayerStateBJ(150,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Trig_jiangli3_Actions takes nothing returns nothing
set udg_Bossjiangli3=GetRandomInt(13,16)
call DisplayTextToForce(GetPlayersAll(),"学院院长挂了，每个玩家奖励150木材。")
call ForForce(GetPlayersAll(),function Trig_jiangli3_Func003A)
call CreateItemLoc('I025',GetUnitLoc(GetDyingUnit()))
endfunction
function InitTrig_jiangli3 takes nothing returns nothing
set gg_trg_jiangli3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jiangli3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jiangli3,Condition(function Trig_jiangli3_Conditions))
call TriggerAddAction(gg_trg_jiangli3,function Trig_jiangli3_Actions)
endfunction
function Trig_BOSSchuxian_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"？？？：|cffff0000一群蝼蚁，居然来打扰本尊，活得不耐烦了吗？|r")
call SetUnitInvulnerable(gg_unit_Umal_0234,true)
set udg_unit_BOSS1=gg_unit_Umal_0234
call EnableTrigger(gg_trg_BOSSchuxian_______u)
call TriggerSleepAction(6.00)
call DisableTrigger(gg_trg_BOSSchuxian_______u)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"？？？：|cffff0000哎，想过阵安静日子都不行吗？那么来吧，看看尔等能接我几招吧！|r")
call EnableTrigger(gg_trg_BOSSchuxian______________u)
call TriggerSleepAction(3.00)
call DisableTrigger(gg_trg_BOSSchuxian______________u)
call RemoveUnit(udg_unit_BOSS1)
set udg_point=GetRectCenter(gg_rct______________104)
call CreateNUnitsAtLoc(1,'Uear',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
set udg_unit_BOSS1=GetLastCreatedUnit()
set udg_buerzhi_chuxian=true
endfunction
function InitTrig_BOSSchuxian takes nothing returns nothing
set gg_trg_BOSSchuxian=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_BOSSchuxian,gg_unit_Umal_0234,EVENT_UNIT_DAMAGED)
call TriggerAddAction(gg_trg_BOSSchuxian,function Trig_BOSSchuxian_Actions)
endfunction
function Trig_BOSSchuxian_______u_Func001Func001C takes nothing returns boolean
if(not(udg_buerzhi_chuxian==false))then
return false
endif
return true
endfunction
function Trig_BOSSchuxian_______u_Func001C takes nothing returns boolean
if(not(udg_buerzhi_chuxian==true))then
return false
endif
return true
endfunction
function Trig_BOSSchuxian_______u_Actions takes nothing returns nothing
if(Trig_BOSSchuxian_______u_Func001C())then
call RemoveUnit(udg_unit_BOSS1)
set udg_point=GetRectCenter(gg_rct______________104)
call CreateNUnitsAtLoc(1,'nvl2',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
set udg_unit_BOSS1=GetLastCreatedUnit()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl",udg_unit_BOSS1,"overhead"))
call SetUnitInvulnerable(udg_unit_BOSS1,true)
call PauseUnitBJ(true,udg_unit_BOSS1)
set udg_buerzhi_chuxian=false
else
if(Trig_BOSSchuxian_______u_Func001Func001C())then
call RemoveUnit(udg_unit_BOSS1)
set udg_point=GetRectCenter(gg_rct______________104)
call CreateNUnitsAtLoc(1,'Uear',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
set udg_unit_BOSS1=GetLastCreatedUnit()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl",udg_unit_BOSS1,"overhead"))
call PauseUnitBJ(true,udg_unit_BOSS1)
call SetUnitInvulnerable(udg_unit_BOSS1,true)
set udg_buerzhi_chuxian=true
else
endif
endif
endfunction
function InitTrig_BOSSchuxian_______u takes nothing returns nothing
set gg_trg_BOSSchuxian_______u=CreateTrigger()
call DisableTrigger(gg_trg_BOSSchuxian_______u)
call TriggerRegisterTimerEventPeriodic(gg_trg_BOSSchuxian_______u,1.00)
call TriggerAddAction(gg_trg_BOSSchuxian_______u,function Trig_BOSSchuxian_______u_Actions)
endfunction
function Trig_BOSSchuxian______________u_Func001Func001C takes nothing returns boolean
if(not(udg_buerzhi_chuxian==false))then
return false
endif
return true
endfunction
function Trig_BOSSchuxian______________u_Func001C takes nothing returns boolean
if(not(udg_buerzhi_chuxian==true))then
return false
endif
return true
endfunction
function Trig_BOSSchuxian______________u_Actions takes nothing returns nothing
if(Trig_BOSSchuxian______________u_Func001C())then
call RemoveUnit(udg_unit_BOSS1)
set udg_point=GetRectCenter(gg_rct______________104)
call CreateNUnitsAtLoc(1,'nvl2',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
set udg_unit_BOSS1=GetLastCreatedUnit()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl",udg_unit_BOSS1,"overhead"))
call SetUnitInvulnerable(udg_unit_BOSS1,true)
call PauseUnitBJ(true,udg_unit_BOSS1)
set udg_buerzhi_chuxian=false
else
if(Trig_BOSSchuxian______________u_Func001Func001C())then
call RemoveUnit(udg_unit_BOSS1)
set udg_point=GetRectCenter(gg_rct______________104)
call CreateNUnitsAtLoc(1,'Uear',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
set udg_unit_BOSS1=GetLastCreatedUnit()
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl",udg_unit_BOSS1,"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",udg_unit_BOSS1,"origin"))
call PauseUnitBJ(true,udg_unit_BOSS1)
call SetUnitInvulnerable(udg_unit_BOSS1,true)
set udg_buerzhi_chuxian=true
else
endif
endif
endfunction
function InitTrig_BOSSchuxian______________u takes nothing returns nothing
set gg_trg_BOSSchuxian______________u=CreateTrigger()
call DisableTrigger(gg_trg_BOSSchuxian______________u)
call TriggerRegisterTimerEventPeriodic(gg_trg_BOSSchuxian______________u,0.20)
call TriggerAddAction(gg_trg_BOSSchuxian______________u,function Trig_BOSSchuxian______________u_Actions)
endfunction
function Trig_bossjnhuohuan1_Conditions takes nothing returns boolean
if(not((GetUnitTypeId(GetTriggerUnit())=='Uear')or(GetUnitTypeId(GetTriggerUnit())=='S005')))then
return false
endif
if(not(GetRandomInt(1,100)==1))then
return false
endif
if(not(udg_buerzhi_bosshuan==false))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan1_Func001001 takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function Trig_bossjnhuohuan1_Func008C takes nothing returns boolean
if(not(udg_buerzhi_choose==false))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan1_Func010Func001C takes nothing returns boolean
if(not(udg_buerzhi_choose==false))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan1_Actions takes nothing returns nothing
if(Trig_bossjnhuohuan1_Func001001())then
set udg_buerzhi_choose=false
else
set udg_buerzhi_choose=true
endif
set udg_buerzhi_bosshuan=true
set udg_unit_bosshuan[0]=GetTriggerUnit()
set udg_point_bosshuan[0]=GetUnitLoc(GetAttackedUnitBJ())
if(Trig_bossjnhuohuan1_Func008C())then
call DisplayTextToForce(GetPlayersAll(),"？？？：|cffff0000火凤天翔!|r")
call SetUnitVertexColor(GetTriggerUnit(),255,0,0,255)
else
call DisplayTextToForce(GetPlayersAll(),"？？？：|cffff0000冰流地袭!|r")
call SetUnitVertexColor(GetTriggerUnit(),0,255,0,255)
endif
call TriggerExecute(gg_trg_yansehuifu)
set udg_int_bosshuan[0]=1
loop
exitwhen udg_int_bosshuan[0]>4
if(Trig_bossjnhuohuan1_Func010Func001C())then
set udg_point_bosshuan[udg_int_bosshuan[0]]=PolarProjectionBJ(udg_point_bosshuan[0],500.00,(I2R(udg_int_bosshuan[0])*90.00))
call AddSpecialEffectLocBJ(udg_point_bosshuan[udg_int_bosshuan[0]],"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call CreateNUnitsAtLoc(1,'otau',GetOwningPlayer(GetTriggerUnit()),udg_point_bosshuan[udg_int_bosshuan[0]],AngleBetweenPoints(udg_point_bosshuan[0],udg_point_bosshuan[udg_int_bosshuan[0]]))
set udg_unit_bosshuan[udg_int_bosshuan[0]]=GetLastCreatedUnit()
else
set udg_point_bosshuan[udg_int_bosshuan[0]]=PolarProjectionBJ(udg_point_bosshuan[0],100.00,(I2R(udg_int_bosshuan[0])*90.00))
call AddSpecialEffectLocBJ(udg_point_bosshuan[udg_int_bosshuan[0]],"Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl")
call CreateNUnitsAtLoc(1,'ohun',GetOwningPlayer(GetTriggerUnit()),udg_point_bosshuan[udg_int_bosshuan[0]],AngleBetweenPoints(udg_point_bosshuan[0],udg_point_bosshuan[udg_int_bosshuan[0]]))
set udg_unit_bosshuan[udg_int_bosshuan[0]]=GetLastCreatedUnit()
endif
set udg_int_bosshuan[0]=udg_int_bosshuan[0]+1
endloop
set udg_int_bosshuan[1]=5
set udg_int_bosshuan[2]=2
call TriggerSleepAction(1.00)
call EnableTrigger(gg_trg_bossjnhuohuan2)
endfunction
function InitTrig_bossjnhuohuan1 takes nothing returns nothing
set gg_trg_bossjnhuohuan1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bossjnhuohuan1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_bossjnhuohuan1,Condition(function Trig_bossjnhuohuan1_Conditions))
call TriggerAddAction(gg_trg_bossjnhuohuan1,function Trig_bossjnhuohuan1_Actions)
endfunction
function Trig_bossjnhuohuan2_Func002Func001C takes nothing returns boolean
if(not(udg_buerzhi_choose==false))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan2_Func002Func002001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_bosshuan[0]))==true)
endfunction
function Trig_bossjnhuohuan2_Func002Func002A takes nothing returns nothing
call UnitDamageTargetBJ(udg_unit_bosshuan[0],GetEnumUnit(),30000.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_bossjnhuohuan2_Func003C takes nothing returns boolean
if(not(udg_buerzhi_choose==false))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan2_Func004C takes nothing returns boolean
if(not(udg_int_bosshuan[1]>=500))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan2_Actions takes nothing returns nothing
set udg_point_bosshuan[5]=GetUnitLoc(udg_unit_bosshuan[0])
set udg_int_bosshuan[0]=1
loop
exitwhen udg_int_bosshuan[0]>4
if(Trig_bossjnhuohuan2_Func002Func001C())then
set udg_point_bosshuan[udg_int_bosshuan[0]]=PolarProjectionBJ(udg_point_bosshuan[5],500.00,(I2R(udg_int_bosshuan[1])+(I2R(udg_int_bosshuan[0])*90.00)))
call SetUnitPositionLocFacingBJ(udg_unit_bosshuan[udg_int_bosshuan[0]],udg_point_bosshuan[udg_int_bosshuan[0]],AngleBetweenPoints(GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]]),udg_point_bosshuan[udg_int_bosshuan[0]]))
else
set udg_point_bosshuan[udg_int_bosshuan[0]]=PolarProjectionBJ(udg_point_bosshuan[5],100.00,(I2R(udg_int_bosshuan[1])+(I2R(udg_int_bosshuan[0])*90.00)))
call SetUnitPositionLocFacingBJ(udg_unit_bosshuan[udg_int_bosshuan[0]],udg_point_bosshuan[udg_int_bosshuan[0]],AngleBetweenPoints(GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]]),udg_point_bosshuan[udg_int_bosshuan[0]]))
endif
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]]),Condition(function Trig_bossjnhuohuan2_Func002Func002001003)),function Trig_bossjnhuohuan2_Func002Func002A)
set udg_int_bosshuan[0]=udg_int_bosshuan[0]+1
endloop
if(Trig_bossjnhuohuan2_Func003C())then
set udg_int_bosshuan[1]=(udg_int_bosshuan[1]+5)
else
set udg_int_bosshuan[1]=(udg_int_bosshuan[1]+8)
endif
if(Trig_bossjnhuohuan2_Func004C())then
call RemoveLocation(udg_point_bosshuan[5])
set udg_int_bosshuan[0]=1
loop
exitwhen udg_int_bosshuan[0]>4
call RemoveLocation(udg_point_bosshuan[udg_int_bosshuan[0]])
set udg_point_bosshuan[udg_int_bosshuan[0]]=GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]])
call DisableTrigger(gg_trg_bossjnhuohuan2)
call EnableTrigger(gg_trg_bossjnhuohuan3)
set udg_int_bosshuan[0]=udg_int_bosshuan[0]+1
endloop
else
endif
endfunction
function InitTrig_bossjnhuohuan2 takes nothing returns nothing
set gg_trg_bossjnhuohuan2=CreateTrigger()
call DisableTrigger(gg_trg_bossjnhuohuan2)
call TriggerRegisterTimerEventPeriodic(gg_trg_bossjnhuohuan2,0.05)
call TriggerAddAction(gg_trg_bossjnhuohuan2,function Trig_bossjnhuohuan2_Actions)
endfunction
function Trig_bossjnhuohuan3_Func002Func001C takes nothing returns boolean
if(not(udg_buerzhi_choose==false))then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan3_Func002Func002001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_bosshuan[0]))==true)
endfunction
function Trig_bossjnhuohuan3_Func002Func002A takes nothing returns nothing
call UnitDamageTargetBJ(udg_unit_bosshuan[0],GetEnumUnit(),30000.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_bossjnhuohuan3_Func004Func002C takes nothing returns boolean
if((DistanceBetweenPoints(udg_point_bosshuan[1],udg_point_bosshuan[6])<=50.00))then
return true
endif
if((DistanceBetweenPoints(udg_point_bosshuan[1],udg_point_bosshuan[6])>=900.00))then
return true
endif
return false
endfunction
function Trig_bossjnhuohuan3_Func004C takes nothing returns boolean
if(not Trig_bossjnhuohuan3_Func004Func002C())then
return false
endif
return true
endfunction
function Trig_bossjnhuohuan3_Actions takes nothing returns nothing
set udg_point_bosshuan[6]=GetUnitLoc(udg_unit_bosshuan[0])
set udg_int_bosshuan[0]=1
loop
exitwhen udg_int_bosshuan[0]>4
if(Trig_bossjnhuohuan3_Func002Func001C())then
set udg_point_bosshuan[udg_int_bosshuan[0]]=PolarProjectionBJ(udg_point_bosshuan[udg_int_bosshuan[0]],I2R(udg_int_bosshuan[2]),AngleBetweenPoints(udg_point_bosshuan[udg_int_bosshuan[0]],udg_point_bosshuan[6]))
call SetUnitPositionLocFacingBJ(udg_unit_bosshuan[udg_int_bosshuan[0]],udg_point_bosshuan[udg_int_bosshuan[0]],AngleBetweenPoints(GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]]),udg_point_bosshuan[6]))
else
set udg_point_bosshuan[udg_int_bosshuan[0]]=PolarProjectionBJ(udg_point_bosshuan[udg_int_bosshuan[0]],I2R(udg_int_bosshuan[2]),AngleBetweenPoints(udg_point_bosshuan[6],udg_point_bosshuan[udg_int_bosshuan[0]]))
call SetUnitPositionLocFacingBJ(udg_unit_bosshuan[udg_int_bosshuan[0]],udg_point_bosshuan[udg_int_bosshuan[0]],AngleBetweenPoints(udg_point_bosshuan[6],GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]])))
endif
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,GetUnitLoc(udg_unit_bosshuan[udg_int_bosshuan[0]]),Condition(function Trig_bossjnhuohuan3_Func002Func002001003)),function Trig_bossjnhuohuan3_Func002Func002A)
set udg_int_bosshuan[0]=udg_int_bosshuan[0]+1
endloop
set udg_int_bosshuan[2]=(udg_int_bosshuan[2]+2)
if(Trig_bossjnhuohuan3_Func004C())then
call RemoveLocation(udg_point_bosshuan[6])
call DisableTrigger(gg_trg_bossjnhuohuan3)
set udg_buerzhi_bosshuan=false
set udg_int_bosshuan[0]=1
loop
exitwhen udg_int_bosshuan[0]>4
call KillUnit(udg_unit_bosshuan[udg_int_bosshuan[0]])
call RemoveLocation(udg_point_bosshuan[udg_int_bosshuan[0]])
set udg_int_bosshuan[0]=udg_int_bosshuan[0]+1
endloop
else
endif
endfunction
function InitTrig_bossjnhuohuan3 takes nothing returns nothing
set gg_trg_bossjnhuohuan3=CreateTrigger()
call DisableTrigger(gg_trg_bossjnhuohuan3)
call TriggerRegisterTimerEventPeriodic(gg_trg_bossjnhuohuan3,0.05)
call TriggerAddAction(gg_trg_bossjnhuohuan3,function Trig_bossjnhuohuan3_Actions)
endfunction
function Trig_BOSSjnchongji_Conditions takes nothing returns boolean
if(not((GetUnitTypeId(GetTriggerUnit())=='Uear')or(GetUnitTypeId(GetTriggerUnit())=='S005')))then
return false
endif
return true
endfunction
function Trig_BOSSjnchongji_Func005Func005Func004C takes nothing returns boolean
if((udg_int_boss==1))then
return true
endif
if((udg_int_boss==2))then
return true
endif
if((udg_int_boss==3))then
return true
endif
return false
endfunction
function Trig_BOSSjnchongji_Func005Func005C takes nothing returns boolean
if(not Trig_BOSSjnchongji_Func005Func005Func004C())then
return false
endif
return true
endfunction
function Trig_BOSSjnchongji_Func005Func006Func001Func001C takes nothing returns boolean
if(not(udg_int_boss==3))then
return false
endif
return true
endfunction
function Trig_BOSSjnchongji_Func005Func006Func001C takes nothing returns boolean
if(not(udg_int_boss==2))then
return false
endif
return true
endfunction
function Trig_BOSSjnchongji_Func005Func006C takes nothing returns boolean
if(not(udg_int_boss==1))then
return false
endif
return true
endfunction
function Trig_BOSSjnchongji_Func005C takes nothing returns boolean
if(not(udg_int_boss2==1))then
return false
endif
return true
endfunction
function Trig_BOSSjnchongji_Actions takes nothing returns nothing
call TriggerExecute(gg_trg_yansehuifu)
set udg_int_boss2=GetRandomInt(1,100)
set udg_point_boss1=GetUnitLoc(GetTriggerUnit())
set udg_point_boss=PolarProjectionBJ(udg_point_boss1,256.00,GetUnitFacing(GetTriggerUnit()))
if(Trig_BOSSjnchongji_Func005C())then
set udg_int_boss=GetRandomInt(1,3)
call CreateNUnitsAtLoc(1,'npng',Player(11),udg_point_boss1,bj_UNIT_FACING)
set udg_unit_boss=GetLastCreatedUnit()
call UnitApplyTimedLife(udg_unit_boss,'BHwe',5.00)
if(Trig_BOSSjnchongji_Func005Func005C())then
call DisplayTextToForce(GetPlayersAll(),"？？？：|cffff0000元素冲击!|r")
call SetUnitVertexColor(GetTriggerUnit(),0,0,255,255)
call TriggerExecute(gg_trg_yansehuifu)
else
endif
if(Trig_BOSSjnchongji_Func005Func006C())then
call UnitAddAbility(udg_unit_boss,'ANst')
call IssuePointOrderLoc(udg_unit_boss,"stampede",udg_point_boss)
else
if(Trig_BOSSjnchongji_Func005Func006Func001C())then
call UnitAddAbility(udg_unit_boss,'Arsp')
call IssuePointOrderLoc(udg_unit_boss,"stampede",udg_point_boss)
else
if(Trig_BOSSjnchongji_Func005Func006Func001Func001C())then
call UnitAddAbility(udg_unit_boss,'A0BG')
call IssuePointOrderLoc(udg_unit_boss,"stampede",udg_point_boss)
else
endif
endif
endif
else
endif
call RemoveLocation(udg_point_boss)
call RemoveLocation(udg_point_boss1)
endfunction
function InitTrig_BOSSjnchongji takes nothing returns nothing
set gg_trg_BOSSjnchongji=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BOSSjnchongji,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_BOSSjnchongji,Condition(function Trig_BOSSjnchongji_Conditions))
call TriggerAddAction(gg_trg_BOSSjnchongji,function Trig_BOSSjnchongji_Actions)
endfunction
function Trig_BOSSjnluoshi1_Conditions takes nothing returns boolean
if(not(udg_buerzhi_bosshuan==false))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())=='Uear'))then
return false
endif
return true
endfunction
function Trig_BOSSjnluoshi1_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,100)==1))then
return false
endif
return true
endfunction
function Trig_BOSSjnluoshi1_Actions takes nothing returns nothing
if(Trig_BOSSjnluoshi1_Func001C())then
set udg_buerzhi_bossluoshi=true
call SetUnitVertexColor(GetTriggerUnit(),0,255,0,255)
call DisplayTextToForce(GetPlayersAll(),"？？？：|cffff0000落石!|r")
call TriggerExecute(gg_trg_yansehuifu)
set udg_unit_bossluoshi[0]=GetAttackedUnitBJ()
set udg_double_bossluoshix=800.00
set udg_double_bossluoshiy=GetUnitFacing(udg_unit_bossluoshi[0])
call EnableTrigger(gg_trg_bossjnluoshi2)
else
endif
endfunction
function InitTrig_BOSSjnluoshi1 takes nothing returns nothing
set gg_trg_BOSSjnluoshi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BOSSjnluoshi1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_BOSSjnluoshi1,Condition(function Trig_BOSSjnluoshi1_Conditions))
call TriggerAddAction(gg_trg_BOSSjnluoshi1,function Trig_BOSSjnluoshi1_Actions)
endfunction
function Trig_bossjnluoshi2_Func001C takes nothing returns boolean
if(not(udg_double_bossluoshix<=100.00))then
return false
endif
return true
endfunction
function Trig_bossjnluoshi2_Actions takes nothing returns nothing
if(Trig_bossjnluoshi2_Func001C())then
call DisableTrigger(gg_trg_bossjnluoshi2)
call RemoveLocation(udg_point_bossluoshi[0])
set udg_unit_bossluoshi[0]=null
set udg_unit_bossluoshi[1]=null
set udg_buerzhi_bossluoshi=false
else
endif
set udg_point_bossluoshi[0]=GetUnitLoc(udg_unit_bossluoshi[0])
set udg_double_bossluoshix=(udg_double_bossluoshix-6.00)
set udg_double_bossluoshiy=(udg_double_bossluoshiy+10.00)
set udg_unit_bossluoshi[1]=CreateUnitAtLoc(GetOwningPlayer(udg_unit_bossluoshi[0]),'hmtm',udg_point_bossluoshi[0],0)
set udg_point_bossluoshi[1]=PolarProjectionBJ(udg_point_bossluoshi[0],udg_double_bossluoshix,udg_double_bossluoshiy)
call RemoveLocation(udg_point_bossluoshi[0])
call IssuePointOrderLoc(udg_unit_bossluoshi[1],"attackground",udg_point_bossluoshi[1])
call RemoveLocation(udg_point_bossluoshi[1])
endfunction
function InitTrig_bossjnluoshi2 takes nothing returns nothing
set gg_trg_bossjnluoshi2=CreateTrigger()
call DisableTrigger(gg_trg_bossjnluoshi2)
call TriggerRegisterTimerEventPeriodic(gg_trg_bossjnluoshi2,0.10)
call TriggerAddAction(gg_trg_bossjnluoshi2,function Trig_bossjnluoshi2_Actions)
endfunction
function Trig_BOSSjnkuangbao_Conditions takes nothing returns boolean
if(not((GetUnitTypeId(GetTriggerUnit())=='Uear')or(GetUnitTypeId(GetTriggerUnit())=='S005')))then
return false
endif
if(not(GetRandomInt(1,100)==1))then
return false
endif
if(not(udg_buerzhi_bosskuangbao==false))then
return false
endif
return true
endfunction
function Trig_BOSSjnkuangbao_Actions takes nothing returns nothing
call SetUnitVertexColor(GetTriggerUnit(),0,100,0,255)
call TriggerExecute(gg_trg_yansehuifu)
set udg_buerzhi_bosskuangbao=true
call DisplayTextToForce(GetPlayersAll(),"？？？：|cffff0000狂暴!|r")
call UnitAddAbility(GetTriggerUnit(),'AOr2')
call TriggerSleepAction(10.00)
call UnitRemoveAbility(udg_unit_BOSS1,'AOr2')
set udg_buerzhi_bosskuangbao=false
endfunction
function InitTrig_BOSSjnkuangbao takes nothing returns nothing
set gg_trg_BOSSjnkuangbao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BOSSjnkuangbao,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_BOSSjnkuangbao,Condition(function Trig_BOSSjnkuangbao_Conditions))
call TriggerAddAction(gg_trg_BOSSjnkuangbao,function Trig_BOSSjnkuangbao_Actions)
endfunction
function Trig_BOSSjnzhaohuan_Conditions takes nothing returns boolean
if(not((GetUnitTypeId(GetTriggerUnit())=='Uear')or(GetUnitTypeId(GetTriggerUnit())=='S005')))then
return false
endif
if(not(GetRandomInt(1,100)==1))then
return false
endif
if(not(udg_buerzhi_bosszhaohuan==false))then
return false
endif
return true
endfunction
function Trig_BOSSjnzhaohuan_Actions takes nothing returns nothing
call SetUnitVertexColor(GetTriggerUnit(),100,0,0,255)
call TriggerExecute(gg_trg_yansehuifu)
set udg_buerzhi_bosszhaohuan=true
set udg_point=GetUnitLoc(GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),"？？？：|cffff0000远古召唤!|r")
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',5.00)
call UnitAddAbility(GetLastCreatedUnit(),'ANrc')
call IssuePointOrderLoc(GetLastCreatedUnit(),"rainofchaos",udg_point)
call RemoveLocation(udg_point)
call TriggerSleepAction(45.00)
set udg_buerzhi_bosszhaohuan=false
endfunction
function InitTrig_BOSSjnzhaohuan takes nothing returns nothing
set gg_trg_BOSSjnzhaohuan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BOSSjnzhaohuan,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_BOSSjnzhaohuan,Condition(function Trig_BOSSjnzhaohuan_Conditions))
call TriggerAddAction(gg_trg_BOSSjnzhaohuan,function Trig_BOSSjnzhaohuan_Actions)
endfunction
function Trig_yansehuifu_Actions takes nothing returns nothing
call UnitRemoveAbility(GetTriggerUnit(),'BPSE')
call SetUnitScale(GetTriggerUnit(),1.50,1.50,2.00)
call TriggerSleepAction(1.50)
call SetUnitVertexColor(GetTriggerUnit(),255,255,255,255)
call SetUnitScale(GetTriggerUnit(),1,1,1)
endfunction
function InitTrig_yansehuifu takes nothing returns nothing
set gg_trg_yansehuifu=CreateTrigger()
call TriggerAddAction(gg_trg_yansehuifu,function Trig_yansehuifu_Actions)
endfunction
function Trig_guiwei_Actions takes nothing returns nothing
endfunction
function InitTrig_guiwei takes nothing returns nothing
set gg_trg_guiwei=CreateTrigger()
call TriggerAddAction(gg_trg_guiwei,function Trig_guiwei_Actions)
endfunction
function Trig_hc_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________005)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hc takes nothing returns nothing
set gg_trg_hc=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(0),"hc",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(1),"hc",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(2),"hc",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(3),"hc",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(4),"hc",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(5),"hc",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc,Player(6),"hc",true)
call TriggerAddAction(gg_trg_hc,function Trig_hc_Actions)
endfunction
function Trig_hc_______u_Actions takes nothing returns nothing
set udg_point=GetRectCenter(gg_rct______________005)
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],udg_point)
call RemoveLocation(udg_point)
endfunction
function InitTrig_hc_______u takes nothing returns nothing
set gg_trg_hc_______u=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(0),"hg",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(1),"hg",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(2),"hg",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(3),"hg",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(4),"hg",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(5),"hg",true)
call TriggerRegisterPlayerChatEvent(gg_trg_hc_______u,Player(6),"hg",true)
call TriggerAddAction(gg_trg_hc_______u,function Trig_hc_______u_Actions)
endfunction
function Trig_zibao_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SAPPER)==true))then
return false
endif
return true
endfunction
function Trig_zibao_Func001001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_zibao_Func001001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_zibao_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_zibao_Func001001003001(),Trig_zibao_Func001001003002())
endfunction
function Trig_zibao_Func001A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetDyingUnit()),"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),50000.00,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_zibao_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_zibao_Func001001003)),function Trig_zibao_Func001A)
endfunction
function InitTrig_zibao takes nothing returns nothing
set gg_trg_zibao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zibao,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zibao,Condition(function Trig_zibao_Conditions))
call TriggerAddAction(gg_trg_zibao,function Trig_zibao_Actions)
endfunction
function Trig_shanchushiti_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='npn4'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='otbk'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='esen'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='npng'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='e002'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='ugar'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='uloc'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='efdr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='ugar'))then
return true
endif
return false
endfunction
function Trig_shanchushiti_Conditions takes nothing returns boolean
if(not Trig_shanchushiti_Func001C())then
return false
endif
return true
endfunction
function Trig_shanchushiti_Actions takes nothing returns nothing
call TriggerSleepAction(1.00)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_shanchushiti takes nothing returns nothing
set gg_trg_shanchushiti=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shanchushiti,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shanchushiti,Condition(function Trig_shanchushiti_Conditions))
call TriggerAddAction(gg_trg_shanchushiti,function Trig_shanchushiti_Actions)
endfunction
function Trig_shanchushiti2_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='e005'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='e006'))then
return true
endif
return false
endfunction
function Trig_shanchushiti2_Conditions takes nothing returns boolean
if(not Trig_shanchushiti2_Func001C())then
return false
endif
return true
endfunction
function Trig_shanchushiti2_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_shanchushiti2 takes nothing returns nothing
set gg_trg_shanchushiti2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shanchushiti2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shanchushiti2,Condition(function Trig_shanchushiti2_Conditions))
call TriggerAddAction(gg_trg_shanchushiti2,function Trig_shanchushiti2_Actions)
endfunction
function Trig_jingyan_Func001C takes nothing returns boolean
if(not(udg_buerzhi_yihun[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true))then
return false
endif
return true
endfunction
function Trig_jingyan_Actions takes nothing returns nothing
if(Trig_jingyan_Func001C())then
call AddHeroXP(GetKillingUnitBJ(),(100*GetUnitLevel(GetTriggerUnit())),false)
else
call AddHeroXP(GetKillingUnitBJ(),(50*GetUnitLevel(GetTriggerUnit())),false)
endif
endfunction
function InitTrig_jingyan takes nothing returns nothing
set gg_trg_jingyan=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_jingyan,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_jingyan,Player(11),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_jingyan,function Trig_jingyan_Actions)
endfunction
function Trig_jinggongguai_Func002C takes nothing returns boolean
if(not(GetOwningPlayer(GetDyingUnit())==Player(11)))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetDyingUnit())==true))then
return false
endif
return true
endfunction
function Trig_jinggongguai_Conditions takes nothing returns boolean
if(not Trig_jinggongguai_Func002C())then
return false
endif
return true
endfunction
function Trig_jinggongguai_Actions takes nothing returns nothing
set udg_shadisl[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_shadisl[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
endfunction
function InitTrig_jinggongguai takes nothing returns nothing
set gg_trg_jinggongguai=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_jinggongguai,Player(11),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jinggongguai,Condition(function Trig_jinggongguai_Conditions))
call TriggerAddAction(gg_trg_jinggongguai,function Trig_jinggongguai_Actions)
endfunction
function Trig_jinggongguai_______u_Conditions takes nothing returns boolean
if(not(udg_waves !=0))then
return false
endif
return true
endfunction
function Trig_jinggongguai_______u_Func006Func001C takes nothing returns boolean
if(not(udg_jiangliwj<=udg_shadisl[(udg_wj+1)]))then
return false
endif
return true
endfunction
function Trig_jinggongguai_______u_Func007Func001C takes nothing returns boolean
if(not(udg_jiangliwj==udg_shadisl[udg_wj]))then
return false
endif
return true
endfunction
function Trig_jinggongguai_______u_Func008C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(ConvertedPlayer(udg_jiangliwj1))]==1))then
return false
endif
return true
endfunction
function Trig_jinggongguai_______u_Actions takes nothing returns nothing
set udg_jingongjifen=(udg_waves*10)
set udg_jingongjingqian=(udg_waves*8000)
set udg_wj=1
set udg_jiangliwj=udg_shadisl[udg_wj]
set udg_wj=1
loop
exitwhen udg_wj>5
if(Trig_jinggongguai_______u_Func006Func001C())then
set udg_jiangliwj=udg_shadisl[(udg_wj+1)]
else
endif
set udg_wj=udg_wj+1
endloop
set udg_wj=1
loop
exitwhen udg_wj>6
if(Trig_jinggongguai_______u_Func007Func001C())then
set udg_jiangliwj1=udg_wj
else
endif
set udg_wj=udg_wj+1
endloop
if(Trig_jinggongguai_______u_Func008C())then
set udg_killzhuanshu[GetConvertedPlayerId(ConvertedPlayer(udg_jiangliwj1))]=(udg_killzhuanshu[GetConvertedPlayerId(ConvertedPlayer(udg_jiangliwj1))]+udg_jingongjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set udg_scorebonus=udg_waves-udg_waves/10*10
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_waves*10+(udg_waves/10)*100*udg_scorebonus+(udg_waves/20*1000)*udg_scorebonus
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_heroname[udg_jiangliwj1])+("杀死了|CFFFF0000"+(I2S(udg_jiangliwj)+("|R个进攻怪，排名第一,奖励|CFFFF0000"+(I2S(udg_jingongjifen)+"|R点专属技能经验以及"+I2S(udg_waves*10+udg_waves/10*100*udg_scorebonus+udg_waves/20*1000*udg_scorebonus)+"点试炼积分"))))))
else
set udg_scorebonus=udg_waves-udg_waves/10*10
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_waves*10+(udg_waves/10)*100*udg_scorebonus+(udg_waves/20*1000)*udg_scorebonus
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_heroname[udg_jiangliwj1])+("杀死了|CFFFF0000"+(I2S(udg_jiangliwj)+("|R个进攻怪，排名第一,奖励|CFFFF0000"+(I2S(udg_jingongjifen)+"|R点专属技能经验以及"+I2S(udg_waves*10+udg_waves/10*100*udg_scorebonus+udg_waves/20*1000*udg_scorebonus)+"点试炼积分"))))))
call SetPlayerStateBJ(ConvertedPlayer(udg_jiangliwj1),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(ConvertedPlayer(udg_jiangliwj1),PLAYER_STATE_RESOURCE_GOLD)+udg_jingongjingqian))
endif
set udg_shadisl[1]=0
set udg_shadisl[2]=0
set udg_shadisl[3]=0
set udg_shadisl[4]=0
set udg_shadisl[5]=0
set udg_shadisl[6]=0
endfunction
function InitTrig_jinggongguai_______u takes nothing returns nothing
set gg_trg_jinggongguai_______u=CreateTrigger()
call TriggerAddCondition(gg_trg_jinggongguai_______u,Condition(function Trig_jinggongguai_______u_Conditions))
call TriggerAddAction(gg_trg_jinggongguai_______u,function Trig_jinggongguai_______u_Actions)
endfunction
function Trig_fengbaozhichui_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AHtb'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_fengbaozhichui_Func002001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_fengbaozhichui_Func002001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_fengbaozhichui_Func002001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_fengbaozhichui_Func002001003001001(),Trig_fengbaozhichui_Func002001003001002())
endfunction
function Trig_fengbaozhichui_Func002001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==true)
endfunction
function Trig_fengbaozhichui_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_fengbaozhichui_Func002001003001(),Trig_fengbaozhichui_Func002001003002())
endfunction
function Trig_fengbaozhichui_Func002A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('AHtb',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('AHtb',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('AHtb',GetTriggerUnit()))
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
endfunction
function Trig_fengbaozhichui_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(((I2R(GetUnitAbilityLevelSwapped('AHtb',GetTriggerUnit()))*10.00)+400.00),udg_point,Condition(function Trig_fengbaozhichui_Func002001003)),function Trig_fengbaozhichui_Func002A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_fengbaozhichui takes nothing returns nothing
set gg_trg_fengbaozhichui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fengbaozhichui,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_fengbaozhichui,Condition(function Trig_fengbaozhichui_Conditions))
call TriggerAddAction(gg_trg_fengbaozhichui,function Trig_fengbaozhichui_Actions)
endfunction
function Trig_chacha_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05I'))then
return false
endif
return true
endfunction
function Trig_chacha_Actions takes nothing returns nothing
set udg_xxdian[0]=GetUnitLoc(GetTriggerUnit())
set udg_xx=1
loop
exitwhen udg_xx>36
set udg_xxdian[1]=PolarProjectionBJ(udg_xxdian[0],0.00,(10.00*I2R(udg_xx)))
set udg_xxdian[2]=PolarProjectionBJ(udg_xxdian[0],50.00,(10.00*I2R(udg_xx)))
call CreateNUnitsAtLocFacingLocBJ(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_xxdian[1],udg_xxdian[2])
set udg_xxzu[udg_xx]=GetLastCreatedUnit()
call UnitAddAbilityBJ('A05H',udg_xxzu[udg_xx])
call SetUnitAbilityLevelSwapped('A05H',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A05I',GetTriggerUnit()))
call IssuePointOrderLoc(udg_xxzu[udg_xx],"impale",udg_xxdian[2])
call RemoveLocation(udg_xxdian[1])
call RemoveLocation(udg_xxdian[2])
set udg_xx=udg_xx+1
endloop
call RemoveLocation(udg_xxdian[0])
call TriggerSleepAction(3.00)
set udg_xx=1
loop
exitwhen udg_xx>36
call RemoveUnit(udg_xxzu[udg_xx])
set udg_xx=udg_xx+1
endloop
endfunction
function InitTrig_chacha takes nothing returns nothing
set gg_trg_chacha=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chacha,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_chacha,Condition(function Trig_chacha_Conditions))
call TriggerAddAction(gg_trg_chacha,function Trig_chacha_Actions)
endfunction
function Trig_bianshen_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AHav'))then
return false
endif
return true
endfunction
function Trig_bianshen_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gldo')==true))then
return false
endif
return true
endfunction
function Trig_bianshen_Actions takes nothing returns nothing
if(Trig_bianshen_Func001C())then
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
call UnitAddAbilityBJ('A049',GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,'A049',GetOwningPlayer(GetTriggerUnit()))
call TriggerSleepAction(60.00)
call UnitRemoveAbilityBJ('A049',GetTriggerUnit())
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
call UnitAddAbilityBJ('A049',GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,'A049',GetOwningPlayer(GetTriggerUnit()))
call TriggerSleepAction(60.00)
call UnitRemoveAbilityBJ('A049',GetTriggerUnit())
endif
endfunction
function InitTrig_bianshen takes nothing returns nothing
set gg_trg_bianshen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianshen,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_bianshen,Condition(function Trig_bianshen_Conditions))
call TriggerAddAction(gg_trg_bianshen,function Trig_bianshen_Actions)
endfunction
function Trig_bianshen_______u_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AHav'))then
return false
endif
return true
endfunction
function Trig_bianshen_______u_Actions takes nothing returns nothing
call UnitRemoveAbilityBJ('A049',GetTriggerUnit())
endfunction
function InitTrig_bianshen_______u takes nothing returns nothing
set gg_trg_bianshen_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianshen_______u,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(gg_trg_bianshen_______u,Condition(function Trig_bianshen_______u_Conditions))
call TriggerAddAction(gg_trg_bianshen_______u,function Trig_bianshen_______u_Actions)
endfunction
function Trig_jianren_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AOww'))then
return false
endif
return true
endfunction
function Trig_jianren_Actions takes nothing returns nothing
set udg_unit_jrfb=GetTriggerUnit()
set udg_point_jrfb=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"war3mapImported\\LightningTornado.mdx")
set udg_shandian=GetLastCreatedEffectBJ()
call StartTimerBJ(udg_jianren,false,20.00)
call EnableTrigger(gg_trg_jianren2)
endfunction
function InitTrig_jianren takes nothing returns nothing
set gg_trg_jianren=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianren,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_jianren,Condition(function Trig_jianren_Conditions))
call TriggerAddAction(gg_trg_jianren,function Trig_jianren_Actions)
endfunction
function Trig_jianren2_Func002C takes nothing returns boolean
if(not(udg_int_jrfb==-20))then
return false
endif
return true
endfunction
function Trig_jianren2_Func003001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_jianren2_Func003001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)
endfunction
function Trig_jianren2_Func003001003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)
endfunction
function Trig_jianren2_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_jianren2_Func003001003002001(),Trig_jianren2_Func003001003002002())
endfunction
function Trig_jianren2_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_jianren2_Func003001003001(),Trig_jianren2_Func003001003002())
endfunction
function Trig_jianren2_Func003A takes nothing returns nothing
set udg_lsdian=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(udg_lsdian,I2R(udg_int_jrfb),AngleBetweenPoints(udg_lsdian,GetUnitLoc(udg_unit_jrfb))))
call UnitDamageTarget(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_jrfb))],GetEnumUnit(),(400.00*Pow(I2R(GetHeroLevel(udg_unit_jrfb)),1.20)),false,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call RemoveLocation(udg_lsdian)
endfunction
function Trig_jianren2_Actions takes nothing returns nothing
set udg_point_jrfb=GetUnitLoc(udg_unit_jrfb)
if(Trig_jianren2_Func002C())then
set udg_int_jrfb=30
else
set udg_int_jrfb=-20
endif
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_point_jrfb,Condition(function Trig_jianren2_Func003001003)),function Trig_jianren2_Func003A)
endfunction
function InitTrig_jianren2 takes nothing returns nothing
set gg_trg_jianren2=CreateTrigger()
call DisableTrigger(gg_trg_jianren2)
call TriggerRegisterTimerEventPeriodic(gg_trg_jianren2,0.30)
call TriggerAddAction(gg_trg_jianren2,function Trig_jianren2_Actions)
endfunction
function Trig_jieshu_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_jianren2)
call DestroyEffect(udg_shandian)
call RemoveLocation(udg_point_jrfb)
set udg_unit_jrfb=null
endfunction
function InitTrig_jieshu takes nothing returns nothing
set gg_trg_jieshu=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_jieshu,udg_jianren)
call TriggerRegisterUnitEvent(gg_trg_jieshu,gg_unit_Obla_0007,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_jieshu,function Trig_jieshu_Actions)
endfunction
function Trig_youxiguanghuan_Conditions takes nothing returns boolean
if(not(udg_tingdian==false))then
return false
endif
return true
endfunction
function Trig_youxiguanghuan_Actions takes nothing returns nothing
set udg_tingdian1=false
call UnitAddAbilityBJ('A026',gg_unit_h001_0004)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000天亮了游戏光环又回来了 。。。|r")
endfunction
function InitTrig_youxiguanghuan takes nothing returns nothing
set gg_trg_youxiguanghuan=CreateTrigger()
call TriggerRegisterGameStateEventTimeOfDay(gg_trg_youxiguanghuan,EQUAL,6.00)
call TriggerAddCondition(gg_trg_youxiguanghuan,Condition(function Trig_youxiguanghuan_Conditions))
call TriggerAddAction(gg_trg_youxiguanghuan,function Trig_youxiguanghuan_Actions)
endfunction
function Trig_youxiguanghuan_______u_Conditions takes nothing returns boolean
if(not(udg_tingdian==false))then
return false
endif
return true
endfunction
function Trig_youxiguanghuan_______u_Actions takes nothing returns nothing
set udg_tingdian1=true
call UnitRemoveAbilityBJ('A026',gg_unit_h001_0004)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000晚上11点了，寝室熄灯了，我们将失去游戏光环的保护。|r")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000得去把学校的控电室打下来啊！！|r")
endfunction
function InitTrig_youxiguanghuan_______u takes nothing returns nothing
set gg_trg_youxiguanghuan_______u=CreateTrigger()
call TriggerRegisterGameStateEventTimeOfDay(gg_trg_youxiguanghuan_______u,EQUAL,18.00)
call TriggerAddCondition(gg_trg_youxiguanghuan_______u,Condition(function Trig_youxiguanghuan_______u_Conditions))
call TriggerAddAction(gg_trg_youxiguanghuan_______u,function Trig_youxiguanghuan_______u_Actions)
endfunction
function Trig_xihezhifeng_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A03R'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_xihezhifeng_Func002001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_xihezhifeng_Func002001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_xihezhifeng_Func002001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_xihezhifeng_Func002001003001001(),Trig_xihezhifeng_Func002001003001002())
endfunction
function Trig_xihezhifeng_Func002001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==true)
endfunction
function Trig_xihezhifeng_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_xihezhifeng_Func002001003001(),Trig_xihezhifeng_Func002001003002())
endfunction
function Trig_xihezhifeng_Func002A takes nothing returns nothing
set udg_point1=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point1,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A03R',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A03R',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A03R',GetTriggerUnit()))
call IssueTargetOrder(GetLastCreatedUnit(),"soulburn",GetEnumUnit())
call RemoveLocation(udg_point1)
endfunction
function Trig_xihezhifeng_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetSpellTargetUnit())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_point,Condition(function Trig_xihezhifeng_Func002001003)),function Trig_xihezhifeng_Func002A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_xihezhifeng takes nothing returns nothing
set gg_trg_xihezhifeng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xihezhifeng,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_xihezhifeng,Condition(function Trig_xihezhifeng_Conditions))
call TriggerAddAction(gg_trg_xihezhifeng,function Trig_xihezhifeng_Actions)
endfunction
function Trig_pking_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A03S'))then
return false
endif
return true
endfunction
function Trig_pking_Actions takes nothing returns nothing
set udg_P[4]=GetUnitLoc(GetSpellTargetUnit())
set udg_P[0]=GetUnitLoc(udg_U[0])
set udg_U[1]=GetSpellTargetUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+0.00)),udg_P[4])
set udg_U[3]=GetLastCreatedUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+60.00)),udg_P[4])
set udg_U[4]=GetLastCreatedUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+120.00)),udg_P[4])
set udg_U[5]=GetLastCreatedUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+180.00)),udg_P[4])
set udg_U[6]=GetLastCreatedUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+260.00)),udg_P[4])
set udg_U[7]=GetLastCreatedUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+320.00)),udg_P[4])
set udg_U[8]=GetLastCreatedUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'e007',GetOwningPlayer(udg_U[0]),PolarProjectionBJ(udg_P[4],-200.00,(AngleBetweenPoints(udg_P[0],udg_P[4])+380.00)),udg_P[4])
call PauseUnit(udg_U[1],true)
set udg_U[9]=GetLastCreatedUnit()
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_U[1],true)
call EnableTrigger(gg_trg_pking1)
call TriggerSleepAction(2)
call EnableTrigger(gg_trg_pking2)
call TriggerSleepAction(3.00)
call DisableTrigger(gg_trg_pking1)
call DisableTrigger(gg_trg_pking2)
call TriggerSleepAction(1.00)
call TriggerExecute(gg_trg_pking3)
endfunction
function InitTrig_pking takes nothing returns nothing
set gg_trg_pking=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_pking,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_pking,Condition(function Trig_pking_Conditions))
call TriggerAddAction(gg_trg_pking,function Trig_pking_Actions)
endfunction
function Trig_pking1_Actions takes nothing returns nothing
set udg_X[1]=(udg_X[1]+10.00)
set udg_P[5]=PolarProjectionBJ(udg_P[4],-200.00,(0.00+udg_X[1]))
set udg_P[6]=PolarProjectionBJ(udg_P[4],-200.00,(60.00+udg_X[1]))
set udg_P[7]=PolarProjectionBJ(udg_P[4],-200.00,(120.00+udg_X[1]))
set udg_P[8]=PolarProjectionBJ(udg_P[4],-200.00,(180.00+udg_X[1]))
set udg_P[9]=PolarProjectionBJ(udg_P[4],-200.00,(240.00+udg_X[1]))
set udg_P[10]=PolarProjectionBJ(udg_P[4],-200.00,(300.00+udg_X[1]))
call SetUnitPositionLocFacingLocBJ(udg_U[3],udg_P[5],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[4],udg_P[6],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[5],udg_P[7],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[6],udg_P[8],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[7],udg_P[9],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[8],udg_P[10],udg_P[4])
call RemoveLocation(udg_P[5])
call RemoveLocation(udg_P[6])
call RemoveLocation(udg_P[7])
call RemoveLocation(udg_P[8])
call RemoveLocation(udg_P[9])
call RemoveLocation(udg_P[10])
endfunction
function InitTrig_pking1 takes nothing returns nothing
set gg_trg_pking1=CreateTrigger()
call DisableTrigger(gg_trg_pking1)
call TriggerRegisterTimerEventPeriodic(gg_trg_pking1,0.05)
call TriggerAddAction(gg_trg_pking1,function Trig_pking1_Actions)
endfunction
function Trig_pking2_Actions takes nothing returns nothing
set udg_X[1]=(udg_X[1]+5.00)
set udg_P[5]=PolarProjectionBJ(udg_P[4],-200.00,(0.00+udg_X[1]))
set udg_P[6]=PolarProjectionBJ(udg_P[4],-200.00,(60.00+udg_X[1]))
set udg_P[7]=PolarProjectionBJ(udg_P[4],-200.00,(120.00+udg_X[1]))
set udg_P[8]=PolarProjectionBJ(udg_P[4],-200.00,(180.00+udg_X[1]))
set udg_P[9]=PolarProjectionBJ(udg_P[4],-200.00,(240.00+udg_X[1]))
set udg_P[10]=PolarProjectionBJ(udg_P[4],-200.00,(300.00+udg_X[1]))
call SetUnitPositionLocFacingLocBJ(udg_U[3],udg_P[5],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[4],udg_P[6],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[5],udg_P[7],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[6],udg_P[8],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[7],udg_P[9],udg_P[4])
call SetUnitPositionLocFacingLocBJ(udg_U[8],udg_P[10],udg_P[4])
call SetUnitAnimation(udg_U[1],"death")
call AddSpecialEffectLocBJ(udg_P[4],"Abilities\\Weapons\\Blood\\BloodImpact.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(udg_P[5])
call RemoveLocation(udg_P[6])
call RemoveLocation(udg_P[7])
call RemoveLocation(udg_P[8])
call RemoveLocation(udg_P[9])
call RemoveLocation(udg_P[10])
endfunction
function InitTrig_pking2 takes nothing returns nothing
set gg_trg_pking2=CreateTrigger()
call DisableTrigger(gg_trg_pking2)
call TriggerRegisterTimerEventPeriodic(gg_trg_pking2,0.10)
call TriggerAddAction(gg_trg_pking2,function Trig_pking2_Actions)
endfunction
function Trig_pking3_Func002A takes nothing returns nothing
call SetUnitFlyHeight(GetEnumUnit(),0.00,0.00)
call SetUnitPositionLoc(GetEnumUnit(),udg_P[4])
call IssuePointOrderLoc(GetEnumUnit(),"flamestrike",GetUnitLoc(GetEnumUnit()))
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_pking3_Func010C takes nothing returns boolean
if(not(GetUnitAbilityLevel(udg_U[0],'A03S')==1))then
return false
endif
return true
endfunction
function Trig_pking3_Func011C takes nothing returns boolean
if(not(GetUnitAbilityLevel(udg_U[0],'A03S')==2))then
return false
endif
return true
endfunction
function Trig_pking3_Func012C takes nothing returns boolean
if(not(GetUnitAbilityLevel(udg_U[0],'A03S')==3))then
return false
endif
return true
endfunction
function Trig_pking3_Actions takes nothing returns nothing
call SetUnitInvulnerable(udg_U[1],false)
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(udg_U[0]),'e007'),function Trig_pking3_Func002A)
call CreateNUnitsAtLoc(1,'e004',GetOwningPlayer(udg_U[0]),udg_P[4],bj_UNIT_FACING)
set udg_U[2]=GetLastCreatedUnit()
call IssueImmediateOrder(udg_U[2],"thunderclap")
call PauseUnit(udg_U[1],false)
call RemoveUnit(udg_U[2])
call TriggerSleepAction(0.50)
call SetUnitAnimation(udg_U[1],"stand")
if(Trig_pking3_Func010C())then
call UnitDamageTargetBJ(udg_U[0],udg_U[1],(600000.00+(I2R(GetHeroInt(udg_U[0],true))*I2R(GetHeroLevel(udg_U[0])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
if(Trig_pking3_Func011C())then
call UnitDamageTargetBJ(udg_U[0],udg_U[1],(1500000.00+(I2R(GetHeroInt(udg_U[0],true))*I2R(GetHeroLevel(udg_U[0])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
if(Trig_pking3_Func012C())then
call UnitDamageTargetBJ(udg_U[0],udg_U[1],(2500000.00+(I2R(GetHeroInt(udg_U[0],true))*I2R(GetHeroLevel(udg_U[0])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_pking3 takes nothing returns nothing
set gg_trg_pking3=CreateTrigger()
call TriggerAddAction(gg_trg_pking3,function Trig_pking3_Actions)
endfunction
function Trig_jx_001_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A059'))then
return false
endif
return true
endfunction
function Trig_jx_001_Func011A takes nothing returns nothing
call SetUnitFlyHeight(GetEnumUnit(),150.00,3000.00)
endfunction
function Trig_jx_001_Func016A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_jx_001_Actions takes nothing returns nothing
set udg_U[30]=GetTriggerUnit()
set udg_P[30]=GetUnitLoc(udg_U[30])
set udg_P[32]=GetSpellTargetLoc()
call EnableTrigger(gg_trg_JX_003)
call TriggerSleepAction(0.50)
call CreateNUnitsAtLoc(1,'h00G',GetOwningPlayer(udg_U[30]),udg_P[32],bj_UNIT_FACING)
set udg_U[33]=GetLastCreatedUnit()
call UnitApplyTimedLife(udg_U[33],'BHwe',2.00)
call IssueImmediateOrder(udg_U[33],"thunderclap")
call TriggerSleepAction(0.30)
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(udg_U[30]),'h00F'),function Trig_jx_001_Func011A)
call DisableTrigger(gg_trg_JX_003)
call TriggerSleepAction(3.00)
call RemoveLocation(udg_P[30])
call RemoveLocation(udg_P[32])
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(udg_U[30]),'h00F'),function Trig_jx_001_Func016A)
endfunction
function InitTrig_jx_001 takes nothing returns nothing
set gg_trg_jx_001=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jx_001,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_jx_001,Condition(function Trig_jx_001_Conditions))
call TriggerAddAction(gg_trg_jx_001,function Trig_jx_001_Actions)
endfunction
function Trig_JX_003_Func001002 takes nothing returns nothing
call SetUnitFlyHeight(GetEnumUnit(),(GetUnitFlyHeight(GetEnumUnit())-100.00),3000.00)
endfunction
function Trig_JX_003_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(udg_U[0]),'h00F'),function Trig_JX_003_Func001002)
call CreateNUnitsAtLoc(1,'h00F',GetOwningPlayer(udg_U[30]),GetRandomLocInRect(RectFromCenterSizeBJ(udg_P[32],400.00,400.00)),0.00)
endfunction
function InitTrig_JX_003 takes nothing returns nothing
set gg_trg_JX_003=CreateTrigger()
call DisableTrigger(gg_trg_JX_003)
call TriggerRegisterTimerEventPeriodic(gg_trg_JX_003,0.02)
call TriggerAddAction(gg_trg_JX_003,function Trig_JX_003_Actions)
endfunction
function Trig_jianfang_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05J'))then
return false
endif
return true
endfunction
function Trig_jianfang_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
set udg_U[10]=GetTriggerUnit()
set udg_U[11]=GetSpellTargetUnit()
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(udg_U[10]),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A03U',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A03U',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A05J',GetTriggerUnit()))
call IssueTargetOrder(GetLastCreatedUnit(),"faeriefire",udg_U[11])
call RemoveLocation(udg_point)
if(GetUnitTypeId(GetTriggerUnit())=='Ewar')then
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-5*GetUnitAbilityLevel(GetTriggerUnit(),'A05J')))
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00受到能量伤害"+I2S(100*GetUnitAbilityLevel(GetTriggerUnit(),'A05J'))+"点|r")
endif
endfunction
function InitTrig_jianfang takes nothing returns nothing
set gg_trg_jianfang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianfang,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_jianfang,Condition(function Trig_jianfang_Conditions))
call TriggerAddAction(gg_trg_jianfang,function Trig_jianfang_Actions)
endfunction

function Trig_miemo1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AUdc'))then
return false
endif
return true
endfunction
function Trig_miemo1_Actions takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(400.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function InitTrig_miemo1 takes nothing returns nothing
set gg_trg_miemo1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_miemo1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_miemo1,Condition(function Trig_miemo1_Conditions))
call TriggerAddAction(gg_trg_miemo1,function Trig_miemo1_Actions)
endfunction


function Trig_hfz_______uConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AHfs' ) and(GetTriggerUnit()==gg_unit_H005_0020))
endfunction

function Trig_hfz_______uFunc002001003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) ) )
endfunction

function Trig_hfz_______uFunc002A takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, GetTriggerUnit(), true)) * ( I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'AHfs')) * 10.00 ) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_hfz_______uActions takes nothing returns nothing
    set udg_P[115]=GetSpellTargetLoc()
    call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00 , udg_P[115] , Condition(function Trig_hfz_______uFunc002001003)), function Trig_hfz_______uFunc002A)
    call RemoveLocation(udg_P[115])
endfunction

//===========================================================================
function InitTrig_hfz_______u takes nothing returns nothing
    set gg_trg_hfz_______u=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_hfz_______u, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_hfz_______u, Condition(function Trig_hfz_______uConditions))
    call TriggerAddAction(gg_trg_hfz_______u, function Trig_hfz_______uActions)
endfunction


function Trig_jinghua_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08H'))then
return false
endif
if(not(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true))then
return false
endif
return true
endfunction
function Trig_jinghua_Actions takes nothing returns nothing
set udg_hke_Z1=I2R(GetHeroInt(GetTriggerUnit(),true))
set udg_hke_Z2=I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A08H'))
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),((udg_hke_Z1*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))*(0.50*udg_hke_Z2)),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function InitTrig_jinghua takes nothing returns nothing
set gg_trg_jinghua=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jinghua,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_jinghua,Condition(function Trig_jinghua_Conditions))
call TriggerAddAction(gg_trg_jinghua,function Trig_jinghua_Actions)
endfunction
function Trig_huohuan_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08I'))then
return false
endif
return true
endfunction
function Trig_huohuan_Func005001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_huohuan_Func005001003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huohuan_Func005001003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_huohuan_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_huohuan_Func005001003002001(),Trig_huohuan_Func005001003002002())
endfunction
function Trig_huohuan_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_huohuan_Func005001003001(),Trig_huohuan_Func005001003002())
endfunction
function Trig_huohuan_Func005A takes nothing returns nothing
call GroupAddUnit(udg_hhdwz,GetEnumUnit())
if(not(GetUnitTypeId(GetTriggerUnit())=='Ewar'))then
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((udg_molizhili*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))*(0.20*I2R(udg_molidengji))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ewar')then
//call SetUnitManaBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())-100*GetUnitAbilityLevel(GetTriggerUnit(),'A08I')))
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00受到能量伤害"+I2S(100*GetUnitAbilityLevel(GetTriggerUnit(),'A08I'))+"点|r")
call SetUnitManaBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)*(0.001+0.001*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A08I'))))))
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((udg_molizhili*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))*(0.10*I2R(udg_molidengji))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function Trig_huohuan_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"overhead"))
set udg_kangzhudwd=GetUnitLoc(GetTriggerUnit())
set udg_molidengji=GetUnitAbilityLevel(GetTriggerUnit(),'A08I')
set udg_molizhili=I2R(GetHeroInt(GetTriggerUnit(),true))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(350.00,udg_kangzhudwd,Condition(function Trig_huohuan_Func005001003)),function Trig_huohuan_Func005A)
call EnableTrigger(gg_trg_huohuan1)
call TriggerSleepAction(0.50)
call DisableTrigger(gg_trg_huohuan1)
call GroupClear(udg_hhdwz)
call RemoveLocation(udg_kangzhudwd)
endfunction
function InitTrig_huohuan takes nothing returns nothing
set gg_trg_huohuan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huohuan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_huohuan,Condition(function Trig_huohuan_Conditions))
call TriggerAddAction(gg_trg_huohuan,function Trig_huohuan_Actions)
endfunction
function Trig_huohuan1_Func001A takes nothing returns nothing
set udg_xqdwd=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLocFacingLocBJ(GetEnumUnit(),PolarProjectionBJ(udg_xqdwd,10.00,AngleBetweenPoints(udg_kangzhudwd,udg_xqdwd)),udg_kangzhudwd)
call RemoveLocation(udg_xqdwd)
endfunction
function Trig_huohuan1_Actions takes nothing returns nothing
call ForGroupBJ(udg_hhdwz,function Trig_huohuan1_Func001A)
endfunction
function InitTrig_huohuan1 takes nothing returns nothing
set gg_trg_huohuan1=CreateTrigger()
call DisableTrigger(gg_trg_huohuan1)
call TriggerRegisterTimerEventPeriodic(gg_trg_huohuan1,0.02)
call TriggerAddAction(gg_trg_huohuan1,function Trig_huohuan1_Actions)
endfunction
function Trig_ding_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A061'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_ding_Func002001003 takes nothing returns boolean
return(GetFilterUnit()!=GetSpellTargetUnit())
endfunction
function Trig_ding_Func002A takes nothing returns nothing
set udg_point1=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point1,GetUnitFacing(GetTriggerUnit()))
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_majiadwz[1])
call UnitAddAbilityBJ('A061',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A061',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A061',GetTriggerUnit()))
call IssueTargetOrder(GetLastCreatedUnit(),"entanglingroots",GetEnumUnit())
call RemoveLocation(udg_point1)
endfunction
function Trig_ding_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetSpellTargetUnit())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point,Condition(function Trig_ding_Func002001003)),function Trig_ding_Func002A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_ding takes nothing returns nothing
set gg_trg_ding=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ding,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ding,Condition(function Trig_ding_Conditions))
call TriggerAddAction(gg_trg_ding,function Trig_ding_Actions)
endfunction
function Trig_tingzhi_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A061'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_tingzhi_Func002002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_tingzhi_Actions takes nothing returns nothing
call TriggerSleepAction(15.00)
call ForGroupBJ(udg_majiadwz[1],function Trig_tingzhi_Func002002)
call GroupClear(udg_majiadwz[1])
endfunction
function InitTrig_tingzhi takes nothing returns nothing
set gg_trg_tingzhi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tingzhi,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_tingzhi,Condition(function Trig_tingzhi_Conditions))
call TriggerAddAction(gg_trg_tingzhi,function Trig_tingzhi_Actions)
endfunction
function Trig_biansheng_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AEme'))then
return false
endif
return true
endfunction
function Trig_biansheng_Actions takes nothing returns nothing
call IssueImmediateOrder(GetTriggerUnit(),"locustswarm")
endfunction
function InitTrig_biansheng takes nothing returns nothing
set gg_trg_biansheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_biansheng,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(gg_trg_biansheng,Condition(function Trig_biansheng_Conditions))
call TriggerAddAction(gg_trg_biansheng,function Trig_biansheng_Actions)
endfunction
function Trig_emxt_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Edmm'))then
return false
endif
return true
endfunction
function Trig_emxt_Actions takes nothing returns nothing
set udg_emxt=GetTriggerUnit()
endfunction
function InitTrig_emxt takes nothing returns nothing
set gg_trg_emxt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emxt,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_emxt,Condition(function Trig_emxt_Conditions))
call TriggerAddAction(gg_trg_emxt,function Trig_emxt_Actions)
endfunction
function Trig_xuexi_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A0BN'))then
return false
endif
return true
endfunction
function Trig_xuexi_Func001C takes nothing returns boolean
if(not(udg_buerzhi_chongxiufengshen==false))then
return false
endif
return true
endfunction
function Trig_xuexi_Actions takes nothing returns nothing
if(Trig_xuexi_Func001C())then
call UnitAddAbilityBJ('AEme',GetTriggerUnit())
call UnitMakeAbilityPermanent(udg_heroname[111],true,'AEme')
set udg_buerzhi_chongxiufengshen=true
else
call IncUnitAbilityLevelSwapped('AEme',GetTriggerUnit())
endif
endfunction
function InitTrig_xuexi takes nothing returns nothing
set gg_trg_xuexi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xuexi,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_xuexi,Condition(function Trig_xuexi_Conditions))
call TriggerAddAction(gg_trg_xuexi,function Trig_xuexi_Actions)
endfunction
function Trig_beicixuexi_Conditions takes nothing returns boolean
if(not(GetLearnedSkillBJ()=='A06H'))then
return false
endif
return true
endfunction
function Trig_beicixuexi_Actions takes nothing returns nothing
set udg_beici=true
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_beicixuexi takes nothing returns nothing
set gg_trg_beicixuexi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_beicixuexi,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_beicixuexi,Condition(function Trig_beicixuexi_Conditions))
call TriggerAddAction(gg_trg_beicixuexi,function Trig_beicixuexi_Actions)
endfunction
function Trig_qundushu_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06I'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_qundushu_Func002001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_qundushu_Func002001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_qundushu_Func002001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_qundushu_Func002001003001001(),Trig_qundushu_Func002001003001002())
endfunction
function Trig_qundushu_Func002001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==true)
endfunction
function Trig_qundushu_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_qundushu_Func002001003001(),Trig_qundushu_Func002001003002())
endfunction
function Trig_qundushu_Func002A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(25.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A06I',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A06I',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A06I',GetTriggerUnit()))
call IssueTargetOrder(GetLastCreatedUnit(),"shadowstrike",GetEnumUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),30000*GetUnitAbilityLevel(GetTriggerUnit(),'A06I'),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_qundushu_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_point,Condition(function Trig_qundushu_Func002001003)),function Trig_qundushu_Func002A)
call RemoveLocation(udg_point)
endfunction
function InitTrig_qundushu takes nothing returns nothing
set gg_trg_qundushu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qundushu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_qundushu,Condition(function Trig_qundushu_Conditions))
call TriggerAddAction(gg_trg_qundushu,function Trig_qundushu_Actions)
endfunction
function Trig_beici_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Orex'))then
return false
endif
if(not(RAbsBJ((GetUnitFacing(GetAttacker())-GetUnitFacing(GetAttackedUnitBJ())))<100.00))then
return false
endif
if(not(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Orex_0018)))then
return false
endif
if(not(udg_beici==true))then
return false
endif
if(GetUnitTypeId(GetAttackedUnitBJ())=='h001')then
return false
endif
if(GetUnitTypeId(GetTriggerUnit())=='h001')then
return false
endif
return true
endfunction
function Trig_beici_Actions takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Blood\\BloodImpact.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitManaBJ(GetAttackedUnitBJ(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttackedUnitBJ())-GetUnitAbilityLevel(GetAttacker(),'A06H')/GetRandomInt(1,2)))
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),((I2R(GetHeroAgi(GetAttacker(),true))+1500.00)*(I2R(GetUnitAbilityLevel(GetAttacker(),'A06H'))*2.70)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function InitTrig_beici takes nothing returns nothing
set gg_trg_beici=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_beici,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_beici,Condition(function Trig_beici_Conditions))
call TriggerAddAction(gg_trg_beici,function Trig_beici_Actions)
endfunction
function Trig_xuanbuzhan_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06L'))then
return false
endif
return true
endfunction
function Trig_xuanbuzhan_Actions takes nothing returns nothing
set udg_cikelsd=GetUnitLoc(GetTriggerUnit())
set udg_unit=GetSpellTargetUnit()
set udg_count=(1+(GetUnitAbilityLevelSwapped('A06L',GetTriggerUnit())*5))
call TriggerSleepAction(0.20)
call SelectUnitRemoveForPlayer(GetTriggerUnit(),GetOwningPlayer(GetTriggerUnit()))
call SetUnitVertexColorBJ(GetTriggerUnit(),59.00,59.00,59.00,59.00)
call SetUnitInvulnerable(GetTriggerUnit(),true)
call AddSpecialEffectTargetUnitBJ("weapon",GetTriggerUnit(),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),PolarProjectionBJ(GetUnitLoc(udg_unit),50.00,GetRandomDirectionDeg()),AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(udg_unit)))
call UnitDamageTargetBJ(GetTriggerUnit(),udg_unit,(80000.00+(I2R(GetHeroInt(GetTriggerUnit(),true))*I2R(GetHeroLevel(GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitAnimation(GetTriggerUnit(),"attack")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(0.15)
call ConditionalTriggerExecute(gg_trg_xuanbuzhan2)
endfunction
function InitTrig_xuanbuzhan takes nothing returns nothing
set gg_trg_xuanbuzhan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xuanbuzhan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_xuanbuzhan,Condition(function Trig_xuanbuzhan_Conditions))
call TriggerAddAction(gg_trg_xuanbuzhan,function Trig_xuanbuzhan_Actions)
endfunction
function Trig_xuanbuzhan2_Conditions takes nothing returns boolean
if(not(udg_count>0))then
return false
endif
return true
endfunction
function Trig_xuanbuzhan2_Func002Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_xuanbuzhan2_Func002Func005002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_xuanbuzhan2_Func002Func005002003 takes nothing returns boolean
return GetBooleanAnd(Trig_xuanbuzhan2_Func002Func005002003001(),Trig_xuanbuzhan2_Func002Func005002003002())
endfunction
function Trig_xuanbuzhan2_Func002Func006A takes nothing returns nothing
set udg_unit=GetEnumUnit()
endfunction
function Trig_xuanbuzhan2_Func002Func007Func003C takes nothing returns boolean
if((udg_count<=0))then
return true
endif
if((IsUnitDeadBJ(udg_unit)==true))then
return true
endif
return false
endfunction
function Trig_xuanbuzhan2_Func002Func007C takes nothing returns boolean
if(not Trig_xuanbuzhan2_Func002Func007Func003C())then
return false
endif
return true
endfunction
function Trig_xuanbuzhan2_Func002C takes nothing returns boolean
if(not(udg_count<=0))then
return false
endif
return true
endfunction
function Trig_xuanbuzhan2_Actions takes nothing returns nothing
set udg_count=(udg_count-1)
if(Trig_xuanbuzhan2_Func002C())then
call SelectUnitForPlayerSingle(GetTriggerUnit(),GetOwningPlayer(GetTriggerUnit()))
call SetUnitInvulnerable(GetTriggerUnit(),false)
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,0)
else
set udg_TempGroup=GetUnitsInRangeOfLocMatching(500.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_xuanbuzhan2_Func002Func005002003))
call ForGroupBJ(GetRandomSubGroup(1,udg_TempGroup),function Trig_xuanbuzhan2_Func002Func006A)
if(Trig_xuanbuzhan2_Func002Func007C())then
call SelectUnitForPlayerSingle(GetTriggerUnit(),GetOwningPlayer(GetTriggerUnit()))
call SetUnitInvulnerable(GetTriggerUnit(),false)
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,0)
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),udg_cikelsd,AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(udg_unit)))
call RemoveLocation(udg_cikelsd)
else
call AddSpecialEffectTargetUnitBJ("weapon",GetTriggerUnit(),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),PolarProjectionBJ(GetUnitLoc(udg_unit),50.00,GetRandomDirectionDeg()),AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(udg_unit)))
call UnitDamageTargetBJ(GetTriggerUnit(),udg_unit,(80000.00+(I2R(GetHeroInt(GetTriggerUnit(),true))*I2R(GetHeroLevel(GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitAnimation(GetTriggerUnit(),"attack")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(0.15)
call ConditionalTriggerExecute(gg_trg_xuanbuzhan2)
call GroupClear(udg_TempGroup)
call DestroyGroup(udg_TempGroup)
call RemoveLocation(udg_TempPoint[1])
endif
endif
endfunction
function InitTrig_xuanbuzhan2 takes nothing returns nothing
set gg_trg_xuanbuzhan2=CreateTrigger()
call TriggerAddCondition(gg_trg_xuanbuzhan2,Condition(function Trig_xuanbuzhan2_Conditions))
call TriggerAddAction(gg_trg_xuanbuzhan2,function Trig_xuanbuzhan2_Actions)
endfunction
function Trig_jingtiandaoqi1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06M'))then
return false
endif
return true
endfunction

function Trig_jingtiandaoqi1_Func012001003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Ogrh_0091)) == true ) ) )
endfunction

function Trig_jingtiandaoqi1_Func012A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Ogrh_0091, GetEnumUnit(), ( 500+I2R(GetHeroStatBJ(bj_HEROSTAT_STR, gg_unit_Ogrh_0091, true)) * ( I2R(GetUnitAbilityLevel(gg_unit_Ogrh_0091, 'A06M')) * ( 1.00 * 2.00 ) ) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_jingtiandaoqi1_Func007C takes nothing returns boolean
if(not(udg_buerzhi_daoshenchongxiu==true))then
return false
endif
return true
endfunction
function Trig_jingtiandaoqi1_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
set udg_point1=GetSpellTargetLoc()
set udg_double=AngleBetweenPoints(udg_point,udg_point1)
call CreateNUnitsAtLoc(1,'h00K',GetOwningPlayer(GetTriggerUnit()),udg_point,udg_double)
set udg_douqi=GetLastCreatedUnit()
call SetUnitPathing(udg_douqi,false)
if(Trig_jingtiandaoqi1_Func007C())then
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
set udg_unit=GetLastCreatedUnit()
call UnitAddAbility(udg_unit,'AUim')
call IssuePointOrderLoc(udg_unit,"impale",udg_point1)
else
endif


call CreateNUnitsAtLoc(1, 'npng', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(1.00, 'BTLF', GetLastCreatedUnit())
   call SetUnitPositionLocFacingBJ(GetLastCreatedUnit(), PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 80.00, ( AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()), GetUnitLoc(GetSpellTargetUnit())) )), GetUnitFacing(GetTriggerUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitLoc(GetLastCreatedUnit())))
  call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00 , GetUnitLoc(GetLastCreatedUnit()) , Condition(function Trig_jingtiandaoqi1_Func012001003)), function Trig_jingtiandaoqi1_Func012A)
    call DestroyGroup(GetLastCreatedGroup())


call EnableTrigger(gg_trg_jintiandaoqi2)
call TriggerSleepAction(0.20)
call DisableTrigger(gg_trg_jintiandaoqi2)
call RemoveUnit(udg_douqi)
call RemoveUnit(udg_unit)
call RemoveLocation(udg_point)
call RemoveLocation(udg_point1)
endfunction
function InitTrig_jingtiandaoqi1 takes nothing returns nothing
set gg_trg_jingtiandaoqi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jingtiandaoqi1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_jingtiandaoqi1,Condition(function Trig_jingtiandaoqi1_Conditions))
call TriggerAddAction(gg_trg_jingtiandaoqi1,function Trig_jingtiandaoqi1_Actions)
endfunction
function Trig_jintiandaoqi2_Actions takes nothing returns nothing
set udg_daoqidian=GetUnitLoc(udg_douqi)
  call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00 , udg_daoqidian , Condition(function Trig_jingtiandaoqi1_Func012001003)), function Trig_jingtiandaoqi1_Func012A)

call SetUnitPositionLocFacingBJ(udg_douqi,PolarProjectionBJ(udg_daoqidian,30.00,udg_double),udg_double)
call RemoveLocation(udg_daoqidian)
endfunction
function InitTrig_jintiandaoqi2 takes nothing returns nothing
set gg_trg_jintiandaoqi2=CreateTrigger()
call DisableTrigger(gg_trg_jintiandaoqi2)
call TriggerRegisterTimerEventPeriodic(gg_trg_jintiandaoqi2,0.01)
call TriggerAddAction(gg_trg_jintiandaoqi2,function Trig_jintiandaoqi2_Actions)
endfunction
function Trig_wushuang1_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B00D')==true))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos5'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Uear'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S001'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S002'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S003'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S004'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S005'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S006'))then
return false
endif
return true
endfunction
function Trig_wushuang1_Func002C takes nothing returns boolean
if(not(udg_wssuiji==1))then
return false
endif
return true
endfunction
function Trig_wushuang1_Actions takes nothing returns nothing
set udg_wssuiji=GetRandomInt(1,10)
if(Trig_wushuang1_Func002C())then
call SetUnitLifeBJ(GetAttackedUnitBJ(),(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)-(GetUnitState(GetAttackedUnitBJ(),UNIT_STATE_LIFE)*0.05)))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHeroFarSeer.mdl",GetAttackedUnitBJ(),"origin"))
call SetUnitLifeBJ(GetAttacker(),(GetUnitState(GetAttacker(),UNIT_STATE_LIFE)-(GetUnitState(GetAttacker(),UNIT_STATE_LIFE)*0.10)))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHeroFarSeer.mdl",GetAttackedUnitBJ(),"origin"))
else
endif
endfunction
function InitTrig_wushuang1 takes nothing returns nothing
set gg_trg_wushuang1=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wushuang1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wushuang1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wushuang1,Condition(function Trig_wushuang1_Conditions))
call TriggerAddAction(gg_trg_wushuang1,function Trig_wushuang1_Actions)
endfunction
function Trig_daoqihuti1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06S'))then
return false
endif
return true
endfunction
function Trig_daoqihuti1_Actions takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A06T')
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A06T',false)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl")
set udg_wudixg=GetLastCreatedEffectBJ()
call StartTimerBJ(udg_jsqdaoqi,false,I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A06S')))
endfunction
function InitTrig_daoqihuti1 takes nothing returns nothing
set gg_trg_daoqihuti1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_daoqihuti1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_daoqihuti1,Condition(function Trig_daoqihuti1_Conditions))
call TriggerAddAction(gg_trg_daoqihuti1,function Trig_daoqihuti1_Actions)
endfunction
function Trig_daoqihuti2_Actions takes nothing returns nothing
call UnitRemoveAbility(gg_unit_Ogrh_0091,'A06T')
call UnitRemoveBuffBJ('B00F',gg_unit_Ogrh_0091)
call DestroyEffect(udg_wudixg)
endfunction
function InitTrig_daoqihuti2 takes nothing returns nothing
set gg_trg_daoqihuti2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_daoqihuti2,udg_jsqdaoqi)
call TriggerAddAction(gg_trg_daoqihuti2,function Trig_daoqihuti2_Actions)
endfunction
function Trig_shengming_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A07R'))then
return false
endif
return true
endfunction
function Trig_shengming_Actions takes nothing returns nothing
set udg_z=(2000*GetUnitAbilityLevel(GetTriggerUnit(),'A07R'))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,udg_z)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,udg_z)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,udg_z)
call StartTimerBJ(udg_sm,false,60.00)
call TriggerRegisterUnitEvent(gg_trg_shengming_______u,GetTriggerUnit(),EVENT_UNIT_DEATH)
endfunction
function InitTrig_shengming takes nothing returns nothing
set gg_trg_shengming=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shengming,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_shengming,Condition(function Trig_shengming_Conditions))
call TriggerAddAction(gg_trg_shengming,function Trig_shengming_Actions)
endfunction
function Trig_shengming_______u_Actions takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,gg_unit_Hblm_0191,bj_MODIFYMETHOD_SUB,udg_z)
call ModifyHeroStat(bj_HEROSTAT_AGI,gg_unit_Hblm_0191,bj_MODIFYMETHOD_SUB,udg_z)
call ModifyHeroStat(bj_HEROSTAT_INT,gg_unit_Hblm_0191,bj_MODIFYMETHOD_SUB,udg_z)
endfunction
function InitTrig_shengming_______u takes nothing returns nothing
set gg_trg_shengming_______u=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_shengming_______u,udg_sm)
call TriggerAddAction(gg_trg_shengming_______u,function Trig_shengming_______u_Actions)
endfunction
function Trig_shengmingzhiguang_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A07S'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_shengmingzhiguang_Func001001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shengmingzhiguang_Func001001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_shengmingzhiguang_Func001001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_shengmingzhiguang_Func001001003001001(),Trig_shengmingzhiguang_Func001001003001002())
endfunction
function Trig_shengmingzhiguang_Func001001003002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_shengmingzhiguang_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shengmingzhiguang_Func001001003001(),Trig_shengmingzhiguang_Func001001003002())
endfunction
function Trig_shengmingzhiguang_Func001A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A07S',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A07S',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A07S',GetTriggerUnit()))
call IssueTargetOrder(GetLastCreatedUnit(),"holybolt",GetEnumUnit())
endfunction
function Trig_shengmingzhiguang_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(((I2R(GetUnitAbilityLevelSwapped('A07S',GetTriggerUnit()))*10.00)+400.00),GetUnitLoc(GetSpellTargetUnit()),Condition(function Trig_shengmingzhiguang_Func001001003)),function Trig_shengmingzhiguang_Func001A)
endfunction
function InitTrig_shengmingzhiguang takes nothing returns nothing
set gg_trg_shengmingzhiguang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shengmingzhiguang,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_shengmingzhiguang,Condition(function Trig_shengmingzhiguang_Conditions))
call TriggerAddAction(gg_trg_shengmingzhiguang,function Trig_shengmingzhiguang_Actions)
endfunction
function Trig_smzhengfa_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08N'))then
return false
endif
return true
endfunction
function Trig_smzhengfa_Actions takes nothing returns nothing
set udg_shengmingzhen=GetUnitLoc(GetTriggerUnit())
set udg_shengmingd[1]=PolarProjectionBJ(udg_shengmingzhen,300.00,72.00)
set udg_shengmingd[2]=PolarProjectionBJ(udg_shengmingzhen,300.00,144.00)
set udg_shengmingd[3]=PolarProjectionBJ(udg_shengmingzhen,300.00,216.00)
set udg_shengmingd[4]=PolarProjectionBJ(udg_shengmingzhen,300.00,288.00)
set udg_shengmingd[5]=PolarProjectionBJ(udg_shengmingzhen,300.00,360.00)
set udg_shengmingd[6]=PolarProjectionBJ(udg_shengmingzhen,300.00,72.00)
call CreateNUnitsAtLoc(1,'n00E',GetOwningPlayer(GetTriggerUnit()),udg_shengmingzhen,bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A08L',GetUnitAbilityLevel(GetTriggerUnit(),'A08N'))
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A08M',GetUnitAbilityLevel(GetTriggerUnit(),'A08N'))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',15.00)
call TriggerRegisterUnitEvent(gg_trg_smzhengfajieshu,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
set udg_shengminga=1
loop
exitwhen udg_shengminga>5
call AddLightningLoc("CHIM",udg_shengmingd[udg_shengminga],udg_shengmingd[(udg_shengminga+1)])
set udg_smxiaoguo1[udg_shengminga]=GetLastCreatedLightningBJ()
call AddLightningLoc("AFOD",udg_shengmingd[udg_shengminga],udg_shengmingd[(udg_shengminga+1)])
set udg_smxiaoguo2[udg_shengminga]=GetLastCreatedLightningBJ()
call AddLightningLoc("MBUR",udg_shengmingd[udg_shengminga],udg_shengmingd[(udg_shengminga+1)])
set udg_smxiaoguo3[udg_shengminga]=GetLastCreatedLightningBJ()
set udg_shengminga=udg_shengminga+1
endloop
call RemoveLocation(udg_shengmingzhen)
set udg_shengminga=1
loop
exitwhen udg_shengminga>6
call RemoveLocation(udg_shengmingd[udg_shengminga])
set udg_shengminga=udg_shengminga+1
endloop
endfunction
function InitTrig_smzhengfa takes nothing returns nothing
set gg_trg_smzhengfa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_smzhengfa,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_smzhengfa,Condition(function Trig_smzhengfa_Conditions))
call TriggerAddAction(gg_trg_smzhengfa,function Trig_smzhengfa_Actions)
endfunction
function Trig_smzhengfajieshu_Actions takes nothing returns nothing
set udg_shengminga=1
loop
exitwhen udg_shengminga>5
call DestroyLightning(udg_smxiaoguo1[udg_shengminga])
call DestroyLightning(udg_smxiaoguo2[udg_shengminga])
call DestroyLightning(udg_smxiaoguo3[udg_shengminga])
set udg_shengminga=udg_shengminga+1
endloop
endfunction
function InitTrig_smzhengfajieshu takes nothing returns nothing
set gg_trg_smzhengfajieshu=CreateTrigger()
call TriggerAddAction(gg_trg_smzhengfajieshu,function Trig_smzhengfajieshu_Actions)
endfunction
function Trig_jinengqianghua_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A09V'))then
return false
endif
return true
endfunction
function Trig_jinengqianghua_Actions takes nothing returns nothing
call SetPlayerTechResearchedSwap('Rhcd',GetUnitAbilityLevel(GetTriggerUnit(),'A09V'),GetOwningPlayer(GetTriggerUnit()))
endfunction
function InitTrig_jinengqianghua takes nothing returns nothing
set gg_trg_jinengqianghua=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jinengqianghua,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_jinengqianghua,Condition(function Trig_jinengqianghua_Conditions))
call TriggerAddAction(gg_trg_jinengqianghua,function Trig_jinengqianghua_Actions)
endfunction
function Trig_jinhua_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A080'))then
return false
endif
return true
endfunction
function Trig_jinhua_Actions takes nothing returns nothing
call SetPlayerTechResearchedSwap('Rhac',GetUnitAbilityLevel(GetTriggerUnit(),'A080'),GetOwningPlayer(GetTriggerUnit()))
endfunction
function InitTrig_jinhua takes nothing returns nothing
set gg_trg_jinhua=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jinhua,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_jinhua,Condition(function Trig_jinhua_Conditions))
call TriggerAddAction(gg_trg_jinhua,function Trig_jinhua_Actions)
endfunction
function Trig_heti_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A083'))then
return false
endif
return true
endfunction
function Trig_heti_Func001002001003 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n00D')
endfunction
function Trig_heti_Func002Func001001003 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n00D')
endfunction
function Trig_heti_Func002Func001A takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",GetEnumUnit(),"overhead"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetTriggerUnit(),"overhead"))
endfunction
function Trig_heti_Func002Func004001003 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n00D')
endfunction
function Trig_heti_Func002Func004A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
set udg_shoushen_beidong_canshu=((I2R(udg_haozhusl)*0.20)+1.00)
endfunction
function Trig_heti_Func002C takes nothing returns boolean
if(not(udg_haozhusl<2))then
return false
endif
return true
endfunction
function Trig_heti_Actions takes nothing returns nothing
set udg_haozhusl=CountUnitsInGroup(GetUnitsInRangeOfLocMatching(512,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_heti_Func001002001003)))
if(Trig_heti_Func002C())then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000豪猪数量不足或豪猪没有靠近兽神，合体失败！")
else
call ForGroupBJ(GetUnitsInRangeOfLocMatching(512,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_heti_Func002Func001001003)),function Trig_heti_Func002Func001A)
call TriggerSleepAction(0.50)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetTriggerUnit(),"overhead"))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(512,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_heti_Func002Func004001003)),function Trig_heti_Func002Func004A)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,R2S(udg_shoushen_beidong_canshu))
call StartTimerBJ(udg_heti,false,60.00)
endif
endfunction
function InitTrig_heti takes nothing returns nothing
set gg_trg_heti=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_heti,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_heti,Condition(function Trig_heti_Conditions))
call TriggerAddAction(gg_trg_heti,function Trig_heti_Actions)
endfunction
function Trig_jieshu1_Actions takes nothing returns nothing
set udg_shoushen_beidong_canshu=1.00
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,R2S(udg_shoushen_beidong_canshu))
endfunction
function InitTrig_jieshu1 takes nothing returns nothing
set gg_trg_jieshu1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_jieshu1,udg_heti)
call TriggerAddAction(gg_trg_jieshu1,function Trig_jieshu1_Actions)
endfunction
function Trig_jieshu2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='H004'))then
return false
endif
return true
endfunction
function Trig_jieshu2_Actions takes nothing returns nothing
set udg_shoushen_beidong_canshu=1.00
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,R2S(udg_shoushen_beidong_canshu))
endfunction
function InitTrig_jieshu2 takes nothing returns nothing
set gg_trg_jieshu2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jieshu2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jieshu2,Condition(function Trig_jieshu2_Conditions))
call TriggerAddAction(gg_trg_jieshu2,function Trig_jieshu2_Actions)
endfunction
function Trig_ssxt_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='H004'))then
return false
endif
return true
endfunction
function Trig_ssxt_Actions takes nothing returns nothing
set udg_ssxt=GetTriggerUnit()
endfunction
function InitTrig_ssxt takes nothing returns nothing
set gg_trg_ssxt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ssxt,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_ssxt,Condition(function Trig_ssxt_Conditions))
call TriggerAddAction(gg_trg_ssxt,function Trig_ssxt_Actions)
endfunction
function Trig_feibiao_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08Q'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_feibiao_Func001Func001Func002001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_feibiao_Func001Func001Func002001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_feibiao_Func001Func001Func002001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_feibiao_Func001Func001Func002001003001001(),Trig_feibiao_Func001Func001Func002001003001002())
endfunction
function Trig_feibiao_Func001Func001Func002001003002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),Player(7))==false)
endfunction
function Trig_feibiao_Func001Func001Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_feibiao_Func001Func001Func002001003001(),Trig_feibiao_Func001Func001Func002001003002())
endfunction
function Trig_feibiao_Func001Func001Func002A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\Possession\\PossessionTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((8.00*udg_dushengjnint)*((I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true))+I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)))+I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_feibiao_Func001Func001C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=(50+(R2I(udg_dushengjnint)*2))))then
return false
endif
return true
endfunction
function Trig_feibiao_Func001Func002Func002001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_feibiao_Func001Func002Func002001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_feibiao_Func001Func002Func002001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_feibiao_Func001Func002Func002001003001001(),Trig_feibiao_Func001Func002Func002001003001002())
endfunction
function Trig_feibiao_Func001Func002Func002001003002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),Player(7))==false)
endfunction
function Trig_feibiao_Func001Func002Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_feibiao_Func001Func002Func002001003001(),Trig_feibiao_Func001Func002Func002001003002())
endfunction
function Trig_feibiao_Func001Func002Func002A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\Possession\\PossessionTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((8.00*udg_dushengjnint)*((I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true))+I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)))+I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_feibiao_Func001Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=(55+(R2I(udg_dushengjnint)*2))))then
return false
endif
return true
endfunction
function Trig_feibiao_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'tels')==true))then
return false
endif
return true
endfunction
function Trig_feibiao_Actions takes nothing returns nothing
if(Trig_feibiao_Func001C())then
if(Trig_feibiao_Func001Func002C())then
call TriggerSleepAction(0.20)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_feibiao_Func001Func002Func002001003)),function Trig_feibiao_Func001Func002Func002A)
else
endif
else
if(Trig_feibiao_Func001Func001C())then
call TriggerSleepAction(0.20)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_feibiao_Func001Func001Func002001003)),function Trig_feibiao_Func001Func001Func002A)
else
endif
endif
endfunction
function InitTrig_feibiao takes nothing returns nothing
set gg_trg_feibiao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_feibiao,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_feibiao,Condition(function Trig_feibiao_Conditions))
call TriggerAddAction(gg_trg_feibiao,function Trig_feibiao_Actions)
endfunction
function Trig_duqian_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08R'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_duqian_Func001Func001C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=(50+(R2I(udg_dushengjnint)*2))))then
return false
endif
return true
endfunction
function Trig_duqian_Func001Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=(55+(R2I(udg_dushengjnint)*2))))then
return false
endif
return true
endfunction
function Trig_duqian_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'tels')==true))then
return false
endif
return true
endfunction
function Trig_duqian_Actions takes nothing returns nothing
if(Trig_duqian_Func001C())then
if(Trig_duqian_Func001Func002C())then
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)+(3000*GetUnitAbilityLevelSwapped('A08R',GetTriggerUnit()))))
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000赌钱失败！")
endif
else
if(Trig_duqian_Func001Func001C())then
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)+(3000*GetUnitAbilityLevelSwapped('A08R',GetTriggerUnit()))))
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000赌钱失败！")
endif
endif
endfunction
function InitTrig_duqian takes nothing returns nothing
set gg_trg_duqian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duqian,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_duqian,Condition(function Trig_duqian_Conditions))
call TriggerAddAction(gg_trg_duqian,function Trig_duqian_Actions)
endfunction
function Trig_dushuxing_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0GW'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_dushuxing_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'tels')==true))then
return false
endif
return true
endfunction
function Trig_dushuxing_Actions takes nothing returns nothing
if(Trig_dushuxing_Func001C())then
set udg_int=GetRandomInt(GetUnitAbilityLevel(GetTriggerUnit(),'A0GW'),((GetUnitAbilityLevel(GetTriggerUnit(),'A0GW')+(R2I(udg_dushengjnint)+5))*1))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,udg_int)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,udg_int)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,udg_int)
else
set udg_int=GetRandomInt(GetUnitAbilityLevel(GetTriggerUnit(),'A0GW'),((GetUnitAbilityLevel(GetTriggerUnit(),'A0GW')+(R2I(udg_dushengjnint)+0))*1))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,udg_int)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,udg_int)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,udg_int)
endif
endfunction
function InitTrig_dushuxing takes nothing returns nothing
set gg_trg_dushuxing=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dushuxing,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_dushuxing,Condition(function Trig_dushuxing_Conditions))
call TriggerAddAction(gg_trg_dushuxing,function Trig_dushuxing_Actions)
endfunction
function Trig_dumingxg_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08T'))then
return false
endif
return true
endfunction
function Trig_dumingxg_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",GetTriggerUnit(),"origin"))
endfunction
function InitTrig_dumingxg takes nothing returns nothing
set gg_trg_dumingxg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dumingxg,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_dumingxg,Condition(function Trig_dumingxg_Conditions))
call TriggerAddAction(gg_trg_dumingxg,function Trig_dumingxg_Actions)
endfunction
function Trig_duming_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B00X')==true))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Etyr'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='N000'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Uear'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='nvil'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos7'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos8'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos1'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos2'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos9'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos3'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos4'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos0'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S001'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S002'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S003'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S004'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S005'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S006'))then
return false
endif
return true
endfunction
function Trig_duming_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'tels')==true))then
return false
endif
return true
endfunction
function Trig_duming_Func002Func001Func001C takes nothing returns boolean
if(not(udg_buerzhi_chongxiudushen==true))then
return false
endif
return true
endfunction
function Trig_duming_Func002Func001C takes nothing returns boolean
if(not(udg_wssuiji>=(980-(GetUnitAbilityLevel(GetTriggerUnit(),'A08U')*1))))then
return false
endif
return true
endfunction
function Trig_duming_Func002C takes nothing returns boolean
if(not(udg_wssuiji<=(40+(GetUnitAbilityLevel(GetTriggerUnit(),'A08U')*5))))then
return false
endif
return true
endfunction
function Trig_duming_Actions takes nothing returns nothing
if(Trig_duming_Func001C())then
set udg_wssuiji=GetRandomInt(1,980)
else
set udg_wssuiji=GetRandomInt(1,1000)
endif
if(Trig_duming_Func002C())then
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),50000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHeroFarSeer.mdl",GetAttackedUnitBJ(),"origin"))
call DisplayTextToForce(GetPlayersAll(),("|cffff0000赌神赌命成功，成功把"+(GetUnitName(GetAttackedUnitBJ())+"秒杀！")))
else
if(Trig_duming_Func002Func001C())then
if(Trig_duming_Func002Func001Func001C())then
call SetUnitLifePercentBJ(GetAttacker(),5.00)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000赌神成功打出绝杀，不过可惜打中的是自己！"+""))
else
call KillUnit(GetAttacker())
call DisplayTextToForce(GetPlayersAll(),("|cffff0000赌神成功打出绝杀，不过可惜秒杀的是自己！"+""))
endif
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHeroFarSeer.mdl",GetAttackedUnitBJ(),"origin"))
else
endif
endif
endfunction
function InitTrig_duming takes nothing returns nothing
set gg_trg_duming=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_duming,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_duming,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_duming,Condition(function Trig_duming_Conditions))
call TriggerAddAction(gg_trg_duming,function Trig_duming_Actions)
endfunction
function Trig_jibenqiangfa_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B00Y')==true))then
return false
endif
return true
endfunction
function Trig_jibenqiangfa_Func001Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttackedUnitBJ(),'B012')==true))then
return false
endif
return true
endfunction
function Trig_jibenqiangfa_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_jibenqiangfa_Actions takes nothing returns nothing
if(Trig_jibenqiangfa_Func001C())then
if(Trig_jibenqiangfa_Func001Func001C())then
set udg_jbqfsh=(I2R(udg_qiangshenjnint)*(200.00*(I2R(GetUnitAbilityLevel(GetAttacker(),'A09W'))*SquareRoot(I2R(GetHeroLevel(GetAttacker()))))))
else
set udg_jbqfsh=(I2R(udg_qiangshenjnint)*(50.00*(I2R(GetUnitAbilityLevel(GetAttacker(),'A09W'))*SquareRoot(I2R(GetHeroLevel(GetAttacker()))))))
endif
call CreateTextTagUnitBJ((R2S(udg_jbqfsh)+"！！"),GetAttacker(),0,10,0.00,0.00,100,0)
call SetTextTagPermanent(GetLastCreatedTextTag(),false)
call SetTextTagLifespan(GetLastCreatedTextTag(),1.00)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),(udg_jbqfsh*3.00),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE)
else
endif
endfunction
function InitTrig_jibenqiangfa takes nothing returns nothing
set gg_trg_jibenqiangfa=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_jibenqiangfa,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_jibenqiangfa,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_jibenqiangfa,Condition(function Trig_jibenqiangfa_Conditions))
call TriggerAddAction(gg_trg_jibenqiangfa,function Trig_jibenqiangfa_Actions)
endfunction
function Trig_leiyuqiang_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06P'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_leiyuqiang_Func004001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_leiyuqiang_Func004001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_leiyuqiang_Func004001003 takes nothing returns boolean
return GetBooleanAnd(Trig_leiyuqiang_Func004001003001(),Trig_leiyuqiang_Func004001003002())
endfunction
function Trig_leiyuqiang_Func004Func003C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetEnumUnit(),'B012')==true))then
return false
endif
return true
endfunction
function Trig_leiyuqiang_Func004A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if(Trig_leiyuqiang_Func004Func003C())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(udg_jbqfsh*4.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),udg_jbqfsh,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function Trig_leiyuqiang_Actions takes nothing returns nothing
set udg_qiangfadian=GetUnitLoc(GetTriggerUnit())
set udg_hke=1
loop
exitwhen udg_hke>10
set udg_hke1=1
loop
exitwhen udg_hke1>8
set udg_leiqiangd[udg_hke1]=PolarProjectionBJ(udg_qiangfadian,(100.00+(50.00*I2R(udg_hke))),(45.00*I2R(udg_hke1)))
call CreateNUnitsAtLoc(1,'n00F',GetOwningPlayer(GetTriggerUnit()),udg_leiqiangd[udg_hke1],bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_leiqiangzu)
call RemoveLocation(udg_leiqiangd[udg_hke1])
set udg_hke1=udg_hke1+1
endloop
set udg_hke=udg_hke+1
endloop
set udg_jbqfsh=(I2R(udg_qiangshenjnint)*(38.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A06P'))*I2R(GetHeroLevel(GetTriggerUnit())))))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(450.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_leiyuqiang_Func004001003)),function Trig_leiyuqiang_Func004A)
call TriggerSleepAction(2)
call TriggerExecute(gg_trg_leiyuqiang2)
endfunction
function InitTrig_leiyuqiang takes nothing returns nothing
set gg_trg_leiyuqiang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_leiyuqiang,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_leiyuqiang,Condition(function Trig_leiyuqiang_Conditions))
call TriggerAddAction(gg_trg_leiyuqiang,function Trig_leiyuqiang_Actions)
endfunction
function Trig_leiyuqiang2_Func001A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_leiyuqiang2_Actions takes nothing returns nothing
call ForGroupBJ(udg_leiqiangzu,function Trig_leiyuqiang2_Func001A)
call GroupClear(udg_leiqiangzu)
endfunction
function InitTrig_leiyuqiang2 takes nothing returns nothing
set gg_trg_leiyuqiang2=CreateTrigger()
call TriggerAddAction(gg_trg_leiyuqiang2,function Trig_leiyuqiang2_Actions)
endfunction
function Trig_qianghunzhidun_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetTriggerUnit(),'B010')==true))then
return false
endif
return true
endfunction
function Trig_qianghunzhidun_Func006Func002002001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_qianghunzhidun_Func006Func002002001003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_qianghunzhidun_Func006Func002002001003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_qianghunzhidun_Func006Func002002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_qianghunzhidun_Func006Func002002001003002001(),Trig_qianghunzhidun_Func006Func002002001003002002())
endfunction
function Trig_qianghunzhidun_Func006Func002002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_qianghunzhidun_Func006Func002002001003001(),Trig_qianghunzhidun_Func006Func002002001003002())
endfunction
function Trig_qianghunzhidun_Func006Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_qianghunzhidun_Func006Func003001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_qianghunzhidun_Func006Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_qianghunzhidun_Func006Func003001003001(),Trig_qianghunzhidun_Func006Func003001003002())
endfunction
function Trig_qianghunzhidun_Func006Func003Func003C takes nothing returns boolean
if(not(UnitHasBuffBJ(GetEnumUnit(),'B012')==true))then
return false
endif
return true
endfunction
function Trig_qianghunzhidun_Func006Func003A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if(Trig_qianghunzhidun_Func006Func003Func003C())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(20.00*udg_shanghaizhi),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(5.00*udg_shanghaizhi),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE)
endif
endfunction
function Trig_qianghunzhidun_Func006C takes nothing returns boolean
if(not(udg_dundesm<0.00))then
return false
endif
return true
endfunction
function Trig_qianghunzhidun_Actions takes nothing returns nothing
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+GetEventDamage()))
set udg_dundesm=(I2R(udg_qiangshenjnint)*((50.00*SquareRoot(I2R(GetHeroLevel(GetTriggerUnit()))))*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A09Y'))))
set udg_shanghaizhi=(udg_shanghaizhi+GetEventDamage())
set udg_dundesm=(udg_dundesm-udg_shanghaizhi)
if(Trig_qianghunzhidun_Func006C())then
call UnitRemoveAbility(GetTriggerUnit(),'B010')
set udg_duidshuliang=CountUnitsInGroup(GetUnitsInRangeOfLocMatching(400.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_qianghunzhidun_Func006Func002002001003)))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_qianghunzhidun_Func006Func003001003)),function Trig_qianghunzhidun_Func006Func003A)
set udg_shanghaizhi=0.00
else
endif
endfunction
function InitTrig_qianghunzhidun takes nothing returns nothing
set gg_trg_qianghunzhidun=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_qianghunzhidun,gg_unit_H007_0238,EVENT_UNIT_DAMAGED)
call TriggerAddCondition(gg_trg_qianghunzhidun,Condition(function Trig_qianghunzhidun_Conditions))
call TriggerAddAction(gg_trg_qianghunzhidun,function Trig_qianghunzhidun_Actions)
endfunction
function Trig_qianghunmie_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0A2'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_qianghunmie_Actions takes nothing returns nothing
set udg_qiangdw1=GetTriggerUnit()
set udg_qiangd1=GetUnitLoc(GetTriggerUnit())
set udg_qiangdw3=GetSpellTargetUnit()
call CreateNUnitsAtLoc(1,'h00B',GetOwningPlayer(GetTriggerUnit()),udg_qiangd1,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
set udg_qiangdw2=GetLastCreatedUnit()
call IssueTargetOrder(udg_qiangdw2,"faeriefire",udg_qiangdw3)
call RemoveLocation(udg_qiangd1)
call EnableTrigger(gg_trg_qianghunmie3)
endfunction
function InitTrig_qianghunmie takes nothing returns nothing
set gg_trg_qianghunmie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qianghunmie,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_qianghunmie,Condition(function Trig_qianghunmie_Conditions))
call TriggerAddAction(gg_trg_qianghunmie,function Trig_qianghunmie_Actions)
endfunction
function Trig_qianghunmie3_Func001Func002C takes nothing returns boolean
if(not(udg_lsbl<=30))then
return false
endif
return true
endfunction
function Trig_qianghunmie3_Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(udg_qiangdw3,'B012')==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_qiangdw3)==true))then
return false
endif
return true
endfunction
function Trig_qianghunmie3_Actions takes nothing returns nothing
if(Trig_qianghunmie3_Func001C())then
set udg_lsbl=(udg_lsbl+1)
if(Trig_qianghunmie3_Func001Func002C())then
call UnitDamageTargetBJ(udg_qiangdw1,udg_qiangdw3,(80000.00+((I2R(GetUnitAbilityLevel(udg_qiangdw1,'A0A2'))*1)*I2R(GetHeroLevel(GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
set udg_lsbl=0
call DisableTrigger(GetTriggeringTrigger())
endif
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_qianghunmie3 takes nothing returns nothing
set gg_trg_qianghunmie3=CreateTrigger()
call DisableTrigger(gg_trg_qianghunmie3)
call TriggerRegisterTimerEventPeriodic(gg_trg_qianghunmie3,1.00)
call TriggerAddAction(gg_trg_qianghunmie3,function Trig_qianghunmie3_Actions)
endfunction
function Trig_aishenzhongzi0_Conditions takes nothing returns boolean
if(not(GetLearnedSkill()=='A0B1'))then
return false
endif
return true
endfunction
function Trig_aishenzhongzi0_Actions takes nothing returns nothing
call SetPlayerTechResearchedSwap('R001',GetUnitAbilityLevel(GetTriggerUnit(),'A0B1'),GetOwningPlayer(GetTriggerUnit()))
endfunction
function InitTrig_aishenzhongzi0 takes nothing returns nothing
set gg_trg_aishenzhongzi0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_aishenzhongzi0,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_aishenzhongzi0,Condition(function Trig_aishenzhongzi0_Conditions))
call TriggerAddAction(gg_trg_aishenzhongzi0,function Trig_aishenzhongzi0_Actions)
endfunction
function Trig_aishengzhongzi1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B1'))then
return false
endif
return true
endfunction
function Trig_aishengzhongzi1_Actions takes nothing returns nothing
set udg_int_aizhizhong=GetUnitAbilityLevel(GetTriggerUnit(),'A0B1')
set udg_jinengmubiao1=GetSpellTargetUnit()
set udg_unit_aizhizhong=GetTriggerUnit()
call TriggerRegisterUnitEvent(gg_trg_aishengzhongzi2,udg_jinengmubiao1,EVENT_UNIT_DEATH)
endfunction
function InitTrig_aishengzhongzi1 takes nothing returns nothing
set gg_trg_aishengzhongzi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_aishengzhongzi1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_aishengzhongzi1,Condition(function Trig_aishengzhongzi1_Conditions))
call TriggerAddAction(gg_trg_aishengzhongzi1,function Trig_aishengzhongzi1_Actions)
endfunction
function Trig_aishengzhongzi2_Func005C takes nothing returns boolean
if(not(udg_int_aizhizhong>=6))then
return false
endif
return true
endfunction
function Trig_aishengzhongzi2_Func006C takes nothing returns boolean
if(not(udg_int_aizhizhong>=12))then
return false
endif
return true
endfunction
function Trig_aishengzhongzi2_Func007C takes nothing returns boolean
if(not(udg_int_aizhizhong>=18))then
return false
endif
return true
endfunction
function Trig_aishengzhongzi2_Func008C takes nothing returns boolean
if(not(udg_int_aizhizhong>=24))then
return false
endif
return true
endfunction
function Trig_aishengzhongzi2_Func009C takes nothing returns boolean
if(not(udg_int_aizhizhong>=30))then
return false
endif
return true
endfunction
function Trig_aishengzhongzi2_Actions takes nothing returns nothing
set udg_point_aizhizhong=GetUnitLoc(GetDyingUnit())
call CreateNUnitsAtLoc(1,'h00E',GetOwningPlayer(udg_unit_aizhizhong),udg_point_aizhizhong,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(60,'BTLF',GetLastCreatedUnit())
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetTriggerUnit(),"overhead"))
if(Trig_aishengzhongzi2_Func005C())then
call UnitAddAbility(GetLastCreatedUnit(),'A0BO')
else
endif
if(Trig_aishengzhongzi2_Func006C())then
call UnitAddAbility(GetLastCreatedUnit(),'A0B6')
else
endif
if(Trig_aishengzhongzi2_Func007C())then
call UnitAddAbility(GetLastCreatedUnit(),'A0B5')
else
endif
if(Trig_aishengzhongzi2_Func008C())then
call UnitAddAbility(GetLastCreatedUnit(),'A05Z')
else
endif
if(Trig_aishengzhongzi2_Func009C())then
call UnitAddAbility(GetLastCreatedUnit(),'A084')
else
endif
call RemoveLocation(udg_point_aizhizhong)
endfunction
function InitTrig_aishengzhongzi2 takes nothing returns nothing
set gg_trg_aishengzhongzi2=CreateTrigger()
call TriggerAddAction(gg_trg_aishengzhongzi2,function Trig_aishengzhongzi2_Actions)
endfunction


function Trig_aizhijianinit takes nothing returns boolean
//return(IsUnitAliveBJ(GetFilterUnit())==true)
if((GetUnitTypeId(GetFilterUnit())=='u00G'))then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000选中u00G。|r")
return true
endif
return false
endfunction

function Trig_aizhijianinitA takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
call DisplayTextToForce(GetPlayersAll(),"|cffff0000杀死u00G。|r")
endfunction

function UUUUUU takes real radius,location whichLocation,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,whichLocation,radius,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction


function Trig_aizhijian1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B2'))then
return false
endif
return true
endfunction
function Trig_aizhijian1_Actions takes nothing returns nothing
set udg_aizhijiancount=-1
set udg_aizhijiandamage=0
//call ForGroupBJ(UUUUUU(1000000000.00,GetUnitLoc(GetSpellAbilityUnit()),Condition(function Trig_aizhijianinit)),function Trig_aizhijianinitA)

//call ForGroupBJ(GetUnitsInRangeOfLocMatching(1000000.00,GetUnitLoc(GetSpellAbilityUnit()),Condition(function Trig_aizhijianinit)),function Trig_aizhijianinitA)
//call DisplayTextToForce(GetPlayersAll(),"|cffff0000count为"+I2S(udg_aizhijiancount)+"damage为"+R2S(udg_aizhijiandamage)+"。|r")
set udg_distance=0.00
set udg_aijianunit=GetSpellAbilityUnit()
set udg_aijianunitpoint=GetUnitLoc(GetSpellAbilityUnit())
set udg_aijianpoint=GetSpellTargetLoc()
set udg_double_aijian=I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0B2'))
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(GetSpellAbilityUnit()),udg_aijianunitpoint,AngleBetweenPoints(udg_aijianunitpoint,udg_aijianpoint))
call SetUnitPathing(GetLastCreatedUnit(),false)
set udg_aizhijian=GetLastCreatedUnit()
call EnableTrigger(gg_trg_aizhijian2)


set u2dg_distance=0.00
set u2dg_aijianunit=GetSpellAbilityUnit()
set u2dg_aijianunitpoint=GetUnitLoc(GetSpellAbilityUnit())
set u2dg_aijianpoint=GetSpellTargetLoc()
set u2dg_double_aijian=I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0B2'))
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(GetSpellAbilityUnit()),u2dg_aijianunitpoint,AngleBetweenPoints(u2dg_aijianunitpoint,u2dg_aijianpoint))
call SetUnitPathing(GetLastCreatedUnit(),false)
set u2dg_aizhijian=GetLastCreatedUnit()
call EnableTrigger(gg_trg_ai3zhijian2)


endfunction
function InitTrig_aizhijian1 takes nothing returns nothing
set gg_trg_aizhijian1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_aizhijian1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_aizhijian1,Condition(function Trig_aizhijian1_Conditions))
call TriggerAddAction(gg_trg_aizhijian1,function Trig_aizhijian1_Actions)
endfunction









function Trig_ai2zhijian2_Func002C takes nothing returns boolean
if(not(udg_dis2tance>=(2500.00+(udg_double_aijian*250.00))))then
return false
endif
return true
endfunction
function Trig_ai2zhijian2_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_ai2zhijian2_Func005002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_aijianunit))==true)
endfunction
function Trig_ai2zhijian2_Func005002003002002 takes nothing returns boolean
if(GetFilterUnit()==udg_aijianmutex)then
return false
endif
return true
endfunction
function Trig_ai2zhijian2_Func005002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_ai2zhijian2_Func005002003002001(),Trig_ai2zhijian2_Func005002003002002())
endfunction
function Trig_ai2zhijian2_Func005002003 takes nothing returns boolean
return GetBooleanAnd(Trig_ai2zhijian2_Func005002003001(),Trig_ai2zhijian2_Func005002003002())
endfunction
function Trig_ai2zhijian2_Func006A takes nothing returns nothing
set udg_aijianmutex=GetEnumUnit()
set udg_aizhijiancount=udg_aizhijiancount+1
if(udg_aizhijiancount<=15)then

set udg_aizhijiandamage=udg_aizhijiandamage/(1+0.2*I2R(udg_aizhijiancount))+udg_aizhijiancount*(1000.00+(Pow(udg_double_aijian,1.75)*((udg_dis2tance-0)/4.30)))
call UnitDamageTargetBJ(udg_aijianunit,GetEnumUnit(),(udg_aizhijiandamage),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call KillUnit(udg_ai2zhijian)
if(udg_ai2mutex==0)then
set udg_distance=0.00
//set udg_aijianunit=GetSpellAbilityUnit()
set udg_aijianunitpoint=GetUnitLoc(GetEnumUnit())
set udg_aijianpoint=PolarProjectionBJ(udg_aijianunitpoint,1000.00,GetUnitFacing(GetEnumUnit()))
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(udg_aijianunit),udg_aijianunitpoint,AngleBetweenPoints(udg_aijianunitpoint,udg_aijianpoint))
call SetUnitPathing(GetLastCreatedUnit(),false)
set udg_aizhijian=GetLastCreatedUnit()
call EnableTrigger(gg_trg_aizhijian2)
set udg_ai2mutex=1
endif

endif
endfunction
function Trig_ai2zhijian2_Actions takes nothing returns nothing
set udg_dis2tance=(udg_dis2tance+70.00)
if(Trig_ai2zhijian2_Func002C())then
call KillUnit(udg_ai2zhijian)
else
endif
set udg_ai2jianpoints=PolarProjectionBJ(udg_ai2jianunitpoint,udg_dis2tance,AngleBetweenPoints(udg_ai2jianunitpoint,udg_ai2jianpoint))
call SetUnitPositionLocFacingBJ(udg_ai2zhijian,udg_ai2jianpoints,GetUnitFacing(udg_ai2zhijian))
set udg_aijiangroup=GetUnitsInRangeOfLocMatching(140.00,GetUnitLoc(udg_ai2zhijian),Condition(function Trig_ai2zhijian2_Func005002003))
call ForGroupBJ(udg_aijiangroup,function Trig_ai2zhijian2_Func006A)
call DestroyGroup(udg_aijiangroup)
call RemoveLocation(udg_ai2jianpoints)
endfunction

function InitTrig_ai2zhijian2 takes nothing returns nothing
set gg_trg_ai2zhijian2=CreateTrigger()
call DisableTrigger(gg_trg_ai2zhijian2)
call TriggerRegisterTimerEventPeriodic(gg_trg_ai2zhijian2,0.05)
call TriggerAddAction(gg_trg_ai2zhijian2,function Trig_ai2zhijian2_Actions)
endfunction

function Trig_zi2zhijian3_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_ai2zhijian))then
return false
endif
return true
endfunction
function Trig_zi2zhijian3_Actions takes nothing returns nothing
set udg_aimutex=0
set udg_ai2mutex=0
call KillUnit(udg_ai2zhijian)
call RemoveLocation(udg_ai2jianpoint)
call RemoveLocation(udg_ai2jianunitpoint)
call RemoveLocation(udg_ai2jianpoints)
call DisableTrigger(gg_trg_ai2zhijian2)
endfunction
function InitTrig_zi2zhijian3 takes nothing returns nothing
set gg_trg_zi2zhijian3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zi2zhijian3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zi2zhijian3,Condition(function Trig_zi2zhijian3_Conditions))
call TriggerAddAction(gg_trg_zi2zhijian3,function Trig_zi2zhijian3_Actions)
endfunction











function Trig_aizhijian2_Func002C takes nothing returns boolean
if(not(udg_distance>=(2500.00+(udg_double_aijian*250.00))))then
return false
endif
return true
endfunction
function Trig_aizhijian2_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_aizhijian2_Func005002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_aijianunit))==true)
endfunction
function Trig_aizhijian2_Func005002003002002 takes nothing returns boolean
if(GetFilterUnit()==udg_aijianmutex)then
return false
endif
return true
endfunction
function Trig_aizhijian2_Func005002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_aizhijian2_Func005002003002001(),Trig_aizhijian2_Func005002003002002())
endfunction
function Trig_aizhijian2_Func005002003 takes nothing returns boolean
return GetBooleanAnd(Trig_aizhijian2_Func005002003001(),Trig_aizhijian2_Func005002003002())
endfunction
function Trig_aizhijian2_Func006A takes nothing returns nothing

set udg_aijianmutex=GetEnumUnit()
set udg_aizhijiancount=udg_aizhijiancount+1
if(udg_aizhijiancount<=15)then

set udg_aizhijiandamage=udg_aizhijiandamage/(1+0.2*I2R(udg_aizhijiancount))+udg_aizhijiancount*(1000.00+(Pow(udg_double_aijian,1.75)*((udg_distance-0)/4.30)))
call UnitDamageTargetBJ(udg_aijianunit,GetEnumUnit(),(udg_aizhijiandamage),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call KillUnit(udg_aizhijian)
if(udg_aimutex==0)then
set udg_dis2tance=0.00
//set udg_ai2jianunit=GetSpellAbilityUnit()
set udg_ai2jianunitpoint=GetUnitLoc(GetEnumUnit())
set udg_ai2jianpoint=PolarProjectionBJ(udg_ai2jianunitpoint,1000.00,GetUnitFacing(GetEnumUnit()))
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(udg_aijianunit),udg_ai2jianunitpoint,AngleBetweenPoints(udg_ai2jianunitpoint,udg_ai2jianpoint))
call SetUnitPathing(GetLastCreatedUnit(),false)
set udg_ai2zhijian=GetLastCreatedUnit()
call EnableTrigger(gg_trg_ai2zhijian2)
set udg_aimutex=1
endif

endif


endfunction
function Trig_aizhijian2_Actions takes nothing returns nothing
set udg_distance=(udg_distance+70.00)
if(Trig_aizhijian2_Func002C())then
call KillUnit(udg_aizhijian)
else
endif
set udg_aijianpoints=PolarProjectionBJ(udg_aijianunitpoint,udg_distance,AngleBetweenPoints(udg_aijianunitpoint,udg_aijianpoint))
call SetUnitPositionLocFacingBJ(udg_aizhijian,udg_aijianpoints,GetUnitFacing(udg_aizhijian))
set udg_aijiangroup=GetUnitsInRangeOfLocMatching(140.00,GetUnitLoc(udg_aizhijian),Condition(function Trig_aizhijian2_Func005002003))

//set udg_unit_aijianunit=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(140.00,GetUnitLoc(udg_aizhijian),Condition(function Trig_aizhijian2_Func005002003)))
//call Trig_aizhijian2_Func006A()
call ForGroupBJ(udg_aijiangroup,function Trig_aizhijian2_Func006A)
call DestroyGroup(udg_aijiangroup)
call RemoveLocation(udg_aijianpoints)
endfunction
function InitTrig_aizhijian2 takes nothing returns nothing
set gg_trg_aizhijian2=CreateTrigger()
call DisableTrigger(gg_trg_aizhijian2)
call TriggerRegisterTimerEventPeriodic(gg_trg_aizhijian2,0.05)
call TriggerAddAction(gg_trg_aizhijian2,function Trig_aizhijian2_Actions)
endfunction
function Trig_zizhijian3_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_aizhijian))then
return false
endif
return true
endfunction
function Trig_zizhijian3_Actions takes nothing returns nothing
call KillUnit(udg_aizhijian)
set udg_aimutex=0
set udg_ai2mutex=0
set udg_aijianmutex=null
call RemoveLocation(udg_aijianpoint)
call RemoveLocation(udg_aijianunitpoint)
call RemoveLocation(udg_aijianpoints)
call DisableTrigger(gg_trg_aizhijian2)
endfunction
function InitTrig_zizhijian3 takes nothing returns nothing
set gg_trg_zizhijian3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zizhijian3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zizhijian3,Condition(function Trig_zizhijian3_Conditions))
call TriggerAddAction(gg_trg_zizhijian3,function Trig_zizhijian3_Actions)
endfunction


function Trig_kongjian3_Conditions takes nothing returns boolean
if(GetSpellAbilityId()=='A0BD')then
set udg_kongjiannengliang=0
return true
endif
return false
endfunction

function Trig_kongjian3_Func001Func006A takes nothing returns nothing
call SetUnitManaBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-250*GetUnitAbilityLevel(GetTriggerUnit(),'A0EK')))
call SetUnitManaBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-(GetUnitState(udg_unit_jnshikong,UNIT_STATE_MANA)*(0.01+0.1*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0EK'))))))
endfunction

function Trig_kongjian3_Actions takes nothing returns nothing
set udg_int_jnshikong[1]=0
set udg_unit_jnshikong2=GetTriggerUnit()
set udg_point_jnshikong[0]=GetSpellTargetLoc()
if(udg_kongjiannengliang==0)then
call EnableTrigger(gg_trg_kongjian2)
else
//call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_point_tiaotiao,Condition(function Trig_kongjian3_Conditions)),function Trig_kongjian3_Func001Func006A)
set udg_unit_jnshikong=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(500.00,udg_point_jnshikong[0],Condition(function Trig_kongjian3_Conditions)))
//call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00,GetUnitLoc(GetSpellTargetLoc()),Condition(function Trig_kongjian3_Conditions),function Trig_kongjian3_Func001Func006A)
call SetUnitManaBJ(udg_unit_jnshikong,(GetUnitState(udg_unit_jnshikong,UNIT_STATE_MANA)-250*GetUnitAbilityLevel(GetTriggerUnit(),'A0EK')))
call SetUnitManaBJ(udg_unit_jnshikong,(GetUnitState(udg_unit_jnshikong,UNIT_STATE_MANA)-(GetUnitState(udg_unit_jnshikong,UNIT_STATE_MANA)*(0.01+0.1*I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0EK'))))))
endif
endfunction
function InitTrig_kongjian3 takes nothing returns nothing
set gg_trg_kongjian3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_kongjian3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_kongjian3,Condition(function Trig_kongjian3_Conditions))
call TriggerAddAction(gg_trg_kongjian3,function Trig_kongjian3_Actions)
endfunction
function Trig_kongjian2_Func013Func002002001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_jnshikong2))==true)
endfunction
function Trig_kongjian2_Func013Func002002001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_kongjian2_Func013Func002002001003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_kongjian2_Func013Func002002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_kongjian2_Func013Func002002001003002001(),Trig_kongjian2_Func013Func002002001003002002())
endfunction
function Trig_kongjian2_Func013Func002002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_kongjian2_Func013Func002002001003001(),Trig_kongjian2_Func013Func002002001003002())
endfunction
function Trig_kongjian2_Func013Func003Func002C takes nothing returns boolean
if((GetUnitTypeId(udg_unit_jnshikong)=='N000'))then
return true
endif
if((GetUnitTypeId(udg_unit_jnshikong)=='Uear'))then
return true
endif
return false
endfunction
function Trig_kongjian2_Func013Func003C takes nothing returns boolean
if(not Trig_kongjian2_Func013Func003Func002C())then
return false
endif
return true
endfunction
function Trig_kongjian2_Func013C takes nothing returns boolean
if(not(udg_int_jnshikong[0]>=5))then
return false
endif
return true
endfunction
function Trig_kongjian2_Func014C takes nothing returns boolean
if(not(udg_int_jnshikong[1]>=150))then
return false
endif
return true
endfunction
function Trig_kongjian2_Actions takes nothing returns nothing
set udg_int_jnshikong[1]=(udg_int_jnshikong[1]+1)
set udg_int_jnshikong[0]=(udg_int_jnshikong[0]+1)
set udg_int_jnshikong[2]=GetRandomInt(1,500)
set udg_int_jnshikong[3]=GetRandomInt(1,360)
set udg_point_jnshikong[1]=PolarProjectionBJ(udg_point_jnshikong[0],I2R(udg_int_jnshikong[2]),I2R(udg_int_jnshikong[3]))
call CreateNUnitsAtLoc(1,'u00M',GetOwningPlayer(udg_unit_jnshikong2),udg_point_jnshikong[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
call AddSpecialEffectLocBJ(udg_point_jnshikong[1],"Doodads\\Cinematic\\Lightningbolt\\Lightningbolt.mdl")
set udg_texiao_kongjian=GetLastCreatedEffectBJ()
call TriggerSleepAction(0.01)
call DestroyEffect(udg_texiao_kongjian)
if(Trig_kongjian2_Func013C())then
set udg_int_jnshikong[0]=0
set udg_unit_jnshikong=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(500.00,udg_point_jnshikong[0],Condition(function Trig_kongjian2_Func013Func002002001003)))
if(Trig_kongjian2_Func013Func003C())then
else
call SetUnitPositionLoc(udg_unit_jnshikong,udg_point_jnshikong[1])
endif
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",udg_unit_jnshikong,"foot"))
call UnitDamageTarget(udg_unit_jnshikong2,udg_unit_jnshikong,(3000.00*I2R(GetHeroLevel(udg_unit_jnshikong2))*(I2R(GetUnitAbilityLevel(udg_unit_jnshikong2,'A0BD'))*1)),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call SetUnitManaBJ(udg_unit_jnshikong,(GetUnitState(udg_unit_jnshikong,UNIT_STATE_MANA)-25*GetUnitAbilityLevel(udg_unit_jnshikong2,'A0BD')))
else
endif
if(Trig_kongjian2_Func014C())then
call DisableTrigger(GetTriggeringTrigger())
call RemoveLocation(udg_point_jnshikong[0])
set udg_int_jnshikong[0]=0
set udg_int_jnshikong[1]=0
set udg_int_jnshikong[0]=0
set udg_unit_jnshikong2=null
else
endif
call RemoveLocation(udg_point_jnshikong[1])
set udg_unit_jnshikong=null
endfunction
function InitTrig_kongjian2 takes nothing returns nothing
set gg_trg_kongjian2=CreateTrigger()
call DisableTrigger(gg_trg_kongjian2)
call TriggerRegisterTimerEventPeriodic(gg_trg_kongjian2,0.20)
call TriggerAddAction(gg_trg_kongjian2,function Trig_kongjian2_Actions)
endfunction
function Trig_tiaotiao_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B6'))then
return false
endif
return true
endfunction
function Trig_tiaotiao_Func002001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_tiaotiao_Func002001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_tiaotiao_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_tiaotiao_Func002001003001(),Trig_tiaotiao_Func002001003002())
endfunction
function Trig_tiaotiao_Func002A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(Pow(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])),2.00)*20.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_tiaotiao_Actions takes nothing returns nothing
set udg_point_tiaotiao=GetSpellTargetLoc()
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point_tiaotiao,Condition(function Trig_tiaotiao_Func002001003)),function Trig_tiaotiao_Func002A)
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point_tiaotiao,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
call UnitAddAbilityBJ('A08V',GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(udg_point_tiaotiao)
endfunction
function InitTrig_tiaotiao takes nothing returns nothing
set gg_trg_tiaotiao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tiaotiao,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_tiaotiao,Condition(function Trig_tiaotiao_Conditions))
call TriggerAddAction(gg_trg_tiaotiao,function Trig_tiaotiao_Actions)
endfunction
function Trig_chaofeng_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B9'))then
return false
endif
return true
endfunction
function Trig_chaofeng_Actions takes nothing returns nothing
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*0.50)))
endfunction
function InitTrig_chaofeng takes nothing returns nothing
set gg_trg_chaofeng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chaofeng,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_chaofeng,Condition(function Trig_chaofeng_Conditions))
call TriggerAddAction(gg_trg_chaofeng,function Trig_chaofeng_Actions)
endfunction
function Trig_zhuren_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B5'))then
return false
endif
return true
endfunction
function Trig_zhuren_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_zhuren_Func003001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_zhuren_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_zhuren_Func003001003001(),Trig_zhuren_Func003001003002())
endfunction
function Trig_zhuren_Func003A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(Pow(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])),2.00)*20.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_zhuren_Actions takes nothing returns nothing
set udg_point_tiaotiao=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(gg_unit_Hpal_0235,udg_point_tiaotiao)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_point_tiaotiao,Condition(function Trig_zhuren_Func003001003)),function Trig_zhuren_Func003A)
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point_tiaotiao,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
call UnitAddAbilityBJ('A08V',GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(udg_point_tiaotiao)
endfunction
function InitTrig_zhuren takes nothing returns nothing
set gg_trg_zhuren=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zhuren,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_zhuren,Condition(function Trig_zhuren_Conditions))
call TriggerAddAction(gg_trg_zhuren,function Trig_zhuren_Actions)
endfunction
function Trig_zhuren_______u_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BO'))then
return false
endif
return true
endfunction
function Trig_zhuren_______u_Func004001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_zhuren_______u_Func004001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_zhuren_______u_Func004001003 takes nothing returns boolean
return GetBooleanAnd(Trig_zhuren_______u_Func004001003001(),Trig_zhuren_______u_Func004001003002())
endfunction
function Trig_zhuren_______u_Func004A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(Pow(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])),2.00)*20.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_zhuren_______u_Actions takes nothing returns nothing
set udg_point_tiaotiao=GetUnitLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call TriggerSleepAction(0.00)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point_tiaotiao)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_point_tiaotiao,Condition(function Trig_zhuren_______u_Func004001003)),function Trig_zhuren_______u_Func004A)
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point_tiaotiao,bj_UNIT_FACING)
call UnitAddAbilityBJ('A08V',GetLastCreatedUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call RemoveLocation(udg_point_tiaotiao)
endfunction
function InitTrig_zhuren_______u takes nothing returns nothing
set gg_trg_zhuren_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zhuren_______u,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_zhuren_______u,Condition(function Trig_zhuren_______u_Conditions))
call TriggerAddAction(gg_trg_zhuren_______u,function Trig_zhuren_______u_Actions)
endfunction
function Trig_binghuanbao1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AV'))then
return false
endif
if(not(GetTriggerUnit()==gg_unit_Hamg_0240))then
return false
endif


return true
endfunction
function Trig_binghuanbao1_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_binghuanbao1_Func003001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_binghuanbao1_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_binghuanbao1_Func003001003001(),Trig_binghuanbao1_Func003001003002())
endfunction
function Trig_binghuanbao1_Func003A takes nothing returns nothing
set udg_jbqfsh=(1.00*(30.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0AV'))*I2R(GetHeroLevel(GetTriggerUnit())))))
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(udg_jbqfsh*2.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_binghuanbao1_Actions takes nothing returns nothing

//set udg_jbqfsh=(1.00*(30.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0AV'))*I2R(GetHeroLevel(GetTriggerUnit())))))
//call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(udg_jbqfsh*2.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)

set udg_point_binghuan[0]=GetUnitLoc(GetSpellTargetUnit())
set udg_binghuan1=1
loop
exitwhen udg_binghuan1>72
set udg_point_binghuan[1]=PolarProjectionBJ(udg_point_binghuan[0],(5.00*I2R(udg_binghuan1)),(10.00*I2R(udg_binghuan1)))
call CreateNUnitsAtLoc(1,'n00G',GetOwningPlayer(GetTriggerUnit()),udg_point_binghuan[1],bj_UNIT_FACING)
call GroupAddUnit(udg_group_binghuan,GetLastCreatedUnit())
call RemoveLocation(udg_point_binghuan[1])
set udg_binghuan1=udg_binghuan1+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(450.00,udg_point_binghuan[0],Condition(function Trig_binghuanbao1_Func003001003)),function Trig_binghuanbao1_Func003A)

//set udg_jbqfsh=(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0AV'))*I2R(GetHeroAgi(GetTriggerUnit()))))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(udg_jbqfsh*5.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)


call RemoveLocation(udg_point_binghuan[0])
endfunction
function InitTrig_binghuanbao1 takes nothing returns nothing
set gg_trg_binghuanbao1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_binghuanbao1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_binghuanbao1,Condition(function Trig_binghuanbao1_Conditions))
call TriggerAddAction(gg_trg_binghuanbao1,function Trig_binghuanbao1_Actions)
endfunction
function Trig_binghuanbao2_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AV'))then
return false
endif
return true
endfunction
function Trig_binghuanbao2_Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_binghuanbao2_Actions takes nothing returns nothing
call TriggerSleepAction(1.00)
call ForGroupBJ(udg_group_binghuan,function Trig_binghuanbao2_Func002A)
endfunction
function InitTrig_binghuanbao2 takes nothing returns nothing
set gg_trg_binghuanbao2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_binghuanbao2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_binghuanbao2,Condition(function Trig_binghuanbao2_Conditions))
call TriggerAddAction(gg_trg_binghuanbao2,function Trig_binghuanbao2_Actions)
endfunction
function Trig_bingxiang_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AW'))then
return false
endif
return true
endfunction
function Trig_bingxiang_Actions takes nothing returns nothing
call UnitAddAbilityBJ('A0AZ',GetTriggerUnit())
call SetPlayerAbilityAvailableBJ(false,'A0AZ',GetOwningPlayer(GetTriggerUnit()))
call TriggerSleepAction(4.00)
call UnitRemoveAbilityBJ('A0AZ',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
endfunction
function InitTrig_bingxiang takes nothing returns nothing
set gg_trg_bingxiang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bingxiang,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bingxiang,Condition(function Trig_bingxiang_Conditions))
call TriggerAddAction(gg_trg_bingxiang,function Trig_bingxiang_Actions)
endfunction
function Trig_bingling1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AT'))then
return false
endif
return true
endfunction
function Trig_bingling1_Actions takes nothing returns nothing
set udg_unit_bingling[0]=GetTriggerUnit()
set udg_point_bingling[0]=GetUnitLoc(GetTriggerUnit())
set udg_int_bingling[0]=1
loop
exitwhen udg_int_bingling[0]>8
set udg_point_bingling[udg_int_bingling[0]]=PolarProjectionBJ(udg_point_bingling[0],100.00,(I2R(udg_int_bingling[0])*45.00))
call CreateNUnitsAtLoc(1,'u00H',GetOwningPlayer(GetTriggerUnit()),udg_point_bingling[udg_int_bingling[0]],AngleBetweenPoints(udg_point_bingling[0],udg_point_bingling[udg_int_bingling[0]]))
set udg_unit_bingling[udg_int_bingling[0]]=GetLastCreatedUnit()
set udg_int_bingling[0]=udg_int_bingling[0]+1
endloop
set udg_int_bingling[1]=15
set udg_int_bingling[2]=0
set udg_int_bingling[3]=GetUnitAbilityLevelSwapped('A0AT',GetTriggerUnit())
set udg_double_bingling=(1+(0.50*I2R(udg_int_bingling[3])))
call EnableTrigger(gg_trg_bingling2)
call StartTimerBJ(udg_jishiqi_bingl,false,udg_double_bingling)
call TriggerRegisterUnitEvent(gg_trg_bingling3,GetTriggerUnit(),EVENT_UNIT_DEATH)
endfunction
function InitTrig_bingling1 takes nothing returns nothing
set gg_trg_bingling1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bingling1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bingling1,Condition(function Trig_bingling1_Conditions))
call TriggerAddAction(gg_trg_bingling1,function Trig_bingling1_Actions)
endfunction
function Trig_bingling2_Func005001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_bingling[0]))==true)
endfunction
function Trig_bingling2_Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_unit_bingling[0],GetEnumUnit(),(50.00+(Pow(I2R(udg_int_bingling[3]),1.50)*100.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_bingling2_Func006C takes nothing returns boolean
if(not(udg_int_bingling[2]==10))then
return false
endif
return true
endfunction
function Trig_bingling2_Actions takes nothing returns nothing
set udg_point_bingling[0]=GetUnitLoc(udg_unit_bingling[0])
set udg_int_bingling[0]=1
loop
exitwhen udg_int_bingling[0]>8
set udg_point_bingling[udg_int_bingling[0]]=PolarProjectionBJ(udg_point_bingling[0],100.00,(I2R(udg_int_bingling[1])+(I2R(udg_int_bingling[0])*45.00)))
call SetUnitPositionLocFacingBJ(udg_unit_bingling[udg_int_bingling[0]],udg_point_bingling[udg_int_bingling[0]],AngleBetweenPoints(udg_point_bingling[0],udg_point_bingling[udg_int_bingling[0]]))
set udg_int_bingling[0]=udg_int_bingling[0]+1
endloop
set udg_int_bingling[1]=(udg_int_bingling[1]+15)
set udg_int_bingling[2]=(udg_int_bingling[2]+1)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_point_bingling[0],Condition(function Trig_bingling2_Func005001003)),function Trig_bingling2_Func005A)
if(Trig_bingling2_Func006C())then
call CreateNUnitsAtLoc(1,'u00I',GetOwningPlayer(udg_unit_bingling[0]),udg_point_bingling[0],bj_UNIT_FACING)
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
set udg_int_bingling[2]=0
else
endif
call RemoveLocation(udg_point_bingling[0])
set udg_int_bingling[0]=1
loop
exitwhen udg_int_bingling[0]>8
call RemoveLocation(udg_point_bingling[udg_int_bingling[0]])
set udg_int_bingling[0]=udg_int_bingling[0]+1
endloop
endfunction
function InitTrig_bingling2 takes nothing returns nothing
set gg_trg_bingling2=CreateTrigger()
call DisableTrigger(gg_trg_bingling2)
call TriggerRegisterTimerEventPeriodic(gg_trg_bingling2,0.10)
call TriggerAddAction(gg_trg_bingling2,function Trig_bingling2_Actions)
endfunction
function Trig_bingling3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_bingling2)
set udg_int_bingling[0]=1
loop
exitwhen udg_int_bingling[0]>8
call KillUnit(udg_unit_bingling[udg_int_bingling[0]])
set udg_int_bingling[0]=udg_int_bingling[0]+1
endloop
call TriggerSleepAction(0.00)
set udg_int_bingling[0]=1
loop
exitwhen udg_int_bingling[0]>8
call RemoveUnit(udg_unit_bingling[udg_int_bingling[0]])
set udg_int_bingling[0]=udg_int_bingling[0]+1
endloop
endfunction
function InitTrig_bingling3 takes nothing returns nothing
set gg_trg_bingling3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_bingling3,udg_jishiqi_bingl)
call TriggerAddAction(gg_trg_bingling3,function Trig_bingling3_Actions)
endfunction
function Trig_bingfeng1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AU'))then
return false
endif
return true
endfunction
function Trig_bingfeng1_Actions takes nothing returns nothing
set udg_unit_bingfeng[0]=GetTriggerUnit()
set udg_point_bingfeng[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'u00K',GetOwningPlayer(GetTriggerUnit()),udg_point_bingfeng[0],bj_UNIT_FACING)
set udg_unit_bingfeng[1]=GetLastCreatedUnit()
call EnableTrigger(gg_trg_bingfeng2)
endfunction
function InitTrig_bingfeng1 takes nothing returns nothing
set gg_trg_bingfeng1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bingfeng1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bingfeng1,Condition(function Trig_bingfeng1_Conditions))
call TriggerAddAction(gg_trg_bingfeng1,function Trig_bingfeng1_Actions)
endfunction
function Trig_bingfeng2_Func003C takes nothing returns boolean
if(not(GetUnitFlyHeight(udg_unit_bingfeng[1])<=3.00))then
return false
endif
return true
endfunction
function Trig_bingfeng2_Actions takes nothing returns nothing
set udg_int_bingfeng[1]=(udg_int_bingfeng[1]+1)
call SetUnitFlyHeight(udg_unit_bingfeng[1],(GetUnitFlyHeight(udg_unit_bingfeng[1])-33.00),(I2R(udg_int_bingfeng[1])*10.00))
if(Trig_bingfeng2_Func003C())then
call DisableTrigger(GetTriggeringTrigger())
call KillUnit(udg_unit_bingfeng[1])
call CreateNUnitsAtLoc(1,'u00L',GetOwningPlayer(udg_unit_bingfeng[0]),udg_point_bingfeng[0],bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
call TriggerSleepAction(0.50)
call CreateNUnitsAtLoc(1,'u00J',GetOwningPlayer(udg_unit_bingfeng[0]),udg_point_bingfeng[0],bj_UNIT_FACING)
set udg_unit_bingfeng[2]=GetLastCreatedUnit()
call UnitApplyTimedLife(udg_unit_bingfeng[2],'BHwe',8.00)
call EnableTrigger(gg_trg_bingfeng3)
call RemoveUnit(udg_unit_bingfeng[1])
else
endif
endfunction
function InitTrig_bingfeng2 takes nothing returns nothing
set gg_trg_bingfeng2=CreateTrigger()
call DisableTrigger(gg_trg_bingfeng2)
call TriggerRegisterTimerEventPeriodic(gg_trg_bingfeng2,0.10)
call TriggerAddAction(gg_trg_bingfeng2,function Trig_bingfeng2_Actions)
endfunction
function Trig_bingfeng3_Func001001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_unit_bingfeng[0]))==true)
endfunction
function Trig_bingfeng3_Func001001003002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_group_bingfeng)==false)
endfunction
function Trig_bingfeng3_Func001001003002002 takes nothing returns boolean
return(0==0)
endfunction
function Trig_bingfeng3_Func001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_bingfeng3_Func001001003002001(),Trig_bingfeng3_Func001001003002002())
endfunction
function Trig_bingfeng3_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_bingfeng3_Func001001003001(),Trig_bingfeng3_Func001001003002())
endfunction
function Trig_bingfeng3_Func001A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_group_bingfeng)
call UnitDamageTarget(udg_unit_bingling[0],GetEnumUnit(),50.00,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call PauseUnit(GetEnumUnit(),true)
call SetUnitTimeScale(GetEnumUnit(),0.00)
endfunction
function Trig_bingfeng3_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_point_bingfeng[0],Condition(function Trig_bingfeng3_Func001001003)),function Trig_bingfeng3_Func001A)
endfunction
function InitTrig_bingfeng3 takes nothing returns nothing
set gg_trg_bingfeng3=CreateTrigger()
call DisableTrigger(gg_trg_bingfeng3)
call TriggerRegisterTimerEventPeriodic(gg_trg_bingfeng3,0.10)
call TriggerAddAction(gg_trg_bingfeng3,function Trig_bingfeng3_Actions)
endfunction
function Trig_bingfeng4_Conditions takes nothing returns boolean
if(not(GetDyingUnit()==udg_unit_bingfeng[2]))then
return false
endif
return true
endfunction
function Trig_bingfeng4_Func003A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_group_bingfeng)
if(GetUnitTypeId(udg_unit_bingfeng[0])=='Ewar')then
//call SetUnitManaBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())-100*GetUnitAbilityLevel(udg_unit_bingfeng[0],'A0AU')))
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00受到能量伤害"+I2S(100*GetUnitAbilityLevel(GetTriggerUnit(),'A0AU'))+"点|r")
call SetUnitManaBJ(GetEnumUnit(),(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)*(0.25+0.1*I2R(GetUnitAbilityLevel(udg_unit_bingfeng[0],'A0AU'))))))
call SetUnitManaBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())-25*GetUnitAbilityLevel(udg_unit_bingfeng[0],'A0AU')))
else
call UnitDamageTarget(udg_unit_bingfeng[0],GetEnumUnit(),(I2R(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_bingfeng[0]))]))*6000.00),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endif
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call PauseUnit(GetEnumUnit(),false)
call SetUnitTimeScale(GetEnumUnit(),1)
endfunction
function Trig_bingfeng4_Actions takes nothing returns nothing
call RemoveUnit(udg_unit_bingfeng[2])
call DisableTrigger(gg_trg_bingfeng3)
call ForGroupBJ(udg_group_bingfeng,function Trig_bingfeng4_Func003A)
call GroupClear(udg_group_bingfeng)
call RemoveLocation(udg_point_bingfeng[0])
endfunction
function InitTrig_bingfeng4 takes nothing returns nothing
set gg_trg_bingfeng4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bingfeng4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_bingfeng4,Condition(function Trig_bingfeng4_Conditions))
call TriggerAddAction(gg_trg_bingfeng4,function Trig_bingfeng4_Actions)
endfunction
function Trig____________________001_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05I'))then
return false
endif
return true
endfunction
function Trig____________________001_Actions takes nothing returns nothing
call TriggerSleepAction(3.00)
set udg_xx=1
loop
exitwhen udg_xx>36
call RemoveUnit(udg_xxzu[udg_xx])
set udg_xx=udg_xx+1
endloop
endfunction
function InitTrig____________________001 takes nothing returns nothing
set gg_trg____________________001=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________001,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg____________________001,Condition(function Trig____________________001_Conditions))
call TriggerAddAction(gg_trg____________________001,function Trig____________________001_Actions)
endfunction
function Trig_sudu_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A065'))then
return false
endif
return true
endfunction
function Trig_sudu_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'n006',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',12.00)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),300.00)
endfunction
function InitTrig_sudu takes nothing returns nothing
set gg_trg_sudu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sudu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sudu,Condition(function Trig_sudu_Conditions))
call TriggerAddAction(gg_trg_sudu,function Trig_sudu_Actions)
endfunction
function Trig_shijian_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A062'))then
return false
endif
return true
endfunction
function Trig_shijian_Func001Func016001003001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(11))
endfunction
function Trig_shijian_Func001Func016001003002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Trig_shijian_Func001Func016001003 takes nothing returns boolean
return GetBooleanOr(Trig_shijian_Func001Func016001003001(),Trig_shijian_Func001Func016001003002())
endfunction
function Trig_shijian_Func001Func016A takes nothing returns nothing
call PauseUnitBJ(false,GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),100.00)
endfunction
function Trig_shijian_Func001C takes nothing returns boolean
if(not(udg_shenjieing==false))then
return false
endif
return true
endfunction
function Trig_shijian_Actions takes nothing returns nothing
if(Trig_shijian_Func001C())then
set udg_shijianing=true
set udg_hero_sj=GetTriggerUnit()
set udg_shijiand=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'n002',GetOwningPlayer(GetTriggerUnit()),udg_shijiand,bj_UNIT_FACING)
set udg_shijian=GetLastCreatedUnit()
call TriggerSleepAction(0.50)
call SetUnitTimeScalePercent(udg_shijian,0.00)
call EnableTrigger(gg_trg_shijian1)
call TriggerSleepAction(10.00)
call SetUnitTimeScalePercent(udg_shijian,100.00)
call KillUnit(udg_shijian)
call DisableTrigger(gg_trg_shijian1)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(1200.00,udg_shijiand,Condition(function Trig_shijian_Func001Func016001003)),function Trig_shijian_Func001Func016A)
set udg_shijianing=false
else
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"有人正在施放时间法则，请稍后再施放。")
endif
endfunction
function InitTrig_shijian takes nothing returns nothing
set gg_trg_shijian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shijian,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_shijian,Condition(function Trig_shijian_Conditions))
call TriggerAddAction(gg_trg_shijian,function Trig_shijian_Actions)
endfunction
function Trig_shijian1_Func002001003001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(11))
endfunction
function Trig_shijian1_Func002001003002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Trig_shijian1_Func002001003 takes nothing returns boolean
return GetBooleanOr(Trig_shijian1_Func002001003001(),Trig_shijian1_Func002001003002())
endfunction
function Trig_shijian1_Func002A takes nothing returns nothing
call PauseUnitBJ(true,GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),0.00)
endfunction
function Trig_shijian1_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.00,udg_shijiand,Condition(function Trig_shijian1_Func002001003)),function Trig_shijian1_Func002A)
endfunction
function InitTrig_shijian1 takes nothing returns nothing
set gg_trg_shijian1=CreateTrigger()
call DisableTrigger(gg_trg_shijian1)
call TriggerRegisterTimerEventPeriodic(gg_trg_shijian1,0.01)
call TriggerAddAction(gg_trg_shijian1,function Trig_shijian1_Actions)
endfunction
function Trig_kongjian_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A064'))then
return false
endif
return true
endfunction
function Trig_kongjian_Func001C takes nothing returns boolean
if(not(udg_kongjianing==false))then
return false
endif
return true
endfunction
function Trig_kongjian_Actions takes nothing returns nothing
if(Trig_kongjian_Func001C())then
set udg_kongjianing=true
set udg_hero_kj=GetTriggerUnit()
set udg_kongjiand=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n005',GetOwningPlayer(GetTriggerUnit()),udg_kongjiand,bj_UNIT_FACING)
set udg_kongjian=GetLastCreatedUnit()
call SetUnitTimeScalePercent(udg_kongjian,100.00)
call EnableTrigger(gg_trg_kongjian1)
call TriggerSleepAction(6.50)
call KillUnit(udg_kongjian)
call DisableTrigger(gg_trg_kongjian1)
set udg_kongjianing=false
else
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"有人正在施放空间法则，请稍后再施放。")
endif
endfunction
function InitTrig_kongjian takes nothing returns nothing
set gg_trg_kongjian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_kongjian,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_kongjian,Condition(function Trig_kongjian_Conditions))
call TriggerAddAction(gg_trg_kongjian,function Trig_kongjian_Actions)
endfunction
function Trig_kongjian1_Func001001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(0))==true)
endfunction
function Trig_kongjian1_Func001001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)
endfunction
function Trig_kongjian1_Func001001003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)
endfunction
function Trig_kongjian1_Func001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_kongjian1_Func001001003002001(),Trig_kongjian1_Func001001003002002())
endfunction
function Trig_kongjian1_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_kongjian1_Func001001003001(),Trig_kongjian1_Func001001003002())
endfunction
function Trig_kongjian1_Func001A takes nothing returns nothing
set udg_lsdian=GetUnitLoc(GetEnumUnit())
call SetUnitFacingToFaceUnitTimed(GetEnumUnit(),udg_kongjian,0.01)
call IssueImmediateOrder(GetEnumUnit(),"stop")
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(udg_lsdian,2.00,AngleBetweenPoints(udg_lsdian,GetUnitLoc(udg_kongjian))))
call UnitDamageTarget(udg_hero_kj,GetEnumUnit(),300000.00,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call RemoveLocation(udg_lsdian)
endfunction
function Trig_kongjian1_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(700.00,udg_kongjiand,Condition(function Trig_kongjian1_Func001001003)),function Trig_kongjian1_Func001A)
endfunction
function InitTrig_kongjian1 takes nothing returns nothing
set gg_trg_kongjian1=CreateTrigger()
call DisableTrigger(gg_trg_kongjian1)
call TriggerRegisterTimerEventPeriodic(gg_trg_kongjian1,0.10)
call TriggerAddAction(gg_trg_kongjian1,function Trig_kongjian1_Actions)
endfunction
function Trig_miezhi_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A063'))then
return false
endif
return true
endfunction




function Trig_miezhi_Func012002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_miezhi_Actions takes nothing returns nothing
if(not(GetUnitTypeId(GetSpellTargetUnit())=='Bos8'))then
if(not(GetUnitTypeId(GetSpellTargetUnit())=='N000'))then
if(not(GetUnitTypeId(GetSpellTargetUnit())=='Bos0'))then
if(not(GetUnitTypeId(GetSpellTargetUnit())=='Uear'))then
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),1000000000.00,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
endif
endif
endif


set udg_hero_mie=GetTriggerUnit()
set udg_miedian=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h00J',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(udg_miedian,256,0),180.00)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_miezu)
call CreateNUnitsAtLoc(1,'h00J',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(udg_miedian,256,90.00),270.00)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_miezu)
call CreateNUnitsAtLoc(1,'h00J',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(udg_miedian,256,180.00),0.00)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_miezu)
call CreateNUnitsAtLoc(1,'h00J',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(udg_miedian,256,270.00),90.00)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_miezu)
call TriggerSleepAction(4.50)
call ForGroupBJ(udg_miezu,function Trig_miezhi_Func012002)
call GroupClear(udg_miezu)
endfunction
function InitTrig_miezhi takes nothing returns nothing
set gg_trg_miezhi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_miezhi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_miezhi,Condition(function Trig_miezhi_Conditions))
call TriggerAddAction(gg_trg_miezhi,function Trig_miezhi_Actions)
endfunction
function Trig_shenzhifenshen1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AHtc'))then
return false
endif
return true
endfunction
function Trig_shenzhifenshen1_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_shenzhifenshen2)
call StartTimerBJ(udg_time,false,30)
endfunction
function InitTrig_shenzhifenshen1 takes nothing returns nothing
set gg_trg_shenzhifenshen1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shenzhifenshen1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_shenzhifenshen1,Condition(function Trig_shenzhifenshen1_Conditions))
call TriggerAddAction(gg_trg_shenzhifenshen1,function Trig_shenzhifenshen1_Actions)
endfunction
function Trig_shenzhifenshen2_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Obla_0007)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if((GetUnitTypeId(GetTriggerUnit())=='hwat'))then
return false
endif
return true
endfunction
function Trig_shenzhifenshen2_Func005C takes nothing returns boolean
if(not(GetRandomInt(1,10)<=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))then
return false
endif
return true
endfunction
function Trig_shenzhifenshen2_Actions takes nothing returns nothing
if(Trig_shenzhifenshen2_Func005C())then
set udg_playerkissmemh[1]=I2R(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkissmemh[2]=I2R(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkissmemh[3]=I2R(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true))
set udg_playerkissmemh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.00)*(udg_playerkissmemh[1]+((udg_playerkissmemh[2]+(udg_playerkissmemh[3]*1.30))*I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playerkissmemh[5]=(udg_playerkissmemh[4]*0.25)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playerkissmemh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_shenzhifenshen2 takes nothing returns nothing
set gg_trg_shenzhifenshen2=CreateTrigger()
call DisableTrigger(gg_trg_shenzhifenshen2)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shenzhifenshen2,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shenzhifenshen2,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shenzhifenshen2,Condition(function Trig_shenzhifenshen2_Conditions))
call TriggerAddAction(gg_trg_shenzhifenshen2,function Trig_shenzhifenshen2_Actions)
endfunction
function Trig_shenzhifenshen3_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_shenzhifenshen2)
endfunction
function InitTrig_shenzhifenshen3 takes nothing returns nothing
set gg_trg_shenzhifenshen3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_shenzhifenshen3,udg_time)
call TriggerAddAction(gg_trg_shenzhifenshen3,function Trig_shenzhifenshen3_Actions)
endfunction
function Trig_daoshen1_Conditions takes nothing returns boolean
if(not(GetKillingUnitBJ()==gg_unit_H007_0238))then
return false
endif
return true
endfunction
function Trig_daoshen1_Actions takes nothing returns nothing
call AddHeroXPSwapped((GetUnitLevel(GetTriggerUnit())*1000),GetKillingUnitBJ(),false)
endfunction
function InitTrig_daoshen1 takes nothing returns nothing
set gg_trg_daoshen1=CreateTrigger()
call DisableTrigger(gg_trg_daoshen1)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_daoshen1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_daoshen1,Player(11),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_daoshen1,Condition(function Trig_daoshen1_Conditions))
call TriggerAddAction(gg_trg_daoshen1,function Trig_daoshen1_Actions)
endfunction

function Trig_zhuizong_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AOwk'))then
return false
endif
return true
endfunction
function Trig_zhuizong_Func001Func001Func007C takes nothing returns boolean
if((RectContainsUnit(gg_rct______________162,u2dg_aizhijian)==true))then
return true
endif
if((RectContainsUnit(gg_rct______________163,u2dg_aizhijian)==true))then
return true
endif
if((RectContainsUnit(gg_rct______________054,u2dg_aizhijian)==true))then
return true
endif
return false
endfunction
function Trig_zhuizong_Func001Func001C takes nothing returns boolean
if(not Trig_zhuizong_Func001Func001Func007C())then
return false
endif
return true
endfunction
function Trig_zhuizong_Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(u2dg_aizhijian)==false))then
return false
endif
return true
endfunction
function Trig_zhuizong_Actions takes nothing returns nothing
if(Trig_zhuizong_Func001C())then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000当前空间没有飞箭，追踪失败！")
else
if(Trig_zhuizong_Func001Func001C())then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000当前飞箭位置时空混乱，追踪失败！")
else
set udg_point=GetUnitLoc(u2dg_aizhijian)
call SetUnitPositionLoc(GetTriggerUnit(),udg_point)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetTriggerUnit(),"foot"))
call RemoveLocation(udg_point)
endif
endif
endfunction
function InitTrig_zhuizong takes nothing returns nothing
set gg_trg_zhuizong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zhuizong,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_zhuizong,Condition(function Trig_zhuizong_Conditions))
call TriggerAddAction(gg_trg_zhuizong,function Trig_zhuizong_Actions)
endfunction
function Trig_zhuizong2_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B01B')==true))then
return false
endif
return true
endfunction
function Trig_zhuizong2_Actions takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),(7000.00*I2R(GetHeroLevel(GetAttacker()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endfunction
function InitTrig_zhuizong2 takes nothing returns nothing
set gg_trg_zhuizong2=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_zhuizong2,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_zhuizong2,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_zhuizong2,Condition(function Trig_zhuizong2_Conditions))
call TriggerAddAction(gg_trg_zhuizong2,function Trig_zhuizong2_Actions)
endfunction


function Trig_CD_Func002C takes nothing returns boolean
if((GetSpellAbilityId()=='AHfs'))then
return true
endif
if((GetSpellAbilityId()=='A08H'))then
return true
endif
if((GetSpellAbilityId()=='A08I'))then
return true
endif
if((GetSpellAbilityId()=='A01W'))then
return true
endif
return false
endfunction
function Trig_CD_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H005_0020))then
return false
endif
if(not Trig_CD_Func002C())then
return false
endif
return true
endfunction
function Trig_CD_Func003C takes nothing returns boolean
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_CD_Actions takes nothing returns nothing
if(Trig_CD_Func003C())then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000急速冷却生效，所有技能CD重置!|r")
call UnitResetCooldown(GetTriggerUnit())
else
endif
endfunction
function InitTrig_CD takes nothing returns nothing
set gg_trg_CD=CreateTrigger()
call DisableTrigger(gg_trg_CD)
call TriggerRegisterAnyUnitEventBJ(gg_trg_CD,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_CD,Condition(function Trig_CD_Conditions))
call TriggerAddAction(gg_trg_CD,function Trig_CD_Actions)
endfunction
function Trig_wushuang1_______u_Conditions takes nothing returns boolean
if(not(udg_buerzhi_shengming==true))then
return false
endif
if(not(GetUnitTypeId(GetAttacker())=='Hblm'))then
return false
endif
return true
endfunction
function Trig_wushuang1_______u_Func001Func001001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_wushuang1_______u_Func001Func001001003002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_wushuang1_______u_Func001Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_wushuang1_______u_Func001Func001001003001(),Trig_wushuang1_______u_Func001Func001001003002())
endfunction
function Trig_wushuang1_______u_Func001Func001A takes nothing returns nothing
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,((GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.10))+1))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetEnumUnit(),"origin"))
endfunction
function Trig_wushuang1_______u_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,15)==1))then
return false
endif
return true
endfunction
function Trig_wushuang1_______u_Actions takes nothing returns nothing
if(Trig_wushuang1_______u_Func001C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00,GetUnitLoc(GetAttacker()),Condition(function Trig_wushuang1_______u_Func001Func001001003)),function Trig_wushuang1_______u_Func001Func001A)
else
endif
endfunction
function InitTrig_wushuang1_______u takes nothing returns nothing
set gg_trg_wushuang1_______u=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wushuang1_______u,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wushuang1_______u,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wushuang1_______u,Condition(function Trig_wushuang1_______u_Conditions))
call TriggerAddAction(gg_trg_wushuang1_______u,function Trig_wushuang1_______u_Actions)
endfunction
function Trig_ljlt1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CX'))then
return false
endif
return true
endfunction
function Trig_ljlt1_Actions takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"war3mapImported\\OutlandStorm.mdx")
call TriggerRegisterUnitEvent(gg_trg_ljlt2,GetTriggerUnit(),EVENT_UNIT_DEATH)
set udg_texiao_ljlt=GetLastCreatedEffectBJ()
call EnableTrigger(gg_trg_ldcc2)
call DisableTrigger(gg_trg_ldcc1)
call StartTimerBJ(udg_jsq_ljlt,false,15.00)
endfunction
function InitTrig_ljlt1 takes nothing returns nothing
set gg_trg_ljlt1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ljlt1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ljlt1,Condition(function Trig_ljlt1_Conditions))
call TriggerAddAction(gg_trg_ljlt1,function Trig_ljlt1_Actions)
endfunction
function Trig_ljlt2_Actions takes nothing returns nothing
call DestroyEffect(udg_texiao_ljlt)
set udg_int_ljlt=1
call EnableTrigger(gg_trg_ldcc1)
call DisableTrigger(gg_trg_ldcc2)
endfunction
function InitTrig_ljlt2 takes nothing returns nothing
set gg_trg_ljlt2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_ljlt2,udg_jsq_ljlt)
call TriggerAddAction(gg_trg_ljlt2,function Trig_ljlt2_Actions)
endfunction
function Trig_shuiguo_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I02C'))then
return false
endif
return true
endfunction
function Trig_shuiguo_Func001C takes nothing returns boolean
if(not(udg_shuiguo==false))then
return false
endif
return true
endfunction
function Trig_shuiguo_Actions takes nothing returns nothing
if(Trig_shuiguo_Func001C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"大侠！我天天吃烧烤都吃厌了，你能帮我买个水果来吗？？")
call PingMinimapLocForForce(GetPlayersAll(),GetUnitLoc(gg_unit_hsor_0047),3.00)
set udg_shuiguo=true
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"已经有人再帮我了，下次我有需要你再来找我哈~")
endif
endfunction
function InitTrig_shuiguo takes nothing returns nothing
set gg_trg_shuiguo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shuiguo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_shuiguo,Condition(function Trig_shuiguo_Conditions))
call TriggerAddAction(gg_trg_shuiguo,function Trig_shuiguo_Actions)
endfunction
function Trig_jitui_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I02B'))then
return false
endif
return true
endfunction
function Trig_jitui_Func004C takes nothing returns boolean
if(not(udg_jitui==false))then
return false
endif
return true
endfunction
function Trig_jitui_Actions takes nothing returns nothing
if(Trig_jitui_Func004C())then
set udg_jitui=true
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"大侠！我天天吃水果都吃厌了，你能帮我买只鸡腿来吗？？")
call PingMinimapLocForForce(GetPlayersAll(),GetRectCenter(gg_rct______________072),3.00)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"已经有人再帮我了，下次我有需要你再来找我哈~")
endif
endfunction
function InitTrig_jitui takes nothing returns nothing
set gg_trg_jitui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jitui,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jitui,Condition(function Trig_jitui_Conditions))
call TriggerAddAction(gg_trg_jitui,function Trig_jitui_Actions)
endfunction
function Trig_wancheng_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_wancheng_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02E'))=='I02E'))then
return false
endif
if(not(udg_jitui==true))then
return false
endif
return true
endfunction
function Trig_wancheng_Actions takes nothing returns nothing
if(Trig_wancheng_Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"！谢谢你的帮忙，给你10000小费！"))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02E'))
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1000),true)
set udg_jitui=false
else
endif
endfunction
function InitTrig_wancheng takes nothing returns nothing
set gg_trg_wancheng=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_wancheng,256,gg_unit_hsor_0047)
call TriggerAddCondition(gg_trg_wancheng,Condition(function Trig_wancheng_Conditions))
call TriggerAddAction(gg_trg_wancheng,function Trig_wancheng_Actions)
endfunction
function Trig_wancheng_______u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_wancheng_______u_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02F'))=='I02F'))then
return false
endif
if(not(udg_shuiguo==true))then
return false
endif
return true
endfunction
function Trig_wancheng_______u_Actions takes nothing returns nothing
if(Trig_wancheng_______u_Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"！谢谢你的帮忙，给你10000小费！"))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02F'))
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1000),true)
set udg_shuiguo=false
else
endif
endfunction
function InitTrig_wancheng_______u takes nothing returns nothing
set gg_trg_wancheng_______u=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_wancheng_______u,256,gg_unit_nbee_0054)
call TriggerAddCondition(gg_trg_wancheng_______u,Condition(function Trig_wancheng_______u_Conditions))
call TriggerAddAction(gg_trg_wancheng_______u,function Trig_wancheng_______u_Actions)
endfunction
function Trig_liumang_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I02D'))then
return false
endif
if(not(udg_liumangyijie[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_liumang_Func002Func005C takes nothing returns boolean
if(not(udg_liumang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_liumang_Func002C takes nothing returns boolean
if(not(udg_liumang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
if(not(udg_liumang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_liumang_Actions takes nothing returns nothing
set udg_liumangyijie[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
if(Trig_liumang_Func002C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"大侠，北边有几个流氓，把我的项链抢了，你能帮我找回来吗？")
call PingMinimapLocForForce(GetPlayersAll(),GetRectCenter(gg_rct______________050),3.00)
set udg_liumang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
if(Trig_liumang_Func002Func005C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"你已经帮我把项链拿回来了，你还来干么！！")
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"还没拿到项链吗？？")
endif
endif
endfunction
function InitTrig_liumang takes nothing returns nothing
set gg_trg_liumang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_liumang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_liumang,Condition(function Trig_liumang_Conditions))
call TriggerAddAction(gg_trg_liumang,function Trig_liumang_Actions)
endfunction
function Trig_wancheng________2_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_wancheng________2_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02G'))=='I02G'))then
return false
endif
return true
endfunction
function Trig_wancheng________2_Actions takes nothing returns nothing
if(Trig_wancheng________2_Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"！谢谢你的帮忙啊，这个项链就送给你了~~"))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"再告诉你一个秘密，山上面的流氓头头还有个金色的项链")
call PingMinimapLocForForce(GetPlayersAll(),GetUnitLoc(gg_unit_Hlgr_0032),3.00)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02G'))
call UnitAddItemByIdSwapped('I02H',GetTriggerUnit())
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1500),true)
set udg_liumang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
set udg_liumang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
endif
endfunction
function InitTrig_wancheng________2 takes nothing returns nothing
set gg_trg_wancheng________2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_wancheng________2,256,gg_unit_hsor_0047)
call TriggerAddCondition(gg_trg_wancheng________2,Condition(function Trig_wancheng________2_Conditions))
call TriggerAddAction(gg_trg_wancheng________2,function Trig_wancheng________2_Actions)
endfunction
function Trig_dashui_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I02M'))then
return false
endif
return true
endfunction
function Trig_dashui_Func001C takes nothing returns boolean
if(not(udg_dashui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_dashui_Actions takes nothing returns nothing
if(Trig_dashui_Func001C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"大侠！好渴啊，能帮我弄口水来吗？")
call PingMinimapLocForForce(GetPlayersAll(),GetRectCenter(gg_rct______________055),3.00)
call UnitAddItemByIdSwapped('bzbe',GetTriggerUnit())
set udg_dashui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"还没弄到水吗？")
endif
endfunction
function InitTrig_dashui takes nothing returns nothing
set gg_trg_dashui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dashui,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_dashui,Condition(function Trig_dashui_Conditions))
call TriggerAddAction(gg_trg_dashui,function Trig_dashui_Actions)
endfunction
function Trig_dashuiwancheng_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_dashuiwancheng_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bzbe'))=='bzbe'))then
return false
endif
if(not(udg_dashui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_dashuiwancheng_Actions takes nothing returns nothing
if(Trig_dashuiwancheng_Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"瓶子好像已经装满了水~")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bzbe'))
call UnitAddItemByIdSwapped('bzbf',GetTriggerUnit())
set udg_shui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
endif
endfunction
function InitTrig_dashuiwancheng takes nothing returns nothing
set gg_trg_dashuiwancheng=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_dashuiwancheng,gg_rct______________055)
call TriggerAddCondition(gg_trg_dashuiwancheng,Condition(function Trig_dashuiwancheng_Conditions))
call TriggerAddAction(gg_trg_dashuiwancheng,function Trig_dashuiwancheng_Actions)
endfunction
function Trig_dashuiwang2_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_dashuiwang2_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bzbf'))=='bzbf'))then
return false
endif
if(not(udg_shui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_dashuiwang2_Actions takes nothing returns nothing
if(Trig_dashuiwang2_Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"啊！小伙子做的不错丫！真的把水打来了。"))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"看你对老人家我这么好，这25000大洋拿去泡妞吧！！")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bzbf'))
call AdjustPlayerStateBJ(25000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1800),true)
set udg_dashui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set udg_shui[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
else
endif
endfunction
function InitTrig_dashuiwang2 takes nothing returns nothing
set gg_trg_dashuiwang2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_dashuiwang2,256,gg_unit_h003_0046)
call TriggerAddCondition(gg_trg_dashuiwang2,Condition(function Trig_dashuiwang2_Conditions))
call TriggerAddAction(gg_trg_dashuiwang2,function Trig_dashuiwang2_Actions)
endfunction
function Trig_wugang_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I01U'))then
return false
endif
return true
endfunction
function Trig_wugang_Func001Func004C takes nothing returns boolean
if(not(udg_wugang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_wugang_Func001C takes nothing returns boolean
if(not(udg_wugang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
if(not(udg_wugang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_wugang_Actions takes nothing returns nothing
if(Trig_wugang_Func001C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"山上怎么会有这么多嫦娥了啊？帮我去抓几个来问问啊~")
set udg_wugang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
if(Trig_wugang_Func001Func004C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"谁叫你杀我的嫦娥，不理你了！")
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"快去呀，还在这干什么呢~")
endif
endif
endfunction
function InitTrig_wugang takes nothing returns nothing
set gg_trg_wugang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wugang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_wugang,Condition(function Trig_wugang_Conditions))
call TriggerAddAction(gg_trg_wugang,function Trig_wugang_Actions)
endfunction
function Trig_changeshu_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nzom'))then
return false
endif
if(not(udg_wugang[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true))then
return false
endif
return true
endfunction
function Trig_changeshu_Func001Func001C takes nothing returns boolean
if(not(udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==10))then
return false
endif
return true
endfunction
function Trig_changeshu_Func001C takes nothing returns boolean
if(not(udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]<=10))then
return false
endif
return true
endfunction
function Trig_changeshu_Actions takes nothing returns nothing
if(Trig_changeshu_Func001C())then
if(Trig_changeshu_Func001Func001C())then
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"貌似杀够了~")
else
set udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,(I2S(udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])+"/10"))
endif
else
endif
endfunction
function InitTrig_changeshu takes nothing returns nothing
set gg_trg_changeshu=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_changeshu,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_changeshu,Condition(function Trig_changeshu_Conditions))
call TriggerAddAction(gg_trg_changeshu,function Trig_changeshu_Actions)
endfunction
function Trig_wanchengwugang_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_wanchengwugang_Func001C takes nothing returns boolean
if(not(udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=10))then
return false
endif
return true
endfunction
function Trig_wanchengwugang_Actions takes nothing returns nothing
if(Trig_wanchengwugang_Func001C())then
set udg_wugang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
set udg_wugang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set udg_changeshu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"完成了吴刚的困惑任务，全属性+300"))
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*10000),true)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,300)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,300)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,300)
else
endif
endfunction
function InitTrig_wanchengwugang takes nothing returns nothing
set gg_trg_wanchengwugang=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_wanchengwugang,256,gg_unit_nchw_0039)
call TriggerAddCondition(gg_trg_wanchengwugang,Condition(function Trig_wanchengwugang_Conditions))
call TriggerAddAction(gg_trg_wanchengwugang,function Trig_wanchengwugang_Actions)
endfunction
function Trig_jieshouxianhua_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I04B'))then
return false
endif
return true
endfunction
function Trig_jieshouxianhua_Func001C takes nothing returns boolean
if(not(udg_xianhua[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_jieshouxianhua_Actions takes nothing returns nothing
if(Trig_jieshouxianhua_Func001C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"能帮我采十朵鲜花吗？")
set udg_xianhua[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
set udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"还没找齐10朵鲜花吗？我记得对面河岸有很多鲜花的.."))
endif
endfunction
function InitTrig_jieshouxianhua takes nothing returns nothing
set gg_trg_jieshouxianhua=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jieshouxianhua,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jieshouxianhua,Condition(function Trig_jieshouxianhua_Conditions))
call TriggerAddAction(gg_trg_jieshouxianhua,function Trig_jieshouxianhua_Actions)
endfunction
function Trig_xianhuashuaxin_______u_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I04I'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(udg_xianhua[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_xianhuashuaxin_______u_Func001C takes nothing returns boolean
if(not(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=9))then
return false
endif
return true
endfunction
function Trig_xianhuashuaxin_______u_Actions takes nothing returns nothing
if(Trig_xianhuashuaxin_______u_Func001C())then
set udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.00,("找到了|cffff0000"+(I2S(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+("|r朵鲜花，"+"可以交付任务了哦~"))))
else
set udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,3.00,("找到了|cffff0000"+(I2S(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"|r朵鲜花.")))
endif
endfunction
function InitTrig_xianhuashuaxin_______u takes nothing returns nothing
set gg_trg_xianhuashuaxin_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xianhuashuaxin_______u,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_xianhuashuaxin_______u,Condition(function Trig_xianhuashuaxin_______u_Conditions))
call TriggerAddAction(gg_trg_xianhuashuaxin_______u,function Trig_xianhuashuaxin_______u_Actions)
endfunction
function Trig_xianhuashuaxin______________u_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I04I'))then
return false
endif
return true
endfunction
function Trig_xianhuashuaxin______________u_Func003C takes nothing returns boolean
if(not(GetRandomInt(1,2)==1))then
return false
endif
return true
endfunction
function Trig_xianhuashuaxin______________u_Actions takes nothing returns nothing
call TriggerSleepAction(10.00)
if(Trig_xianhuashuaxin______________u_Func003C())then
call CreateItemLoc('I04I',GetRandomLocInRect(gg_rct______________106))
else
call CreateItemLoc('I04I',GetRandomLocInRect(gg_rct______________107))
endif
endfunction
function InitTrig_xianhuashuaxin______________u takes nothing returns nothing
set gg_trg_xianhuashuaxin______________u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xianhuashuaxin______________u,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_xianhuashuaxin______________u,Condition(function Trig_xianhuashuaxin______________u_Conditions))
call TriggerAddAction(gg_trg_xianhuashuaxin______________u,function Trig_xianhuashuaxin______________u_Actions)
endfunction
function Trig_jiaoxianhua_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_jiaoxianhua_Func001C takes nothing returns boolean
if(not(udg_xianhua[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
if(not(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=10))then
return false
endif
return true
endfunction
function Trig_jiaoxianhua_Actions takes nothing returns nothing
if(Trig_jiaoxianhua_Func001C())then
if(udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=25)then
if(udg_selfdestruct<1)then
set udg_renwuk=0
call DisplayTimedTextToForce(GetPlayersAll(),10.00,("找到25朵鲜花，死亡轮盘从此关闭~"+""))
else
call DisplayTimedTextToForce(GetPlayersAll(),10.00,("隐藏难度无法关闭死亡轮盘~"+""))
endif
endif
set udg_xianhuasl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
call DisplayTimedTextToForce(GetPlayersAll(),10.00,("好漂亮的鲜花啊，这件家传宝衣就送给你了~"+""))
call UnitAddItemByIdSwapped('I04J',GetTriggerUnit())
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1000),true)
set udg_xianhua[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
else
endif
endfunction
function InitTrig_jiaoxianhua takes nothing returns nothing
set gg_trg_jiaoxianhua=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_jiaoxianhua,256,gg_unit_hsor_0047)
call TriggerAddCondition(gg_trg_jiaoxianhua,Condition(function Trig_jiaoxianhua_Conditions))
call TriggerAddAction(gg_trg_jiaoxianhua,function Trig_jiaoxianhua_Actions)
endfunction
function Trig_wuxing_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I053'))then
return false
endif
if(not(udg_wuxingyijie[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing_Actions takes nothing returns nothing
set udg_wuxingyijie[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"到这个5个地方寻找五行本源吧！")
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________048),5.00)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________060),5.00)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________061),5.00)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________067),5.00)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________065),5.00)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________112),5.00)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetRectCenter(gg_rct______________120),5.00)
endfunction
function InitTrig_wuxing takes nothing returns nothing
set gg_trg_wuxing=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wuxing,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_wuxing,Condition(function Trig_wuxing_Conditions))
call TriggerAddAction(gg_trg_wuxing,function Trig_wuxing_Actions)
endfunction


function Trig_wu2xing_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I053'))then
return false
endif
if(not(udg_wuxingyijie[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_wu2xing_Actions takes nothing returns nothing

local boolean a=false
local boolean b=false
local boolean c=false
local boolean d=false
local boolean e=false
set a=udg_wuxingj[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set b=udg_wuxingm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set c=udg_wuxings[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set d=udg_wuxingh[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set e=udg_wuxingt[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]

if(a==false)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000五行之源-金尚未找到，应击败BOSS为 |c0A00CCF06号或海神。")
endif
if(b==false)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000五行之源-木尚未找到，应击败BOSS为 |c0A00CCF0天仙。")
endif
if(c==false)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000五行之源-水尚未找到，应击败BOSS为 |c0A00CCF08号或上神。")
endif
if(d==false)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000五行之源-火尚未找到，应击败BOSS为 |c0A00CCF0红龙。")
endif
if(e==false)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000五行之源-土尚未找到，应击败BOSS为 |c0A00CCF0青龙。")
endif



endfunction
function InitTrig_wu2xing takes nothing returns nothing
set gg_trg_wu2xing=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wu2xing,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_wu2xing,Condition(function Trig_wu2xing_Conditions))
call TriggerAddAction(gg_trg_wu2xing,function Trig_wu2xing_Actions)
endfunction






function Trig_wuxing1_Conditions takes nothing returns boolean
if(not(udg_wuxingyijie[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true))then
return false
endif
return true
endfunction
function Trig_wuxing1_Func001Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nbzd'))then
return false
endif
if(not(udg_wuxingt[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing1_Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nrwm'))then
return false
endif
if(not(udg_wuxingh[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing1_Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Hvsh'))then
if(not(GetUnitTypeId(GetDyingUnit())=='Usyl'))then
return false
endif
endif
if(not(udg_wuxings[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing1_Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Ekgg'))then
return false
endif
if(not(udg_wuxingm[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing1_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uwar'))then
if(not(GetUnitTypeId(GetDyingUnit())=='Udea'))then
return false
endif
endif
if(not(udg_wuxingj[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing1_Actions takes nothing returns nothing
if(Trig_wuxing1_Func001C())then
set udg_wuxingj[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=true
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"|cffff0000已找到五行本源之金。")
else
if(Trig_wuxing1_Func001Func001C())then
set udg_wuxingm[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=true
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"|cffff0000已找到五行本源之木。")
else
if(Trig_wuxing1_Func001Func001Func001C())then
set udg_wuxings[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=true
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"|cffff0000已找到五行本源之水。")
else
if(Trig_wuxing1_Func001Func001Func001Func001C())then
set udg_wuxingh[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=true
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"|cffff0000已找到五行本源之火。")
else
if(Trig_wuxing1_Func001Func001Func001Func001Func001C())then
set udg_wuxingt[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=true
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()),0,0,"|cffff0000已找到五行本源之土。")
else
endif
endif
endif
endif
endif
endfunction
function InitTrig_wuxing1 takes nothing returns nothing
set gg_trg_wuxing1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wuxing1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_wuxing1,Condition(function Trig_wuxing1_Conditions))
call TriggerAddAction(gg_trg_wuxing1,function Trig_wuxing1_Actions)
endfunction
function Trig_wuxing2_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(udg_wuxingwc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_wuxing2_Func003C takes nothing returns boolean
if(not(udg_wuxingj[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
if(not(udg_wuxingm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
if(not(udg_wuxings[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
if(not(udg_wuxingh[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
if(not(udg_wuxingt[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_wuxing2_Actions takes nothing returns nothing
if(Trig_wuxing2_Func003C())then
call UnitAddItemByIdSwapped('I03U',GetTriggerUnit())
call AddHeroXP(GetTriggerUnit(),(udg_waves*5000),true)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"啊！这真的是五行本源力量吗？\n能在有生之年见到五行本源也不枉此生了。\n这个五行戒就给你了，有了此物才能真正发挥出五行的力量。")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"另外说起来大侠听说过智慧之药吗？\n智慧之药据说可以让你的助手变聪明哦。")
set udg_wuxingwc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
endif
endfunction
function InitTrig_wuxing2 takes nothing returns nothing
set gg_trg_wuxing2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_wuxing2,256,gg_unit_h006_0195)
call TriggerAddCondition(gg_trg_wuxing2,Condition(function Trig_wuxing2_Conditions))
call TriggerAddAction(gg_trg_wuxing2,function Trig_wuxing2_Actions)
endfunction


function Trig_compound_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_compound_Func003C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'MED1')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'MED2')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'MED3')==true))then
return false
endif
return true
endfunction
function Trig_compound_Actions takes nothing returns nothing
if(Trig_compound_Func003C())then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"等等，你身上的这些药草是？\n这是十分罕见智慧之药的材料哦\n有了这些就可以调和智慧之药了，你等等。")
set udg_automed[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"得到了智慧之药，你的助手看起来很想要的样子\n你的助手变的更聪明了。")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'MED1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'MED2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'MED3'))
else
endif
endfunction
function InitTrig_compound takes nothing returns nothing
set gg_trg_compound=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_compound,256,gg_unit_h006_0195)
call TriggerAddCondition(gg_trg_compound,Condition(function Trig_compound_Conditions))
call TriggerAddAction(gg_trg_compound,function Trig_compound_Actions)
endfunction



function Trig_shitangdama_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_shitangdama_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I069'))=='I069'))then
return false
endif
return true
endfunction
function Trig_shitangdama_Actions takes nothing returns nothing
if(Trig_shitangdama_Func001C())then
call UnitAddItemByIdSwapped('I06A',GetTriggerUnit())
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"哇靠，这不是我老伴的包包吗！\n实在是太感谢了，那么送你一双鞋子。")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I069'))
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1000),true)
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_shitangdama takes nothing returns nothing
set gg_trg_shitangdama=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_shitangdama,256,gg_unit_n003_0189)
call TriggerAddCondition(gg_trg_shitangdama,Condition(function Trig_shitangdama_Conditions))
call TriggerAddAction(gg_trg_shitangdama,function Trig_shitangdama_Actions)
endfunction
function Trig_famu_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I06D'))then
return false
endif
return true
endfunction
function Trig_famu_Func001C takes nothing returns boolean
if(not(udg_famu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_famu_Actions takes nothing returns nothing
if(Trig_famu_Func001C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"居民：冬天来了，帮我收集些木材过来吧！")
set udg_famu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"还没弄到木材吗？")
endif
endfunction
function InitTrig_famu takes nothing returns nothing
set gg_trg_famu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_famu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_famu,Condition(function Trig_famu_Conditions))
call TriggerAddAction(gg_trg_famu,function Trig_famu_Actions)
endfunction
function Trig_famu2_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_famu2_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'mcou'))=='mcou'))then
return false
endif
if(not(udg_famu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_famu2_Actions takes nothing returns nothing
if(Trig_famu2_Func001C())then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,"谢谢你的木材，送张木材支票给你-_-")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'mcou'))
call AdjustPlayerStateBJ(2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AddHeroXP(GetTriggerUnit(),((udg_waves+1)*1500),true)
set udg_famu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
else
endif
endfunction
function InitTrig_famu2 takes nothing returns nothing
set gg_trg_famu2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_famu2,256,gg_unit_h003_0046)
call TriggerAddCondition(gg_trg_famu2,Condition(function Trig_famu2_Conditions))
call TriggerAddAction(gg_trg_famu2,function Trig_famu2_Actions)
endfunction
function Trig_dingyi1_Func003A takes nothing returns nothing
set udg_RGA=(udg_RGA+1)
call SetUnitUserData(GetEnumUnit(),udg_RGA)
set udg_RGB[udg_RGA]=GetUnitLoc(GetEnumUnit())
endfunction
function Trig_dingyi1_Func004A takes nothing returns nothing
set udg_RGA1=(udg_RGA1+1)
call SetUnitUserData(GetEnumUnit(),udg_RGA1)
set udg_RGB1[udg_RGA1]=GetUnitLoc(GetEnumUnit())
endfunction
function Trig_dingyi1_Func005A takes nothing returns nothing
set udg_RGA2=(udg_RGA2+1)
call SetUnitUserData(GetEnumUnit(),udg_RGA2)
set udg_RGB2[udg_RGA2]=GetUnitLoc(GetEnumUnit())
endfunction
function Trig_dingyi1_Func006A takes nothing returns nothing
set udg_RGA3=(udg_RGA3+1)
call SetUnitUserData(GetEnumUnit(),udg_RGA3)
set udg_RGB3[udg_RGA3]=GetUnitLoc(GetEnumUnit())
endfunction
function Trig_dingyi1_Actions takes nothing returns nothing
set udg_quyu3=gg_rct______________056
set udg_quyu1=gg_rct______________057
call ForGroupBJ(GetUnitsInRectAll(udg_quyu3),function Trig_dingyi1_Func003A)
call ForGroupBJ(GetUnitsInRectAll(udg_quyu1),function Trig_dingyi1_Func004A)
call ForGroupBJ(GetUnitsInRectAll(gg_rct______________050),function Trig_dingyi1_Func005A)
call ForGroupBJ(GetUnitsInRectAll(gg_rct______________111),function Trig_dingyi1_Func006A)
endfunction
function InitTrig_dingyi1 takes nothing returns nothing
set gg_trg_dingyi1=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_dingyi1,1.00)
call TriggerAddAction(gg_trg_dingyi1,function Trig_dingyi1_Actions)
endfunction
function Trig_shuaxin1_Func005C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='n001'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n004'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nslh'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nslr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nsll'))then
return true
endif
return false
endfunction
function Trig_shuaxin1_Conditions takes nothing returns boolean
if(not Trig_shuaxin1_Func005C())then
return false
endif
return true
endfunction
function Trig_shuaxin1_Actions takes nothing returns nothing
call TriggerSleepAction(60.00)
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetDyingUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_RGB[GetUnitUserData(GetTriggerUnit())],bj_UNIT_FACING)
call SetUnitUserData(GetLastCreatedUnit(),GetUnitUserData(GetDyingUnit()))
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_shuaxin1 takes nothing returns nothing
set gg_trg_shuaxin1=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuaxin1,Player(11),EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuaxin1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shuaxin1,Condition(function Trig_shuaxin1_Conditions))
call TriggerAddAction(gg_trg_shuaxin1,function Trig_shuaxin1_Actions)
endfunction
function Trig_shuaxin2_Func005C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='edry'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nnsu'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nzom'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nbel'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nsgg'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nggr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nwzr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='hkni'))then
return true
endif
return false
endfunction
function Trig_shuaxin2_Conditions takes nothing returns boolean
if(not Trig_shuaxin2_Func005C())then
return false
endif
return true
endfunction
function Trig_shuaxin2_Actions takes nothing returns nothing
call TriggerSleepAction(80.00)
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetDyingUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_RGB1[GetUnitUserData(GetTriggerUnit())],bj_UNIT_FACING)
call SetUnitUserData(GetLastCreatedUnit(),GetUnitUserData(GetDyingUnit()))
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_shuaxin2 takes nothing returns nothing
set gg_trg_shuaxin2=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuaxin2,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shuaxin2,Condition(function Trig_shuaxin2_Conditions))
call TriggerAddAction(gg_trg_shuaxin2,function Trig_shuaxin2_Actions)
endfunction
function Trig_shuaxin3_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='njks'))then
return false
endif
return true
endfunction
function Trig_shuaxin3_Actions takes nothing returns nothing
call TriggerSleepAction(30.00)
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetDyingUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_RGB2[GetUnitUserData(GetTriggerUnit())],bj_UNIT_FACING)
call SetUnitUserData(GetLastCreatedUnit(),GetUnitUserData(GetDyingUnit()))
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_shuaxin3 takes nothing returns nothing
set gg_trg_shuaxin3=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuaxin3,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shuaxin3,Condition(function Trig_shuaxin3_Conditions))
call TriggerAddAction(gg_trg_shuaxin3,function Trig_shuaxin3_Actions)
endfunction
function Trig_shuaxin4_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nnmg'))then
return false
endif
return true
endfunction
function Trig_shuaxin4_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nnrg'))then
return false
endif
return true
endfunction
function Trig_shuaxin4_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nsnp'))then
return false
endif
return true
endfunction
function Trig_shuaxin4_Actions takes nothing returns nothing
if(Trig_shuaxin4_Func001C())then
call TriggerSleepAction(30.00)
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetDyingUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_RGB3[GetUnitUserData(GetTriggerUnit())],bj_UNIT_FACING)
call SetUnitUserData(GetLastCreatedUnit(),GetUnitUserData(GetDyingUnit()))
call RemoveUnit(GetDyingUnit())
else
endif
if(Trig_shuaxin4_Func002C())then
call TriggerSleepAction(90.00)
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetDyingUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_RGB3[GetUnitUserData(GetTriggerUnit())],bj_UNIT_FACING)
call SetUnitUserData(GetLastCreatedUnit(),GetUnitUserData(GetDyingUnit()))
call RemoveUnit(GetDyingUnit())
else
endif
if(Trig_shuaxin4_Func003C())then
call TriggerSleepAction(60.00)
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetDyingUnit()),Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_RGB3[GetUnitUserData(GetTriggerUnit())],bj_UNIT_FACING)
call SetUnitUserData(GetLastCreatedUnit(),GetUnitUserData(GetDyingUnit()))
call RemoveUnit(GetDyingUnit())
else
endif
endfunction
function InitTrig_shuaxin4 takes nothing returns nothing
set gg_trg_shuaxin4=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shuaxin4,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_shuaxin4,function Trig_shuaxin4_Actions)
endfunction
function Trig_boss_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Hlgr'))then
return false
endif
return true
endfunction
function Trig_boss_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Ulic'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nbzd'))then
return false
endif
return true
endfunction
function Trig_boss_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='ninf'))then
return false
endif
return true
endfunction
function Trig_boss_Func005C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nrwm'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func006C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Hvsh'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func007C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Ekgg'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func008C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Usyl'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func009C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Nklj'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func010C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Npld'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Func011C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='nitb'))then
return false
endif
return true
endfunction
function Trig_boss_Func012C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Udea'))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_boss_Actions takes nothing returns nothing
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then

if(Trig_boss_Func001C())then
call TriggerSleepAction((100.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Hlgr',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________058),bj_UNIT_FACING)
call TriggerSleepAction(1.00)
return
else
endif
if(Trig_boss_Func002C())then
call TriggerSleepAction((250.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Ulic',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________059),180.00)
set udg_bgszr=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_bgszr,false)
return
else
endif
if(Trig_boss_Func003C())then
call TriggerSleepAction((140.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'nbzd',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________065),45.00)
set udg_qinglong=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_qinglong,false)
return
else
endif
if(Trig_boss_Func004C())then
call TriggerSleepAction((100.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'ninf',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________066),270.00)
set udg_shitouren=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_shitouren,false)
return
else
endif
if(Trig_boss_Func005C())then
call TriggerSleepAction((230.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'nrwm',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________067),180.00)
set udg_honglong=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_honglong,false)
return
else
endif
if(Trig_boss_Func006C())then
call TriggerSleepAction((700.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Hvsh',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________061),0.00)
set udg_shangshen=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_shangshen,false)
return
else
endif
if(Trig_boss_Func007C())then
call TriggerSleepAction((390.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Ekgg',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________060),90.00)
set udg_tianxian=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_tianxian,false)
return
else
endif
if(Trig_boss_Func008C())then
call TriggerSleepAction((700.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Usyl',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________120),0.00)
set udg_sanjie=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_sanjie,false)
return
else
endif
if(Trig_boss_Func009C())then
call TriggerSleepAction((600.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Nklj',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________156),180.00)
set udg_guangchengzi=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_guangchengzi,false)
return
else
endif
if(Trig_boss_Func010C())then
call TriggerSleepAction((450.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Npld',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________157),270.00)
set udg_jiaohuang=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_jiaohuang,false)
return
else
endif
if(Trig_boss_Func011C())then
call TriggerSleepAction((700.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'nitb',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________149),0.00)
set udg_yueguang=false
return
else
endif
if(Trig_boss_Func012C())then
call TriggerSleepAction((400.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Udea',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________112),0.00)
return
else
endif
endif
endfunction
function InitTrig_boss takes nothing returns nothing
set gg_trg_boss=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_boss,function Trig_boss_Actions)
endfunction
function Trig_bossdaoju_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uvng'))then
return false
endif
return true
endfunction
function Trig_bossdaoju_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Nmag'))then
return false
endif
return true
endfunction
function Trig_bossdaoju_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Utic'))then
return false
endif
return true
endfunction
function Trig_bossdaoju_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uvar'))then
return false
endif
return true
endfunction
function Trig_bossdaoju_Actions takes nothing returns nothing
if((RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false))then
if(Trig_bossdaoju_Func001C())then
call TriggerSleepAction((500.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Uvng',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________167),bj_UNIT_FACING)
set udg_daojuboss[1]=GetLastCreatedUnit()
set udg_daojubosstest[1]=true
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_daojuboss[1],false)
return
else
endif
if(Trig_bossdaoju_Func002C())then
call TriggerSleepAction((500.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Nmag',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________166),bj_UNIT_FACING)
set udg_daojuboss[2]=GetLastCreatedUnit()
set udg_daojubosstest[2]=true
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_daojuboss[2],false)
return
else
endif
if(Trig_bossdaoju_Func003C())then
call TriggerSleepAction((500.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Utic',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________168),bj_UNIT_FACING)
set udg_daojuboss[3]=GetLastCreatedUnit()
set udg_daojubosstest[3]=true
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_daojuboss[3],false)
return
else
endif
if(Trig_bossdaoju_Func004C())then
call TriggerSleepAction((600.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Uvar',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________168),bj_UNIT_FACING)
set udg_daojuboss[4]=GetLastCreatedUnit()
set udg_daojubosstest[4]=true
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_daojuboss[4],false)
return
else
endif

if(GetUnitTypeId(GetDyingUnit())=='Rdem')then
call TriggerSleepAction((700.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Rdem',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________169),bj_UNIT_FACING)
set udg_emo01=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo01)

call TriggerSleepAction(1.00)
return
endif

if(GetUnitTypeId(GetDyingUnit())=='Bdem')then
call TriggerSleepAction((700.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Bdem',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________171),bj_UNIT_FACING)
set udg_emo02=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo02)

call TriggerSleepAction(1.00)
return
endif

if(GetUnitTypeId(GetDyingUnit())=='Bos7')then
call TriggerSleepAction((2000.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Bos7',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________221),bj_UNIT_FACING)

call TriggerSleepAction(1.00)
return
endif
if(GetUnitTypeId(GetDyingUnit())=='Bos8')then
call TriggerSleepAction((2000.00*udg_shuaxinsj))
//call CreateNUnitsAtLoc(1,'Bos8',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________222),bj_UNIT_FACING)
//set udg_rabbit=udg_rabbit+4
call TriggerSleepAction(1.00)
return
endif



endif
endfunction
function InitTrig_bossdaoju takes nothing returns nothing
set gg_trg_bossdaoju=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bossdaoju,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_bossdaoju,function Trig_bossdaoju_Actions)
endfunction
function Trig_boss_______u_Func002Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Nman'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func003Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uktl'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func004Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uanb'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func005Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func005C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Udth'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func006Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func006C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Ubal'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func007Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func007C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='Uwar'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func008Func001C takes nothing returns boolean
if(not(udg_zhuanshuyixue[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1))then
return false
endif
return true
endfunction
function Trig_boss_______u_Func008C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='ubdd'))then
return false
endif
return true
endfunction
function Trig_boss_______u_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetTriggerUnit())
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then
if(Trig_boss_______u_Func002C())then
if(Trig_boss_______u_Func002Func001C())then
set udg_BOSSjifen=10
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
endif
call CreateItemLoc('I04C',udg_point)
call TriggerSleepAction((100.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Nman',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________033),160.00)
set udg_yihao=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_yihao,false)
return
else
endif
endif
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then
if(Trig_boss_______u_Func003C())then
if(Trig_boss_______u_Func003Func001C())then
set udg_BOSSjifen=20
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/10*10==2)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/20)+"|R点积分。"))))))
endif
endif
call CreateItemLoc('I04D',udg_point)
call TriggerSleepAction((100.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Uktl',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________037),90.00)
set udg_yihao2=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_yihao2,false)
return
else
endif
endif
if(RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false)then
if(Trig_boss_______u_Func004C())then
if(Trig_boss_______u_Func004Func001C())then
set udg_BOSSjifen=30
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/10*10==3)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/30)+"|R点积分。"))))))
endif
endif
call CreateItemLoc('I04G',udg_point)
call TriggerSleepAction((350.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Uanb',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________046),45.00)
set udg_yihao3=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_yihao3,false)
return
else
endif
endif
if(Trig_boss_______u_Func005C())then
if(Trig_boss_______u_Func005Func001C())then
set udg_BOSSjifen=40
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/10*10==4)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/40)+"|R点积分。"))))))
endif
else
endif
call CreateItemLoc('I04F',udg_point)
call TriggerSleepAction((350.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Udth',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________047),145.00)
set udg_yihao4=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_yihao4,false)
return
else
endif
if(Trig_boss_______u_Func006C())then
if(Trig_boss_______u_Func006Func001C())then
set udg_BOSSjifen=50
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*2)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])-GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])/10*10==5)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在特定条件下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/50)+"|R点积分。"))))))
endif
else
endif
call CreateItemLoc('I04E',udg_point)
call TriggerSleepAction((400.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Ubal',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________051),90.00)
set udg_yihao5=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_yihao5,false)
return
else
endif
if(Trig_boss_______u_Func007C())then
if(Trig_boss_______u_Func007Func001C())then
set udg_BOSSjifen=60
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*4)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
if(udg_guoge[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==1)then
set udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=udg_score[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+5
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("在国歌状态下杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen/12)+"|R点积分。"))))))
endif
else
endif
call CreateItemLoc('I04H',udg_point)
call TriggerSleepAction((450.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Uwar',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________048),270.00)
set udg_yihao6=GetLastCreatedUnit()
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call TriggerSleepAction(1.00)
call SetUnitInvulnerable(udg_yihao6,false)
return
else
endif
if(Trig_boss_______u_Func008C())then
if(Trig_boss_______u_Func008Func001C())then
set udg_BOSSjifen=70
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+udg_BOSSjifen)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200/(udg_waves*udg_waves)*3)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
else
endif
//call CreateItemLoc('stel',udg_point)
call CreateItemLoc('IF00',udg_point)
call SetItemCharges(GetLastCreatedItem(),6+GetRandomInt(1,5))

call TriggerSleepAction((325.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'ubdd',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________105),270.00)
return
else
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_boss_______u takes nothing returns nothing
set gg_trg_boss_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_boss_______u,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_boss_______u,function Trig_boss_______u_Actions)
endfunction
function Trig_diejia_Conditions takes nothing returns boolean
if(not(GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT))then
return false
endif
return true
endfunction
function Trig_diejia_Func001Func001C takes nothing returns boolean
if(not(GetManipulatedItem()!=UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex)))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())==GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))))then
return false
endif
return true
endfunction
function Trig_diejia_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_diejia_Func001Func001C())then
call SetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex),(GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex))+GetItemCharges(GetManipulatedItem())))
call RemoveItem(GetManipulatedItem())
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_diejia takes nothing returns nothing
set gg_trg_diejia=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_diejia,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_diejia,Condition(function Trig_diejia_Conditions))
call TriggerAddAction(gg_trg_diejia,function Trig_diejia_Actions)
endfunction
function Trig_weiyixing_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03C'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='mlst'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='esaz'))then
return true
endif
return false
endfunction
function Trig_weiyixing_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_weiyixing_Func005C())then
return false
endif
return true
endfunction
function Trig_weiyixing_Func002Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),udg_GJWPZ))==GetItemTypeId(GetManipulatedItem())))then
return false
endif
return true
endfunction
function Trig_weiyixing_Func003C takes nothing returns boolean
if(not(udg_GJWP>1))then
return false
endif
return true
endfunction
function Trig_weiyixing_Actions takes nothing returns nothing
set udg_GJWP=0
set udg_GJWPZ=1
loop
exitwhen udg_GJWPZ>6
if(Trig_weiyixing_Func002Func001C())then
set udg_GJWP=(udg_GJWP+1)
else
endif
set udg_GJWPZ=udg_GJWPZ+1
endloop
if(Trig_weiyixing_Func003C())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cffff0000此物品不能带2件|r")
else
endif
endfunction
function InitTrig_weiyixing takes nothing returns nothing
set gg_trg_weiyixing=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_weiyixing,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_weiyixing,Condition(function Trig_weiyixing_Conditions))
call TriggerAddAction(gg_trg_weiyixing,function Trig_weiyixing_Actions)
endfunction
function Trig_hongyan_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
return false
endfunction
function Trig_hongyan_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_hongyan_Func005C())then
return false
endif
return true
endfunction
function Trig_hongyan_Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),udg_hongyan))=='I00P'))then
return true
endif
if((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),udg_hongyan))=='I041'))then
return true
endif
if((GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),udg_hongyan))=='I042'))then
return true
endif
return false
endfunction
function Trig_hongyan_Func002Func001C takes nothing returns boolean
if(not Trig_hongyan_Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_hongyan_Func003C takes nothing returns boolean
if(not(udg_hongyan1>1))then
return false
endif
return true
endfunction
function Trig_hongyan_Actions takes nothing returns nothing
set udg_hongyan1=0
set udg_hongyan=1
loop
exitwhen udg_hongyan>6
if(Trig_hongyan_Func002Func001C())then
set udg_hongyan1=(udg_hongyan1+1)
else
endif
set udg_hongyan=udg_hongyan+1
endloop
if(Trig_hongyan_Func003C())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cffff0000此物品不能带2件|r")
else
endif
endfunction
function InitTrig_hongyan takes nothing returns nothing
set gg_trg_hongyan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_hongyan,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_hongyan,Condition(function Trig_hongyan_Conditions))
call TriggerAddAction(gg_trg_hongyan,function Trig_hongyan_Actions)
endfunction
function Trig_dingyi_Actions takes nothing returns nothing
set udg_Item[1]='I02O'
set udg_Item[2]='I02N'
set udg_Item[3]='I02Q'
set udg_Item[4]='I02P'
set udg_Item[5]='I02S'
set udg_Item[6]='I02U'
set udg_Item[7]='I02T'
set udg_Item[8]='I02R'
set udg_Item[9]='I006'
set udg_Item[10]='I02Z'
set udg_Item[11]='I008'
set udg_Item[12]='I00Q'
set udg_Item[13]='I00Q'
set udg_Item[14]='I031'
set udg_Item[15]='I007'
set udg_Item[16]='I030'
set udg_Item[17]='I025'
set udg_Item[18]='I025'
set udg_Item[19]='I03N'
set udg_Item[20]='I03L'
set udg_Item[21]='I03M'
set udg_Item[22]='I026'
set udg_Item[25]='I02W'
set udg_Item[26]='I03A'
set udg_Item[27]='I03B'
set udg_Item[28]='I03D'
set udg_Item[29]='I03E'
set udg_Item[30]='I03F'
set udg_Item[31]='I03H'
set udg_Item[32]='I03I'
set udg_Item[33]='I03J'
set udg_Item[34]='I00M'
set udg_Item[35]='I00M'
set udg_Item[36]='I00M'
set udg_Item[40]='I01X'
set udg_Item[41]='I03Z'
set udg_Item[42]='I03V'
set udg_Item[43]='I023'
set udg_Item[44]='I05K'
set udg_Item[45]='I03X'
set udg_Item[46]='I03Y'
set udg_Item[47]='I03Z'
set udg_Item[48]='I05L'
set udg_Item[50]='I04L'
set udg_Item[51]='I04K'
set udg_Item[52]='I04M'
set udg_Item[53]='I04P'
set udg_Item[54]='I04N'
set udg_Item[55]='I04O'
set udg_Item[56]='I04S'
set udg_Item[57]='I04R'
set udg_Item[58]='I04Q'
set udg_Item[59]='I04U'
set udg_Item[60]='I04T'
set udg_Item[61]='I04V'
set udg_Item[70]='I05D'
set udg_Item[71]='I05G'
set udg_Item[72]='I05F'
set udg_Item[73]='I05H'
set udg_Item[74]='I05E'
set udg_Item[75]='I05C'
set udg_Item[76]='I00P'
set udg_Item[77]='I066'
set udg_Item[78]='I064'
set udg_Item[79]='I065'
set udg_Item[80]='I067'
set udg_Item[81]='I00M'
set udg_Item[90]='I03U'
set udg_Item[91]='I05I'
set udg_Item[92]='mlst'
set udg_Item[93]='I03C'
set udg_Item[94]='I03G'
set udg_Item[95]='I03K'
set udg_Item[96]='fgun'
set udg_Item[97]='spre'
set udg_Item[100]='I05B'
set udg_Item[101]='I058'
set udg_Item[102]='I059'
set udg_Item[103]='I05A'
set udg_Item[104]='I01Y'
set udg_Item[105]='I01Z'
set udg_Item[106]='I022'
set udg_Item[107]='I021'
set udg_Item[108]='I03S'
set udg_Item[109]='I03T'
set udg_Item[110]='I046'
set udg_Item[111]='I045'
set udg_Item[112]='I06N'
set udg_Item[113]='I06O'
set udg_Item[114]='I06R'
set udg_Item[115]='I06S'
set udg_Item[116]='I06P'
set udg_Item[117]='I06Q'
set udg_Item[118]='I04W'
set udg_Item[119]='I06M'
set udg_Item[120]='I060'
set udg_Item[121]='I062'
set udg_Item[122]='I05R'
set udg_Item[123]='I05S'
set udg_Item[124]='I063'
set udg_Item[125]='I05Q'
set udg_Item[126]='I061'
set udg_Item[127]='I05X'
set udg_Item[128]='I05V'
set udg_Item[129]='I05Y'
set udg_Item[130]='I05Z'
set udg_Item[131]='I05T'
set udg_Item[132]='sfog'
set udg_Item[133]='flag'
set udg_Item[134]='spre'
set udg_Item[135]='fgun'
set udg_Item[136]='axas'
set udg_Item[140]='bspd'
set udg_Item[141]='ankh'
set udg_Item[142]='gcel'
set udg_Item[143]='rhth'
set udg_Item[144]='ssil'
set udg_Item[145]='prvt'
set udg_Item[146]='shtm'
set udg_Item[147]='brac'
set udg_Item[148]='I04J'
set udg_Item[149]='I034'
set udg_Item[170]='I06G'
set udg_Item[171]='I06H'
set udg_Item[172]='I06I'
set udg_Item[173]='I06J'
set udg_Item[174]='esaz'
set udg_Item[180]='fwss'
set udg_Item[181]='oslo'
set udg_Item[182]='blba'
set udg_Item[183]='I992'
set udg_Item[184]='I990'
set udg_Item[185]='I991'
set udg_Item[186]='I99U'
set udg_Item[187]='I992'
set udg_Item[188]='I995'
set udg_Item[190]='I99E'
set udg_Item[200]='schl'
set udg_Item[201]='tmmt'
set udg_Item[202]='rej6'
set udg_Item[203]='asbl'
set udg_Item[204]='gldo'
set udg_Item[205]='tels'
set udg_Item[206]='rej4'
set udg_Item[207]='gobm'
set udg_Item[208]='IYYY'
set udg_Item[209]='IDDD'
set udg_Item[301]='I05I'
set udg_Item[302]='I02X'
set udg_Item[303]='I040'
set udg_Item[304]='I99M'
set udg_Item[305]='I99F'
set udg_Item[320]='I01Q'
set udg_Item[321]='I04C'
set udg_Item[322]='I04D'
set udg_Item[323]='I04G'
set udg_Item[324]='I01V'
set udg_Item[340]='I00Q'
set udg_Item[341]='I006'
set udg_Item[342]='I02Z'
set udg_Item[343]='I008'
set udg_Item[344]='I02W'
set udg_Item[360]='I031'
set udg_Item[361]='I007'
set udg_Item[362]='I030'
set udg_Item[363]='I025'
set udg_Item[364]='I05B'
set udg_Item[365]='I058'
set udg_Item[366]='I059'
set udg_Item[367]='I05A'
set udg_Item[368]='I02Y'
set udg_Item[369]='stel'
set udg_Item[380]='I05D'
set udg_Item[381]='I05G'
set udg_Item[382]='I05F'
set udg_Item[383]='I05H'
set udg_Item[384]='I05E'
set udg_Item[385]='I05C'
set udg_Item[386]='I00P'
set udg_Item[387]='I066'
set udg_Item[388]='I064'
set udg_Item[389]='I065'
set udg_Item[390]='I067'
set udg_Item[391]='I00M'
set udg_Item[401]='I05I'
set udg_Item[402]='I02X'
set udg_Item[403]='I040'
set udg_Item[404]='I99M'
set udg_Item[405]='I99F'
set udg_Item[406]='I043'
set udg_Item[407]='I044'
set udg_Item[411]='MED1'
set udg_Item[412]='MED2'
set udg_Item[413]='MED3'

set udg_Item[416]='I01Y'
set udg_Item[417]='I022'
set udg_Item[418]='I03T'
set udg_Item[419]='I046'
set udg_Item[420]='LVUP'

set udg_Item[431]='SEV1'
set udg_Item[432]='SEV2'
set udg_Item[433]='SEV3'
set udg_Item[434]='SEV4'
set udg_Item[435]='SEV5'
set udg_Item[436]='SEV6'
set udg_Item[437]='SEV7'
set udg_Item[438]='SEVE'

set udg_Item[441]='SEV2'
set udg_Item[442]='SEV4'
set udg_Item[443]='SEV5'

set udg_Item[451]='SV12'
set udg_Item[452]='SV34'
set udg_Item[453]='SV56'

set udg_Item[461]='I003'
set udg_Item[462]='I003'
set udg_Item[463]='I003'
set udg_Item[464]='I003'
set udg_Item[465]='I01R'
set udg_Item[466]='I01R'
set udg_Item[467]='I01R'
set udg_Item[468]='I01R'
set udg_Item[469]='stel'

set udg_Item[471]='UFO1'
set udg_Item[472]='UFO2'
set udg_Item[473]='UFO3'
set udg_Item[474]='UFO4'
set udg_Item[475]='UFO5'

set udg_Item[480]='I98B'
set udg_Item[481]='I98G'

set udg_Item[501]='IX01'
set udg_Item[502]='IX02'
set udg_Item[503]='IX03'
set udg_Item[504]='IX04'
set udg_Item[511]='IJ01'
set udg_Item[512]='IJ02'
set udg_Item[513]='IJ03'
set udg_Item[514]='IJ04'
set udg_Item[521]='IP01'
set udg_Item[522]='IP02'
set udg_Item[523]='IP03'
set udg_Item[524]='IP04'
set udg_Item[531]='IL01'
set udg_Item[532]='IL02'
set udg_Item[533]='IL03'
set udg_Item[534]='IL04'
set udg_Item[541]='IF00'
set udg_Item[542]='IF01'
set udg_Item[543]='IFUU'

set udg_Item[551]='V001'
set udg_Item[552]='V002'
set udg_Item[553]='V003'
set udg_Item[554]='V004'
set udg_Item[555]='V0U0'
set udg_Item[556]='V0U1'
set udg_Item[557]='V0U2'

set udg_Item[561]='SP01'
set udg_Item[562]='SP02'
set udg_Item[563]='I064'
set udg_Item[564]='I065'
set udg_Item[565]='IF01'
set udg_Item[566]='SS00'
set udg_Item[567]='SS00'
set udg_Item[568]='I05H'
set udg_Item[569]='I066'
set udg_Item[570]='I067'
set udg_Item[571]='SS00'
set udg_Item[572]='MF00'
set udg_Item[573]='ELF0'
set udg_Item[574]='SP03'

set udg_Item[580]='REDS'
set udg_Item[581]='GRES'
set udg_Item[582]='BLUS'




endfunction
function InitTrig_dingyi takes nothing returns nothing
set gg_trg_dingyi=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_dingyi,1.00)
call TriggerAddAction(gg_trg_dingyi,function Trig_dingyi_Actions)
endfunction
function Trig_fenlei_Func005C takes nothing returns boolean
if((GetItemType(GetManipulatedItem())==ITEM_TYPE_CAMPAIGN))then
return true
endif
if((GetItemType(GetManipulatedItem())==ITEM_TYPE_PURCHASABLE))then
return true
endif
if((GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT))then
return true
endif
if((GetItemType(GetManipulatedItem())==ITEM_TYPE_CHARGED))then
return true
endif
if((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP))then
return true
endif
return false
endfunction
function Trig_fenlei_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_fenlei_Func005C())then
return false
endif
return true
endfunction
function Trig_fenlei_Func002Func001C takes nothing returns boolean
if(not(GetItemType(UnitItemInSlotBJ(GetTriggerUnit(),udg_chibanglei))==GetItemType(GetManipulatedItem())))then
return false
endif
return true
endfunction
function Trig_fenlei_Func003C takes nothing returns boolean
if(not(udg_chi>1))then
return false
endif
return true
endfunction
function Trig_fenlei_Actions takes nothing returns nothing
set udg_chi=0
set udg_chibanglei=1
loop
exitwhen udg_chibanglei>6
if(Trig_fenlei_Func002Func001C())then
set udg_chi=(udg_chi+1)
else
endif
set udg_chibanglei=udg_chibanglei+1
endloop
if(Trig_fenlei_Func003C())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cffff0000此类物品不能带2件|r")
else
endif
endfunction
function InitTrig_fenlei takes nothing returns nothing
set gg_trg_fenlei=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fenlei,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_fenlei,Condition(function Trig_fenlei_Conditions))
call TriggerAddAction(gg_trg_fenlei,function Trig_fenlei_Actions)
endfunction
function Trig_txxishu5_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
return false
endfunction
function Trig_txxishu5_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu5_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu5_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
endfunction
function InitTrig_txxishu5 takes nothing returns nothing
set gg_trg_txxishu5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu5,Condition(function Trig_txxishu5_Conditions))
call TriggerAddAction(gg_trg_txxishu5,function Trig_txxishu5_Actions)
endfunction
function Trig_txxishu10_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_txxishu10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu10_Func005C())then
return false
endif
return true
endfunction
function Trig_txxishu10_Actions takes nothing returns nothing
set udg_playerhdx=GetTriggerUnit()
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_playerhdx))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_playerhdx))]+10)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20)
set udg_playerhdx=null
endfunction
function InitTrig_txxishu10 takes nothing returns nothing
set gg_trg_txxishu10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu10,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu10,Condition(function Trig_txxishu10_Conditions))
call TriggerAddAction(gg_trg_txxishu10,function Trig_txxishu10_Actions)
endfunction
function Trig_txxishu20_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_txxishu20_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu20_Func005C())then
return false
endif
return true
endfunction
function Trig_txxishu20_Actions takes nothing returns nothing
set udg_playerhdx=GetTriggerUnit()
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_playerhdx))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_playerhdx))]+20)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40)
set udg_playerhdx=null
endfunction
function InitTrig_txxishu20 takes nothing returns nothing
set gg_trg_txxishu20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu20,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu20,Condition(function Trig_txxishu20_Conditions))
call TriggerAddAction(gg_trg_txxishu20,function Trig_txxishu20_Actions)
endfunction
function Trig_txxishu25_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Z'))then
return true
endif
return false
endfunction
function Trig_txxishu25_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu25_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu25_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)
endfunction
function InitTrig_txxishu25 takes nothing returns nothing
set gg_trg_txxishu25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu25,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu25,Condition(function Trig_txxishu25_Conditions))
call TriggerAddAction(gg_trg_txxishu25,function Trig_txxishu25_Actions)
endfunction
function Trig_txxishu30_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_txxishu30_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu30_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu30_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+30)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+60)
endfunction
function InitTrig_txxishu30 takes nothing returns nothing
set gg_trg_txxishu30=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu30,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu30,Condition(function Trig_txxishu30_Conditions))
call TriggerAddAction(gg_trg_txxishu30,function Trig_txxishu30_Actions)
endfunction
function Trig_txxishu35_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_txxishu35_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu35_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu35_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+35)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70)
endfunction
function InitTrig_txxishu35 takes nothing returns nothing
set gg_trg_txxishu35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu35,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu35,Condition(function Trig_txxishu35_Conditions))
call TriggerAddAction(gg_trg_txxishu35,function Trig_txxishu35_Actions)
endfunction
function Trig_txxishu40_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I030'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_txxishu40_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu40_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu40_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+80)
endfunction
function InitTrig_txxishu40 takes nothing returns nothing
set gg_trg_txxishu40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu40,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu40,Condition(function Trig_txxishu40_Conditions))
call TriggerAddAction(gg_trg_txxishu40,function Trig_txxishu40_Actions)
endfunction
function Trig_txxishu60_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03L'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_txxishu60_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu60_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu60_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+60)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+120)
endfunction
function InitTrig_txxishu60 takes nothing returns nothing
set gg_trg_txxishu60=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu60,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu60,Condition(function Trig_txxishu60_Conditions))
call TriggerAddAction(gg_trg_txxishu60,function Trig_txxishu60_Actions)
endfunction
function Trig_txxishu70_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03S'))then
return true
endif
return false
endfunction
function Trig_txxishu70_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu70_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu70_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+140)
endfunction
function InitTrig_txxishu70 takes nothing returns nothing
set gg_trg_txxishu70=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu70,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu70,Condition(function Trig_txxishu70_Conditions))
call TriggerAddAction(gg_trg_txxishu70,function Trig_txxishu70_Actions)
endfunction
function Trig_txxishu90_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
return false
endfunction
function Trig_txxishu90_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu90_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu90_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+90)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+180)
endfunction
function InitTrig_txxishu90 takes nothing returns nothing
set gg_trg_txxishu90=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu90,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu90,Condition(function Trig_txxishu90_Conditions))
call TriggerAddAction(gg_trg_txxishu90,function Trig_txxishu90_Actions)
endfunction
function Trig_txxishu100_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif

if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
return false
endfunction
function Trig_txxishu100_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_txxishu100_Func003C())then
return false
endif
return true
endfunction
function Trig_txxishu100_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+200)
endfunction
function InitTrig_txxishu100 takes nothing returns nothing
set gg_trg_txxishu100=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_txxishu100,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_txxishu100,Condition(function Trig_txxishu100_Conditions))
call TriggerAddAction(gg_trg_txxishu100,function Trig_txxishu100_Actions)
endfunction
function Trig_losetxxishu5_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
return false
endfunction
function Trig_losetxxishu5_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu5_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu5_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
endfunction
function InitTrig_losetxxishu5 takes nothing returns nothing
set gg_trg_losetxxishu5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu5,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu5,Condition(function Trig_losetxxishu5_Conditions))
call TriggerAddAction(gg_trg_losetxxishu5,function Trig_losetxxishu5_Actions)
endfunction
function Trig_losetxxishu10_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_losetxxishu10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu10_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu10_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-20)
endfunction
function InitTrig_losetxxishu10 takes nothing returns nothing
set gg_trg_losetxxishu10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu10,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu10,Condition(function Trig_losetxxishu10_Conditions))
call TriggerAddAction(gg_trg_losetxxishu10,function Trig_losetxxishu10_Actions)
endfunction
function Trig_losetxxishu20_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_losetxxishu20_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu20_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu20_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-20)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-40)
endfunction
function InitTrig_losetxxishu20 takes nothing returns nothing
set gg_trg_losetxxishu20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu20,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu20,Condition(function Trig_losetxxishu20_Conditions))
call TriggerAddAction(gg_trg_losetxxishu20,function Trig_losetxxishu20_Actions)
endfunction
function Trig_losetxxishu25_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Z'))then
return true
endif
return false
endfunction
function Trig_losetxxishu25_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu25_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu25_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)
endfunction
function InitTrig_losetxxishu25 takes nothing returns nothing
set gg_trg_losetxxishu25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu25,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu25,Condition(function Trig_losetxxishu25_Conditions))
call TriggerAddAction(gg_trg_losetxxishu25,function Trig_losetxxishu25_Actions)
endfunction
function Trig_losetxxishu30_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_losetxxishu30_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu30_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu30_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-30)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-60)
endfunction
function InitTrig_losetxxishu30 takes nothing returns nothing
set gg_trg_losetxxishu30=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu30,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu30,Condition(function Trig_losetxxishu30_Conditions))
call TriggerAddAction(gg_trg_losetxxishu30,function Trig_losetxxishu30_Actions)
endfunction
function Trig_losetxxishu35_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_losetxxishu35_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu35_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu35_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-35)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-70)
endfunction
function InitTrig_losetxxishu35 takes nothing returns nothing
set gg_trg_losetxxishu35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu35,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu35,Condition(function Trig_losetxxishu35_Conditions))
call TriggerAddAction(gg_trg_losetxxishu35,function Trig_losetxxishu35_Actions)
endfunction
function Trig_losetxsishu40_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I030'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_losetxsishu40_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxsishu40_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxsishu40_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-40)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-80)
endfunction
function InitTrig_losetxsishu40 takes nothing returns nothing
set gg_trg_losetxsishu40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxsishu40,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxsishu40,Condition(function Trig_losetxsishu40_Conditions))
call TriggerAddAction(gg_trg_losetxsishu40,function Trig_losetxsishu40_Actions)
endfunction
function Trig_losetxxishu60_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03L'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_losetxxishu60_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu60_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu60_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-60)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-120)
endfunction
function InitTrig_losetxxishu60 takes nothing returns nothing
set gg_trg_losetxxishu60=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu60,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu60,Condition(function Trig_losetxxishu60_Conditions))
call TriggerAddAction(gg_trg_losetxxishu60,function Trig_losetxxishu60_Actions)
endfunction
function Trig_losetxxishu70_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
return false
endfunction
function Trig_losetxxishu70_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu70_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu70_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-70)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-140)
endfunction
function InitTrig_losetxxishu70 takes nothing returns nothing
set gg_trg_losetxxishu70=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu70,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu70,Condition(function Trig_losetxxishu70_Conditions))
call TriggerAddAction(gg_trg_losetxxishu70,function Trig_losetxxishu70_Actions)
endfunction
function Trig_losetxxishu90_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
return false
endfunction
function Trig_losetxxishu90_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu90_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu90_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-90)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-180)
endfunction
function InitTrig_losetxxishu90 takes nothing returns nothing
set gg_trg_losetxxishu90=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu90,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu90,Condition(function Trig_losetxxishu90_Conditions))
call TriggerAddAction(gg_trg_losetxxishu90,function Trig_losetxxishu90_Actions)
endfunction
function Trig_losetxxishu100_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif

if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
return false
endfunction
function Trig_losetxxishu100_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losetxxishu100_Func003C())then
return false
endif
return true
endfunction
function Trig_losetxxishu100_Actions takes nothing returns nothing
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-100)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-200)
endfunction
function InitTrig_losetxxishu100 takes nothing returns nothing
set gg_trg_losetxxishu100=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losetxxishu100,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losetxxishu100,Condition(function Trig_losetxxishu100_Conditions))
call TriggerAddAction(gg_trg_losetxxishu100,function Trig_losetxxishu100_Actions)
endfunction
function Trig_jianxishu5_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
return false
endfunction
function Trig_jianxishu5_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu5_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu5_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+5)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu5 takes nothing returns nothing
set gg_trg_jianxishu5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu5,Condition(function Trig_jianxishu5_Conditions))
call TriggerAddAction(gg_trg_jianxishu5,function Trig_jianxishu5_Actions)
endfunction
function Trig_jianxishu10_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_jianxishu10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu10_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu10_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+10)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu10 takes nothing returns nothing
set gg_trg_jianxishu10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu10,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu10,Condition(function Trig_jianxishu10_Conditions))
call TriggerAddAction(gg_trg_jianxishu10,function Trig_jianxishu10_Actions)
endfunction
function Trig_jianxishu20_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_jianxishu20_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu20_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu20_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+20)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu20 takes nothing returns nothing
set gg_trg_jianxishu20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu20,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu20,Condition(function Trig_jianxishu20_Conditions))
call TriggerAddAction(gg_trg_jianxishu20,function Trig_jianxishu20_Actions)
endfunction
function Trig_jianxishu25_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I008'))then
return true
endif
return false
endfunction
function Trig_jianxishu25_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu25_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu25_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+25)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu25 takes nothing returns nothing
set gg_trg_jianxishu25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu25,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu25,Condition(function Trig_jianxishu25_Conditions))
call TriggerAddAction(gg_trg_jianxishu25,function Trig_jianxishu25_Actions)
endfunction
function Trig_jianxishu30_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_jianxishu30_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu30_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu30_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+30)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+60)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu30 takes nothing returns nothing
set gg_trg_jianxishu30=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu30,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu30,Condition(function Trig_jianxishu30_Conditions))
call TriggerAddAction(gg_trg_jianxishu30,function Trig_jianxishu30_Actions)
endfunction
function Trig_jianxishu35_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_jianxishu35_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu35_Func003C())then
return false
endif
return true
endfunction
function Trig_jianxishu35_Actions takes nothing returns nothing
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+35)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70)
endfunction
function InitTrig_jianxishu35 takes nothing returns nothing
set gg_trg_jianxishu35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu35,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu35,Condition(function Trig_jianxishu35_Conditions))
call TriggerAddAction(gg_trg_jianxishu35,function Trig_jianxishu35_Actions)
endfunction
function Trig_jianxishu40_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I007'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_jianxishu40_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu40_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu40_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+40)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+80)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu40 takes nothing returns nothing
set gg_trg_jianxishu40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu40,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu40,Condition(function Trig_jianxishu40_Conditions))
call TriggerAddAction(gg_trg_jianxishu40,function Trig_jianxishu40_Actions)
endfunction
function Trig_jianxishu60_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_jianxishu60_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu60_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu60_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+60)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+120)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu60 takes nothing returns nothing
set gg_trg_jianxishu60=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu60,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu60,Condition(function Trig_jianxishu60_Conditions))
call TriggerAddAction(gg_trg_jianxishu60,function Trig_jianxishu60_Actions)
endfunction
function Trig_jianxishu70_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Z'))then
return true
endif
return false
endfunction
function Trig_jianxishu70_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu70_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu70_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+70)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+140)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu70 takes nothing returns nothing
set gg_trg_jianxishu70=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu70,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu70,Condition(function Trig_jianxishu70_Conditions))
call TriggerAddAction(gg_trg_jianxishu70,function Trig_jianxishu70_Actions)
endfunction
function Trig_jianxishu90_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
return false
endfunction
function Trig_jianxishu90_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu90_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu90_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+90)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+180)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu90 takes nothing returns nothing
set gg_trg_jianxishu90=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu90,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu90,Condition(function Trig_jianxishu90_Conditions))
call TriggerAddAction(gg_trg_jianxishu90,function Trig_jianxishu90_Actions)
endfunction
function Trig_jianxishu100_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif

if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
return false
endfunction
function Trig_jianxishu100_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jianxishu100_Func005C())then
return false
endif
return true
endfunction
function Trig_jianxishu100_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]+100)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+200)
set udg_playerjianx=null
endfunction
function InitTrig_jianxishu100 takes nothing returns nothing
set gg_trg_jianxishu100=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu100,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu100,Condition(function Trig_jianxishu100_Conditions))
call TriggerAddAction(gg_trg_jianxishu100,function Trig_jianxishu100_Actions)
endfunction
function Trig_losejianxishu5_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
return false
endfunction
function Trig_losejianxishu5_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu5_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu5_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-5)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu5 takes nothing returns nothing
set gg_trg_losejianxishu5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu5,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu5,Condition(function Trig_losejianxishu5_Conditions))
call TriggerAddAction(gg_trg_losejianxishu5,function Trig_losejianxishu5_Actions)
endfunction
function Trig_losejianxishu10_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_losejianxishu10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu10_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu10_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-10)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-20)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu10 takes nothing returns nothing
set gg_trg_losejianxishu10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu10,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu10,Condition(function Trig_losejianxishu10_Conditions))
call TriggerAddAction(gg_trg_losejianxishu10,function Trig_losejianxishu10_Actions)
endfunction
function Trig_losejianxishu20_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_losejianxishu20_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu20_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu20_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-20)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-40)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu20 takes nothing returns nothing
set gg_trg_losejianxishu20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu20,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu20,Condition(function Trig_losejianxishu20_Conditions))
call TriggerAddAction(gg_trg_losejianxishu20,function Trig_losejianxishu20_Actions)
endfunction
function Trig_losejianxishu25_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I008'))then
return true
endif
return false
endfunction
function Trig_losejianxishu25_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu25_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu25_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-25)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu25 takes nothing returns nothing
set gg_trg_losejianxishu25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu25,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu25,Condition(function Trig_losejianxishu25_Conditions))
call TriggerAddAction(gg_trg_losejianxishu25,function Trig_losejianxishu25_Actions)
endfunction
function Trig_losejianxishu30_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_losejianxishu30_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu30_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu30_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-30)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-60)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu30 takes nothing returns nothing
set gg_trg_losejianxishu30=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu30,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu30,Condition(function Trig_losejianxishu30_Conditions))
call TriggerAddAction(gg_trg_losejianxishu30,function Trig_losejianxishu30_Actions)
endfunction
function Trig_losejianxishu35_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_losejianxishu35_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu35_Func003C())then
return false
endif
return true
endfunction
function Trig_losejianxishu35_Actions takes nothing returns nothing
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-35)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-70)
endfunction
function InitTrig_losejianxishu35 takes nothing returns nothing
set gg_trg_losejianxishu35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu35,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu35,Condition(function Trig_losejianxishu35_Conditions))
call TriggerAddAction(gg_trg_losejianxishu35,function Trig_losejianxishu35_Actions)
endfunction
function Trig_losejianxishu40_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I007'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_losejianxishu40_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu40_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu40_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-40)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-80)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu40 takes nothing returns nothing
set gg_trg_losejianxishu40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu40,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu40,Condition(function Trig_losejianxishu40_Conditions))
call TriggerAddAction(gg_trg_losejianxishu40,function Trig_losejianxishu40_Actions)
endfunction
function Trig_losejianxishu60_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_losejianxishu60_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu60_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu60_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-60)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-120)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu60 takes nothing returns nothing
set gg_trg_losejianxishu60=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu60,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu60,Condition(function Trig_losejianxishu60_Conditions))
call TriggerAddAction(gg_trg_losejianxishu60,function Trig_losejianxishu60_Actions)
endfunction
function Trig_losejianxishu70_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Z'))then
return true
endif
return false
endfunction
function Trig_losejianxishu70_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu70_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu70_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-70)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-140)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu70 takes nothing returns nothing
set gg_trg_losejianxishu70=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu70,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu70,Condition(function Trig_losejianxishu70_Conditions))
call TriggerAddAction(gg_trg_losejianxishu70,function Trig_losejianxishu70_Actions)
endfunction
function Trig_losejianxishu90_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
return false
endfunction
function Trig_losejianxishu90_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu90_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu90_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-90)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-180)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu90 takes nothing returns nothing
set gg_trg_losejianxishu90=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu90,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu90,Condition(function Trig_losejianxishu90_Conditions))
call TriggerAddAction(gg_trg_losejianxishu90,function Trig_losejianxishu90_Actions)
endfunction
function Trig_losejianxishu9100_Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif

if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
return false
endfunction
function Trig_losejianxishu9100_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejianxishu9100_Func005C())then
return false
endif
return true
endfunction
function Trig_losejianxishu9100_Actions takes nothing returns nothing
set udg_playerjianx=GetTriggerUnit()
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_playerjianx))]-100)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-200)
set udg_playerjianx=null
endfunction
function InitTrig_losejianxishu9100 takes nothing returns nothing
set gg_trg_losejianxishu9100=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejianxishu9100,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejianxishu9100,Condition(function Trig_losejianxishu9100_Conditions))
call TriggerAddAction(gg_trg_losejianxishu9100,function Trig_losejianxishu9100_Actions)
endfunction
function Trig_ydxishu5_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
return false
endfunction
function Trig_ydxishu5_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu5_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu5_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
endfunction
function InitTrig_ydxishu5 takes nothing returns nothing
set gg_trg_ydxishu5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu5,Condition(function Trig_ydxishu5_Conditions))
call TriggerAddAction(gg_trg_ydxishu5,function Trig_ydxishu5_Actions)
endfunction
function Trig_ydxishu10_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_ydxishu10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu10_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu10_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20)
endfunction
function InitTrig_ydxishu10 takes nothing returns nothing
set gg_trg_ydxishu10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu10,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu10,Condition(function Trig_ydxishu10_Conditions))
call TriggerAddAction(gg_trg_ydxishu10,function Trig_ydxishu10_Actions)
endfunction
function Trig_ydxishu20_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_ydxishu20_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu20_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu20_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40)
endfunction
function InitTrig_ydxishu20 takes nothing returns nothing
set gg_trg_ydxishu20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu20,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu20,Condition(function Trig_ydxishu20_Conditions))
call TriggerAddAction(gg_trg_ydxishu20,function Trig_ydxishu20_Actions)
endfunction
function Trig_ydxishu25_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I006'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
return false
endfunction
function Trig_ydxishu25_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu25_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu25_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)
endfunction
function InitTrig_ydxishu25 takes nothing returns nothing
set gg_trg_ydxishu25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu25,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu25,Condition(function Trig_ydxishu25_Conditions))
call TriggerAddAction(gg_trg_ydxishu25,function Trig_ydxishu25_Actions)
endfunction
function Trig_ydxishu30_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_ydxishu30_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu30_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu30_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+30)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+60)
endfunction
function InitTrig_ydxishu30 takes nothing returns nothing
set gg_trg_ydxishu30=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu30,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu30,Condition(function Trig_ydxishu30_Conditions))
call TriggerAddAction(gg_trg_ydxishu30,function Trig_ydxishu30_Actions)
endfunction
function Trig_ydxishu35_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_ydxishu35_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu35_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu35_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+35)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70)
endfunction
function InitTrig_ydxishu35 takes nothing returns nothing
set gg_trg_ydxishu35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu35,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu35,Condition(function Trig_ydxishu35_Conditions))
call TriggerAddAction(gg_trg_ydxishu35,function Trig_ydxishu35_Actions)
endfunction
function Trig_ydxishu40_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I031'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_ydxishu40_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu40_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu40_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+80)
endfunction
function InitTrig_ydxishu40 takes nothing returns nothing
set gg_trg_ydxishu40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu40,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu40,Condition(function Trig_ydxishu40_Conditions))
call TriggerAddAction(gg_trg_ydxishu40,function Trig_ydxishu40_Actions)
endfunction
function Trig_ydxishu60_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_ydxishu60_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu60_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu60_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+60)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+120)
endfunction
function InitTrig_ydxishu60 takes nothing returns nothing
set gg_trg_ydxishu60=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu60,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu60,Condition(function Trig_ydxishu60_Conditions))
call TriggerAddAction(gg_trg_ydxishu60,function Trig_ydxishu60_Actions)
endfunction
function Trig_ydxishu70_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I021'))then
return true
endif
return false
endfunction
function Trig_ydxishu70_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu70_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu70_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+140)
endfunction
function InitTrig_ydxishu70 takes nothing returns nothing
set gg_trg_ydxishu70=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu70,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu70,Condition(function Trig_ydxishu70_Conditions))
call TriggerAddAction(gg_trg_ydxishu70,function Trig_ydxishu70_Actions)
endfunction
function Trig_ydxishu90_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
return false
endfunction
function Trig_ydxishu90_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu90_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu90_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+90)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+180)
endfunction
function InitTrig_ydxishu90 takes nothing returns nothing
set gg_trg_ydxishu90=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu90,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu90,Condition(function Trig_ydxishu90_Conditions))
call TriggerAddAction(gg_trg_ydxishu90,function Trig_ydxishu90_Actions)
endfunction
function Trig_ydxishu90_______u_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif

if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
return false
endfunction
function Trig_ydxishu90_______u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_ydxishu90_______u_Func003C())then
return false
endif
return true
endfunction
function Trig_ydxishu90_______u_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+200)
endfunction
function InitTrig_ydxishu90_______u takes nothing returns nothing
set gg_trg_ydxishu90_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ydxishu90_______u,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ydxishu90_______u,Condition(function Trig_ydxishu90_______u_Conditions))
call TriggerAddAction(gg_trg_ydxishu90_______u,function Trig_ydxishu90_______u_Actions)
endfunction
function Trig_loseydxishu5_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
return false
endfunction
function Trig_loseydxishu5_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu5_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu5_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
endfunction
function InitTrig_loseydxishu5 takes nothing returns nothing
set gg_trg_loseydxishu5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu5,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu5,Condition(function Trig_loseydxishu5_Conditions))
call TriggerAddAction(gg_trg_loseydxishu5,function Trig_loseydxishu5_Actions)
endfunction
function Trig_loseydxishu10_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_loseydxishu10_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu10_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu10_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-20)
endfunction
function InitTrig_loseydxishu10 takes nothing returns nothing
set gg_trg_loseydxishu10=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu10,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu10,Condition(function Trig_loseydxishu10_Conditions))
call TriggerAddAction(gg_trg_loseydxishu10,function Trig_loseydxishu10_Actions)
endfunction
function Trig_loseydxishu20_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_loseydxishu20_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu20_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu20_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-20)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-40)
endfunction
function InitTrig_loseydxishu20 takes nothing returns nothing
set gg_trg_loseydxishu20=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu20,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu20,Condition(function Trig_loseydxishu20_Conditions))
call TriggerAddAction(gg_trg_loseydxishu20,function Trig_loseydxishu20_Actions)
endfunction
function Trig_loseydxishu25_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I006'))then
return true
endif
return false
endfunction
function Trig_loseydxishu25_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu25_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu25_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)
endfunction
function InitTrig_loseydxishu25 takes nothing returns nothing
set gg_trg_loseydxishu25=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu25,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu25,Condition(function Trig_loseydxishu25_Conditions))
call TriggerAddAction(gg_trg_loseydxishu25,function Trig_loseydxishu25_Actions)
endfunction
function Trig_loseydxishu30_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_loseydxishu30_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu30_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu30_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-30)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-60)
endfunction
function InitTrig_loseydxishu30 takes nothing returns nothing
set gg_trg_loseydxishu30=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu30,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu30,Condition(function Trig_loseydxishu30_Conditions))
call TriggerAddAction(gg_trg_loseydxishu30,function Trig_loseydxishu30_Actions)
endfunction
function Trig_loseydxishu35_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_loseydxishu35_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu35_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu35_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-35)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-70)
endfunction
function InitTrig_loseydxishu35 takes nothing returns nothing
set gg_trg_loseydxishu35=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu35,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu35,Condition(function Trig_loseydxishu35_Conditions))
call TriggerAddAction(gg_trg_loseydxishu35,function Trig_loseydxishu35_Actions)
endfunction
function Trig_loseydxishu40_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I031'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_loseydxishu40_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu40_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu40_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-40)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-80)
endfunction
function InitTrig_loseydxishu40 takes nothing returns nothing
set gg_trg_loseydxishu40=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu40,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu40,Condition(function Trig_loseydxishu40_Conditions))
call TriggerAddAction(gg_trg_loseydxishu40,function Trig_loseydxishu40_Actions)
endfunction
function Trig_loseydxishu60_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_loseydxishu60_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu60_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu60_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-60)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-120)
endfunction
function InitTrig_loseydxishu60 takes nothing returns nothing
set gg_trg_loseydxishu60=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu60,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu60,Condition(function Trig_loseydxishu60_Conditions))
call TriggerAddAction(gg_trg_loseydxishu60,function Trig_loseydxishu60_Actions)
endfunction
function Trig_loseydxishu70_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I021'))then
return true
endif
return false
endfunction
function Trig_loseydxishu70_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu70_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu70_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-70)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-140)
endfunction
function InitTrig_loseydxishu70 takes nothing returns nothing
set gg_trg_loseydxishu70=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu70,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu70,Condition(function Trig_loseydxishu70_Conditions))
call TriggerAddAction(gg_trg_loseydxishu70,function Trig_loseydxishu70_Actions)
endfunction
function Trig_loseydxishu90_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
return false
endfunction
function Trig_loseydxishu90_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu90_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu90_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-90)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-180)
endfunction
function InitTrig_loseydxishu90 takes nothing returns nothing
set gg_trg_loseydxishu90=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu90,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu90,Condition(function Trig_loseydxishu90_Conditions))
call TriggerAddAction(gg_trg_loseydxishu90,function Trig_loseydxishu90_Actions)
endfunction
function Trig_loseydxishu90_______u_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif

if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
return false
endfunction
function Trig_loseydxishu90_______u_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_loseydxishu90_______u_Func003C())then
return false
endif
return true
endfunction
function Trig_loseydxishu90_______u_Actions takes nothing returns nothing
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-100)
set udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_bravery[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-200)
endfunction
function InitTrig_loseydxishu90_______u takes nothing returns nothing
set gg_trg_loseydxishu90_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseydxishu90_______u,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseydxishu90_______u,Condition(function Trig_loseydxishu90_______u_Conditions))
call TriggerAddAction(gg_trg_loseydxishu90_______u,function Trig_loseydxishu90_______u_Actions)
endfunction
function Trig_jinengdengji_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Z'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I021'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
return false
endfunction
function Trig_jinengdengji_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_jinengdengji_Func003C())then
return false
endif
return true
endfunction
function Trig_jinengdengji_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
endfunction
function InitTrig_jinengdengji takes nothing returns nothing
set gg_trg_jinengdengji=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jinengdengji,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jinengdengji,Condition(function Trig_jinengdengji_Conditions))
call TriggerAddAction(gg_trg_jinengdengji,function Trig_jinengdengji_Actions)
endfunction
function Trig_losejinengdengji_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Z'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I021'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
return false
return false
endfunction
function Trig_losejinengdengji_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_losejinengdengji_Func003C())then
return false
endif
return true
endfunction
function Trig_losejinengdengji_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
endfunction
function InitTrig_losejinengdengji takes nothing returns nothing
set gg_trg_losejinengdengji=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losejinengdengji,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losejinengdengji,Condition(function Trig_losejinengdengji_Conditions))
call TriggerAddAction(gg_trg_losejinengdengji,function Trig_losejinengdengji_Actions)
endfunction
function Trig_fadongjilv_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_fadongjilv_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='mlst'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='esaz'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV34'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V001'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V002'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V003'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V004'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SP01'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SP02'))then
return true
endif
return false
return false
endfunction
function Trig_fadongjilv_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_fadongjilv_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
return false
endfunction
function Trig_fadongjilv_Func001Func002Func003C takes nothing returns boolean
if(not Trig_fadongjilv_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_fadongjilv_Func001Func002C takes nothing returns boolean
if(not Trig_fadongjilv_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_fadongjilv_Func001C takes nothing returns boolean
if(not Trig_fadongjilv_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_fadongjilv_Actions takes nothing returns nothing
if(Trig_fadongjilv_Func001C())then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_fadongjilv_Func001Func002C())then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_fadongjilv_Func001Func002Func003C())then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
endif
endif
endif
endfunction
function InitTrig_fadongjilv takes nothing returns nothing
set gg_trg_fadongjilv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fadongjilv,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_fadongjilv,Condition(function Trig_fadongjilv_Conditions))
call TriggerAddAction(gg_trg_fadongjilv,function Trig_fadongjilv_Actions)
endfunction
function Trig_losefadong_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_losefadong_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I041'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='mlst'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='esaz'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV34'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V001'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V002'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V003'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='V004'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SP01'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SP02'))then
return true
endif
return false
endfunction
function Trig_losefadong_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
return false
endfunction
function Trig_losefadong_Func001Func002Func001C takes nothing returns boolean
if(not Trig_losefadong_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_losefadong_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_losefadong_Func001Func002C takes nothing returns boolean
if(not Trig_losefadong_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_losefadong_Func001C takes nothing returns boolean
if(not Trig_losefadong_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_losefadong_Actions takes nothing returns nothing
if(Trig_losefadong_Func001C())then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_losefadong_Func001Func002C())then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_losefadong_Func001Func002Func001C())then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
endif
endif
endif
endfunction
function InitTrig_losefadong takes nothing returns nothing
set gg_trg_losefadong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losefadong,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losefadong,Condition(function Trig_losefadong_Conditions))
call TriggerAddAction(gg_trg_losefadong,function Trig_losefadong_Actions)
endfunction
function Trig_yellow_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_yellow_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I008'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I007'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_yellow_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03N'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I01Z'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
return false
endfunction
function Trig_yellow_Func001Func002Func003C takes nothing returns boolean
if(not Trig_yellow_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_yellow_Func001Func002C takes nothing returns boolean
if(not Trig_yellow_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_yellow_Func001C takes nothing returns boolean
if(not Trig_yellow_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_yellow_Actions takes nothing returns nothing
if(Trig_yellow_Func001C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_yellow_Func001Func002C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_yellow_Func001Func002Func003C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
if(Trig_yellow_Func001Func004C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4)
else
if(Trig_yellow_Func001Func005C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
else
if(Trig_yellow_Func001Func006C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+6)
else
if(Trig_yellow_Func001Func007C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
else
if(Trig_yellow_Func001Func008C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8)
else
if(Trig_yellow_Func001Func009C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+9)
else
if(Trig_yellow_Func001Func010C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
else
if(Trig_yellow_Func001Func011C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+11)
else
if(Trig_yellow_Func001Func012C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_yellow takes nothing returns nothing
set gg_trg_yellow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yellow,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_yellow,Condition(function Trig_yellow_Conditions))
call TriggerAddAction(gg_trg_yellow,function Trig_yellow_Actions)
endfunction
function Trig_loseyellow_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_loseyellow_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I008'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I007'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func002Func001C takes nothing returns boolean
if(not Trig_loseyellow_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_loseyellow_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_loseyellow_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I058'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03N'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I01Z'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I01Y'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
return false
endfunction
function Trig_loseyellow_Func001Func002C takes nothing returns boolean
if(not Trig_loseyellow_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_loseyellow_Func001C takes nothing returns boolean
if(not Trig_loseyellow_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_loseyellow_Actions takes nothing returns nothing
if(Trig_loseyellow_Func001C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_loseyellow_Func001Func002C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_loseyellow_Func001Func002Func001C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
if(Trig_loseyellow_Func001Func004C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-4)
else
if(Trig_loseyellow_Func001Func005C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
else
if(Trig_loseyellow_Func001Func006C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
else
if(Trig_loseyellow_Func001Func007C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
else
if(Trig_loseyellow_Func001Func008C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
else
if(Trig_loseyellow_Func001Func009C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-9)
else
if(Trig_loseyellow_Func001Func010C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
if(Trig_loseyellow_Func001Func011C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-11)
else
if(Trig_loseyellow_Func001Func012C())then
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_loseyellow takes nothing returns nothing
set gg_trg_loseyellow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseyellow,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseyellow,Condition(function Trig_loseyellow_Conditions))
call TriggerAddAction(gg_trg_loseyellow,function Trig_loseyellow_Actions)
endfunction
function Trig_blue_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_blue_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I006'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I031'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_blue_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03M'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I021'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_blue_Func001Func002Func003C takes nothing returns boolean
if(not Trig_blue_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_blue_Func001Func002C takes nothing returns boolean
if(not Trig_blue_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_blue_Func001C takes nothing returns boolean
if(not Trig_blue_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_blue_Actions takes nothing returns nothing
if(Trig_blue_Func001C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_blue_Func001Func002C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_blue_Func001Func002Func003C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
if(Trig_blue_Func001Func004C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4)
else
if(Trig_blue_Func001Func005C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
else
if(Trig_blue_Func001Func006C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+6)
else
if(Trig_blue_Func001Func007C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
else
if(Trig_blue_Func001Func008C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8)
else
if(Trig_blue_Func001Func009C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+9)
else
if(Trig_blue_Func001Func010C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
else
if(Trig_blue_Func001Func011C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+11)
else
if(Trig_blue_Func001Func012C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_blue takes nothing returns nothing
set gg_trg_blue=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_blue,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_blue,Condition(function Trig_blue_Conditions))
call TriggerAddAction(gg_trg_blue,function Trig_blue_Actions)
endfunction
function Trig_loseblue_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_loseblue_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I006'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func002Func001C takes nothing returns boolean
if(not Trig_loseblue_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_loseblue_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I031'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_loseblue_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05A'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03M'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06H'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I021'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06P'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I022'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06Q'))then
return true
endif
return false
endfunction
function Trig_loseblue_Func001Func002C takes nothing returns boolean
if(not Trig_loseblue_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_loseblue_Func001C takes nothing returns boolean
if(not Trig_loseblue_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_loseblue_Actions takes nothing returns nothing
if(Trig_loseblue_Func001C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_loseblue_Func001Func002C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
if(Trig_loseblue_Func001Func002Func001C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_loseblue_Func001Func004C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-4)
else
if(Trig_loseblue_Func001Func005C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
else
if(Trig_loseblue_Func001Func006C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
else
if(Trig_loseblue_Func001Func007C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
else
if(Trig_loseblue_Func001Func008C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
else
if(Trig_loseblue_Func001Func009C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-9)
else
if(Trig_loseblue_Func001Func010C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
if(Trig_loseblue_Func001Func011C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-11)
else
if(Trig_loseblue_Func001Func012C())then
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_loseblue takes nothing returns nothing
set gg_trg_loseblue=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseblue,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseblue,Condition(function Trig_loseblue_Conditions))
call TriggerAddAction(gg_trg_loseblue,function Trig_loseblue_Actions)
endfunction
function Trig_red_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_red_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Z'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I030'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_red_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03L'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03S'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
return false
endfunction
function Trig_red_Func001Func002Func003C takes nothing returns boolean
if(not Trig_red_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_red_Func001Func002C takes nothing returns boolean
if(not Trig_red_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_red_Func001C takes nothing returns boolean
if(not Trig_red_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_red_Actions takes nothing returns nothing
if(Trig_red_Func001C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_red_Func001Func002C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_red_Func001Func002Func003C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
if(Trig_red_Func001Func004C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4)
else
if(Trig_red_Func001Func005C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
else
if(Trig_red_Func001Func006C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+6)
else
if(Trig_red_Func001Func007C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
else
if(Trig_red_Func001Func008C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8)
else
if(Trig_red_Func001Func009C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+9)
else
if(Trig_red_Func001Func010C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
else
if(Trig_red_Func001Func011C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+11)
else
if(Trig_red_Func001Func012C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_red takes nothing returns nothing
set gg_trg_red=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_red,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_red,Condition(function Trig_red_Conditions))
call TriggerAddAction(gg_trg_red,function Trig_red_Actions)
endfunction
function Trig_losered_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_losered_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Z'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I030'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func002Func001C takes nothing returns boolean
if(not Trig_losered_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_losered_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_losered_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I059'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03L'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06I'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03S'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06R'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03T'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06S'))then
return true
endif
return false
endfunction
function Trig_losered_Func001Func002C takes nothing returns boolean
if(not Trig_losered_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_losered_Func001C takes nothing returns boolean
if(not Trig_losered_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_losered_Actions takes nothing returns nothing
if(Trig_losered_Func001C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_losered_Func001Func002C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_losered_Func001Func002Func001C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
if(Trig_losered_Func001Func004C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-4)
else
if(Trig_losered_Func001Func005C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
else
if(Trig_losered_Func001Func006C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
else
if(Trig_losered_Func001Func007C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
else
if(Trig_losered_Func001Func008C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
else
if(Trig_losered_Func001Func009C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-9)
else
if(Trig_losered_Func001Func010C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
if(Trig_losered_Func001Func011C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-11)
else
if(Trig_losered_Func001Func012C())then
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_losered takes nothing returns nothing
set gg_trg_losered=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losered,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losered,Condition(function Trig_losered_Conditions))
call TriggerAddAction(gg_trg_losered,function Trig_losered_Actions)
endfunction
function Trig_green_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_green_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00Q'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I025'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func004C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05C'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05E'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04F'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05B'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04E'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I026'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I045'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04W'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I046'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I992'))then
return true
endif
return false
endfunction
function Trig_green_Func001Func002Func003C takes nothing returns boolean
if(not Trig_green_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_green_Func001Func002C takes nothing returns boolean
if(not Trig_green_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_green_Func001C takes nothing returns boolean
if(not Trig_green_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_green_Actions takes nothing returns nothing
if(Trig_green_Func001C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_green_Func001Func002C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_green_Func001Func002Func003C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
if(Trig_green_Func001Func004C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4)
else
if(Trig_green_Func001Func005C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
else
if(Trig_green_Func001Func006C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+6)
else
if(Trig_green_Func001Func007C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
else
if(Trig_green_Func001Func008C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8)
else
if(Trig_green_Func001Func009C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+9)
else
if(Trig_green_Func001Func010C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
else
if(Trig_green_Func001Func011C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+11)
else
if(Trig_green_Func001Func012C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_green takes nothing returns nothing
set gg_trg_green=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_green,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_green,Condition(function Trig_green_Conditions))
call TriggerAddAction(gg_trg_green,function Trig_green_Actions)
endfunction
function Trig_losegreen_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_losegreen_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I00Q'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I025'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func002Func001C takes nothing returns boolean
if(not Trig_losegreen_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_losegreen_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func004C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05C'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05E'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04F'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05B'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04E'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I043'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func007C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I026'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func008C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I045'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04W'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func011C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I046'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I99U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I992'))then
return true
endif
return false
endfunction
function Trig_losegreen_Func001Func002C takes nothing returns boolean
if(not Trig_losegreen_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_losegreen_Func001C takes nothing returns boolean
if(not Trig_losegreen_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_losegreen_Actions takes nothing returns nothing
if(Trig_losegreen_Func001C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_losegreen_Func001Func002C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_losegreen_Func001Func002Func001C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
if(Trig_losegreen_Func001Func004C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-4)
else
if(Trig_losegreen_Func001Func005C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
else
if(Trig_losegreen_Func001Func006C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
else
if(Trig_losegreen_Func001Func007C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
else
if(Trig_losegreen_Func001Func008C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
else
if(Trig_losegreen_Func001Func009C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-9)
else
if(Trig_losegreen_Func001Func010C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
if(Trig_losegreen_Func001Func011C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-11)
else
if(Trig_losegreen_Func001Func012C())then
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_losegreen takes nothing returns nothing
set gg_trg_losegreen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losegreen,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losegreen,Condition(function Trig_losegreen_Conditions))
call TriggerAddAction(gg_trg_losegreen,function Trig_losegreen_Actions)
endfunction
function Trig_black_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_black_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='mlst'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05C'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_black_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func007C takes nothing returns boolean
return false
endfunction
function Trig_black_Func001Func008C takes nothing returns boolean
return false
endfunction
function Trig_black_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func010C takes nothing returns boolean
return false
endfunction
function Trig_black_Func001Func011C takes nothing returns boolean
return false
endfunction
function Trig_black_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
return false
endfunction
function Trig_black_Func001Func002Func003C takes nothing returns boolean
if(not Trig_black_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_black_Func001Func002C takes nothing returns boolean
if(not Trig_black_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_black_Func001C takes nothing returns boolean
if(not Trig_black_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_black_Actions takes nothing returns nothing
if(Trig_black_Func001C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_black_Func001Func002C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_black_Func001Func002Func003C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
if(Trig_black_Func001Func004C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4)
else
if(Trig_black_Func001Func005C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
else
if(Trig_black_Func001Func006C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+6)
else
if(Trig_black_Func001Func007C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
else
if(Trig_black_Func001Func008C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8)
else
if(Trig_black_Func001Func009C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+9)
else
if(Trig_black_Func001Func010C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
else
if(Trig_black_Func001Func011C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+11)
else
if(Trig_black_Func001Func012C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_black takes nothing returns nothing
set gg_trg_black=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_black,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_black,Condition(function Trig_black_Conditions))
call TriggerAddAction(gg_trg_black,function Trig_black_Actions)
endfunction
function Trig_loseblack_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_loseblack_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I00P'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func002Func001C takes nothing returns boolean
if(not Trig_loseblack_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_loseblack_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='mlst'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05C'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func004C takes nothing returns boolean
return false
endfunction
function Trig_loseblack_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func007C takes nothing returns boolean
return false
endfunction
function Trig_loseblack_Func001Func008C takes nothing returns boolean
return false
endfunction
function Trig_loseblack_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func010C takes nothing returns boolean
return false
endfunction
function Trig_loseblack_Func001Func011C takes nothing returns boolean
return false
endfunction
function Trig_loseblack_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
return false
endfunction
function Trig_loseblack_Func001Func002C takes nothing returns boolean
if(not Trig_loseblack_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_loseblack_Func001C takes nothing returns boolean
if(not Trig_loseblack_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_loseblack_Actions takes nothing returns nothing
if(Trig_loseblack_Func001C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_loseblack_Func001Func002C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_loseblack_Func001Func002Func001C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
if(Trig_loseblack_Func001Func004C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-4)
else
if(Trig_loseblack_Func001Func005C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
else
if(Trig_loseblack_Func001Func006C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
else
if(Trig_loseblack_Func001Func007C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
else
if(Trig_loseblack_Func001Func008C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
else
if(Trig_loseblack_Func001Func009C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-9)
else
if(Trig_loseblack_Func001Func010C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
if(Trig_loseblack_Func001Func011C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-11)
else
if(Trig_loseblack_Func001Func012C())then
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_loseblack takes nothing returns nothing
set gg_trg_loseblack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_loseblack,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_loseblack,Condition(function Trig_loseblack_Conditions))
call TriggerAddAction(gg_trg_loseblack,function Trig_loseblack_Actions)
endfunction
function Trig_white_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_white_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func002Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func002Func003Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func004C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func007C takes nothing returns boolean
return false
endfunction
function Trig_white_Func001Func008C takes nothing returns boolean
return false
endfunction
function Trig_white_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func010C takes nothing returns boolean
return false
endfunction
function Trig_white_Func001Func011C takes nothing returns boolean
return false
endfunction
function Trig_white_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
return false
endfunction
function Trig_white_Func001Func002Func003C takes nothing returns boolean
if(not Trig_white_Func001Func002Func003Func002C())then
return false
endif
return true
endfunction
function Trig_white_Func001Func002C takes nothing returns boolean
if(not Trig_white_Func001Func002Func002C())then
return false
endif
return true
endfunction
function Trig_white_Func001C takes nothing returns boolean
if(not Trig_white_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_white_Actions takes nothing returns nothing
if(Trig_white_Func001C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
else
if(Trig_white_Func001Func002C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
else
if(Trig_white_Func001Func002Func003C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
else
if(Trig_white_Func001Func004C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+4)
else
if(Trig_white_Func001Func005C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5)
else
if(Trig_white_Func001Func006C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+6)
else
if(Trig_white_Func001Func007C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
else
if(Trig_white_Func001Func008C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+8)
else
if(Trig_white_Func001Func009C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+9)
else
if(Trig_white_Func001Func010C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
else
if(Trig_white_Func001Func011C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+11)
else
if(Trig_white_Func001Func012C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_white takes nothing returns nothing
set gg_trg_white=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_white,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_white,Condition(function Trig_white_Conditions))
call TriggerAddAction(gg_trg_white,function Trig_white_Actions)
endfunction
function Trig_losewhite_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_losewhite_Func001Func001C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05F'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func002Func001Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03G'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func002Func001C takes nothing returns boolean
if(not Trig_losewhite_Func001Func002Func001Func002C())then
return false
endif
return true
endfunction
function Trig_losewhite_Func001Func002Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I05G'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I044'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func004C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I05I'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func005C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func006C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I99M'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func007C takes nothing returns boolean
return false
endfunction
function Trig_losewhite_Func001Func008C takes nothing returns boolean
return false
endfunction
function Trig_losewhite_Func001Func009C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func010C takes nothing returns boolean
return false
endfunction
function Trig_losewhite_Func001Func011C takes nothing returns boolean
return false
endfunction
function Trig_losewhite_Func001Func012C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I040'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='spre'))then
return true
endif
return false
endfunction
function Trig_losewhite_Func001Func002C takes nothing returns boolean
if(not Trig_losewhite_Func001Func002Func003C())then
return false
endif
return true
endfunction
function Trig_losewhite_Func001C takes nothing returns boolean
if(not Trig_losewhite_Func001Func001C())then
return false
endif
return true
endfunction
function Trig_losewhite_Actions takes nothing returns nothing
if(Trig_losewhite_Func001C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
else
if(Trig_losewhite_Func001Func002C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
else
if(Trig_losewhite_Func001Func002Func001C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
else
if(Trig_losewhite_Func001Func004C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-4)
else
if(Trig_losewhite_Func001Func005C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
else
if(Trig_losewhite_Func001Func006C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
else
if(Trig_losewhite_Func001Func007C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
else
if(Trig_losewhite_Func001Func008C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
else
if(Trig_losewhite_Func001Func009C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-9)
else
if(Trig_losewhite_Func001Func010C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
else
if(Trig_losewhite_Func001Func011C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-11)
else
if(Trig_losewhite_Func001Func012C())then
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-12)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_losewhite takes nothing returns nothing
set gg_trg_losewhite=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_losewhite,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_losewhite,Condition(function Trig_losewhite_Conditions))
call TriggerAddAction(gg_trg_losewhite,function Trig_losewhite_Actions)
endfunction
function Trig_add1_Actions takes nothing returns nothing
if(GetPlayerName(GetTriggerPlayer())=="雪米")then
call UnitAddItemByIdSwapped('stel',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
endif
if(GetPlayerName(GetTriggerPlayer())=="交织い米")then
call UnitAddItemByIdSwapped('stel',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
endif
//if(SubStringBJ(GetPlayerName(GetTriggerPlayer()),8,10)=="雪")then
if(SubStringBJ(GetPlayerName(GetTriggerPlayer()),1,1)=="`")then
//call UnitAddItemByIdSwapped('stel',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
endif
//endif
endfunction
function InitTrig_add1 takes nothing returns nothing
set gg_trg_add1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(0),"シャミはバカ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(1),"シャミはバカ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(2),"シャミはバカ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(3),"シャミはバカ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(4),"シャミはバカ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(5),"シャミはバカ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add1,Player(6),"シャミはバカ",true)
call TriggerAddAction(gg_trg_add1,function Trig_add1_Actions)
endfunction
function Trig_add10_Actions takes nothing returns nothing

if((UnitHasItemOfTypeBJ(udg_bbtwo[GetConvertedPlayerId(GetTriggerPlayer())],'gcel')==true))then

if(GetPlayerName(GetTriggerPlayer())=="交织い米")then
call UnitAddItemByIdSwapped('spre',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_mscore[GetConvertedPlayerId(GetTriggerPlayer())]=udg_mscore[GetConvertedPlayerId(GetTriggerPlayer())]+1000000
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)+888888))
endif

if(GetPlayerName(GetTriggerPlayer())=="雪米")then
call UnitAddItemByIdSwapped('spre',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_mscore[GetConvertedPlayerId(GetTriggerPlayer())]=udg_mscore[GetConvertedPlayerId(GetTriggerPlayer())]+1000000
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)+888888))
endif

endif

endfunction
function InitTrig_add10 takes nothing returns nothing
set gg_trg_add10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_add10,Player(0),"シャミおいしい",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add10,Player(1),"シャミおいしい",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add10,Player(2),"シャミおいしい",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add10,Player(3),"シャミおいしい",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add10,Player(4),"シャミおいしい",true)
call TriggerRegisterPlayerChatEvent(gg_trg_add10,Player(5),"シャミおいしい",true)
call TriggerAddAction(gg_trg_add10,function Trig_add10_Actions)
endfunction
function Trig_minus1_Actions takes nothing returns nothing

if((UnitHasItemOfTypeBJ(udg_bbtwo[GetConvertedPlayerId(GetTriggerPlayer())],'gcel')==true))then

set udg_lunpan=1
loop
exitwhen udg_lunpan>922
call CreateItemLoc(udg_Item[udg_lunpan],GetRectCenter(gg_rct______________005))
set udg_lunpan=udg_lunpan+1
endloop
call SetHeroLevelBJ(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],(GetUnitLevel(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])+178),true)
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)+888888))

endif

endfunction
function InitTrig_minus1 takes nothing returns nothing
set gg_trg_minus1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_minus1,Player(0),"654321",true)
call TriggerAddAction(gg_trg_minus1,function Trig_minus1_Actions)
endfunction
function Trig_minus10_Actions takes nothing returns nothing

local integer i=0
set udg_ccc=1
loop
exitwhen(udg_ccc>=7)

set i=GetPlayerState(Player(udg_ccc-1),PLAYER_STATE_RESOURCE_GOLD)/10000+GetPlayerState(Player(udg_ccc-1),PLAYER_STATE_RESOURCE_LUMBER)

call DisplayTextToForce(GetPlayersAll(),"|cffffcc00玩家"+I2S(udg_ccc)+"技能等级为|c00ffcc00"+I2S(R2I(udg_jinengdengji[udg_ccc]))+"，死亡次数"+I2S(udg_siwangcishu[udg_ccc])+"金钱为|c00ffcc00"+I2S(i)+"|r")

set udg_ccc=udg_ccc+1
endloop

endfunction
function InitTrig_minus10 takes nothing returns nothing
set gg_trg_minus10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(0),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(1),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(2),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(3),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(4),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(5),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(7),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(8),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(9),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(10),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(11),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(12),"-v",true)
call TriggerRegisterPlayerChatEvent(gg_trg_minus10,Player(13),"-v",true)
call TriggerAddAction(gg_trg_minus10,function Trig_minus10_Actions)
endfunction

function Trig_change1_Actions takes nothing returns nothing

set udg_trueend=true
call TriggerExecute(gg_trg_siwang)

endfunction
function InitTrig_change1 takes nothing returns nothing
set gg_trg_change1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_change1,Player(0),"测试",true)
call TriggerAddAction(gg_trg_change1,function Trig_change1_Actions)
endfunction
function Trig_change2_Actions takes nothing returns nothing


local integer n
local integer x
local integer a
local integer b
local integer c
local integer d
local integer e
local integer t
set n=120
set x=GetRandomInt(1,n)-1
set a=x/24
set t=x-a*24
set b=t/6
set t=t-b*6
if(b>=a)then
set b=b+1
endif
set c=t/2
set t=t-c*2
if((c>=a)or(c>=b))then
set c=c+1
endif
if((c>=a)and(c>=b))then
set c=c+1
endif
set d=t

if((d>=a)or(d>=b)or(d>=c))then
set d=d+1
endif
if(((d>=a)and(d>=b))or((d>=b)and(d>=c))or((d>=c)and(d>=a)))then
set d=d+1
endif

if((d>=a)and(d>=b)and(d>=c))then
set d=d+1
endif
set e=10-a-b-c-d
//call DisplayTextToForce(GetPlayersAll(),("|cffff0000x="+I2S(x)+"a="+I2S(a)+"，b="+I2S(b)+"，c="+I2S(c)+"，d="+I2S(d)+"，e="+I2S(e)+"值"))

set udg_elf[a]='Uv03'
set udg_elf[b]='Uv04'
set udg_elf[c]='Uv05'
set udg_elf[d]='Uv06'
set udg_elf[e]='Uv07'

set udg_elfstr[a]="①"
set udg_elfstr[b]="②"
set udg_elfstr[c]="③"
set udg_elfstr[d]="④"
set udg_elfstr[e]="⑤"



endfunction
function InitTrig_change2 takes nothing returns nothing
set gg_trg_change2=CreateTrigger()
//call TriggerRegisterPlayerChatEvent(gg_trg_change2,Player(0),"111",true)
call TriggerAddAction(gg_trg_change2,function Trig_change2_Actions)
endfunction
function Trig_change3_Actions takes nothing returns nothing

//call IssueNeutralImmediateOrderById(Player(0), GetTriggerUnit(), 'I002')
if(udg_childliwu[GetConvertedPlayerId(GetTriggerPlayer())]==false)then
//call UnitAddItemByIdSwapped('I98B',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_childliwu[GetConvertedPlayerId(GetTriggerPlayer())]=true
endif
endfunction
function InitTrig_change3 takes nothing returns nothing
set gg_trg_change3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_change3,Player(0),"我是男孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change3,Player(1),"我是男孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change3,Player(2),"我是男孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change3,Player(3),"我是男孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change3,Player(4),"我是男孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change3,Player(5),"我是男孩子",true)
call TriggerAddAction(gg_trg_change3,function Trig_change3_Actions)
endfunction
function Trig_change4_Actions takes nothing returns nothing
if(udg_childliwu[GetConvertedPlayerId(GetTriggerPlayer())]==false)then
//call UnitAddItemByIdSwapped('I98G',udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_childliwu[GetConvertedPlayerId(GetTriggerPlayer())]=true
endif
endfunction
function InitTrig_change4 takes nothing returns nothing
set gg_trg_change4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_change4,Player(0),"我是女孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change4,Player(1),"我是女孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change4,Player(2),"我是女孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change4,Player(3),"我是女孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change4,Player(4),"我是女孩子",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change4,Player(5),"我是女孩子",true)
call TriggerAddAction(gg_trg_change4,function Trig_change4_Actions)
endfunction
function Trig_change5_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00|r|cFF4CCC00系|r|cFF4CCC00统|r|cFF4CCC00检|r|cFF4CCC00测|r|cFF4CCC00到|r|cFF4CCC00您|r|cFF4CCC00正|r|cFF4CCC00在|r|cFF4CCC00使|r|cFF4CCC00用|r|cFF4CCC00非|r|cFF4CCC00官|r|cFF4CCC00方|r|cFF4CCC00地|r|cFF4CCC00图！！|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00|r|cFF4CCC00请|r|cFF4CCC00不|r|cFF4CCC00要|r|cFF4CCC00使|r|cFF4CCC00用|r|cFF4CCC00非|r|cFF4CCC00官|r|cFF4CCC00方|r|cFF4CCC00地|r|cFF4CCC00图|r|cFF4CCC00进|r|cFF4CCC00行|r|cFF4CCC00游|r|cFF4CCC00戏！！|r")
call DisplayTextToForce(GetPlayersAll(),"|cFF1FBF00官|r|cFF4CCC00方|r|cFF79D900论|r|cFFA5E500坛：|r|cFF1BE6B8w|r|cFF1BE6B8a|r|cFF1BE6B8n|r|cFF1BE6B8w|r|cFF1BE6B8a|r|cFF1BE6B8n|r|cFF1BE6B8.|r|cFF1BE6B8u|r|cFF1BE6B8u|r|cFF1BE6B8u|r|cFF1BE6B89|r|cFF1BE6B8.|r|cFF1BE6B8c|r|cFF1BE6B8o|r|cFF1BE6B8m|r")
endfunction
function InitTrig_change5 takes nothing returns nothing
set gg_trg_change5=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_change5,Player(0),"111",true)
call TriggerAddAction(gg_trg_change5,function Trig_change5_Actions)
endfunction
function Trig_change6_Actions takes nothing returns nothing
if(udg_mckey==1)then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00妖精秘传书的内容如下：|r")
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00"+udg_elfstr[0]+udg_elfstr[1]+udg_elfstr[2]+udg_elfstr[3]+udg_elfstr[4]+"：|r")

endif
endfunction
function InitTrig_change6 takes nothing returns nothing
set gg_trg_change6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_change6,Player(0),"-s",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change6,Player(1),"-s",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change6,Player(2),"-s",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change6,Player(3),"-s",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change6,Player(4),"-s",true)
call TriggerRegisterPlayerChatEvent(gg_trg_change6,Player(5),"-s",true)
call TriggerAddAction(gg_trg_change6,function Trig_change6_Actions)
endfunction


function Trig_link_Actions takes nothing returns nothing
set udg_beilv1=10+udg_nanduBL+5*udg_selfdestruct
set udg_beilv2=10-udg_countstop
set udg_dengjiz[GetConvertedPlayerId(GetTriggerPlayer())]=R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00积|r|cFF4CCC00分|r|cFF79D900|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_score[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00倍|r|cFF4CCC00率|r|cFF79D900一|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_beilv1)))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00倍|r|cFF4CCC00率|r|cFF79D900二|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_beilv2)))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00战|r|cFF4CCC00绩|r|cFF79D900|r|cFFA5E500：|r|cFF1BE6B8"+I2S(2000+1*udg_con+udg_score[GetConvertedPlayerId(GetTriggerPlayer())]*udg_beilv1*udg_beilv2)))
endfunction
function InitTrig_link takes nothing returns nothing
set gg_trg_link=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(0),"-ZJ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(1),"-ZJ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(2),"-ZJ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(3),"-ZJ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(4),"-ZJ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(5),"-ZJ",true)
call TriggerRegisterPlayerChatEvent(gg_trg_link,Player(6),"-ZJ",true)
call TriggerAddAction(gg_trg_link,function Trig_link_Actions)
endfunction
function Trig_link_R_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08J'))then
return false
endif
return true
endfunction
function Trig_link_R_Actions takes nothing returns nothing
set udg_dengjiz[GetConvertedPlayerId(GetTriggerPlayer())]=R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00力|r|cFF3FC800量|r|cFF5FD100：|r|cFF1BE6B8"+I2S(GetHeroStr(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],true))))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00敏|r|cFF57CF00捷|r|cFF8FDF00：|r|cFF1BE6B8"+I2S(GetHeroAgi(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],true))))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00智|r|cFF57CF00力|r|cFF8FDF00：|r|cFF1BE6B8"+I2S(GetHeroInt(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],true))))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00黄|r|cFF4CCC00魂|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_yellow[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00蓝|r|cFF4CCC00魂|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_blue[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00红|r|cFF4CCC00魂|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_red[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00绿|r|cFF4CCC00魂|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_green[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00黑|r|cFF4CCC00魂|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_black[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00白|r|cFF4CCC00魂|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_white[GetConvertedPlayerId(GetTriggerPlayer())])))
//call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00勇|r|cFF3FC800气|r|cFF5FD100：|r|cFF1BE6B8"+I2S(0*udg_notbravery[GetConvertedPlayerId(GetTriggerPlayer())]+udg_isbravery[GetConvertedPlayerId(GetTriggerPlayer())]*udg_bravery[GetConvertedPlayerId(GetTriggerPlayer())])))
//if(GetUnitTypeId(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])=='Emuu')then
//call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00萌|r|cFF4CCC00系|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_mengx[GetConvertedPlayerId(GetTriggerPlayer())])))
//call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00萌|r|cFF4CCC00属|r|cFF79D900性|r|cFF1FBF00发|r|cFF8FDF00动|r|cFF8FDF00几|r|cFFABE700率|r|cFFC7EF00：|r|cFF1BE6B8"+((I2S(udg_mengjilv[GetConvertedPlayerId(GetTriggerPlayer())])+"0%")+"")))
//else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00贱|r|cFF4CCC00系|r|cFF79D900数|r|cFFA5E500：|r|cFF1BE6B8"+I2S(udg_playerjx[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00淫|r|cFF44CA00荡|r|cFF6AD400系|r|cFF8FDF00数|r|cFFB4EA00：|r|cFF1BE6B8"+I2S(udg_playerydx[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00通|r|cFF44CA00宵|r|cFF6AD400系|r|cFF8FDF00数|r|cFFB4EA00：|r|cFF1BE6B8"+I2S(udg_playertx[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00专|r|cFF3BC700属|r|cFF57CF00发|r|cFF73D700动|r|cFF8FDF00几|r|cFFABE700率|r|cFFC7EF00：|r|cFF1BE6B8"+((I2S(udg_fadongjilv[GetConvertedPlayerId(GetTriggerPlayer())])+"0%")+"")))
//endif
//call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00勇|r|cFF3BC700气|r|cFF57CF00发|r|cFF73D700动|r|cFF8FDF00几|r|cFFABE700率|r|cFFC7EF00：|r|cFF1BE6B8"+((I2S(udg_fadongjilv[GetConvertedPlayerId(GetTriggerPlayer())]*udg_fadongjilv[GetConvertedPlayerId(GetTriggerPlayer())]+1+GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])*GetHeroLevel(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])/1500)+"%")+"")))
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF1FBF00专|r|cFF3BC700属|r|cFF57CF00技|r|cFF73D700能|r|cFF8FDF00等|r|cFFABE700级|r|cFFC7EF00：|r|cFF1BE6B8"+(I2S(udg_dengjiz[GetConvertedPlayerId(GetTriggerPlayer())])+("("+(I2S(udg_killzhuanshu[GetConvertedPlayerId(GetTriggerPlayer())])+"/"+I2S(800+13*udg_waves+23*udg_dengjiz[GetConvertedPlayerId(GetTriggerPlayer())])+")")))))
endfunction
function InitTrig_link_R takes nothing returns nothing
set gg_trg_link_R=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_link_R,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_link_R,Condition(function Trig_link_R_Conditions))
call TriggerAddAction(gg_trg_link_R,function Trig_link_R_Actions)
endfunction
function Trig_yuezhangchakan_Func002C takes nothing returns boolean
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],'I05O'))=='I05O'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],'I05U'))=='I05U'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],'I05M'))=='I05M'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],'I05N'))=='I05N'))then
return true
endif
return false
endfunction
function Trig_yuezhangchakan_Conditions takes nothing returns boolean
if(not Trig_yuezhangchakan_Func002C())then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func001C takes nothing returns boolean
if(not(udg_yuezhangsl==0))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func003C takes nothing returns boolean
if(not(udg_yuezhang[1]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func004C takes nothing returns boolean
if(not(udg_yuezhang[2]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func005C takes nothing returns boolean
if(not(udg_yuezhang[3]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func006C takes nothing returns boolean
if(not(udg_yuezhang[4]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func007C takes nothing returns boolean
if(not(udg_yuezhang[5]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func008C takes nothing returns boolean
if(not(udg_yuezhang[6]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func009C takes nothing returns boolean
if(not(udg_yuezhang[7]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func010C takes nothing returns boolean
if(not(udg_yuezhang[8]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func011C takes nothing returns boolean
if(not(udg_yuezhang[9]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func012C takes nothing returns boolean
if(not(udg_yuezhang[10]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func013C takes nothing returns boolean
if(not(udg_yuezhang[11]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Func014C takes nothing returns boolean
if(not(udg_yuezhang[12]==true))then
return false
endif
return true
endfunction
function Trig_yuezhangchakan_Actions takes nothing returns nothing
if(Trig_yuezhangchakan_Func001C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF0041FF当前武器还没有融入乐章！"+""))
else
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,("|cFF0041FF当前武器共包含乐章：|cffff0000"+(I2S(udg_yuezhangsl)+"|r|cFF0041FF种,具体乐章为：|r")))
endif
if(Trig_yuezhangchakan_Func003C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—眩晕|r")
else
endif
if(Trig_yuezhangchakan_Func004C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—妖化|r")
else
endif
if(Trig_yuezhangchakan_Func005C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—中毒|r")
else
endif
if(Trig_yuezhangchakan_Func006C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—减速|r")
else
endif
if(Trig_yuezhangchakan_Func007C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—残废|r")
else
endif
if(Trig_yuezhangchakan_Func008C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—灼烧|r")
else
endif
if(Trig_yuezhangchakan_Func009C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—睡眠|r")
else
endif
if(Trig_yuezhangchakan_Func010C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—禁魔|r")
else
endif
if(Trig_yuezhangchakan_Func011C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—虚弱|r")
else
endif
if(Trig_yuezhangchakan_Func012C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—虚无|r")
else
endif
if(Trig_yuezhangchakan_Func013C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—诅咒|r")
else
endif
if(Trig_yuezhangchakan_Func014C())then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.00,"|cFF00FF33黄昏十二乐章—迟缓|r")
else
endif
endfunction
function InitTrig_yuezhangchakan takes nothing returns nothing
set gg_trg_yuezhangchakan=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(0),"yz",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(1),"yz",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(2),"yz",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(3),"yz",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(4),"yz",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(5),"yz",true)
call TriggerRegisterPlayerChatEvent(gg_trg_yuezhangchakan,Player(6),"yz",true)
call TriggerAddCondition(gg_trg_yuezhangchakan,Condition(function Trig_yuezhangchakan_Conditions))
call TriggerAddAction(gg_trg_yuezhangchakan,function Trig_yuezhangchakan_Actions)
endfunction
function Trig_jingtouhuanyuan_Actions takes nothing returns nothing
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,2000.00,0)
endfunction
function InitTrig_jingtouhuanyuan takes nothing returns nothing
set gg_trg_jingtouhuanyuan=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_jingtouhuanyuan,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg_jingtouhuanyuan,Player(1),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg_jingtouhuanyuan,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg_jingtouhuanyuan,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg_jingtouhuanyuan,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg_jingtouhuanyuan,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerAddAction(gg_trg_jingtouhuanyuan,function Trig_jingtouhuanyuan_Actions)
endfunction
function Trig_zisha_Func001C takes nothing returns boolean
if(not(udg_youxikaishi==false))then
return false
endif
return true
endfunction
function Trig_zisha_Actions takes nothing returns nothing
if(Trig_zisha_Func001C())then
call PauseUnit(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],false)
call SetUnitInvulnerable(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],false)
call KillUnit(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_guoge[GetConvertedPlayerId(GetTriggerPlayer())]=0
else
call DisplayTextToPlayer(GetOwningPlayer(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]),0,0,"|cffff0000等过了游戏时间再自杀好吗？")
endif
endfunction
function InitTrig_zisha takes nothing returns nothing
set gg_trg_zisha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_zisha,Player(0),"zisha",true)
call TriggerRegisterPlayerChatEvent(gg_trg_zisha,Player(1),"zisha",true)
call TriggerRegisterPlayerChatEvent(gg_trg_zisha,Player(2),"zisha",true)
call TriggerRegisterPlayerChatEvent(gg_trg_zisha,Player(3),"zisha",true)
call TriggerRegisterPlayerChatEvent(gg_trg_zisha,Player(4),"zisha",true)
call TriggerRegisterPlayerChatEvent(gg_trg_zisha,Player(5),"zisha",true)
call TriggerAddAction(gg_trg_zisha,function Trig_zisha_Actions)
endfunction
function Trig_danrenceshi_Func004A takes nothing returns nothing
call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
endfunction
function Trig_danrenceshi_Func005001 takes nothing returns boolean
return(GetPlayerState(Player(0),PLAYER_STATE_RESOURCE_LUMBER)==1)
endfunction
function Trig_danrenceshi_Func006001 takes nothing returns boolean
return(GetPlayerState(Player(1),PLAYER_STATE_RESOURCE_LUMBER)==1)
endfunction
function Trig_danrenceshi_Func007001 takes nothing returns boolean
return(GetPlayerState(Player(2),PLAYER_STATE_RESOURCE_LUMBER)==1)
endfunction
function Trig_danrenceshi_Func008001 takes nothing returns boolean
return(GetPlayerState(Player(3),PLAYER_STATE_RESOURCE_LUMBER)==1)
endfunction
function Trig_danrenceshi_Func009001 takes nothing returns boolean
return(GetPlayerState(Player(4),PLAYER_STATE_RESOURCE_LUMBER)==1)
endfunction
function Trig_danrenceshi_Func010001 takes nothing returns boolean
return(GetPlayerState(Player(5),PLAYER_STATE_RESOURCE_LUMBER)==1)
endfunction
function Trig_danrenceshi_Actions takes nothing returns nothing
call Cheat("greedisgood 1")
call ClearTextMessages()
call TriggerSleepAction(1.00)
call ForForce(GetPlayersAll(),function Trig_danrenceshi_Func004A)
if(Trig_danrenceshi_Func005001())then
set udg_buerzhi_danren=true
else
call DoNothing()
endif
if(Trig_danrenceshi_Func006001())then
set udg_buerzhi_danren=true
else
call DoNothing()
endif
if(Trig_danrenceshi_Func007001())then
set udg_buerzhi_danren=true
else
call DoNothing()
endif
if(Trig_danrenceshi_Func008001())then
set udg_buerzhi_danren=true
else
call DoNothing()
endif
if(Trig_danrenceshi_Func009001())then
set udg_buerzhi_danren=true
else
call DoNothing()
endif
if(Trig_danrenceshi_Func010001())then
set udg_buerzhi_danren=true
else
call DoNothing()
endif
endfunction
function InitTrig_danrenceshi takes nothing returns nothing
set gg_trg_danrenceshi=CreateTrigger()
call TriggerAddAction(gg_trg_danrenceshi,function Trig_danrenceshi_Actions)
endfunction
function Trig_shitang_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"有玩家把学校食堂攻占下来了，只见从里面跑出来一个食堂大叔，站在宿舍左边。")
call ShowUnit(gg_unit_n003_0189,true)
endfunction
function InitTrig_shitang takes nothing returns nothing
set gg_trg_shitang=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_shitang,gg_unit_hbla_0058,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_shitang,function Trig_shitang_Actions)
endfunction
function Trig_shitang_______u_Actions takes nothing returns nothing
call CreateItemLoc('ram2',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_shitang_______u takes nothing returns nothing
set gg_trg_shitang_______u=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_shitang_______u,gg_unit_nnfm_0042,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_shitang_______u,function Trig_shitang_______u_Actions)
endfunction
function Trig_kongdianshi_Func003001 takes nothing returns boolean
return(udg_tingdian1==true)
endfunction
function Trig_kongdianshi_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"终于把学校控电室占领了，晚上不会停电了，哦哈哈哈！！")
set udg_tingdian=true
if(Trig_kongdianshi_Func003001())then
call UnitAddAbilityBJ('A026',gg_unit_h001_0004)
else
call DoNothing()
endif
endfunction
function InitTrig_kongdianshi takes nothing returns nothing
set gg_trg_kongdianshi=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_kongdianshi,gg_unit_u001_0033,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_kongdianshi,function Trig_kongdianshi_Actions)
endfunction
function Trig_yueguangbaohe_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='nitb'))then
return false
endif
if(not(udg_yueguang==false))then
return false
endif
return true
endfunction
function Trig_yueguangbaohe_Actions takes nothing returns nothing
set udg_yueguang=true
call SetUnitOwner(GetTriggerUnit(),Player(PLAYER_NEUTRAL_AGGRESSIVE),true)
call CreateNUnitsAtLoc(1,'uswb',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________142),305.00)
call CreateNUnitsAtLoc(1,'uswb',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________140),215.00)
call CreateNUnitsAtLoc(1,'uswb',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________141),125.00)
call CreateNUnitsAtLoc(1,'uswb',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________143),45.00)
endfunction
function InitTrig_yueguangbaohe takes nothing returns nothing
set gg_trg_yueguangbaohe=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yueguangbaohe,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_yueguangbaohe,Condition(function Trig_yueguangbaohe_Conditions))
call TriggerAddAction(gg_trg_yueguangbaohe,function Trig_yueguangbaohe_Actions)
endfunction
function Trig_yueguangbaohe_______u_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AIrr'))then
return false
endif
return true
endfunction
function Trig_yueguangbaohe_______u_Func004A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),udg_point,0)
endfunction
function Trig_yueguangbaohe_______u_Actions takes nothing returns nothing
set udg_buerzhi_yikj=true
call EnableTrigger(gg_trg_BOSSyidong)
set udg_point=GetRectCenter(gg_rct______________109)
call ForForce(GetPlayersAll(),function Trig_yueguangbaohe_______u_Func004A)
call RemoveLocation(udg_point)
call ShowUnit(gg_unit_hmtt_0035,true)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"|cffff0000使用了月光宝盒，打开了一条空间通道，由于空间压力过大，月光宝盒破碎。"))
endfunction
function InitTrig_yueguangbaohe_______u takes nothing returns nothing
set gg_trg_yueguangbaohe_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yueguangbaohe_______u,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_yueguangbaohe_______u,Condition(function Trig_yueguangbaohe_______u_Conditions))
call TriggerAddAction(gg_trg_yueguangbaohe_______u,function Trig_yueguangbaohe_______u_Actions)
endfunction
function Trig_jianxishu90_______u_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='e003'))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='rhth'))then
return false
endif
return true
endfunction
function Trig_jianxishu90_______u_Actions takes nothing returns nothing
call UnitRemoveAbilityBJ('Ahar',GetTriggerUnit())
endfunction
function InitTrig_jianxishu90_______u takes nothing returns nothing
set gg_trg_jianxishu90_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianxishu90_______u,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianxishu90_______u,Condition(function Trig_jianxishu90_______u_Conditions))
call TriggerAddAction(gg_trg_jianxishu90_______u,function Trig_jianxishu90_______u_Actions)
endfunction

function Trig_automed_Conditions takes nothing returns boolean
if(not(udg_automed[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1))then
return false
endif
return true
endfunction
function Trig_automed_Actions takes nothing returns nothing
if(GetUnitManaPercent(GetAttackedUnitBJ())<50)then
if(UnitHasItemOfTypeBJ(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],'I037')==true)then
call UnitUseItem(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], GetItemOfTypeFromUnitBJ(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], 'I037'))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"自动使用极品大餐补充MP。")
else
	if(UnitHasItemOfTypeBJ(udg_bbtwo[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],'I037')==true)then
	call UnitUseItem(udg_bbtwo[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], GetItemOfTypeFromUnitBJ(udg_bbtwo[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], 'I037'))
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"自动使用极品大餐补充MP。")
	endif
endif
endif
endfunction
function InitTrig_automed takes nothing returns nothing
set gg_trg_automed=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_automed,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_automed,Condition(function Trig_automed_Conditions))
call TriggerAddAction(gg_trg_automed,function Trig_automed_Actions)
endfunction


function Trig_chiyao_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I032'))then
return false
endif
return true
endfunction
function Trig_chiyao_Func002C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I034'))then
return false
endif
return true
endfunction
function Trig_chiyao_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I033'))then
return false
endif
return true
endfunction
function Trig_chiyao_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I035'))then
return false
endif
return true
endfunction
function Trig_chiyao_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I037'))then
return false
endif
return true
endfunction
function Trig_chiyao_Actions takes nothing returns nothing
if(Trig_chiyao_Func001C())then
call SetUnitLifeBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitStateSwap(UNIT_STATE_LIFE,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+5000.00))
if(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))==udg_lunpan)then
set udg_lunpan6=udg_lunpan6+2
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前水量为"+I2S(udg_lunpan6)+"！！|r")
endif
return
else
endif
if(Trig_chiyao_Func002C())then
call SetUnitLifeBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitStateSwap(UNIT_STATE_LIFE,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+20000.00))
if(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))==udg_lunpan)then
set udg_lunpan6=udg_lunpan6+4
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前水量为"+I2S(udg_lunpan6)+"！！|r")
endif
return
else
endif
if(Trig_chiyao_Func003C())then
call SetUnitManaBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitStateSwap(UNIT_STATE_MANA,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+2000.00))
if(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))==udg_lunpan)then
set udg_lunpan6=udg_lunpan6+1
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前水量为"+I2S(udg_lunpan6)+"！！|r")
endif
return
else
endif
if(Trig_chiyao_Func004C())then
call SetUnitManaBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitStateSwap(UNIT_STATE_MANA,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+10000.00))
if(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))==udg_lunpan)then
set udg_lunpan6=udg_lunpan6+3
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前水量为"+I2S(udg_lunpan6)+"！！|r")
endif
return
else
endif
if(Trig_chiyao_Func005C())then
call SetUnitLifeBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitStateSwap(UNIT_STATE_LIFE,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+100000.00))
call SetUnitManaBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitStateSwap(UNIT_STATE_MANA,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+100000.00))
if(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))==udg_lunpan)then
set udg_lunpan6=udg_lunpan6+15
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前水量为"+I2S(udg_lunpan6)+"！！|r")
endif
return
else
endif
endfunction
function InitTrig_chiyao takes nothing returns nothing
set gg_trg_chiyao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chiyao,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_chiyao,function Trig_chiyao_Actions)
endfunction

function Trig_zombie_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='ZOMB'))then
return false
endif
return true
endfunction
function Trig_zombie_Actions takes nothing returns nothing
if(Trig_zombie_Func001C())then

set udg_zomb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
loop
exitwhen udg_zomb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>5
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"失去15%体力。")
if(GetUnitLifePercent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])>15)then
call SetUnitLifePercentBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetUnitLifePercent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])-15)
else
call SetUnitLifePercentBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],0.1)
endif
call TriggerSleepAction(1.00)
set udg_zomb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_zomb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
endloop
set udg_zomb[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0

endif

endfunction
function InitTrig_zombie takes nothing returns nothing
set gg_trg_zombie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zombie,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_zombie,function Trig_zombie_Actions)
endfunction

function Trig_chishu_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00I'))then
return false
endif
return true
endfunction
function Trig_chishu_Func002C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00J'))then
return false
endif
return true
endfunction
function Trig_chishu_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00H'))then
return false
endif
return true
endfunction
function Trig_chishu_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00L'))then
return false
endif
return true
endfunction
function Trig_chishu_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02V'))then
return false
endif
return true
endfunction
function Trig_chishu_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00K'))then
return false
endif
return true
endfunction
function Trig_chishu_Func007C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00N'))then
return false
endif
return true
endfunction
function Trig_chishu_Func008C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00O'))then
return false
endif
return true
endfunction
function Trig_chishu_Actions takes nothing returns nothing
if(Trig_chishu_Func001C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100)
return
else
endif
if(Trig_chishu_Func002C())then
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100)
return
else
endif
if(Trig_chishu_Func003C())then
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100)
return
else
endif
if(Trig_chishu_Func004C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100)
return
else
endif
if(Trig_chishu_Func005C())then
call SetHeroLevelBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],(GetUnitLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+1),true)
return
else
endif
if(Trig_chishu_Func006C())then
call AddHeroXPSwapped(5000,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)
return
else
endif
if(Trig_chishu_Func007C())then
call UnitAddItemByIdSwapped('I03Q',udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
return
else
endif
if(Trig_chishu_Func008C())then
call UnitAddItemByIdSwapped('I03R',udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
return
else
endif
endfunction
function InitTrig_chishu takes nothing returns nothing
set gg_trg_chishu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chishu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_chishu,function Trig_chishu_Actions)
endfunction
function Trig_jingzhi_Func004C takes nothing returns boolean
//if((GetItemTypeId(GetManipulatedItem())=='I02E'))then
//return true
//endif
//if((GetItemTypeId(GetManipulatedItem())=='I02F'))then
//return true
//endif
if((GetItemTypeId(GetManipulatedItem())=='bzbf'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='bzbe'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I04I'))then
return true
endif
return false
endfunction
function Trig_jingzhi_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='e003'))then
return false
endif
if(not Trig_jingzhi_Func004C())then
return false
endif
return true
endfunction
function Trig_jingzhi_Actions takes nothing returns nothing
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"拿不了！")
call UnitDropItemPointLoc(GetTriggerUnit(),GetManipulatedItem(),GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_jingzhi takes nothing returns nothing
set gg_trg_jingzhi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jingzhi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jingzhi,Condition(function Trig_jingzhi_Conditions))
call TriggerAddAction(gg_trg_jingzhi,function Trig_jingzhi_Actions)
endfunction
function Trig_jingzhi3_Func009C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='Ofar'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='O001'))then
return true
endif
return false
endfunction
function Trig_jingzhi3_Func010C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I02S'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02R'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02T'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02U'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02O'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02P'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06K'))then
return true
endif
return false
endfunction
function Trig_jingzhi3_Conditions takes nothing returns boolean
if(not Trig_jingzhi3_Func009C())then
return false
endif
if(not Trig_jingzhi3_Func010C())then
return false
endif
return true
endfunction
function Trig_jingzhi3_Actions takes nothing returns nothing
call UnitRemoveAbility(GetTriggerUnit(),'A029')
call UnitRemoveAbility(GetTriggerUnit(),'A028')
call UnitRemoveAbility(GetTriggerUnit(),'A02A')
call UnitRemoveAbility(GetTriggerUnit(),'A03V')
call UnitRemoveAbility(GetTriggerUnit(),'A03W')
call UnitRemoveAbility(GetTriggerUnit(),'A03X')
call UnitRemoveAbility(GetTriggerUnit(),'A027')
call UnitRemoveAbility(GetTriggerUnit(),'A0DA')
endfunction
function InitTrig_jingzhi3 takes nothing returns nothing
set gg_trg_jingzhi3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jingzhi3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jingzhi3,Condition(function Trig_jingzhi3_Conditions))
call TriggerAddAction(gg_trg_jingzhi3,function Trig_jingzhi3_Actions)
endfunction
function Trig_wupin_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A070'))then
return false
endif
return true
endfunction
function Trig_wupin_Actions takes nothing returns nothing
set udg_wupin=UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],1)
set udg_wupin1=UnitItemInSlotBJ(GetTriggerUnit(),1)
call UnitRemoveItemSwapped(udg_wupin,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitAddItemSwapped(udg_wupin1,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitAddItemSwapped(udg_wupin,GetTriggerUnit())
endfunction
function InitTrig_wupin takes nothing returns nothing
set gg_trg_wupin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wupin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_wupin,Condition(function Trig_wupin_Conditions))
call TriggerAddAction(gg_trg_wupin,function Trig_wupin_Actions)
endfunction
function Trig_huichengshu_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A071'))then
return false
endif
return true
endfunction
function Trig_huichengshu_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetRectCenter(gg_rct______________005))
endfunction
function InitTrig_huichengshu takes nothing returns nothing
set gg_trg_huichengshu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huichengshu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_huichengshu,Condition(function Trig_huichengshu_Conditions))
call TriggerAddAction(gg_trg_huichengshu,function Trig_huichengshu_Actions)
endfunction
function Trig_jingzhi2_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='e003'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h00E'))then
return true
endif
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return true
endif
return false
endfunction
function Trig_jingzhi2_Conditions takes nothing returns boolean
if(not Trig_jingzhi2_Func001C())then
return false
endif
return true
endfunction
function Trig_jingzhi2_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='u00G'))then
return false
endif
return true
endfunction
function Trig_jingzhi2_Actions takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000你想干么？")
if(Trig_jingzhi2_Func004C())then
call RemoveUnit(GetTriggerUnit())
else
endif
endfunction
function InitTrig_jingzhi2 takes nothing returns nothing
set gg_trg_jingzhi2=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jingzhi2,gg_rct______________054)
call TriggerAddCondition(gg_trg_jingzhi2,Condition(function Trig_jingzhi2_Conditions))
call TriggerAddAction(gg_trg_jingzhi2,function Trig_jingzhi2_Actions)
endfunction

function Trig_jing9zhi_Func001C takes nothing returns boolean
if((GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)))then
return false
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if((GetTriggerUnit()==udg_heroname[udg_shenjie2ing]))then
return false
endif
if((GetTriggerUnit()==udg_unit_bb[udg_shenjie2ing]))then
return false
endif
if((GetTriggerUnit()==udg_bbtwo[udg_shenjie2ing]))then
return false
endif

if((GetUnitTypeId(GetTriggerUnit())=='e003'))then
return true
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(udg_shenjie2ing-1)))then
return false
endif
return true
endfunction
function Trig_jing9zhi_Conditions takes nothing returns boolean
if(not Trig_jing9zhi_Func001C())then
return false
endif
return true
endfunction
function Trig_jing9zhi_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='u00G'))then
return false
endif
return true
endfunction
function Trig_jing9zhi_Actions takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000禁止进入神圣的区域！")
if(Trig_jing9zhi_Func004C())then
call RemoveUnit(GetTriggerUnit())
else
endif
endfunction
function InitTrig_jing9zhi takes nothing returns nothing
set gg_trg_jing9zhi=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jing9zhi,gg_rct______________219)
call TriggerAddCondition(gg_trg_jing9zhi,Condition(function Trig_jing9zhi_Conditions))
call TriggerAddAction(gg_trg_jing9zhi,function Trig_jing9zhi_Actions)
endfunction




function Trig_jingzhi5_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='e003'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h00E'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Bos7'))then
return false
endif
if((GetUnitTypeId(GetTriggerUnit())=='Bos0'))then
return false
endif
if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return true
endif
return false
endfunction
function Trig_jingzhi5_Conditions takes nothing returns boolean
if(not(udg_buerzhi_yikj==false))then
return false
endif
if(not Trig_jingzhi5_Func002C())then
return false
endif
return true
endfunction
function Trig_jingzhi5_Actions takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000你想干么？")
endfunction
function InitTrig_jingzhi5 takes nothing returns nothing
set gg_trg_jingzhi5=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jingzhi5,gg_rct______________070)
call TriggerAddCondition(gg_trg_jingzhi5,Condition(function Trig_jingzhi5_Conditions))
call TriggerAddAction(gg_trg_jingzhi5,function Trig_jingzhi5_Actions)
endfunction
function Trig_jingzhi4_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='O001'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Ofar'))then
return true
endif
return false
endfunction
function Trig_jingzhi4_Conditions takes nothing returns boolean
if(not Trig_jingzhi4_Func001C())then
return false
endif
if(not(udg_buerzhi_huimie1==false))then
return false
endif
if(not(udg_buerzhi_huimie2==false))then
return false
endif
return true
endfunction
function Trig_jingzhi4_Actions takes nothing returns nothing
//call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
//call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000你想干么？")
endfunction
function InitTrig_jingzhi4 takes nothing returns nothing
set gg_trg_jingzhi4=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jingzhi4,gg_rct______________162)
call TriggerAddCondition(gg_trg_jingzhi4,Condition(function Trig_jingzhi4_Conditions))
call TriggerAddAction(gg_trg_jingzhi4,function Trig_jingzhi4_Actions)
endfunction
function Trig_jingzhi6_Func001C takes nothing returns boolean
if((GetOwningPlayer(GetTriggerUnit())==Player(0)))then
return true
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(1)))then
return true
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(2)))then
return true
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(3)))then
return true
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(4)))then
return true
endif
if((GetOwningPlayer(GetTriggerUnit())==Player(5)))then
return true
endif
return false
endfunction
function Trig_jingzhi6_Conditions takes nothing returns boolean
if(not Trig_jingzhi6_Func001C())then
return false
endif
return true
endfunction
function Trig_jingzhi6_Actions takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005))
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000你想干么？")
endfunction
function InitTrig_jingzhi6 takes nothing returns nothing
set gg_trg_jingzhi6=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_jingzhi6,gg_rct______________163)
call TriggerAddCondition(gg_trg_jingzhi6,Condition(function Trig_jingzhi6_Conditions))
call TriggerAddAction(gg_trg_jingzhi6,function Trig_jingzhi6_Actions)
endfunction
function Trig____________________002_Conditions takes nothing returns boolean
if(not(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())]!=null))then
return false
endif
return true
endfunction
function Trig____________________002_Func008A takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),(udg_renshu+40.00))
endfunction
function Trig____________________002_Actions takes nothing returns nothing
set udg_likai=1
loop
exitwhen udg_likai>6
call UnitRemoveItemFromSlotSwapped(udg_likai,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
call UnitDropItemPointLoc(udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())],UnitItemInSlot(udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())],(udg_likai-1)),GetUnitLoc(udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())]))
set udg_likai=udg_likai+1
endloop
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"离开了游戏！！！！他的东西掉在地上了，快去拿了吧！"))
call RemoveUnit(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())])
call RemoveUnit(udg_unit_bb[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_shuaxinsj=(udg_shuaxinsj+0.10)
set udg_renshu=(udg_renshu-50.00)
call ForForce(GetPlayersAllies(Player(7)),function Trig____________________002_Func008A)
call DisplayTextToForce(GetPlayersAll(),("当前经验率为"+(R2S((udg_renshu+40.00))+"%")))
endfunction
function InitTrig____________________002 takes nothing returns nothing
set gg_trg____________________002=CreateTrigger()
call TriggerRegisterPlayerEventLeave(gg_trg____________________002,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg____________________002,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg____________________002,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg____________________002,Player(3))
call TriggerRegisterPlayerEventLeave(gg_trg____________________002,Player(4))
call TriggerRegisterPlayerEventLeave(gg_trg____________________002,Player(5))
call TriggerAddCondition(gg_trg____________________002,Condition(function Trig____________________002_Conditions))
call TriggerAddAction(gg_trg____________________002,function Trig____________________002_Actions)
endfunction
function Trig_shengjidi_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='h002'))then
return false
endif
return true
endfunction
function Trig_shengjidi_Func002Func002C takes nothing returns boolean
if(not(udg_int==1))then
return false
endif
return true
endfunction
function Trig_shengjidi_Func002C takes nothing returns boolean
if(not(udg_keji<50))then
return false
endif
return true
endfunction
function Trig_shengjidi_Actions takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(Trig_shengjidi_Func002C())then
set udg_int=GetRandomInt(1,10)
if(Trig_shengjidi_Func002Func002C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,100)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"|cffff0000升级宿舍的过程中发现宝藏，全属性增加100点。"))
else
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,15)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,15)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"升级了宿舍，全属性增加15点。"))
endif
set udg_keji=GetPlayerTechCountSimple('R000',Player(7))
set udg_keji=(udg_keji+1)
call SetPlayerTechResearchedSwap('R000',udg_keji,Player(7))
else
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"宿舍无法继续加强！")
call AdjustPlayerStateBJ(15,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endfunction
function InitTrig_shengjidi takes nothing returns nothing
set gg_trg_shengjidi=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_shengjidi,gg_unit_h001_0004,EVENT_UNIT_SELL)
call TriggerAddCondition(gg_trg_shengjidi,Condition(function Trig_shengjidi_Conditions))
call TriggerAddAction(gg_trg_shengjidi,function Trig_shengjidi_Actions)
endfunction
function Trig_jinzhi_Conditions takes nothing returns boolean
if(not(IsUnitAlly(GetAttacker(),Player(7))==true))then
return false
endif
return true
endfunction
function Trig_jinzhi_Func001C takes nothing returns boolean
if(not(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_jinzhi_Actions takes nothing returns nothing
if(Trig_jinzhi_Func001C())then
set udg_guoge[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=1
call IssueImmediateOrder(GetAttacker(),"stop")
call PauseUnit(GetAttacker(),true)
call SetUnitAnimation(GetAttacker(),"Death")
set udg_lunpan4=1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetAttacker()))+"|cffff0000居然攻击宿舍，罚趴在地上唱国歌30秒！！"))
call TriggerSleepAction(30.00)
set udg_guoge[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=0
call PauseUnit(GetAttacker(),false)
else
call KillUnit(GetAttacker())
endif
endfunction
function InitTrig_jinzhi takes nothing returns nothing
set gg_trg_jinzhi=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_jinzhi,gg_unit_h001_0004,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_jinzhi,Condition(function Trig_jinzhi_Conditions))
call TriggerAddAction(gg_trg_jinzhi,function Trig_jinzhi_Actions)
endfunction

function Trig_emofuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo01)then
return true
endif
if(GetTriggerUnit()==udg_emo02)then
return true
endif
return false
endfunction
function Trig_emofuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo01)<0.1)then
if(GetUnitLifePercent(udg_emo02)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo01,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo02,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emofuhuo takes nothing returns nothing
set gg_trg_emofuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emofuhuo,EVENT_PLAYER_UNIT_ATTACKED)

call TriggerAddCondition(gg_trg_emofuhuo,Condition(function Trig_emofuhuo_Conditions))
call TriggerAddAction(gg_trg_emofuhuo,function Trig_emofuhuo_Actions)
endfunction

function Trig_emo34fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo03)then
return true
endif
if(GetTriggerUnit()==udg_emo04)then
return true
endif
return false
endfunction
function Trig_emo34fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo03)<0.1)then
if(GetUnitLifePercent(udg_emo04)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo03,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo04,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
//call DisplayTextToForce(GetPlayersAll(),"大笨蛋！！。")
endfunction
function InitTrig_emo34fuhuo takes nothing returns nothing
//call DisableTrigger(gg_trg_emo34fuhuo)
set gg_trg_emo34fuhuo=CreateTrigger()
//call TriggerRegisterUnitLifeEvent(gg_trg_emo34fuhuo,gg_unit_h001_0004,LESS_THAN,2000000.00)
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo34fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
//call TriggerRegisterUnitLifeEvent(gg_trg_emo34fuhuo,udg_emo03,LESS_THAN,200.00)
//call TriggerRegisterUnitLifeEvent(gg_trg_emo34fuhuo,udg_emo04,LESS_THAN,200.00)
call TriggerAddCondition(gg_trg_emo34fuhuo,Condition(function Trig_emo34fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo34fuhuo,function Trig_emo34fuhuo_Actions)
endfunction

function Trig_emo56fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo05)then
return true
endif
if(GetTriggerUnit()==udg_emo06)then
return true
endif
return false
endfunction
function Trig_emo56fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo05)<0.1)then
if(GetUnitLifePercent(udg_emo06)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo05,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo06,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo56fuhuo takes nothing returns nothing
set gg_trg_emo56fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo56fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo56fuhuo,Condition(function Trig_emo56fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo56fuhuo,function Trig_emo56fuhuo_Actions)
endfunction

function Trig_emo78fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo07)then
return true
endif
if(GetTriggerUnit()==udg_emo08)then
return true
endif
return false
endfunction
function Trig_emo78fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo07)<0.1)then
if(GetUnitLifePercent(udg_emo08)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo07,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo08,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo78fuhuo takes nothing returns nothing
set gg_trg_emo78fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo78fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo78fuhuo,Condition(function Trig_emo78fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo78fuhuo,function Trig_emo78fuhuo_Actions)
endfunction

function Trig_emo910fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo09)then
return true
endif
if(GetTriggerUnit()==udg_emo10)then
return true
endif
return false
endfunction
function Trig_emo910fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo09)<0.1)then
if(GetUnitLifePercent(udg_emo10)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo09,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo10,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo910fuhuo takes nothing returns nothing
set gg_trg_emo910fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo910fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo910fuhuo,Condition(function Trig_emo910fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo910fuhuo,function Trig_emo910fuhuo_Actions)
endfunction

function Trig_emo1112fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo11)then
return true
endif
if(GetTriggerUnit()==udg_emo12)then
return true
endif
return false
endfunction
function Trig_emo1112fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo11)<0.1)then
if(GetUnitLifePercent(udg_emo12)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo11,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo12,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo1112fuhuo takes nothing returns nothing
set gg_trg_emo1112fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo1112fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo1112fuhuo,Condition(function Trig_emo1112fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo1112fuhuo,function Trig_emo1112fuhuo_Actions)
endfunction

function Trig_emo1314fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo13)then
return true
endif
if(GetTriggerUnit()==udg_emo14)then
return true
endif
return false
endfunction
function Trig_emo1314fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo13)<0.1)then
if(GetUnitLifePercent(udg_emo14)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo13,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo14,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo1314fuhuo takes nothing returns nothing
set gg_trg_emo1314fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo1314fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo1314fuhuo,Condition(function Trig_emo1314fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo1314fuhuo,function Trig_emo1314fuhuo_Actions)
endfunction

function Trig_emo1516fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo15)then
return true
endif
if(GetTriggerUnit()==udg_emo16)then
return true
endif
return false
endfunction
function Trig_emo1516fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo15)<0.1)then
if(GetUnitLifePercent(udg_emo16)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo15,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo16,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo1516fuhuo takes nothing returns nothing
set gg_trg_emo1516fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo1516fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo1516fuhuo,Condition(function Trig_emo1516fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo1516fuhuo,function Trig_emo1516fuhuo_Actions)
endfunction

function Trig_emo1718fuhuo_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_emo17)then
return true
endif
if(GetTriggerUnit()==udg_emo18)then
return true
endif
return false
endfunction
function Trig_emo1718fuhuo_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_emo17)<0.1)then
if(GetUnitLifePercent(udg_emo18)<0.1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo17,'I99E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_emo18,'I99E'))
call DisplayTextToForce(GetPlayersAll(),"怎么会这样！！。")
endif
endif
endfunction
function InitTrig_emo1718fuhuo takes nothing returns nothing
set gg_trg_emo1718fuhuo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_emo1718fuhuo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_emo1718fuhuo,Condition(function Trig_emo1718fuhuo_Conditions))
call TriggerAddAction(gg_trg_emo1718fuhuo,function Trig_emo1718fuhuo_Actions)
endfunction


function Trig_baohu_Conditions takes nothing returns boolean
if(not(udg_baohu==false))then
return false
endif
return true
endfunction
function Trig_baohu_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"你们太菜了，这样就挂了，还给你们一次机会，宿舍无敌60秒。")
call SetUnitInvulnerable(GetTriggerUnit(),true)
set udg_baohu=true
call TriggerSleepAction(60.00)
call SetUnitInvulnerable(GetTriggerUnit(),false)
endfunction
function InitTrig_baohu takes nothing returns nothing
set gg_trg_baohu=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_baohu,gg_unit_h001_0004,LESS_THAN,20000.00)
call TriggerAddCondition(gg_trg_baohu,Condition(function Trig_baohu_Conditions))
call TriggerAddAction(gg_trg_baohu,function Trig_baohu_Actions)
endfunction
function Trig_wudi_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I04A'))then
return false
endif
return true
endfunction
function Trig_wudi_Func001C takes nothing returns boolean
if(not(udg_nanduBL==1))then
return false
endif
return true
endfunction
function Trig_wudi_Actions takes nothing returns nothing
set udg_wudi=udg_wudi+1
if(udg_wudi<=7-udg_nanduBL-udg_selfdestruct)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04A'))
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"购买了宿舍无敌，宿舍将无敌30秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,30)
else
call DisplayTextToForce(GetPlayersAll(),"无敌次数已用尽。")
call AdjustPlayerStateBJ(30,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endfunction
function InitTrig_wudi takes nothing returns nothing
set gg_trg_wudi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wudi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_wudi,Condition(function Trig_wudi_Conditions))
call TriggerAddAction(gg_trg_wudi,function Trig_wudi_Actions)
endfunction
function Trig_wudi_______u_Actions takes nothing returns nothing
call SetUnitInvulnerable(gg_unit_h001_0004,false)
call DisplayTextToForce(GetPlayersAll(),"时间到，宿舍已失去无敌保护！")
endfunction
function InitTrig_wudi_______u takes nothing returns nothing
set gg_trg_wudi_______u=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_wudi_______u,udg_jidiwudijsq)
call TriggerAddAction(gg_trg_wudi_______u,function Trig_wudi_______u_Actions)
endfunction
function Trig_nongming_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='hpea'))then
return false
endif
return true
endfunction
function Trig_nongming_Actions takes nothing returns nothing
call IssueImmediateOrder(GetSoldUnit(),"repairon")
endfunction
function InitTrig_nongming takes nothing returns nothing
set gg_trg_nongming=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_nongming,gg_unit_h001_0004,EVENT_UNIT_SELL)
call TriggerAddCondition(gg_trg_nongming,Condition(function Trig_nongming_Conditions))
call TriggerAddAction(gg_trg_nongming,function Trig_nongming_Actions)
endfunction
function Trig____________________004_Actions takes nothing returns nothing
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)-500000))
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)+49))
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"金钱过多，自动转换50W金币为49木材，收取1毛费用。"))
endfunction
function InitTrig____________________004 takes nothing returns nothing
set gg_trg____________________004=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg____________________004,Player(0),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,800000.00)
call TriggerRegisterPlayerStateEvent(gg_trg____________________004,Player(1),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,800000.00)
call TriggerRegisterPlayerStateEvent(gg_trg____________________004,Player(2),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,800000.00)
call TriggerRegisterPlayerStateEvent(gg_trg____________________004,Player(3),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,800000.00)
call TriggerRegisterPlayerStateEvent(gg_trg____________________004,Player(4),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,800000.00)
call TriggerRegisterPlayerStateEvent(gg_trg____________________004,Player(5),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,800000.00)
call TriggerAddAction(gg_trg____________________004,function Trig____________________004_Actions)
endfunction
function Trig_Stage_Actions takes nothing returns nothing
call LeaderboardSetLabel(GetLastCreatedLeaderboard(),"侵蚀率: "+R2S(udg_qinshilv)+"%")
//call LeaderboardSetLabel(GetLastCreatedLeaderboard(),"杀怪数")
call LeaderboardSortItemsBJ(GetLastCreatedLeaderboard(),bj_SORTTYPE_SORTBYVALUE,false)
endfunction
function InitTrig_Stage takes nothing returns nothing
set gg_trg_Stage=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Stage,1.00)
call TriggerAddAction(gg_trg_Stage,function Trig_Stage_Actions)
endfunction
function Trig_lead1_Func002Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(ConvertedPlayer(udg_paihang))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_lead1_Actions takes nothing returns nothing
call CreateLeaderboardBJ(GetPlayersAll(),"游戏开始")
set udg_paihang=1
loop
exitwhen udg_paihang>6
if(Trig_lead1_Func002Func001C())then
call LeaderboardAddItemBJ(ConvertedPlayer(udg_paihang),GetLastCreatedLeaderboard(),GetPlayerName(ConvertedPlayer(udg_paihang)),0)
else
endif
set udg_paihang=udg_paihang+1
endloop
endfunction
function InitTrig_lead1 takes nothing returns nothing
set gg_trg_lead1=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_lead1,2.00)
call TriggerAddAction(gg_trg_lead1,function Trig_lead1_Actions)
endfunction
function Trig_lead2_Func001Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(ConvertedPlayer(udg_paihang1))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_lead2_Actions takes nothing returns nothing
set udg_paihang1=1
loop
exitwhen udg_paihang1>6
if(Trig_lead2_Func001Func001C())then
call LeaderboardAddItemBJ(ConvertedPlayer(udg_paihang1),GetLastCreatedLeaderboard(),GetPlayerName(ConvertedPlayer(udg_paihang1)),udg_kills[udg_paihang1])
else
endif
set udg_paihang1=udg_paihang1+1
endloop
endfunction
function InitTrig_lead2 takes nothing returns nothing
set gg_trg_lead2=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_lead2,2.00)
call TriggerAddAction(gg_trg_lead2,function Trig_lead2_Actions)
endfunction
function Trig_lead3_Actions takes nothing returns nothing
set udg_kills[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_kills[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
call TriggerExecute(gg_trg_lead2)
endfunction
function InitTrig_lead3 takes nothing returns nothing
set gg_trg_lead3=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_lead3,Player(11),EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_lead3,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_lead3,function Trig_lead3_Actions)
endfunction
function Trig_tingguai_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I002'))then
return false
endif
return true
endfunction
function Trig_tingguai_Func001C takes nothing returns boolean
if(not(udg_jsq==true))then
return false
endif
return true
endfunction
function Trig_tingguai_Actions takes nothing returns nothing
if(Trig_tingguai_Func001C())then
set udg_bez_sp=true
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"购买了停怪，学校停止进攻5分钟！"))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,100)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"|cffff0000购买停怪，奖励全属性100点。"))
set udg_countstop=udg_countstop+1
call PauseTimer(udg_counter)
call StartTimerBJ(udg_tingguai,false,265.00+GetRandomInt(1,10))
call CreateTimerDialogBJ(udg_tingguai,"停怪结束")
set udg_tingguaichuangkou=GetLastCreatedTimerDialogBJ()
else
set udg_buerzhi_tingguai=true
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"购买了停怪，学校将在此次进攻结束后停止进攻5分钟。"))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,100)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetTriggerPlayer())+"|cffff0000购买停怪，奖励全属性增加100点。"))
set udg_countstop=udg_countstop+1
endif
endfunction
function InitTrig_tingguai takes nothing returns nothing
set gg_trg_tingguai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tingguai,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_tingguai,Condition(function Trig_tingguai_Conditions))
call TriggerAddAction(gg_trg_tingguai,function Trig_tingguai_Actions)
endfunction
function Trig_daoqi_Actions takes nothing returns nothing
call ResumeTimer(udg_counter)
call DestroyTimerDialog(udg_tingguaichuangkou)
set udg_bez_sp=false
endfunction
function InitTrig_daoqi takes nothing returns nothing
set gg_trg_daoqi=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_daoqi,udg_tingguai)
call TriggerAddAction(gg_trg_daoqi,function Trig_daoqi_Actions)
endfunction
function Trig_jierenwu_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I06C'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_jierenwu_Func002Func002Func002C takes nothing returns boolean
if(not(udg_buerzhi_chongxiuyouren==false))then
return false
endif
return true
endfunction
function Trig_jierenwu_Func002Func002C takes nothing returns boolean
if(not(udg_buerzhi_chongxiu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_jierenwu_Func002C takes nothing returns boolean
if(GetTriggerUnit()==gg_unit_H007_0238)then
if(GetHeroLevel(GetTriggerUnit())>=80)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Harf_0190)then
if(GetHeroLevel(GetTriggerUnit())>=80)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Otch_0172)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Ekee_0181)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Hamg_0240)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Obla_0007)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Orex_0018)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_H005_0020)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Ogrh_0091)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(GetTriggerUnit()==gg_unit_Udre_0182)then
if(GetHeroLevel(GetTriggerUnit())>=100)then
return true
endif
endif
if(not(GetHeroLevel(GetTriggerUnit())>=120))then
return false
endif
return true
endfunction
function Trig_jierenwu_Actions takes nothing returns nothing
if(Trig_jierenwu_Func002C())then
if(Trig_jierenwu_Func002Func002C())then
if(Trig_jierenwu_Func002Func002Func002C())then
call DialogClear(udg_querenchuangkou)
call DialogSetMessage(udg_querenchuangkou,"|cffff0000确认封印自身力量，进入试炼？\n(只一次机会，且中途无法退出)|r")
call DialogAddButtonBJ(udg_querenchuangkou,"确认进入！")
set udg_querenanniu[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_querenchuangkou,"稍后再来！")
set udg_querenanniu[1]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_querenchuangkou,true)
set udg_buerzhi_chongxiuyouren=true
set udg_unit_chongxiu=GetTriggerUnit()
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"有人正在进行任务，请稍候！")
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"每人只有一次机会，你已经接过此任务了。")
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"英雄等级必须达到120级才能接此任务！")
endif
endfunction
function InitTrig_jierenwu takes nothing returns nothing
set gg_trg_jierenwu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jierenwu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jierenwu,Condition(function Trig_jierenwu_Conditions))
call TriggerAddAction(gg_trg_jierenwu,function Trig_jierenwu_Actions)
endfunction
function Trig_kaishi_Func001Func013Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hmkg'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func013Func002Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hamg'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func013Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H000'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func013Func002C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hpal'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func013C takes nothing returns boolean
if(not(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]==gg_unit_Edem_0010))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func014Func001Func001Func001Func002C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H005'))then
if(not(GetUnitTypeId(udg_unit_chongxiu)=='BY00'))then
if(not(GetUnitTypeId(udg_unit_chongxiu)=='BY01'))then
return false
endif
endif
endif
return true
endfunction
function Trig_kaishi_Func001Func014Func001Func001Func001C takes nothing returns boolean
if(not(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]==gg_unit_Harf_0190))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func014Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H007'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func014Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Obla'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func014C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hblm'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func015Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H008'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func015Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Ogrh'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func015Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Orex'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func015C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hvwd'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func016Func001Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Otch'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func016Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Udre'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func016Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Ofar'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func016Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Oshd'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001Func016C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Ekee'))then
return false
endif
return true
endfunction
function Trig_kaishi_Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_querenanniu[0]))then
return false
endif
return true
endfunction
function Trig_kaishi_Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_querenanniu[1]))then
return false
endif
return true
endfunction
function Trig_kaishi_Actions takes nothing returns nothing
if(Trig_kaishi_Func001C())then
call ShowUnit(udg_unit_chongxiu,false)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"接受了入世重修任务，期待他有好的表现！"))
//call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________054,Condition(function Trig_removehea_Func002001002)),function Trig_removehea_Func002A)
set udg_buerzhi_chongxiu[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]=true
set udg_int_chongxiu[0]=0
set udg_int_chongxiu[1]=0
set udg_int_chongxiu[2]=0
set udg_int_chongxiu[3]=60
set udg_int_chongxiu[4]=0
set udg_int_chongxiu[5]=30
set udg_int_chongxiu[9]=0
set udg_int_shuxing=0
call EnableTrigger(gg_trg_chongxiujinengcd)
if(Trig_kaishi_Func001Func013C())then
call CreateNUnitsAtLoc(1,'hhes',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func013Func002C())then
call CreateNUnitsAtLoc(1,'nser',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func013Func002Func001C())then
call CreateNUnitsAtLoc(1,'hcth',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func013Func002Func001Func001C())then
call CreateNUnitsAtLoc(1,'nmed',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func013Func002Func001Func001Func001C())then
call CreateNUnitsAtLoc(1,'nhem',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if ( ( GetUnitTypeId(udg_unit_chongxiu) == 'Ewar' ) ) then
call CreateNUnitsAtLoc(1, 'nnnn', GetOwningPlayer(udg_unit_chongxiu), GetRectCenter(gg_rct______________170), bj_UNIT_FACING)
else
if ( ( GetUnitTypeId(udg_unit_chongxiu) == 'Emuu' ) ) then
                                    call CreateNUnitsAtLoc(1, 'hhdl', GetOwningPlayer(udg_unit_chongxiu), GetRectCenter(gg_rct______________170), bj_UNIT_FACING)
                                else
                                
 
 
if ( ( GetUnitTypeId(udg_unit_chongxiu) == 'BYDS' ) ) then
call CreateNUnitsAtLoc(1, 'dscx', GetOwningPlayer(udg_unit_chongxiu), GetRectCenter(gg_rct______________170), bj_UNIT_FACING)
else 
endif                                

                                endif
endif
endif
endif

if((GetUnitTypeId(udg_unit_chongxiu)=='Hart'))then
call CreateNUnitsAtLoc(1,'nhew',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if((GetUnitTypeId(udg_unit_chongxiu)=='Ewaz'))then
call CreateNUnitsAtLoc(1,'nchg',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if((GetUnitTypeId(udg_unit_chongxiu)=='Hmbr'))then
call CreateNUnitsAtLoc(1,'nw2w',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if((GetUnitTypeId(udg_unit_chongxiu)=='Emoz'))then
call CreateNUnitsAtLoc(1,'h00V',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
endif
endif
endif
endif




endif
endif
endif
if(Trig_kaishi_Func001Func014C())then
call CreateNUnitsAtLoc(1,'nws1',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func014Func001C())then
call CreateNUnitsAtLoc(1,'hbsh',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func014Func001Func001C())then
call CreateNUnitsAtLoc(1,'nchp',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func014Func001Func001Func001C())then
call CreateNUnitsAtLoc(1,'hdes',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func014Func001Func001Func001Func002C())then
call CreateNUnitsAtLoc(1,'nhea',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
if(Trig_kaishi_Func001Func015C())then
call CreateNUnitsAtLoc(1,'nemi',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func015Func001C())then
call CreateNUnitsAtLoc(1,'nhef',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func015Func001Func001C())then
call CreateNUnitsAtLoc(1,'hbot',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func015Func001Func001Func001C())then
call CreateNUnitsAtLoc(1,'nhym',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
endif
endif
endif
endif
if(Trig_kaishi_Func001Func016C())then
call CreateNUnitsAtLoc(1,'nane',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func016Func001C())then
call CreateNUnitsAtLoc(1,'nanw',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func016Func001Func001C())then
call CreateNUnitsAtLoc(1,'nano',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func016Func001Func001Func001C())then
call CreateNUnitsAtLoc(1,'nanb',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
if(Trig_kaishi_Func001Func016Func001Func001Func001Func001C())then
call CreateNUnitsAtLoc(1,'nanm',GetOwningPlayer(udg_unit_chongxiu),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
set udg_unit_chongxiu1=GetLastCreatedUnit()
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_chongxiu),GetUnitLoc(udg_unit_chongxiu1),0.00)
call SetCameraFieldForPlayer(GetOwningPlayer(udg_unit_chongxiu1),CAMERA_FIELD_TARGET_DISTANCE,3000.00,0)
call SelectUnitForPlayerSingle(udg_unit_chongxiu1,GetOwningPlayer(udg_unit_chongxiu1))
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"开始了入世重修第一步，速度战斗技巧训练。"))
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_chongxiu),0.00,0,5.00,"消灭靠近的敌人，消灭敌人越多，奖励越高。英雄死亡则重修失败！\n")
call PauseUnit(udg_unit_chongxiu1,true)
call TriggerSleepAction(1.00)
call PauseUnit(udg_unit_chongxiu1,false)
call EnableTrigger(gg_trg_suduxiulian)
call EnableTrigger(gg_trg_shadishu)
else
endif
if(Trig_kaishi_Func002C())then
set udg_buerzhi_chongxiuyouren=false
else
endif
endfunction
function InitTrig_kaishi takes nothing returns nothing
set gg_trg_kaishi=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_kaishi,udg_querenchuangkou)
call TriggerAddAction(gg_trg_kaishi,function Trig_kaishi_Actions)
endfunction
function Trig_suduxiulian_Func004C takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_suduxiulian_Func006C takes nothing returns boolean
if(not(GetRandomInt(1,3)==1))then
return false
endif
return true
endfunction
function Trig_suduxiulian_Func009Func004002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_suduxiulian_Func009Func030C takes nothing returns boolean
if((udg_int_chongxiu[1]>=30))then
return true
endif
return false
endfunction
function Trig_suduxiulian_Func009C takes nothing returns boolean
if(not Trig_suduxiulian_Func009Func030C())then
return false
endif
return true
endfunction
function Trig_suduxiulian_Actions takes nothing returns nothing
set udg_int_chongxiu[1]=(udg_int_chongxiu[1]+1)
set udg_point_chongxiu[1]=GetRandomLocInRect(udg_quyu_chongxiu[GetRandomInt(0,3)])
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_chongxiu1),0.00,0,1.00,I2S(udg_int_chongxiu[1]))
if(Trig_suduxiulian_Func004C())then
call CreateNUnitsAtLoc(1,'hgry',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point_chongxiu[1],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'hgyr',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point_chongxiu[1],bj_UNIT_FACING)
endif
call IssueTargetOrder(GetLastCreatedUnit(),"unstableconcoction",udg_unit_chongxiu1)
if(Trig_suduxiulian_Func006C())then
call CreateNUnitsAtLoc(1,'hgyr',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point_chongxiu[1],bj_UNIT_FACING)
call IssueTargetOrder(GetLastCreatedUnit(),"unstableconcoction",udg_unit_chongxiu1)
else
endif
call IssueTargetOrder(GetLastCreatedUnit(),"unstableconcoction",udg_unit_chongxiu1)
call RemoveLocation(udg_point_chongxiu[1])
if(Trig_suduxiulian_Func009C())then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("完成了速度技巧训炼~"+("此关得分为：|cffff0000"+I2S(udg_int_chongxiu[9])))))
set udg_group=GetUnitsInRectOfPlayer(gg_rct______________054,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_group,function Trig_suduxiulian_Func009Func004002)
call GroupClear(udg_group)
set udg_int_shuxing=R2I(Pow(I2R(udg_int_chongxiu[9]),1.30))
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"完成了速度技巧训炼~"))
call SetUnitLifePercentBJ(udg_unit_chongxiu1,100)
set udg_point=GetRectCenter(gg_rct______________102)
call SetUnitPositionLoc(udg_unit_chongxiu1,udg_point)
call RemoveLocation(udg_point)
set udg_point=GetRectCenter(gg_rct______________103)
call CreateNUnitsAtLoc(1,'uktn',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,220.00)
call RemoveLocation(udg_point)
set udg_point=GetRectCenter(gg_rct______________170)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_chongxiu1),udg_point,1.00)
call RemoveLocation(udg_point)
set udg_unit_chongxiuboss[0]=GetLastCreatedUnit()
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"开始了入世重修第二步，魔法战斗技巧训练。"))
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_chongxiu),0.00,0,5.00,"你必须在60秒内干掉对面的农民！\n越快干掉，奖励越丰富！")
call PauseUnit(udg_unit_chongxiu1,true)
call PauseUnit(udg_unit_chongxiuboss[0],true)
call TriggerSleepAction(2.00)
call PauseUnit(udg_unit_chongxiu1,false)
call PauseUnit(udg_unit_chongxiuboss[0],false)
call UnitAddAbility(udg_unit_chongxiu1,'Apg2')
call UnitAddAbility(udg_unit_chongxiu1,'A073')
call UnitAddAbility(udg_unit_chongxiu1,'Ablo')
call EnableTrigger(gg_trg_mofaxiulian)
else
endif
endfunction
function InitTrig_suduxiulian takes nothing returns nothing
set gg_trg_suduxiulian=CreateTrigger()
call DisableTrigger(gg_trg_suduxiulian)
call TriggerRegisterTimerEventPeriodic(gg_trg_suduxiulian,1.00)
call TriggerAddAction(gg_trg_suduxiulian,function Trig_suduxiulian_Actions)
endfunction
function Trig_mofaxiulian_Func004C takes nothing returns boolean
if(not(udg_int_chongxiu[2]==5))then
return false
endif
return true
endfunction
function Trig_mofaxiulian_Func005C takes nothing returns boolean
if(not(udg_int_chongxiu[3]<=0))then
return false
endif
return true
endfunction
function Trig_mofaxiulian_Actions takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_chongxiu1),0.00,0,1.00,I2S(udg_int_chongxiu[3]))
set udg_int_chongxiu[2]=(udg_int_chongxiu[2]+1)
set udg_int_chongxiu[3]=(udg_int_chongxiu[3]-1)
if(Trig_mofaxiulian_Func004C())then
set udg_int_chongxiu[2]=0
call IssueTargetOrder(udg_unit_chongxiuboss[0],"thunderbolt",udg_unit_chongxiu1)
else
call IssueTargetOrder(udg_unit_chongxiuboss[0],"attack",udg_unit_chongxiu1)
endif
if(Trig_mofaxiulian_Func005C())then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"未能在规定时间内干掉指定目标，魔法战斗技巧训练失败！"))
call RemoveUnit(udg_unit_chongxiu1)
call RemoveUnit(udg_unit_chongxiuboss[0])
else
endif
endfunction
function InitTrig_mofaxiulian takes nothing returns nothing
set gg_trg_mofaxiulian=CreateTrigger()
call DisableTrigger(gg_trg_mofaxiulian)
call TriggerRegisterTimerEventPeriodic(gg_trg_mofaxiulian,1.00)
call TriggerAddAction(gg_trg_mofaxiulian,function Trig_mofaxiulian_Actions)
endfunction
function Trig_jinrudisanbu_Conditions takes nothing returns boolean
if(not(udg_int_chongxiu[3]!=0))then
return false
endif
if(not(GetTriggerUnit()==udg_unit_chongxiuboss[0]))then
return false
endif
return true
endfunction
function Trig_jinrudisanbu_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("完成了魔法战斗技巧训炼~"+("此关得分为：|cffff0000"+I2S((30+udg_int_chongxiu[3]))))))
call DisableTrigger(gg_trg_mofaxiulian)
set udg_int_shuxing=(udg_int_shuxing+R2I(Pow((30.00+I2R(udg_int_chongxiu[3])),1.30)))
set udg_buerzhi_chongxiu2guan[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu1))]=true
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"开始了入世重修第三步，物理战斗技巧训练。"))
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_chongxiu1),0.00,0,5.00,"你必须在60秒内干掉对面的弓箭手！\n越快干掉，奖励越丰富！")
set udg_point=GetRectCenter(gg_rct______________102)
call SetUnitLifePercentBJ(udg_unit_chongxiu1,100)
call SetUnitPositionLoc(udg_unit_chongxiu1,udg_point)
call RemoveLocation(udg_point)
set udg_point=GetRectCenter(gg_rct______________103)
call CreateNUnitsAtLoc(1,'uktg',Player(PLAYER_NEUTRAL_AGGRESSIVE),udg_point,220.00)
set udg_unit_chongxiuboss[1]=GetLastCreatedUnit()
call RemoveLocation(udg_point)
set udg_point=GetRectCenter(gg_rct______________170)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_chongxiu1),udg_point,1.00)
call RemoveLocation(udg_point)
call PauseUnit(udg_unit_chongxiu1,true)
call PauseUnit(udg_unit_chongxiuboss[1],true)
call TriggerSleepAction(2.00)
call PauseUnit(udg_unit_chongxiu1,false)
call PauseUnit(udg_unit_chongxiuboss[1],false)
call UnitAddAbility(udg_unit_chongxiu1,'A0BE')
call DisableTrigger(gg_trg_chongxiujinengcd)
call EnableTrigger(gg_trg_wulixiulian)
endfunction
function InitTrig_jinrudisanbu takes nothing returns nothing
set gg_trg_jinrudisanbu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jinrudisanbu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jinrudisanbu,Condition(function Trig_jinrudisanbu_Conditions))
call TriggerAddAction(gg_trg_jinrudisanbu,function Trig_jinrudisanbu_Actions)
endfunction
function Trig_wulixiulian_Func004C takes nothing returns boolean
if(not(udg_int_chongxiu[5]<=0))then
return false
endif
return true
endfunction
function Trig_wulixiulian_Actions takes nothing returns nothing
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_chongxiu1),0.00,0,1.00,I2S(udg_int_chongxiu[5]))
set udg_int_chongxiu[4]=(udg_int_chongxiu[4]+1)
set udg_int_chongxiu[5]=(udg_int_chongxiu[5]-1)
if(Trig_wulixiulian_Func004C())then
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"未能在规定时间内干掉指定目标，物理战斗技巧训练失败！"))
call TriggerExecute(gg_trg_jinengjiangli)
call RemoveUnit(udg_unit_chongxiuboss[1])
else
endif
endfunction
function InitTrig_wulixiulian takes nothing returns nothing
set gg_trg_wulixiulian=CreateTrigger()
call DisableTrigger(gg_trg_wulixiulian)
call TriggerRegisterTimerEventPeriodic(gg_trg_wulixiulian,1.00)
call TriggerAddAction(gg_trg_wulixiulian,function Trig_wulixiulian_Actions)
endfunction
function Trig_jinrudisibu_Conditions takes nothing returns boolean
if(not(udg_int_chongxiu[5]!=0))then
return false
endif
if(not(GetTriggerUnit()==udg_unit_chongxiuboss[1]))then
return false
endif
if(not(IsUnitAliveBJ(udg_unit_chongxiu1)==true))then
return false
endif
return true
endfunction
function Trig_jinrudisibu_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_wulixiulian)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("完成了物理战斗技巧训炼~"+("此关得分为：|cffff0000"+I2S((50+udg_int_chongxiu[5]))))))
set udg_int_shuxing=(udg_int_shuxing+R2I(Pow((30.00+I2R(udg_int_chongxiu[5])),1.30)))
set udg_buerzhi_chongxiu3guan[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu1))]=true
call TriggerExecute(gg_trg_jinengjiangli)
endfunction
function InitTrig_jinrudisibu takes nothing returns nothing
set gg_trg_jinrudisibu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jinrudisibu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_jinrudisibu,Condition(function Trig_jinrudisibu_Conditions))
call TriggerAddAction(gg_trg_jinrudisibu,function Trig_jinrudisibu_Actions)
endfunction
function Trig_chongxiushibai_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_unit_chongxiu1))then
return false
endif
return true
endfunction
function Trig_chongxiushibai_Func002Func001Func001C takes nothing returns boolean
if(not(udg_int_chongxiu[3]!=60))then
return false
endif
return true
endfunction
function Trig_chongxiushibai_Func002Func001C takes nothing returns boolean
if(not(udg_int_chongxiu[5]!=30))then
return false
endif
if(not(IsUnitAliveBJ(udg_unit_chongxiuboss[1])==true))then
return false
endif
return true
endfunction
function Trig_chongxiushibai_Func002C takes nothing returns boolean
if(not(udg_int_chongxiu[1]<30))then
return false
endif
return true
endfunction
function Trig_chongxiushibai_Func004002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_chongxiushibai_Actions takes nothing returns nothing
call TriggerExecute(gg_trg_jinengjiangli)
if(Trig_chongxiushibai_Func002C())then
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"在速度战斗技巧训练中阵亡，重修任务失败！"))
set udg_int_shuxing=R2I(Pow(I2R(udg_int_shuxing),1.30))
call DisableTrigger(gg_trg_suduxiulian)
else
if(Trig_chongxiushibai_Func002Func001C())then
call DisableTrigger(gg_trg_wulixiulian)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"在物理战斗技巧训练中阵亡，重修任务失败！"))
call RemoveUnit(udg_unit_chongxiuboss[1])
else
if(Trig_chongxiushibai_Func002Func001Func001C())then
call DisableTrigger(gg_trg_mofaxiulian)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"在魔法战斗技巧训练中阵亡，重修任务失败！"))
call RemoveUnit(udg_unit_chongxiuboss[0])
else
endif
endif
endif
set udg_group=GetUnitsInRectOfPlayer(gg_rct______________054,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call ForGroupBJ(udg_group,function Trig_chongxiushibai_Func004002)
call GroupClear(udg_group)
endfunction
function InitTrig_chongxiushibai takes nothing returns nothing
set gg_trg_chongxiushibai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chongxiushibai,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_chongxiushibai,Condition(function Trig_chongxiushibai_Conditions))
call TriggerAddAction(gg_trg_chongxiushibai,function Trig_chongxiushibai_Actions)
endfunction
function Trig_chongxiujinengcd_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='AUdc'))then
return false
endif
return true
endfunction
function Trig_chongxiujinengcd_Actions takes nothing returns nothing
call UnitResetCooldown(GetTriggerUnit())
endfunction
function InitTrig_chongxiujinengcd takes nothing returns nothing
set gg_trg_chongxiujinengcd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_chongxiujinengcd,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_chongxiujinengcd,Condition(function Trig_chongxiujinengcd_Conditions))
call TriggerAddAction(gg_trg_chongxiujinengcd,function Trig_chongxiujinengcd_Actions)
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003Func004Func001Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Otch'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003Func004Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Udre'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003Func004C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Oshd'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Ofar'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Ekee'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H008'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Ogrh'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Orex'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hvwd'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H005'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Harf'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H007'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Obla'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hblm'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hmkg'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hamg'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='H000'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001Func002C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Hpal'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009Func001C takes nothing returns boolean
if(not(GetUnitTypeId(udg_unit_chongxiu)=='Edem'))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func009C takes nothing returns boolean
if(not(udg_buerzhi_chongxiu2guan[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu1))]==true))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Func010C takes nothing returns boolean
if(not(udg_buerzhi_chongxiu3guan[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu1))]==true))then
return false
endif
return true
endfunction
function Trig_jinengjiangli_Actions takes nothing returns nothing
call ShowUnit(udg_unit_chongxiu,true)
call SelectUnitForPlayerSingle(udg_unit_chongxiu,GetOwningPlayer(udg_unit_chongxiu))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_chongxiu),GetUnitLoc(udg_unit_chongxiu),0.10)
call SetCameraFieldForPlayer(GetOwningPlayer(udg_unit_chongxiu),CAMERA_FIELD_TARGET_DISTANCE,2000.00,0)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("共获得全属性奖励|cffff0000"+(I2S(udg_int_shuxing)+"|r点！"))))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_unit_chongxiu,bj_MODIFYMETHOD_ADD,udg_int_shuxing)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_unit_chongxiu,bj_MODIFYMETHOD_ADD,udg_int_shuxing)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_unit_chongxiu,bj_MODIFYMETHOD_ADD,udg_int_shuxing)
if(udg_con>=1)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_unit_chongxiu,bj_MODIFYMETHOD_ADD,udg_int_shuxing)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_unit_chongxiu,bj_MODIFYMETHOD_ADD,udg_int_shuxing)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_unit_chongxiu,bj_MODIFYMETHOD_ADD,udg_int_shuxing)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("能量模式下再获得全属性奖励|cffff0000"+(I2S(udg_int_shuxing)+"|r点！"))))
endif
if(Trig_jinengjiangli_Func009C())then
if(Trig_jinengjiangli_Func009Func001C())then
call IncUnitAbilityLevelSwapped('AEme',udg_unit_chongxiu)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000疯狂变身|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002C())then
call UnitAddAbility(udg_unit_chongxiu,'AOwk')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000空间追踪"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001C())then
call UnitAddAbility(udg_unit_chongxiu,'ANbl')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能|cffff0000迅步"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001C())then
call UnitAddAbility(udg_unit_chongxiu,'ACfb')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000霜冻闪电"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001C())then
call UnitAddAbility(udg_unit_chongxiu,'Acri')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000挨打功|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003C())then
set udg_buerzhi_shengming=true
call UnitAddAbility(udg_unit_chongxiu,'AHad')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000生命恢复|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002C())then
call UnitAddAbility(udg_unit_chongxiu,'AHtc')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000神之分身"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003C())then
call UnitAddAbility(udg_unit_chongxiu,'Asal')
call EnableTrigger(gg_trg_daoshen1)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000战斗技巧|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003C())then
call UnitAddAbility(udg_unit_chongxiu,'A0HY')
call UnitMakeAbilityPermanent(udg_unit_chongxiu,true,'A0HY')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000神兽召唤|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004C())then
call UnitAddAbility(udg_unit_chongxiu,'Assk')
call EnableTrigger(gg_trg_CD)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000急速冷却|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004C())then
call UnitAddAbility(udg_unit_chongxiu,'A0BF')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000分身术|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003C())then
call UnitAddAbility(udg_unit_chongxiu,'AOsw')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000吸引守卫|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001C())then
set udg_buerzhi_daoshenchongxiu=true
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000惊神刀气|r"+"")))
call UnitAddAbility(udg_unit_chongxiu,'ANca')
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004C())then
set udg_buerzhi_chongxiudushen=true
call UnitAddAbility(udg_unit_chongxiu,'AUts')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000一线生机|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001C())then
call UnitAddAbility(udg_unit_chongxiu,'A0DG')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000水脉冲|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003C())then
call UnitAddAbility(udg_unit_chongxiu,'A0DE')
call UnitMakeAbilityPermanent(udg_unit_chongxiu,true,'A0DE')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000战斗转换|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003Func004C())then
call UnitAddAbility(udg_unit_chongxiu,'A0DC')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000命运审判|r"+"")))
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003Func004Func001C())then
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000雷劫炼体|r"+"")))
call UnitAddAbility(udg_unit_chongxiu,'A0CX')
else
if(Trig_jinengjiangli_Func009Func001Func002Func001Func001Func001Func003Func002Func003Func003Func004Func004Func003Func001Func004Func001Func003Func004Func001Func003C())then
call UnitAddAbility(udg_unit_chongxiu,'A0CZ')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000土行之拳|r"+"")))
else
if(GetUnitTypeId(udg_unit_chongxiu)=='Ewar')then
call UnitAddAbility(udg_unit_chongxiu,'A0DC')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000超能静止|r"+"")))
else
if ( ( GetUnitTypeId(udg_unit_chongxiu) == 'Emuu' ) ) then
                                                                                            call UnitAddAbility(udg_unit_chongxiu, 'A0GY')
                                                                                            call DisplayTextToForce(GetPlayersAll(), ( GetUnitName(udg_unit_chongxiu) + ( "习得技能：|cffff0000等级固定|r" ) ))
                                                                                        else
                                                                                        
                                                                                        
if((GetUnitTypeId(udg_unit_chongxiu)=='Hart'))then
call UnitAddAbility(udg_unit_chongxiu,'A0EP')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000瞳术.须佐能乎|r")))
else
if((GetUnitTypeId(udg_unit_chongxiu)=='Ewaz'))then
call UnitAddAbility(udg_unit_chongxiu,'A0FA')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000御神渡之术|r")))
else
if((GetUnitTypeId(udg_unit_chongxiu)=='Hmbr'))then
call UnitAddAbility(udg_unit_chongxiu,'A0FJ')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000尸鬼封尽|r")))
else
if((GetUnitTypeId(udg_unit_chongxiu)=='Emoz'))then
call UnitAddAbility(udg_unit_chongxiu,'A0FK')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000时空轮回|r")))
else

if((GetUnitTypeId(udg_unit_chongxiu)=='BY00'))then
call UnitAddAbility(udg_unit_chongxiu,'A0HZ')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000急速冷却·变异|r")))
else

if((GetUnitTypeId(udg_unit_chongxiu)=='BY01'))then
call UnitAddAbility(udg_unit_chongxiu,'Amim')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000魔法免疫|r")))
else


if((GetUnitTypeId(udg_unit_chongxiu)=='BYDS'))then
//call UnitAddAbility(udg_unit_chongxiu,'Amim')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+("习得技能：|cffff0000五行混沌升1级|r")))
call IncUnitAbilityLevelSwapped('A0CK',gg_unit_bydoushen)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(gg_unit_bydoushen))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(gg_unit_bydoushen))]+1
else
endif



endif

endif

endif
endif
endif
endif                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        
                                                                                        endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
if(Trig_jinengjiangli_Func010C())then
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_chongxiu)+"获得|cffff0000全系数+30|r的奖励！"))
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]+30)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]+30)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_chongxiu))]+30)
else
endif
call RemoveUnit(udg_unit_chongxiu1)
call TriggerSleepAction(1.00)
set udg_buerzhi_chongxiuyouren=false
endfunction
function InitTrig_jinengjiangli takes nothing returns nothing
set gg_trg_jinengjiangli=CreateTrigger()
call TriggerAddAction(gg_trg_jinengjiangli,function Trig_jinengjiangli_Actions)
endfunction
function Trig_shadishu_Conditions takes nothing returns boolean
if(not(GetKillingUnitBJ()==udg_unit_chongxiu1))then
return false
endif
return true
endfunction
function Trig_shadishu_Func003Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='hgry'))then
return false
endif
return true
endfunction
function Trig_shadishu_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='hgyr'))then
return false
endif
return true
endfunction
function Trig_shadishu_Actions takes nothing returns nothing
if(Trig_shadishu_Func003C())then
set udg_int_chongxiu[9]=(udg_int_chongxiu[9]+2)
else
if(Trig_shadishu_Func003Func001C())then
set udg_int_chongxiu[9]=(udg_int_chongxiu[9]+4)
else
endif
endif
endfunction
function InitTrig_shadishu takes nothing returns nothing
set gg_trg_shadishu=CreateTrigger()
call DisableTrigger(gg_trg_shadishu)
call TriggerRegisterAnyUnitEventBJ(gg_trg_shadishu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_shadishu,Condition(function Trig_shadishu_Conditions))
call TriggerAddAction(gg_trg_shadishu,function Trig_shadishu_Actions)
endfunction
function Trig_shanshoujingzhi_Func004C takes nothing returns boolean
if((RectContainsLoc(gg_rct______________162,GetSpellTargetLoc())==true))then
return true
endif
if((RectContainsLoc(gg_rct______________163,GetSpellTargetLoc())==true))then
return true
endif
if((RectContainsLoc(gg_rct______________054,GetSpellTargetLoc())==true))then
return true
endif
return false
endfunction
function Trig_shanshoujingzhi_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A09B'))then
return false
endif
if(not Trig_shanshoujingzhi_Func004C())then
return false
endif
return true
endfunction
function Trig_shanshoujingzhi_Actions takes nothing returns nothing
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000此处空间法则混乱，无法瞬移！")
endfunction
function InitTrig_shanshoujingzhi takes nothing returns nothing
set gg_trg_shanshoujingzhi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shanshoujingzhi,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_shanshoujingzhi,Condition(function Trig_shanshoujingzhi_Conditions))
call TriggerAddAction(gg_trg_shanshoujingzhi,function Trig_shanshoujingzhi_Actions)
endfunction
function Trig_zhangshandian_Func002C takes nothing returns boolean
if(not(udg_buerzhi_chongxiuyouren==false))then
return false
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01D'))=='I01D'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01L'))=='I01L'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01K'))=='I01K'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01M'))=='I01M'))then
return true
endif
return false
endfunction
function Trig_zhangshandian_Conditions takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
if(not Trig_zhangshandian_Func002C())then
return false
endif
return true
endfunction
function Trig_zhangshandian_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01D'))=='I01D'))then
return false
endif
return true
endfunction
function Trig_zhangshandian_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01L'))=='I01L'))then
return false
endif
return true
endfunction
function Trig_zhangshandian_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01K'))=='I01K'))then
return false
endif
return true
endfunction
function Trig_zhangshandian_Func007C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01M'))=='I01M'))then
return false
endif
return true
endfunction
function Trig_zhangshandian_Actions takes nothing returns nothing
set udg_shandianlsd=GetUnitLoc(GetAttacker())
if(Trig_zhangshandian_Func004C())then
call CreateNUnitsAtLoc(1,'n007',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A07G',4)
else
endif
if(Trig_zhangshandian_Func005C())then
call CreateNUnitsAtLoc(1,'n007',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A07G',3)
else
endif
if(Trig_zhangshandian_Func006C())then
call CreateNUnitsAtLoc(1,'n007',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A07G',2)
else
endif
if(Trig_zhangshandian_Func007C())then
call CreateNUnitsAtLoc(1,'n007',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call SetUnitAbilityLevel(GetLastCreatedUnit(),'A07G',1)
else
endif
call IssueTargetOrder(GetLastCreatedUnit(),"forkedlightning",GetAttackedUnitBJ())
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_shandianlsd)
endfunction
function InitTrig_zhangshandian takes nothing returns nothing
set gg_trg_zhangshandian=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_zhangshandian,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_zhangshandian,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_zhangshandian,Condition(function Trig_zhangshandian_Conditions))
call TriggerAddAction(gg_trg_zhangshandian,function Trig_zhangshandian_Actions)
endfunction
function Trig_huoyan_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_huoyan_Func004Func002Func001001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huoyan_Func004Func002Func001001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_huoyan_Func004Func002Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_huoyan_Func004Func002Func001001003001(),Trig_huoyan_Func004Func002Func001001003002())
endfunction
function Trig_huoyan_Func004Func002Func001A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),60000.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_huoyan_Func004Func002C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I059')==true))then
return false
endif
return true
endfunction
function Trig_huoyan_Func004Func003Func001001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huoyan_Func004Func003Func001001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_huoyan_Func004Func003Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_huoyan_Func004Func003Func001001003001(),Trig_huoyan_Func004Func003Func001001003002())
endfunction
function Trig_huoyan_Func004Func003Func001A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),150000.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_huoyan_Func004Func003C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I058')==true))then
return false
endif
return true
endfunction
function Trig_huoyan_Func004Func004Func001001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_huoyan_Func004Func004Func001001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_huoyan_Func004Func004Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_huoyan_Func004Func004Func001001003001(),Trig_huoyan_Func004Func004Func001001003002())
endfunction
function Trig_huoyan_Func004Func004Func001A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),100000.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_huoyan_Func004Func004C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I05A')==true))then
return false
endif
return true
endfunction
function Trig_huoyan_Func004C takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_huoyan_Actions takes nothing returns nothing
set udg_wupinjinengd=GetUnitLoc(GetAttackedUnitBJ())
if(Trig_huoyan_Func004C())then
if(Trig_huoyan_Func004Func002C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(700.00,udg_wupinjinengd,Condition(function Trig_huoyan_Func004Func002Func001001003)),function Trig_huoyan_Func004Func002Func001A)
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_huoyan_Func004Func003C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_wupinjinengd,Condition(function Trig_huoyan_Func004Func003Func001001003)),function Trig_huoyan_Func004Func003Func001A)
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_huoyan_Func004Func004C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00,udg_wupinjinengd,Condition(function Trig_huoyan_Func004Func004Func001001003)),function Trig_huoyan_Func004Func004Func001A)
call RemoveLocation(udg_shandianlsd)
else
endif
else
endif
endfunction
function InitTrig_huoyan takes nothing returns nothing
set gg_trg_huoyan=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huoyan,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_huoyan,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huoyan,Condition(function Trig_huoyan_Conditions))
call TriggerAddAction(gg_trg_huoyan,function Trig_huoyan_Actions)
endfunction
function Trig_shieryuezhang_Func003C takes nothing returns boolean
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05O'))=='I05O'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05U'))=='I05U'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05M'))=='I05M'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05N'))=='I05N'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I99M'))=='I99M'))then
return true
endif
return false
endfunction
function Trig_shieryuezhang_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
if(not Trig_shieryuezhang_Func003C())then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func004C takes nothing returns boolean
if(not(udg_yuezhang[1]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func005C takes nothing returns boolean
if(not(udg_yuezhang[2]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func006C takes nothing returns boolean
if(not(udg_yuezhang[3]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func007C takes nothing returns boolean
if(not(udg_yuezhang[4]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func008C takes nothing returns boolean
if(not(udg_yuezhang[5]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func009C takes nothing returns boolean
if(not(udg_yuezhang[6]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func010C takes nothing returns boolean
if(not(udg_yuezhang[7]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func011C takes nothing returns boolean
if(not(udg_yuezhang[8]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func012C takes nothing returns boolean
if(not(udg_yuezhang[9]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func013C takes nothing returns boolean
if(not(udg_yuezhang[10]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func014C takes nothing returns boolean
if(not(udg_yuezhang[11]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Func015C takes nothing returns boolean
if(not(udg_yuezhang[12]==true))then
return false
endif
if(not(GetRandomInt(1,(10*udg_yuezhangsl))==1))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_Actions takes nothing returns nothing
if(Trig_shieryuezhang_Func004C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A09X',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func005C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0A5',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"hex",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func006C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0AA',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"shadowstrike",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func007C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0A4',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"slow",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func008C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0AC',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"cripple",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
//if(Trig_shieryuezhang_Func009C())then
//set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
//call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
//call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
//call UnitAddAbilityBJ('A0AB',GetLastCreatedUnit())
//call IssueTargetOrder(GetLastCreatedUnit(),"manaburn",GetAttackedUnitBJ())
//call RemoveLocation(udg_shandianlsd)
//else
//endif
if(Trig_shieryuezhang_Func010C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0A8',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"sleep",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func011C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0AD',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"doom",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func012C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0A9',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"faeriefire",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func013C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0A6',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"banish",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func014C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0A7',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"curse",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
if(Trig_shieryuezhang_Func015C())then
set udg_shandianlsd=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetAttacker()),udg_shandianlsd,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0AE',GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"cripple",GetAttackedUnitBJ())
call RemoveLocation(udg_shandianlsd)
else
endif
endfunction
function InitTrig_shieryuezhang takes nothing returns nothing
set gg_trg_shieryuezhang=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shieryuezhang,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shieryuezhang,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shieryuezhang,Condition(function Trig_shieryuezhang_Conditions))
call TriggerAddAction(gg_trg_shieryuezhang,function Trig_shieryuezhang_Actions)
endfunction
function Trig_shieryuezhang_______u_Func004C takes nothing returns boolean
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05O'))=='I05O'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05U'))=='I05U'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05M'))=='I05M'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05N'))=='I05N'))then
return true
endif
if((GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I99M'))=='I99M'))then
return true
endif
return false
endfunction
function Trig_shieryuezhang_______u_Conditions takes nothing returns boolean
if(not(GetRandomInt(1,20)==1))then
return false
endif
if(not Trig_shieryuezhang_______u_Func004C())then
return false
endif
return true
endfunction
function Trig_shieryuezhang_______u_Func002Func001Func001Func001C takes nothing returns boolean
if(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05N'))=='I05N')then
return true
endif
if(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I99M'))=='I99M')then
return true
endif
return false
endfunction
function Trig_shieryuezhang_______u_Func002Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05O'))=='I05O'))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_______u_Func002Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05U'))=='I05U'))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_______u_Func002C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetAttacker(),'I05M'))=='I05M'))then
return false
endif
return true
endfunction
function Trig_shieryuezhang_______u_Func003Func005001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_shieryuezhang_______u_Func003Func005001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)
endfunction
function Trig_shieryuezhang_______u_Func003Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_shieryuezhang_______u_Func003Func005001003001(),Trig_shieryuezhang_______u_Func003Func005001003002())
endfunction
function Trig_shieryuezhang_______u_Func003Func005A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"war3mapImported\\holyawakening.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playeryuezhangmh[4],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_shieryuezhang_______u_Func003C takes nothing returns boolean
return true
endfunction
function Trig_shieryuezhang_______u_Actions takes nothing returns nothing
if(Trig_shieryuezhang_______u_Func002C())then
set udg_yuezhangdengji=1.00
else
if(Trig_shieryuezhang_______u_Func002Func001C())then
set udg_yuezhangdengji=1.50
else
if(Trig_shieryuezhang_______u_Func002Func001Func001C())then
set udg_yuezhangdengji=2.00
else
if(Trig_shieryuezhang_______u_Func002Func001Func001Func001C())then
set udg_yuezhangdengji=2.50
else
endif
endif
endif
endif
if(Trig_shieryuezhang_______u_Func003C())then
set udg_playeryuezhangmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playeryuezhangmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playeryuezhangmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playeryuezhangmh[4]=(udg_yuezhangdengji*(udg_playeryuezhangmh[1]+((udg_playeryuezhangmh[2]+(udg_playeryuezhangmh[3]*1.30))*((I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])+(I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])+I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))/3.00))))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,GetUnitLoc(GetAttackedUnitBJ()),Condition(function Trig_shieryuezhang_______u_Func003Func005001003)),function Trig_shieryuezhang_______u_Func003Func005A)
else
endif
endfunction
function InitTrig_shieryuezhang_______u takes nothing returns nothing
set gg_trg_shieryuezhang_______u=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shieryuezhang_______u,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_shieryuezhang_______u,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_shieryuezhang_______u,Condition(function Trig_shieryuezhang_______u_Conditions))
call TriggerAddAction(gg_trg_shieryuezhang_______u,function Trig_shieryuezhang_______u_Actions)
endfunction
function Trig_pojia_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSummonedUnit())=='n00A'))then
return false
endif
return true
endfunction
function Trig_pojia_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetSummoningUnit()))+"|cffff0000使用了破甲神阵！"))
endfunction
function InitTrig_pojia takes nothing returns nothing
set gg_trg_pojia=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_pojia,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_pojia,Condition(function Trig_pojia_Conditions))
call TriggerAddAction(gg_trg_pojia,function Trig_pojia_Actions)
endfunction
function Trig_fangyu_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I04X'))then
return false
endif
return true
endfunction
function Trig_fangyu_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000使用了神之守护！"))
endfunction
function InitTrig_fangyu takes nothing returns nothing
set gg_trg_fangyu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fangyu,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg_fangyu,Condition(function Trig_fangyu_Conditions))
call TriggerAddAction(gg_trg_fangyu,function Trig_fangyu_Actions)
endfunction
function Trig_beiji1_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSummonedUnit())=='n00B'))then
return false
endif
return true
endfunction
function Trig_beiji1_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetSummoningUnit()))+"|cffff0000使用了毁灭神阵！"))
set udg_beijidw=GetSummonedUnit()
call EnableTrigger(gg_trg_beiji3)
call TriggerRegisterUnitInRangeSimple(gg_trg_beiji2,1000.00,udg_beijidw)
endfunction
function InitTrig_beiji1 takes nothing returns nothing
set gg_trg_beiji1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_beiji1,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_beiji1,Condition(function Trig_beiji1_Conditions))
call TriggerAddAction(gg_trg_beiji1,function Trig_beiji1_Actions)
endfunction
function Trig_beiji2_Conditions takes nothing returns boolean
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_beijidw)==true))then
return false
endif
return true
endfunction
function Trig_beiji2_Actions takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A07W')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A07W')
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A07W',false)
call GroupAddUnit(udg_beijizu,GetTriggerUnit())
endfunction
function InitTrig_beiji2 takes nothing returns nothing
set gg_trg_beiji2=CreateTrigger()
call TriggerAddCondition(gg_trg_beiji2,Condition(function Trig_beiji2_Conditions))
call TriggerAddAction(gg_trg_beiji2,function Trig_beiji2_Actions)
endfunction
function Trig_beiji3_Func003Func002C takes nothing returns boolean
if(not(DistanceBetweenPoints(udg_beijid1,udg_beijid2)>=1000.00))then
return false
endif
return true
endfunction
function Trig_beiji3_Func003A takes nothing returns nothing
set udg_beijid2=GetUnitLoc(GetEnumUnit())
if(Trig_beiji3_Func003Func002C())then
call UnitRemoveAbility(GetEnumUnit(),'A07W')
call RemoveLocation(udg_beijid2)
else
endif
endfunction
function Trig_beiji3_Actions takes nothing returns nothing
set udg_beijid1=GetUnitLoc(udg_beijidw)
call ForGroupBJ(udg_beijizu,function Trig_beiji3_Func003A)
call RemoveLocation(udg_beijid1)
endfunction
function InitTrig_beiji3 takes nothing returns nothing
set gg_trg_beiji3=CreateTrigger()
call DisableTrigger(gg_trg_beiji3)
call TriggerRegisterTimerEventPeriodic(gg_trg_beiji3,1.00)
call TriggerAddAction(gg_trg_beiji3,function Trig_beiji3_Actions)
endfunction
function Trig_beiji4_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_beijidw))then
return false
endif
return true
endfunction
function Trig_beiji4_Func004A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'A07W')
endfunction
function Trig_beiji4_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|cffff0000毁灭神阵已经消失！")
call ForGroupBJ(udg_beijizu,function Trig_beiji4_Func004A)
call DisableTrigger(gg_trg_beiji3)
endfunction
function InitTrig_beiji4 takes nothing returns nothing
set gg_trg_beiji4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_beiji4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_beiji4,Condition(function Trig_beiji4_Conditions))
call TriggerAddAction(gg_trg_beiji4,function Trig_beiji4_Actions)
endfunction
function Trig_duobi1_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSummonedUnit())=='n009'))then
return false
endif
return true
endfunction
function Trig_duobi1_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetSummoningUnit()))+"|cffff0000使用了躲避神阵！"))
set udg_duobidw=GetSummonedUnit()
call EnableTrigger(gg_trg_duobi3)
call TriggerRegisterUnitInRangeSimple(gg_trg_duobi2,1000.00,udg_duobidw)
endfunction
function InitTrig_duobi1 takes nothing returns nothing
set gg_trg_duobi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duobi1,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_duobi1,Condition(function Trig_duobi1_Conditions))
call TriggerAddAction(gg_trg_duobi1,function Trig_duobi1_Actions)
endfunction
function Trig_duobi2_Conditions takes nothing returns boolean
if(not(IsUnitAlly(GetTriggerUnit(),Player(7))==true))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_duobidw)==true))then
return false
endif
return true
endfunction
function Trig_duobi2_Actions takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A08F')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A08F')
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A08F',false)
call GroupAddUnit(udg_duobizu,GetTriggerUnit())
endfunction
function InitTrig_duobi2 takes nothing returns nothing
set gg_trg_duobi2=CreateTrigger()
call TriggerAddCondition(gg_trg_duobi2,Condition(function Trig_duobi2_Conditions))
call TriggerAddAction(gg_trg_duobi2,function Trig_duobi2_Actions)
endfunction
function Trig_duobi3_Func003Func002C takes nothing returns boolean
if(not(DistanceBetweenPoints(udg_duobid1,udg_duobid2)>=1000.00))then
return false
endif
return true
endfunction
function Trig_duobi3_Func003A takes nothing returns nothing
set udg_duobid2=GetUnitLoc(GetEnumUnit())
if(Trig_duobi3_Func003Func002C())then
call UnitRemoveAbility(GetEnumUnit(),'A08F')
call RemoveLocation(udg_duobid2)
else
endif
endfunction
function Trig_duobi3_Actions takes nothing returns nothing
set udg_duobid1=GetUnitLoc(udg_duobidw)
call ForGroupBJ(udg_duobizu,function Trig_duobi3_Func003A)
call RemoveLocation(udg_duobid1)
endfunction
function InitTrig_duobi3 takes nothing returns nothing
set gg_trg_duobi3=CreateTrigger()
call DisableTrigger(gg_trg_duobi3)
call TriggerRegisterTimerEventPeriodic(gg_trg_duobi3,1.00)
call TriggerAddAction(gg_trg_duobi3,function Trig_duobi3_Actions)
endfunction
function Trig_duobi4_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_duobidw))then
return false
endif
return true
endfunction
function Trig_duobi4_Func004A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'A08F')
endfunction
function Trig_duobi4_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|cffff0000躲避神阵已经消失！")
call ForGroupBJ(udg_duobizu,function Trig_duobi4_Func004A)
call DisableTrigger(gg_trg_duobi3)
endfunction
function InitTrig_duobi4 takes nothing returns nothing
set gg_trg_duobi4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duobi4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_duobi4,Condition(function Trig_duobi4_Conditions))
call TriggerAddAction(gg_trg_duobi4,function Trig_duobi4_Actions)
endfunction
function Trig_miehun_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08A'))then
return false
endif
return true
endfunction
function Trig_miehun_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='N000'))then
return false
endif
return true
endfunction
function Trig_miehun_Actions takes nothing returns nothing
if(Trig_miehun_Func001C())then
if(udg_selfdestruct==0)then
call UnitRemoveAbility(GetSpellTargetUnit(),'A01Z')
call UnitRemoveAbility(GetSpellTargetUnit(),'B00O')
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"只见一道红光闪过，魔王将不在拥有护体技能！")
else
call DisplayTextToForce(GetPlayersAll(),"只见一道红光闪过，180秒后魔王将不在拥有护体技能！")
call DisplayTextToForce(GetPlayersAll(),"只见一道红光闪过，180秒后魔王将不在拥有护体技能！")
call DisplayTextToForce(GetPlayersAll(),"只见一道红光闪过，180秒后魔王将不在拥有护体技能！")
endif
set udg_mowang=GetSpellTargetUnit()
call StartTimerBJ(udg_mowangwudi,false,180)

if(udg_badend==false)then
if(udg_selfdestruct>=2)then
if(udg_countstop>=2)then
call StartTimerBJ(udg_mowangcon,false,15)
else
call StartTimerBJ(udg_mowangcon,false,80)
endif
endif
endif

if(udg_selfdestruct==2)then
call CreateNUnitsAtLoc(1,'ufro',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(4,'eeee',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(3,'ufro',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
if(udg_countstop>=4)then
call CreateNUnitsAtLoc(4,'ufro',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Nklj',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
if(udg_elfkey==0)then
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uv07',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
endif
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
endif
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌25秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,25)
endif
if(udg_selfdestruct>=4)then
if(udg_badend==false)then
call CreateNUnitsAtLoc(1,'Ud01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'ufro',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(3,'Bos2',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Usyl',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uear',Player(11),GetRectCenter(gg_rct______________035),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'Bos8',Player(11),GetRectCenter(gg_rct______________035),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct______________035),bj_UNIT_FACING)
set udg_rabbit=udg_rabbit+8
if(udg_countstop>=4)then
call CreateNUnitsAtLoc(2,'Bos7',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos8',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'Bos9',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos0',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
set udg_rabbit=udg_rabbit+8
endif
endif
call CreateNUnitsAtLoc(2,'Bos9',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call SetUnitInvulnerable(gg_unit_h001_0004,true)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"宿舍受到保护将无敌40秒！"))
call StartTimerBJ(udg_jidiwudijsq,false,40)
call CreateNUnitsAtLoc(5,'ufro',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
if(udg_countstop>=4)then
if(udg_dubo2==4)then
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(3,'Bos8',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uv01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(3,'Ud01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
set udg_uvlevel=9
set udg_rabbit=udg_rabbit+12
else
if(udg_badend==false)then
call CreateNUnitsAtLoc(1,'Uv01',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'S006',Player(11),GetRectCenter(gg_rct______________005),bj_UNIT_FACING)
set udg_uvlevel=9
endif
call CreateNUnitsAtLoc(2,'Bos8',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(3,'Ud01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
set udg_rabbit=udg_rabbit+8
if(udg_badend==false)then
set udg_rabbit=0
endif
endif
endif
//set udg_con=udg_con+2
endif
//call UnitRemoveAbility(udg_mowang,'A01Z')
//call UnitRemoveAbility(udg_mowang,'B00O')
if(not(udg_nanduBL==1))then
call CreateNUnitsAtLoc(1,'ufro',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
endif
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"在乱用神器，大家BS他吧！"))
endif
endfunction
function InitTrig_miehun takes nothing returns nothing
set gg_trg_miehun=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_miehun,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_miehun,Condition(function Trig_miehun_Conditions))
call TriggerAddAction(gg_trg_miehun,function Trig_miehun_Actions)
endfunction



function Trig_mowangcon_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'Etyr',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Udea',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
//call CreateNUnitsAtLoc(1,'Nklj',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________000),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos9',Player(11),GetRectCenter(gg_rct______________035),bj_UNIT_FACING)
if(udg_selfdestruct==4)then
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct______________035),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Bos7',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Uvar',Player(11),GetRectCenter(gg_rct________001),bj_UNIT_FACING)
call CreateNUnitsAtLoc(2,'ufro',Player(11),GetRectCenter(gg_rct________002),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,udg_xili[GetRandomInt(31,45)],Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)

if(udg_mowangs005count==3)then
call CreateNUnitsAtLoc(1,'S005',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
if(udg_mowangs005count==1)then
call CreateNUnitsAtLoc(1,'N014',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
if(udg_mowangs005count==2)then
call CreateNUnitsAtLoc(1,'NS01',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
endif
set udg_mowangs005count=udg_mowangs005count+1


endif
call StartTimerBJ(udg_mowangcon,false,53-6*udg_selfdestruct)
endfunction

function InitTrig_mowangcon takes nothing returns nothing
set gg_trg_mowangcon=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_mowangcon,udg_mowangcon)
call TriggerAddAction(gg_trg_mowangcon,function Trig_mowangcon_Actions)
endfunction


function Trig_wudimowang_Actions takes nothing returns nothing
call UnitRemoveAbility(udg_mowang,'A01Z')
call UnitRemoveAbility(udg_mowang,'B00O')
call DisplayTextToForce(GetPlayersAll(),"时间到，魔王失去无敌保护！")
endfunction
function InitTrig_wudimowang takes nothing returns nothing
set gg_trg_wudimowang=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_wudimowang,udg_mowangwudi)
call TriggerAddAction(gg_trg_wudimowang,function Trig_wudimowang_Actions)
endfunction
function Trig_liwu_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BS'))then
return false
endif
return true
endfunction
function Trig_liwu_Func002C takes nothing returns boolean
if(not(GetRandomInt(1,20)==1))then
return false
endif
return true
endfunction
function Trig_liwu_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'oflg'))
if(Trig_liwu_Func002C())then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(25,27)],GetTriggerUnit())
else
set udg_int_liwu=GetRandomInt(140,149)
call UnitAddItemByIdSwapped(udg_Item[udg_int_liwu],GetTriggerUnit())

endif
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(GetTriggerUnit())+("打开大礼包，获得了|cffff0000"+GetItemName(GetLastCreatedItem()))))
if(GetRandomInt(1,52)==1)then
call UnitAddItemByIdSwapped(udg_Item[190],GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(GetTriggerUnit())+("打开大礼包，获得了|cffff0000"+GetItemName(GetLastCreatedItem()))))
endif

call UnitAddItemByIdSwapped('XX00',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(GetTriggerUnit())+("打开大礼包，获得了|cffff0000"+GetItemName(GetLastCreatedItem()))))

if(udg_nanduBL==1)then
if(GetRandomInt(1,5)==1)then
call UnitAddItemByIdSwapped(udg_Item[75],GetTriggerUnit())
endif
endif
endfunction
function InitTrig_liwu takes nothing returns nothing
set gg_trg_liwu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_liwu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_liwu,Condition(function Trig_liwu_Conditions))
call TriggerAddAction(gg_trg_liwu,function Trig_liwu_Actions)
endfunction
function Trig_phoenix_Conditions takes nothing returns boolean
return false
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetSpellAbilityId()=='AHwe'))then
return false
endif
return true
endfunction
function Trig_phoenix_Func001C takes nothing returns boolean
if(not(udg_buerzhi_phoenix[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_phoenix_Actions takes nothing returns nothing
if(Trig_phoenix_Func001C())then
set udg_buerzhi_phoenix[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call AdjustPlayerStateBJ((10000*R2I(Pow(I2R(udg_waves),0.60))),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call StartTimerBJ(udg_jsq_phoenix[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,14.70)
else
//call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你的凤凰太多了，全属性减100！！")
//call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,100)
//call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,100)
//call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,100)
endif
endfunction
function InitTrig_phoenix takes nothing returns nothing
set gg_trg_phoenix=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_phoenix,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_phoenix,Condition(function Trig_phoenix_Conditions))
call TriggerAddAction(gg_trg_phoenix,function Trig_phoenix_Actions)
endfunction
function Trig_phoenix1_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetExpiredTimer()==udg_jsq_phoenix[bj_forLoopAIndex]then
set udg_buerzhi_phoenix[bj_forLoopAIndex]=false
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_phoenix1 takes nothing returns nothing
set gg_trg_phoenix1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_phoenix1,udg_jsq_phoenix[1])
call TriggerRegisterTimerExpireEventBJ(gg_trg_phoenix1,udg_jsq_phoenix[2])
call TriggerRegisterTimerExpireEventBJ(gg_trg_phoenix1,udg_jsq_phoenix[3])
call TriggerRegisterTimerExpireEventBJ(gg_trg_phoenix1,udg_jsq_phoenix[4])
call TriggerRegisterTimerExpireEventBJ(gg_trg_phoenix1,udg_jsq_phoenix[5])
call TriggerRegisterTimerExpireEventBJ(gg_trg_phoenix1,udg_jsq_phoenix[6])
call TriggerAddAction(gg_trg_phoenix1,function Trig_phoenix1_Actions)
endfunction
function Trig_sq1_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetSpellAbilityId()=='A0D6'))then
return false
endif
return true
endfunction
function Trig_sq1_Func001C takes nothing returns boolean
if(not(udg_buerzhi_jingzi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_sq1_Actions takes nothing returns nothing
if(Trig_sq1_Func001C())then
set udg_buerzhi_jingzi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call AdjustPlayerStateBJ((10000*R2I(Pow(I2R(udg_waves),0.60))),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call StartTimerBJ(udg_jsq_jingzi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,60.00)
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"物品技能CD中！")
endif
endfunction
function InitTrig_sq1 takes nothing returns nothing
set gg_trg_sq1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sq1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sq1,Condition(function Trig_sq1_Conditions))
call TriggerAddAction(gg_trg_sq1,function Trig_sq1_Actions)
endfunction
function Trig_sq11_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetExpiredTimer()==udg_jsq_jingzi[bj_forLoopAIndex]then
set udg_buerzhi_jingzi[bj_forLoopAIndex]=false
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_sq11 takes nothing returns nothing
set gg_trg_sq11=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_sq11,udg_jsq_jingzi[1])
call TriggerRegisterTimerExpireEventBJ(gg_trg_sq11,udg_jsq_jingzi[2])
call TriggerRegisterTimerExpireEventBJ(gg_trg_sq11,udg_jsq_jingzi[3])
call TriggerRegisterTimerExpireEventBJ(gg_trg_sq11,udg_jsq_jingzi[4])
call TriggerRegisterTimerExpireEventBJ(gg_trg_sq11,udg_jsq_jingzi[5])
call TriggerRegisterTimerExpireEventBJ(gg_trg_sq11,udg_jsq_jingzi[6])
call TriggerAddAction(gg_trg_sq11,function Trig_sq11_Actions)
endfunction
function Trig_sq2_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'oslo')==true))then
return false
endif
return true
endfunction
function Trig_sq2_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_sq2_Actions takes nothing returns nothing
if(Trig_sq2_Func001C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,1)
else
endif
endfunction
function InitTrig_sq2 takes nothing returns nothing
set gg_trg_sq2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sq2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_sq2,Condition(function Trig_sq2_Conditions))
call TriggerAddAction(gg_trg_sq2,function Trig_sq2_Actions)
endfunction
function Trig_sq2_______u_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'mlst')==true))then
return false
endif
return true
endfunction
function Trig_sq2_______u_Func001C takes nothing returns boolean
if(not(GetRandomInt(1,12)==1))then
return false
endif
return true
endfunction
function Trig_sq2_______u_Actions takes nothing returns nothing
if(Trig_sq2_______u_Func001C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,10)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,10)
else
endif
endfunction
function InitTrig_sq2_______u takes nothing returns nothing
set gg_trg_sq2_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sq2_______u,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_sq2_______u,Condition(function Trig_sq2_______u_Conditions))
call TriggerAddAction(gg_trg_sq2_______u,function Trig_sq2_______u_Actions)
endfunction
function Trig_sq3_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0D7'))then
return false
endif
return true
endfunction
function Trig_sq3_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_sq3_Actions takes nothing returns nothing
if(Trig_sq3_Func001C())then
call UnitAddAbility(GetTriggerUnit(),'S001')
call TriggerSleepAction(15.00)
call UnitRemoveAbility(GetTriggerUnit(),'S001')
else
endif
endfunction
function InitTrig_sq3 takes nothing returns nothing
set gg_trg_sq3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sq3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sq3,Condition(function Trig_sq3_Conditions))
call TriggerAddAction(gg_trg_sq3,function Trig_sq3_Actions)
endfunction
function Trig_wuqi1_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_wuqi1_Func004Func001C takes nothing returns boolean
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06H')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06P')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06Q')==true))then
return true
endif
return false
endfunction
function Trig_wuqi1_Func004C takes nothing returns boolean
if(not Trig_wuqi1_Func004Func001C())then
return false
endif
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_wuqi1_Actions takes nothing returns nothing
set udg_point=GetUnitLoc(GetAttackedUnitBJ())
if(Trig_wuqi1_Func004C())then
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=(1.00*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*((I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])+I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))+I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))))
set udg_playershesmh[5]=(udg_playershesmh[4]*0.15)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"war3mapImported\\ArcaneTeleportation3.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_wuqi1 takes nothing returns nothing
set gg_trg_wuqi1=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wuqi1,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wuqi1,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wuqi1,Condition(function Trig_wuqi1_Conditions))
call TriggerAddAction(gg_trg_wuqi1,function Trig_wuqi1_Actions)
endfunction
function Trig_wuqi11_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='ufro'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='ncea'))then
return false
endif
return true
endfunction
function Trig_wuqi11_Func003Func001C takes nothing returns boolean
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06I')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06R')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06S')==true))then
return true
endif
return false
endfunction
function Trig_wuqi11_Func003Func009002002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_wuqi11_Func003Func009002002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_wuqi11_Func003Func009002002003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_wuqi11_Func003Func009002002003002002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_wuqi11_Func003Func009002002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_wuqi11_Func003Func009002002003002002001(),Trig_wuqi11_Func003Func009002002003002002002())
endfunction
function Trig_wuqi11_Func003Func009002002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_wuqi11_Func003Func009002002003002001(),Trig_wuqi11_Func003Func009002002003002002())
endfunction
function Trig_wuqi11_Func003Func009002002003 takes nothing returns boolean
return GetBooleanAnd(Trig_wuqi11_Func003Func009002002003001(),Trig_wuqi11_Func003Func009002002003002())
endfunction
function Trig_wuqi11_Func003Func010A takes nothing returns nothing
call DisplayTextToPlayer(Player(0),0,0,"效果出\n")
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_wuqi11_Func003C takes nothing returns boolean
if(not Trig_wuqi11_Func003Func001C())then
return false
endif
if(not(GetRandomInt(1,10)==1))then
return false
endif
return true
endfunction
function Trig_wuqi11_Actions takes nothing returns nothing
if(Trig_wuqi11_Func003C())then
set udg_point=GetUnitLoc(GetAttacker())
set udg_playershesmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershesmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershesmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershesmh[4]=(0.80*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*((I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])+I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))+I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))))
set udg_playershesmh[5]=(udg_playershesmh[4]*0.15)
set udg_group_wuqi=GetRandomSubGroup(2,GetUnitsInRangeOfLocMatching(300.00,udg_point,Condition(function Trig_wuqi11_Func003Func009002002003)))
call ForGroupBJ(udg_group_wuqi,function Trig_wuqi11_Func003Func010A)
else
endif
call RemoveLocation(udg_point)
endfunction
function InitTrig_wuqi11 takes nothing returns nothing
set gg_trg_wuqi11=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wuqi11,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_wuqi11,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wuqi11,Condition(function Trig_wuqi11_Conditions))
call TriggerAddAction(gg_trg_wuqi11,function Trig_wuqi11_Actions)
endfunction
function Trig_wuqi2_Func004C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
return false
endfunction
function Trig_wuqi2_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_wuqi2_Func004C())then
return false
endif
return true
endfunction
function Trig_wuqi2_Actions takes nothing returns nothing
set udg_unit_wuqi=GetTriggerUnit()
call EnableTrigger(gg_trg_wuqi21)
endfunction
function InitTrig_wuqi2 takes nothing returns nothing
set gg_trg_wuqi2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wuqi2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_wuqi2,Condition(function Trig_wuqi2_Conditions))
call TriggerAddAction(gg_trg_wuqi2,function Trig_wuqi2_Actions)
endfunction
function Trig_wuqi21_Func006002002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_wuqi21_Func006002002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7))==true)
endfunction
function Trig_wuqi21_Func006002002003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_wuqi21_Func006002002003002002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_wuqi21_Func006002002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_wuqi21_Func006002002003002002001(),Trig_wuqi21_Func006002002003002002002())
endfunction
function Trig_wuqi21_Func006002002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_wuqi21_Func006002002003002001(),Trig_wuqi21_Func006002002003002002())
endfunction
function Trig_wuqi21_Func006002002003 takes nothing returns boolean
return GetBooleanAnd(Trig_wuqi21_Func006002002003001(),Trig_wuqi21_Func006002002003002())
endfunction
function Trig_wuqi21_Func007A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_wuqi))],GetEnumUnit(),udg_playershesmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_wuqi21_Actions takes nothing returns nothing
set udg_playershesmh[1]=I2R(GetHeroStr(udg_unit_wuqi,true))
set udg_playershesmh[2]=I2R(GetHeroAgi(udg_unit_wuqi,true))
set udg_playershesmh[3]=I2R(GetHeroInt(udg_unit_wuqi,true))
set udg_playershesmh[4]=(0.50*(udg_playershesmh[1]+((udg_playershesmh[2]+(udg_playershesmh[3]*1.30))*((I2R(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_wuqi))])+I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_wuqi))]))+I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_wuqi))])))))
set udg_playershesmh[5]=(udg_playershesmh[4]*0.10)
set udg_group_wuqi=GetRandomSubGroup(4,GetUnitsInRangeOfLocMatching(400.00,GetUnitLoc(udg_unit_wuqi),Condition(function Trig_wuqi21_Func006002002003)))
call ForGroupBJ(udg_group_wuqi,function Trig_wuqi21_Func007A)
endfunction
function InitTrig_wuqi21 takes nothing returns nothing
set gg_trg_wuqi21=CreateTrigger()
call DisableTrigger(gg_trg_wuqi21)
call TriggerRegisterTimerEventPeriodic(gg_trg_wuqi21,2.00)
call TriggerAddAction(gg_trg_wuqi21,function Trig_wuqi21_Actions)
endfunction
function Trig_wuqi22_Func004C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I06J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06N'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I06O'))then
return true
endif
return false
endfunction
function Trig_wuqi22_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_wuqi22_Func004C())then
return false
endif
return true
endfunction
function Trig_wuqi22_Actions takes nothing returns nothing
set udg_unit_wuqi=null
call DisableTrigger(gg_trg_wuqi21)
endfunction
function InitTrig_wuqi22 takes nothing returns nothing
set gg_trg_wuqi22=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wuqi22,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_wuqi22,Condition(function Trig_wuqi22_Conditions))
call TriggerAddAction(gg_trg_wuqi22,function Trig_wuqi22_Actions)
endfunction
function Trig_ss_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DL'))then
return false
endif
return true
endfunction
function Trig_ss_Func001Func005C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_ss_Func001C takes nothing returns boolean
if(not(udg_buerzhi_sss[GetConvertedPlayerId(GetTriggerPlayer())]==false))then
return false
endif
return true
endfunction
function Trig_ss_Actions takes nothing returns nothing
if(Trig_ss_Func001C())then
set udg_buerzhi_sss[GetConvertedPlayerId(GetTriggerPlayer())]=true
call StartTimerBJ(udg_jsq_sss[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,90.00)
if(Trig_ss_Func001Func005C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,20+GetRandomInt(udg_waves,2*udg_waves))
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,20+GetRandomInt(udg_waves,2*udg_waves))
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,20+GetRandomInt(udg_waves,2*udg_waves))
else
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"物品技能CD中！")
endif
endfunction
function InitTrig_ss takes nothing returns nothing
set gg_trg_ss=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ss,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ss,Condition(function Trig_ss_Conditions))
call TriggerAddAction(gg_trg_ss,function Trig_ss_Actions)
endfunction
function Trig_ss11_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetExpiredTimer()==udg_jsq_sss[bj_forLoopAIndex]then
set udg_buerzhi_sss[bj_forLoopAIndex]=false
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_ss11 takes nothing returns nothing
set gg_trg_ss11=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_ss11,udg_jsq_sss[1])
call TriggerRegisterTimerExpireEventBJ(gg_trg_ss11,udg_jsq_sss[2])
call TriggerRegisterTimerExpireEventBJ(gg_trg_ss11,udg_jsq_sss[3])
call TriggerRegisterTimerExpireEventBJ(gg_trg_ss11,udg_jsq_sss[4])
call TriggerRegisterTimerExpireEventBJ(gg_trg_ss11,udg_jsq_sss[5])
call TriggerRegisterTimerExpireEventBJ(gg_trg_ss11,udg_jsq_sss[6])
call TriggerAddAction(gg_trg_ss11,function Trig_ss11_Actions)
endfunction
function Trig_ss_______u_Func002C takes nothing returns boolean
if((GetSpellAbilityId()=='A0DQ'))then
return true
endif
if((GetSpellAbilityId()=='A0DN'))then
return true
endif
return false
endfunction
function Trig_ss_______u_Conditions takes nothing returns boolean
if(not Trig_ss_______u_Func002C())then
return false
endif
return true
endfunction
function Trig_ss_______u_Actions takes nothing returns nothing
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"好像还缺少什么。。。")
endfunction
function InitTrig_ss_______u takes nothing returns nothing
set gg_trg_ss_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ss_______u,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ss_______u,Condition(function Trig_ss_______u_Conditions))
call TriggerAddAction(gg_trg_ss_______u,function Trig_ss_______u_Actions)
endfunction
function Trig_dl_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DO'))then
return false
endif
return true
endfunction
function Trig_dl_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_dl_Actions takes nothing returns nothing
if(Trig_dl_Func001C())then
set udg_point=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_point,bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',10.00)
call UnitAddAbility(GetLastCreatedUnit(),'AUdd')
call IssuePointOrderLoc(GetLastCreatedUnit(),"deathanddecay",udg_point)
call RemoveLocation(udg_point)
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000此物品只有英雄可以使用|r")
endif
endfunction
function InitTrig_dl takes nothing returns nothing
set gg_trg_dl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dl,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_dl,Condition(function Trig_dl_Conditions))
call TriggerAddAction(gg_trg_dl,function Trig_dl_Actions)
endfunction
function Trig_sp1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DP'))then
return false
endif
return true
endfunction
function Trig_sp1_Func001Func004C takes nothing returns boolean
if(not(udg_bez_sp==true))then
return false
endif
return true
endfunction
function Trig_sp1_Func001C takes nothing returns boolean
if(not(udg_buerzhi_jzsp==false))then
return false
endif
return true
endfunction
function Trig_sp1_Actions takes nothing returns nothing
if(Trig_sp1_Func001C())then
set udg_buerzhi_jzsp=true
if(Trig_sp1_Func001Func004C())then
call PauseTimer(udg_tingguai)
call StartTimerBJ(udg_tingguai2,false,45.00)	
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"小雪路过，录制视频，停怪时间延长咯")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"外面很危险，还是别录视频了")
endif
call StartTimerBJ(udg_jsq_jzsp,false,350.00)
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000物品技能CD中！")
endif
endfunction
function InitTrig_sp1 takes nothing returns nothing
set gg_trg_sp1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sp1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sp1,Condition(function Trig_sp1_Conditions))
call TriggerAddAction(gg_trg_sp1,function Trig_sp1_Actions)
endfunction
function Trig_sp2_Actions takes nothing returns nothing
call ResumeTimer(udg_tingguai)
endfunction
function InitTrig_sp2 takes nothing returns nothing
set gg_trg_sp2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_sp2,udg_tingguai2)
call TriggerAddAction(gg_trg_sp2,function Trig_sp2_Actions)
endfunction
function Trig_sp3_Actions takes nothing returns nothing
set udg_buerzhi_jzsp=false
endfunction
function InitTrig_sp3 takes nothing returns nothing
set gg_trg_sp3=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_sp3,udg_jsq_jzsp)
call TriggerAddAction(gg_trg_sp3,function Trig_sp3_Actions)
endfunction
function Trig_yf_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0E1'))then
return false
endif
return true
endfunction
function Trig_yf_Func001C takes nothing returns boolean
if(not(udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_yf_Actions takes nothing returns nothing
if(Trig_yf_Func001C())then
set udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
set udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
endif
endfunction
function InitTrig_yf takes nothing returns nothing
set gg_trg_yf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yf,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_yf,Condition(function Trig_yf_Conditions))
call TriggerAddAction(gg_trg_yf,function Trig_yf_Actions)
endfunction
function Trig_yifusj_Conditions takes nothing returns boolean
if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
return true
endfunction
function Trig_yifusj_Func003Func001Func002C takes nothing returns boolean
if(not(udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_yifusj_Func003Func001Func003C takes nothing returns boolean
if(not(GetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I04W'))>=20000))then
return false
endif
return true
endfunction
function Trig_yifusj_Func003Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttackedUnitBJ(),'I04W')==true))then
return false
endif
return true
endfunction
function Trig_yifusj_Func003Func003C takes nothing returns boolean
if(not(udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_yifusj_Func003Func004C takes nothing returns boolean
if(not(GetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I06G'))>=7000))then
return false
endif
return true
endfunction
function Trig_yifusj_Func003C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttackedUnitBJ(),'I06G')==true))then
return false
endif
return true
endfunction
function Trig_yifusj_Actions takes nothing returns nothing
if(Trig_yifusj_Func003C())then
call SetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I06G'),(GetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I06G'))+1))
if(Trig_yifusj_Func003Func003C())then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,("|cffffff00圣皇法衣：Lv1成长值：|cFF33FF00"+(I2S(GetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I06G')))+"|r/7000")))
else
endif
if(Trig_yifusj_Func003Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06G'))
call UnitAddItemByIdSwapped('I04W',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"的圣皇法衣已经升级到Lv2！"))
else
endif
else
if(Trig_yifusj_Func003Func001C())then
call SetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I04W'),(GetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I04W'))+1))
if(Trig_yifusj_Func003Func001Func002C())then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,("|cffffff00圣皇法衣：Lv2成长值：|cFF33FF00"+(I2S(GetItemUserData(GetItemOfTypeFromUnitBJ(GetAttackedUnitBJ(),'I04W')))+"|r/20000")))
else
endif
if(Trig_yifusj_Func003Func001Func003C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04W'))
call UnitAddItemByIdSwapped('I06M',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"的圣皇法衣已经升级到LvMax！"))
set udg_hpplus2[GetConvertedPlayerId(GetTriggerPlayer())]=1
else
endif
else
endif
endif
endfunction
function InitTrig_yifusj takes nothing returns nothing
set gg_trg_yifusj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yifusj,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_yifusj,Condition(function Trig_yifusj_Conditions))
call TriggerAddAction(gg_trg_yifusj,function Trig_yifusj_Actions)
endfunction
function Trig_curse_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttackedUnitBJ(),'I99E')==true))then
return false
endif
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
if(udg_nanduBL==1)then
return false
endif
if(udg_waves==2)then
return false
endif
return true
endfunction
function Trig_curse_Actions takes nothing returns nothing
if(GetRandomInt(1,77)==1)then
if(not(udg_waves==2))then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒，全属性减7！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,7)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,7)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,7)
set udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==7)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒7次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==77)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒77次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==177)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒177次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==277)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒277次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==377)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒377次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==477)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒477次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==577)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒577次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==677)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒677次，全属减77！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,77)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==700)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒700次，全属减700！！")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000受到了游久诅咒之轮的诅咒700次，全属减700！！"))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,700)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,700)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,700)
endif
if(udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==777)then
if(GetHeroLevel(GetTriggerUnit())>=277)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒777次，全属性加1777！！")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cffff0000受到了游久诅咒之轮的诅咒777次，全属加1777！！"))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1777)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1777)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1777)
set udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_curse[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10000
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒777次，全属性减777！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,777)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,777)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_SUB,777)
endif
endif
endif
if(GetRandomInt(1,777)==1)then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"你受到了游久诅咒之轮的诅咒，但诅咒失败了，全属性增加！！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,47+udg_waves)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,47+udg_waves)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,47+udg_waves)
endif
endfunction
function InitTrig_curse takes nothing returns nothing
set gg_trg_curse=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_curse,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_curse,Condition(function Trig_curse_Conditions))
call TriggerAddAction(gg_trg_curse,function Trig_curse_Actions)
endfunction
function Trig_manadamage_Conditions takes nothing returns boolean
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
if(not(GetUnitTypeId(GetTriggerUnit())=='ubdd'))then
return false
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='ubdd')then
if(GetUnitTypeId(GetAttacker())==udg_Monster[3])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[4])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[5])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[6])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[7])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[8])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[9])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[10])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[11])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[12])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[13])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[15])then
return false
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[20])then
return false
endif
endif
return true
endfunction
function Trig_manadamage_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='H000'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Obla'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Edem'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Orex'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Hmkg'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Ogrh'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Otch'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Udre'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Harf'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H007'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H008'))then
return true
endif
return false
endfunction
function Trig_manadamage_Actions takes nothing returns nothing
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=8*(udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_red[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_green[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/2+R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))*R2I(1+udg_black[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/2)
if(GetUnitTypeId(GetAttacker())==udg_Monster[0])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[1])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[2])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*0
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[3])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[4])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*1
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[5])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[6])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*10
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[7])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*15
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[8])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*20
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[9])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*30
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[10])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*40
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[11])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*50
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[12])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*60
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[13])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*70
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[14])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*80
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[15])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*90
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[16])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*300
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[17])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*310
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[18])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*320
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[19])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*330
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[20])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*10
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[21])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*5000
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[22])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*1000
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[23])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*300
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[24])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2000
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[25])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*1400
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[26])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*800
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[27])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2100
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[28])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*3200
endif
if(GetUnitTypeId(GetAttacker())==udg_Monster[29])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*4500
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[1])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*100
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[2])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*100
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[3])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*200
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[4])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*300
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[5])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*800
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[6])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*2400
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[7])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*1600
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[8])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*3000
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[9])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*8000
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[10])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*1000
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[11])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*8000
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[12])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*5000
endif
if(GetUnitTypeId(GetAttacker())==udg_xili[13])then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(1+udg_selfdestruct/4*R2I(udg_renshu/100))*(4+udg_nanduBL+udg_selfdestruct)*20000
endif

if(GetUnitTypeId(GetAttacker())=='hwat')then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=2
endif

if(GetRandomInt(1,400)>150+GetHeroLevel(GetAttacker()))then
set udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
endif
set udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=100-(udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5*udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]/2)
if(Trig_manadamage_Func001C())then
set udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]/2
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'amrc')==true)then
set udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-100
endif
set udg_manapro[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1+(udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])/3
if(GetUnitTypeId(GetAttacker())=='Uvar')then
set udg_manapro[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
endif
if(GetRandomInt(1,10)>=udg_manapro[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])then
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00能量伤害"+I2S(udg_con*udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]*udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]/1000)+"点|r")
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-udg_con*udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]*udg_Def[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]/1000))
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+15*(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_red[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_white[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_black[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00吸收能量"+I2S(udg_Att[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
endif

if(udg_con>=1)then
if(GetUnitManaPercent(GetAttackedUnitBJ())<50)then
if(GetUnitManaPercent(GetAttackedUnitBJ())<20)then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"请注意！！MP低于20%，请立即补充MP防止死亡！！请注意！！MP低于20%，请立即补充MP防止死亡！！"))
//call DisplayTextToForce(GetOwningPlayer(GetTriggerUnit()),"|cffffcc00请注意！！MP低于20%，请立即补充MP防止死亡！！请注意！！MP低于20%，请立即补充MP防止死亡！！|r")
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.00,(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"请注意！！MP低于50%，请尽快补充MP"))
endif
//call DisplayTextToForce(GetOwningPlayer(GetTriggerUnit()),"|cffffcc00请注意！！MP低于50%，请尽快补充MP！！|r")
endif
endif

if(GetUnitManaPercent(GetAttackedUnitBJ())<0.1)then
if(not(udg_con==0))then
if(not(GetUnitTypeId(GetAttacker())==udg_Monster[4]))then
if(not(GetUnitTypeId(GetAttacker())==udg_Monster[5]))then
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),1000000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00由于能量耗尽而死亡|r")
call KillUnit(GetTriggerUnit())
endif
endif
endif
endif
endfunction
function InitTrig_manadamage takes nothing returns nothing
set gg_trg_manadamage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_manadamage,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_manadamage,Condition(function Trig_manadamage_Conditions))
call TriggerAddAction(gg_trg_manadamage,function Trig_manadamage_Actions)
endfunction

function Trig_manaabsorb_Conditions takes nothing returns boolean
return true
endfunction
function Trig_manaabsorb_Actions takes nothing returns nothing
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+5*(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_red[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_white[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_black[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])))
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00吸收能量"+I2S(7*(udg_green[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+2*udg_red[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_white[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_black[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))+"点|r")
endfunction
function InitTrig_manaabsorb takes nothing returns nothing
set gg_trg_manaabsorb=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_manaabsorb,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_manaabsorb,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_manaabsorb,Condition(function Trig_manaabsorb_Conditions))
call TriggerAddAction(gg_trg_manaabsorb,function Trig_manaabsorb_Actions)
endfunction

function Trig_wuqisj1_Func007C takes nothing returns boolean
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06I')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06J')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06H')==true))then
return true
endif
return false
endfunction
function Trig_wuqisj1_Conditions takes nothing returns boolean
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
if(not Trig_wuqisj1_Func007C())then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func001Func001Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I06H')==true))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func001Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I06J')==true))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I06I')==true))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func003C takes nothing returns boolean
if(not(udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==false))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func004Func002C takes nothing returns boolean
if(not(udg_item_hswuqi==GetItemOfTypeFromUnitBJ(GetAttacker(),'I06I')))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func004Func003C takes nothing returns boolean
if(not(udg_item_hswuqi==GetItemOfTypeFromUnitBJ(GetAttacker(),'I06J')))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func004Func004C takes nothing returns boolean
if(not(udg_item_hswuqi==GetItemOfTypeFromUnitBJ(GetAttacker(),'I06H')))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Func004C takes nothing returns boolean
if(not(GetItemUserData(udg_item_hswuqi)>=500))then
return false
endif
return true
endfunction
function Trig_wuqisj1_Actions takes nothing returns nothing
if(Trig_wuqisj1_Func001C())then
set udg_item_hswuqi=GetItemOfTypeFromUnitBJ(GetAttacker(),'I06I')
else
if(Trig_wuqisj1_Func001Func001C())then
set udg_item_hswuqi=GetItemOfTypeFromUnitBJ(GetAttacker(),'I06J')
else
if(Trig_wuqisj1_Func001Func001Func001C())then
set udg_item_hswuqi=GetItemOfTypeFromUnitBJ(GetAttacker(),'I06H')
else
endif
endif
endif
call SetItemUserData(udg_item_hswuqi,(GetItemUserData(udg_item_hswuqi)+1))
if(Trig_wuqisj1_Func003C())then
call DisplayTextToPlayer(GetOwningPlayer(GetAttacker()),0,0,((GetItemName(udg_item_hswuqi)+"成长值：|cFF33FF00")+(I2S(GetItemUserData(udg_item_hswuqi))+"|r/500")))
else
endif
if(Trig_wuqisj1_Func004C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetAttacker()))+("的"+(GetItemName(udg_item_hswuqi)+"已经升级到Lv2！"))))
if(Trig_wuqisj1_Func004Func002C())then
call RemoveItem(udg_item_hswuqi)
call UnitAddItemByIdSwapped('I06R',GetAttacker())
else
endif
if(Trig_wuqisj1_Func004Func003C())then
call RemoveItem(udg_item_hswuqi)
call UnitAddItemByIdSwapped('I06N',GetAttacker())
else
endif
if(Trig_wuqisj1_Func004Func004C())then
call RemoveItem(udg_item_hswuqi)
call UnitAddItemByIdSwapped('I06P',GetAttacker())
else
endif
else
endif
endfunction
function InitTrig_wuqisj1 takes nothing returns nothing
set gg_trg_wuqisj1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wuqisj1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wuqisj1,Condition(function Trig_wuqisj1_Conditions))
call TriggerAddAction(gg_trg_wuqisj1,function Trig_wuqisj1_Actions)
endfunction
function Trig_wuqisj2_Func007C takes nothing returns boolean
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06R')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06N')==true))then
return true
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'I06P')==true))then
return true
endif
return false
endfunction
function Trig_wuqisj2_Conditions takes nothing returns boolean
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
if(not Trig_wuqisj2_Func007C())then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func001Func001Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I06P')==true))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func001Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I06N')==true))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'I06R')==true))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func003C takes nothing returns boolean
if(not(udg_buerzhi_yifu[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==false))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func004Func002C takes nothing returns boolean
if(not(udg_item_hswuqi==GetItemOfTypeFromUnitBJ(GetAttacker(),'I06R')))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func004Func003C takes nothing returns boolean
if(not(udg_item_hswuqi==GetItemOfTypeFromUnitBJ(GetAttacker(),'I06N')))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func004Func004C takes nothing returns boolean
if(not(udg_item_hswuqi==GetItemOfTypeFromUnitBJ(GetAttacker(),'I06P')))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Func004C takes nothing returns boolean
if(not(GetItemUserData(udg_item_hswuqi)>=1000))then
return false
endif
return true
endfunction
function Trig_wuqisj2_Actions takes nothing returns nothing
if(Trig_wuqisj2_Func001C())then
set udg_item_hswuqi=GetItemOfTypeFromUnitBJ(GetAttacker(),'I06R')
else
if(Trig_wuqisj2_Func001Func001C())then
set udg_item_hswuqi=GetItemOfTypeFromUnitBJ(GetAttacker(),'I06N')
else
if(Trig_wuqisj2_Func001Func001Func001C())then
set udg_item_hswuqi=GetItemOfTypeFromUnitBJ(GetAttacker(),'I06P')
else
endif
endif
endif
call SetItemUserData(udg_item_hswuqi,(GetItemUserData(udg_item_hswuqi)+1))
if(Trig_wuqisj2_Func003C())then
call DisplayTextToPlayer(GetOwningPlayer(GetAttacker()),0,0,((GetItemName(udg_item_hswuqi)+"成长值：|cFF33FF00")+(I2S(GetItemUserData(udg_item_hswuqi))+"|r/1000")))
else
endif
if(Trig_wuqisj2_Func004C())then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetAttacker()))+("的"+(GetItemName(udg_item_hswuqi)+"已经升级到LvMax！"))))
set udg_hpplus2[GetConvertedPlayerId(GetTriggerPlayer())]=1
if(Trig_wuqisj2_Func004Func002C())then
call RemoveItem(udg_item_hswuqi)
call UnitAddItemByIdSwapped('I06S',GetAttacker())
else
endif
if(Trig_wuqisj2_Func004Func003C())then
call RemoveItem(udg_item_hswuqi)
call UnitAddItemByIdSwapped('I06O',GetAttacker())
else
endif
if(Trig_wuqisj2_Func004Func004C())then
call RemoveItem(udg_item_hswuqi)
call UnitAddItemByIdSwapped('I06Q',GetAttacker())
else
endif
else
endif
endfunction
function InitTrig_wuqisj2 takes nothing returns nothing
set gg_trg_wuqisj2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wuqisj2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wuqisj2,Condition(function Trig_wuqisj2_Conditions))
call TriggerAddAction(gg_trg_wuqisj2,function Trig_wuqisj2_Actions)
endfunction
function Trig_cc1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0E9'))then
return false
endif
return true
endfunction
function Trig_cc1_Func001Func007C takes nothing returns boolean
if(not(udg_buerzhi_yihun[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
if(not(udg_buerzhi_yihun[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_cc1_Func001Func010C takes nothing returns boolean
if((GetTriggerUnit()==gg_unit_Obla_0007))then
return true
endif
if((GetTriggerUnit()==gg_unit_Ogrh_0091))then
return true
endif
if((GetTriggerUnit()==gg_unit_Otch_0172))then
return true
endif
if((GetTriggerUnit()==gg_unit_Edem_0010))then
return true
endif
if((GetTriggerUnit()==gg_unit_Hmkg_0053))then
return true
endif
if((GetTriggerUnit()==gg_unit_Udre_0182))then
return true
endif
if((GetTriggerUnit()==gg_unit_H007_0238))then
return true
endif
if((GetTriggerUnit()==gg_unit_H008_0239))then
return true
endif
if((GetTriggerUnit()==gg_unit_Harf_0190))then
return true
endif
if((GetTriggerUnit()==gg_unit_H000_0005))then
return true
endif
return false
endfunction
function Trig_cc1_Func001Func011C takes nothing returns boolean
if((GetSpellTargetUnit()==gg_unit_Ekee_0181))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Hpal_0235))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Hvwd_0006))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_H005_0020))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Ofar_0180))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Oshd_0176))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Hblm_0191))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Hamg_0240))then
return true
endif
if((GetSpellTargetUnit()==gg_unit_Orex_0018))then
return true
endif
return false
endfunction
function Trig_cc1_Func001C takes nothing returns boolean
return true
endfunction
function Trig_cc1_Actions takes nothing returns nothing
if(Trig_cc1_Func001C())then
set udg_unit_nan=GetTriggerUnit()
set udg_unit_nv=GetSpellTargetUnit()
//call PauseUnit(udg_unit_nan,true)
//call PauseUnit(udg_unit_nv,true)
call SetUnitFacing(udg_unit_nv,(GetUnitFacing(GetTriggerUnit())+180.00))
if(Trig_cc1_Func001Func007C())then
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nan)+("："+(("亲爱的"+GetUnitName(udg_unit_nv))+",你愿意做我的伴侣，一起携手修神，共同闯荡三界吗？"))))
call DialogClear(udg_ck_jiehun)
call DialogSetMessage(udg_ck_jiehun,(GetUnitName(GetTriggerUnit())+"正在向你求婚|n你愿意成为其仙侣，携手修神|n共同闯荡三界吗？"))
call DialogAddButtonBJ(udg_ck_jiehun,"我愿意！")
set udg_an_jiehun[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_jiehun,"我一直当你是我哥哥！")
set udg_an_jiehun[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_jiehun,"滚！")
set udg_an_jiehun[1]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetSpellTargetUnit()),udg_ck_jiehun,true)
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"重婚是不对的！")
endif
call TriggerSleepAction(0.00)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ram2'))
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"抱歉，你们俩不合适！")
endif
endfunction
function InitTrig_cc1 takes nothing returns nothing
set gg_trg_cc1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_cc1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_cc1,Condition(function Trig_cc1_Conditions))
call TriggerAddAction(gg_trg_cc1,function Trig_cc1_Actions)
endfunction
function Trig_cc2_Func001Func004A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),udg_point,0)
endfunction
function Trig_cc2_Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_an_jiehun[0]))then
return false
endif
return true
endfunction
function Trig_cc2_Func002Func003A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetUnitLoc(udg_unit_nv),0)
endfunction
function Trig_cc2_Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_an_jiehun[1]))then
return false
endif
return true
endfunction
function Trig_cc2_Func003Func003A takes nothing returns nothing
call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetUnitLoc(udg_unit_nv),0)
endfunction
function Trig_cc2_Func003C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_an_jiehun[2]))then
return false
endif
return true
endfunction
function Trig_cc2_Actions takes nothing returns nothing
if(Trig_cc2_Func001C())then
call PauseUnit(udg_unit_nan,false)
call PauseUnit(udg_unit_nv,false)
set udg_point=GetUnitLoc(udg_unit_nv)
call ForForce(GetPlayersAll(),function Trig_cc2_Func001Func004A)
call CreateNUnitsAtLoc(1,'n00I',GetOwningPlayer(gg_unit_Oshd_0176),udg_point,bj_UNIT_FACING)
call RemoveLocation(udg_point)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',2.00)
set udg_buerzhi_yihun[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nan))]=true
set udg_buerzhi_yihun[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nv))]=true
call UnitAddAbility(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nan))],'A0EA')
call UnitAddAbility(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nan))],'A0EC')
call UnitAddAbility(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nv))],'A0EA')
call UnitAddAbility(udg_unit_bb[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nv))],'A0EC')
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nv)+("："+("我愿意......"+""))))
call TriggerSleepAction(2)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nan))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nan))]+1)
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nv))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_nv))]+1)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nan)+("与"+(GetUnitName(udg_unit_nv)+"已结成万世姻缘，祝他们永远幸福美满！"))))
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nan)+("与"+(GetUnitName(udg_unit_nv)+"已结成万世姻缘，双方技能等级+1！"))))
call EnableTrigger(gg_trg_cc3)
else
endif
if(Trig_cc2_Func002C())then
call PauseUnit(udg_unit_nan,false)
call PauseUnit(udg_unit_nv,false)
call ForForce(GetPlayersAll(),function Trig_cc2_Func002Func003A)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nv)+("："+("我一直当你是哥哥哦~~"+""))))
call TriggerSleepAction(2)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nan)+("向"+(GetUnitName(udg_unit_nv)+"求婚却求到一个妹妹！"))))
else
endif
if(Trig_cc2_Func003C())then
call PauseUnit(udg_unit_nan,false)
call PauseUnit(udg_unit_nv,false)
call ForForce(GetPlayersAll(),function Trig_cc2_Func003Func003A)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nv)+("："+"流氓啊！")))
call TriggerSleepAction(2)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_nan)+("向"+(GetUnitName(udg_unit_nv)+"求婚遭到拒绝，并受到沉重打击，对生活失去希望，心碎而亡！"))))
call UnitDamageTarget(gg_unit_N000_0186,udg_unit_nan,1000000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
else
endif
endfunction
function InitTrig_cc2 takes nothing returns nothing
set gg_trg_cc2=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_cc2,udg_ck_jiehun)
call TriggerAddAction(gg_trg_cc2,function Trig_cc2_Actions)
endfunction
function Trig_cc3_Conditions takes nothing returns boolean
if(not(udg_buerzhi_yihun[GetConvertedPlayerId(GetTriggerPlayer())]==true))then
return false
endif
return true
endfunction
function Trig_cc3_Func001Func001Func002C takes nothing returns boolean
if(not(RectContainsLoc(gg_rct______________162,udg_point)==false))then
return false
endif
return true
endfunction
function Trig_cc3_Func001Func001C takes nothing returns boolean
if(not(udg_buerzhi_yihun[bj_forLoopAIndex]==true))then
return false
endif
if(not(GetConvertedPlayerId(GetTriggerPlayer())!=bj_forLoopAIndex))then
return false
endif
return true
endfunction
function Trig_cc3_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_cc3_Func001Func001C())then
set udg_point=GetUnitLoc(udg_heroname[bj_forLoopAIndex])
if(Trig_cc3_Func001Func001Func002C())then
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
else
endif
call RemoveLocation(udg_point)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_cc3 takes nothing returns nothing
set gg_trg_cc3=CreateTrigger()
call DisableTrigger(gg_trg_cc3)
call TriggerRegisterPlayerChatEvent(gg_trg_cc3,Player(0),"FF",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cc3,Player(1),"FF",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cc3,Player(2),"FF",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cc3,Player(3),"FF",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cc3,Player(4),"FF",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cc3,Player(5),"FF",true)
call TriggerAddCondition(gg_trg_cc3,Condition(function Trig_cc3_Conditions))
call TriggerAddAction(gg_trg_cc3,function Trig_cc3_Actions)
endfunction
function Trig_cc3_______u_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0EA'))then
return false
endif
if(not(udg_buerzhi_yihun[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true))then
return false
endif
return true
endfunction
function Trig_cc3_______u_Func003Func001Func002C takes nothing returns boolean
if(not(RectContainsLoc(gg_rct______________162,udg_point)==false))then
return false
endif
return true
endfunction
function Trig_cc3_______u_Func003Func001C takes nothing returns boolean
if(not(udg_buerzhi_yihun[bj_forLoopAIndex]==true))then
return false
endif
if(not(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))!=bj_forLoopAIndex))then
return false
endif
return true
endfunction
function Trig_cc3_______u_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_cc3_______u_Func003Func001C())then
set udg_point=GetUnitLoc(udg_heroname[bj_forLoopAIndex])
if(Trig_cc3_______u_Func003Func001Func002C())then
call SetUnitPositionLoc(udg_heroname[GetConvertedPlayerId(GetTriggerPlayer())],udg_point)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),udg_point,0.00)
else
endif
call RemoveLocation(udg_point)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_cc3_______u takes nothing returns nothing
set gg_trg_cc3_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_cc3_______u,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_cc3_______u,Condition(function Trig_cc3_______u_Conditions))
call TriggerAddAction(gg_trg_cc3_______u,function Trig_cc3_______u_Actions)
endfunction
function Trig_xiaodu_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I06T'))then
return false
endif
return true
endfunction
function Trig_xiaodu_Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_xiaodu_Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=udg_int_xiaodu))then
return false
endif
return true
endfunction
function Trig_xiaodu_Actions takes nothing returns nothing
if(Trig_xiaodu_Func001C())then
set udg_int_xiaodu=55
else
set udg_int_xiaodu=50
endif
if(udg_dubo2==0)then
if(udg_waves>=6)then
if(udg_waves<=8)then
if(GetRandomInt(1,3)==1)then
call CreateNUnitsAtLoc(1,'Ulic',Player(11),GetRectCenter(gg_rct______________063),bj_UNIT_FACING)
call DisplayTextToForce(GetPlayersAll(),"办公室主任：你们这群坏孩子竟敢赌博，看老师拆了你们的老家！")

if(udg_selfdestruct==4)then
call SetPlayerTechResearchedSwap('Rhme',7,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cA0F07890由于开启了隐藏剧情，怪物能力再度提升")
endif


set udg_dubo2=1
endif
endif
endif
endif
if(Trig_xiaodu_Func002C())then
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"恭喜赌博赢得5000金币！")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"什么事情也没发生！\n")
endif
endfunction
function InitTrig_xiaodu takes nothing returns nothing
set gg_trg_xiaodu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xiaodu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_xiaodu,Condition(function Trig_xiaodu_Conditions))
call TriggerAddAction(gg_trg_xiaodu,function Trig_xiaodu_Actions)
endfunction
function Trig_dadu_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I06U'))then
return false
endif
return true
endfunction
function Trig_dadu_Func001Func003C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_dadu_Func001Func004C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=udg_int_xiaodu))then
return false
endif
return true
endfunction
function Trig_dadu_Func001C takes nothing returns boolean
if(not(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=50))then
return false
endif
return true
endfunction
function Trig_dadu_Actions takes nothing returns nothing
if(Trig_dadu_Func001C())then
if(Trig_dadu_Func001Func003C())then
set udg_int_xiaodu=45
else
set udg_int_xiaodu=40
endif
if(Trig_dadu_Func001Func004C())then
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)*2))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)*2))
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"在赌城豪赌一把，所有财富值翻倍！")))
else
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER,0)
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"在赌城豪赌一把，所有财富清零！")))
endif
else
call DisplayTextToForce(GetPlayersAll(),"请准备足够的资本再来大赌（基本资产必须50个木头以上）！")
endif
endfunction
function InitTrig_dadu takes nothing returns nothing
set gg_trg_dadu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_dadu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_dadu,Condition(function Trig_dadu_Conditions))
call TriggerAddAction(gg_trg_dadu,function Trig_dadu_Actions)
endfunction
function Trig_haodu_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I06V'))then
return false
endif
return true
endfunction
function Trig_haodu_Func001C takes nothing returns boolean
if(not(GetTriggerUnit()==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_haodu_Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=udg_int_xiaodu))then
return false
endif
return true
endfunction
function Trig_haodu_Actions takes nothing returns nothing
if(Trig_haodu_Func001C())then
set udg_int_xiaodu=3
else
set udg_int_xiaodu=2
endif
set udg_gamble=udg_gamble+1
if(udg_gamble==10)then
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"勇于面对死亡10次，赌博成功率增加")))
set udg_int_xiaodu=3
else
endif
if(udg_gamble==20)then
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"勇于面对死亡20次，赌博成功率增加")))
set udg_int_xiaodu=4
else
endif
if(udg_gamble==30)then
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"勇于面对死亡30次，赌博成功率增加")))
set udg_int_xiaodu=5
else
endif
if(udg_gamble==40)then
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"勇于面对死亡40次，赌博成功率增加")))
set udg_int_xiaodu=6
else
endif
if(udg_gamble==50)then
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"勇于面对死亡50次，赌博成功率增加")))
set udg_int_xiaodu=7
else
endif
if(Trig_haodu_Func002C())then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500)
call DisplayTextToForce(GetPlayersAll(),("恭喜"+(GetUnitName(GetTriggerUnit())+"不畏死亡，全属性加500！")))
else
call KillUnit(GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),"后生可畏！")
endif
endfunction
function InitTrig_haodu takes nothing returns nothing
set gg_trg_haodu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_haodu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_haodu,Condition(function Trig_haodu_Conditions))
call TriggerAddAction(gg_trg_haodu,function Trig_haodu_Actions)
endfunction
function Trig_youxi_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I06W'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_youxi_Func002C takes nothing returns boolean
if(not(udg_buerzhi_youxi==false))then
return false
endif
return true
endfunction
function Trig_youxi_Actions takes nothing returns nothing
if(Trig_youxi_Func002C())then
set udg_buerzhi_youxi=true
set udg_unit_youxidw=GetTriggerUnit()
call DialogClear(udg_ck_youxi)
call DialogSetMessage(udg_ck_youxi,"|cffff0000猜拳游戏|r")
call DialogAddButtonBJ(udg_ck_youxi,"石头")
set udg_an_youxi[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_youxi,"剪刀")
set udg_an_youxi[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_youxi,"布")
set udg_an_youxi[2]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_youxi,true)
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"同一时间只可以1个人玩游戏，请到后面排队！")
endif
endfunction
function InitTrig_youxi takes nothing returns nothing
set gg_trg_youxi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_youxi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_youxi,Condition(function Trig_youxi_Conditions))
call TriggerAddAction(gg_trg_youxi,function Trig_youxi_Actions)
endfunction
function Trig_youxiing_Func001C takes nothing returns boolean
if(not(udg_unit_youxidw==gg_unit_H008_0239))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func002Func001Func001C takes nothing returns boolean
if(not(udg_int_xiaodu1==3))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func002Func001C takes nothing returns boolean
if(not(udg_int_xiaodu1==2))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func002C takes nothing returns boolean
if(not(udg_int_xiaodu1==1))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func004C takes nothing returns boolean
if(not(udg_int_xiaodu2==1))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func005C takes nothing returns boolean
if(not(udg_int_xiaodu2==2))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func006C takes nothing returns boolean
if(not(udg_int_xiaodu2==3))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002Func007C takes nothing returns boolean
if(not(udg_int_xiaodu2==4))then
return false
endif
return true
endfunction
function Trig_youxiing_Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=udg_int_xiaodu))then
return false
endif
return true
endfunction
function Trig_youxiing_Actions takes nothing returns nothing
if(Trig_youxiing_Func001C())then
set udg_int_xiaodu=90
else
set udg_int_xiaodu=80
endif
if(Trig_youxiing_Func002C())then
set udg_int_xiaodu1=GetRandomInt(1,3)
if(Trig_youxiing_Func002Func002C())then
call AdjustPlayerStateBJ(7000,GetOwningPlayer(udg_unit_youxidw),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"恭喜猜对了，赢得7000金币！")
else
if(Trig_youxiing_Func002Func002Func001C())then
call AddHeroXP(udg_unit_youxidw,((udg_waves+1)*1500),true)
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"恭喜猜对了，英雄获得经验值！")
else
if(Trig_youxiing_Func002Func002Func001Func001C())then
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"恭喜猜对了啊,英雄全属性加2点！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_youxidw))],bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_youxidw))],bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_youxidw))],bj_MODIFYMETHOD_ADD,2)
else
endif
endif
endif
else
set udg_int_xiaodu2=GetRandomInt(1,4)
if(Trig_youxiing_Func002Func004C())then
set udg_point=GetRectCenter(gg_rct______________005)
call SetUnitPositionLoc(udg_unit_youxidw,udg_point)
call RemoveLocation(udg_point)
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"这都猜错了啊,回家再练练吧！")
else
endif
if(Trig_youxiing_Func002Func005C())then
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"这都猜错了啊,英雄全属性减2点！")
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_youxidw))],bj_MODIFYMETHOD_SUB,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_youxidw))],bj_MODIFYMETHOD_SUB,2)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_youxidw))],bj_MODIFYMETHOD_SUB,2)
else
endif
if(Trig_youxiing_Func002Func006C())then
set udg_point=GetRectCenter(gg_rct______________081)
call SetUnitPositionLoc(udg_unit_youxidw,udg_point)
call RemoveLocation(udg_point)
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"这都猜错了啊,去外面闯闯再来吧！")
else
endif
if(Trig_youxiing_Func002Func007C())then
call DisplayTextToPlayer(GetOwningPlayer(udg_unit_youxidw),0,0,"猜错了！什么事情都没发生！")
else
endif
endif
set udg_buerzhi_youxi=false
set udg_unit_youxidw=null
endfunction
function InitTrig_youxiing takes nothing returns nothing
set gg_trg_youxiing=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_youxiing,udg_ck_youxi)
call TriggerAddAction(gg_trg_youxiing,function Trig_youxiing_Actions)
endfunction
function Trig_tiren2_Func001Func002C takes nothing returns boolean
if(not(udg_buerzhi_tiren==false))then
return false
endif
return true
endfunction
function Trig_tiren2_Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_tiren2_Actions takes nothing returns nothing
if(Trig_tiren2_Func001C())then
if(Trig_tiren2_Func001Func002C())then
set udg_buerzhi_tiren=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,((GetPlayerName(GetTriggerPlayer())+"|CFFFF0000提出将")+(GetPlayerName(Player(1))+("（"+(GetUnitName(udg_heroname[2])+("）踢出游戏，请各位玩家投票决定！"+""))))))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000如果同意，请输入TOK,输入错误或未输入当做不同意处理。30秒后出结果！")
set udg_wj_tiren=Player(1)
call EnableTrigger(gg_trg_tiren)
call TriggerSleepAction(30.00)
call DisableTrigger(gg_trg_tiren)
call TriggerExecute(gg_trg_trenok)
else
call DisplayTextToPlayer(Player(0),0,0,"目前正在进行T人程序，请勿重复提交！")
endif
else
call DisplayTextToPlayer(Player(0),0,0,"|cffff0000当前游戏没有玩家2！")
endif
endfunction
function InitTrig_tiren2 takes nothing returns nothing
set gg_trg_tiren2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_tiren2,Player(0),"T2",true)
call TriggerAddAction(gg_trg_tiren2,function Trig_tiren2_Actions)
endfunction
function Trig_tiren3_Func001Func002C takes nothing returns boolean
if(not(udg_buerzhi_tiren==false))then
return false
endif
return true
endfunction
function Trig_tiren3_Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_tiren3_Actions takes nothing returns nothing
if(Trig_tiren3_Func001C())then
if(Trig_tiren3_Func001Func002C())then
set udg_buerzhi_tiren=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,((GetPlayerName(GetTriggerPlayer())+"|CFFFF0000提出将")+(GetPlayerName(Player(2))+("（"+(GetUnitName(udg_heroname[3])+("）踢出游戏，请各位玩家投票决定！"+""))))))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000如果同意，请输入TOK,输入错误或未输入当做不同意处理。30秒后出结果！")
call EnableTrigger(gg_trg_tiren)
set udg_wj_tiren=Player(2)
call TriggerSleepAction(30.00)
call DisableTrigger(gg_trg_tiren)
call TriggerExecute(gg_trg_trenok)
else
call DisplayTextToPlayer(Player(0),0,0,"目前正在进行T人程序，请勿重复提交！")
endif
else
call DisplayTextToPlayer(Player(0),0,0,"|cffff0000当前游戏没有玩家3！")
endif
endfunction
function InitTrig_tiren3 takes nothing returns nothing
set gg_trg_tiren3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_tiren3,Player(0),"T3",true)
call TriggerAddAction(gg_trg_tiren3,function Trig_tiren3_Actions)
endfunction
function Trig_tiren4_Func001Func002C takes nothing returns boolean
if(not(udg_buerzhi_tiren==false))then
return false
endif
return true
endfunction
function Trig_tiren4_Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_tiren4_Actions takes nothing returns nothing
if(Trig_tiren4_Func001C())then
if(Trig_tiren4_Func001Func002C())then
set udg_buerzhi_tiren=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,((GetPlayerName(GetTriggerPlayer())+"|CFFFF0000提出将")+(GetPlayerName(Player(3))+("（"+(GetUnitName(udg_heroname[4])+("）踢出游戏，请各位玩家投票决定！"+""))))))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000如果同意，请输入TOK,输入错误或未输入当做不同意处理。30秒后出结果！")
call EnableTrigger(gg_trg_tiren)
set udg_wj_tiren=Player(3)
call TriggerSleepAction(30.00)
call DisableTrigger(gg_trg_tiren)
call TriggerExecute(gg_trg_trenok)
else
call DisplayTextToPlayer(Player(0),0,0,"目前正在进行T人程序，请勿重复提交！")
endif
else
call DisplayTextToPlayer(Player(0),0,0,"|cffff0000当前游戏没有玩家4！")
endif
endfunction
function InitTrig_tiren4 takes nothing returns nothing
set gg_trg_tiren4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_tiren4,Player(0),"T4",true)
call TriggerAddAction(gg_trg_tiren4,function Trig_tiren4_Actions)
endfunction
function Trig_tiren5_Func001Func002C takes nothing returns boolean
if(not(udg_buerzhi_tiren==false))then
return false
endif
return true
endfunction
function Trig_tiren5_Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_tiren5_Actions takes nothing returns nothing
if(Trig_tiren5_Func001C())then
if(Trig_tiren5_Func001Func002C())then
set udg_buerzhi_tiren=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,((GetPlayerName(GetTriggerPlayer())+"|CFFFF0000提出将")+(GetPlayerName(Player(4))+("（"+(GetUnitName(udg_heroname[5])+("）踢出游戏，请各位玩家投票决定！"+""))))))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000如果同意，请输入TOK,输入错误或未输入当做不同意处理。30秒后出结果！")
call EnableTrigger(gg_trg_tiren)
set udg_wj_tiren=Player(4)
call TriggerSleepAction(30.00)
call DisableTrigger(gg_trg_tiren)
call TriggerExecute(gg_trg_trenok)
else
call DisplayTextToPlayer(Player(0),0,0,"目前正在进行T人程序，请勿重复提交！")
endif
else
call DisplayTextToPlayer(Player(0),0,0,"|cffff0000当前游戏没有玩家5！")
endif
endfunction
function InitTrig_tiren5 takes nothing returns nothing
set gg_trg_tiren5=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_tiren5,Player(0),"T5",true)
call TriggerAddAction(gg_trg_tiren5,function Trig_tiren5_Actions)
endfunction
function Trig_tiren6_Func001Func002C takes nothing returns boolean
if(not(udg_buerzhi_tiren==false))then
return false
endif
return true
endfunction
function Trig_tiren6_Func001C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_tiren6_Actions takes nothing returns nothing
if(Trig_tiren6_Func001C())then
if(Trig_tiren6_Func001Func002C())then
set udg_buerzhi_tiren=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,((GetPlayerName(GetTriggerPlayer())+"|CFFFF0000提出将")+(GetPlayerName(Player(5))+("（"+(GetUnitName(udg_heroname[6])+("）踢出游戏，请各位玩家投票决定！"+""))))))
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000如果同意，请输入TOK,输入错误或未输入当做不同意处理。30秒后出结果！")
call EnableTrigger(gg_trg_tiren)
set udg_wj_tiren=Player(5)
call TriggerSleepAction(30.00)
call DisableTrigger(gg_trg_tiren)
call TriggerExecute(gg_trg_trenok)
else
call DisplayTextToPlayer(Player(0),0,0,"目前正在进行T人程序，请勿重复提交！")
endif
else
call DisplayTextToPlayer(Player(0),0,0,"|cffff0000当前游戏没有玩家6！")
endif
endfunction
function InitTrig_tiren6 takes nothing returns nothing
set gg_trg_tiren6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_tiren6,Player(0),"T6",true)
call TriggerAddAction(gg_trg_tiren6,function Trig_tiren6_Actions)
endfunction
function Trig_tiren_Actions takes nothing returns nothing
set udg_buerzhi_trok[GetConvertedPlayerId(GetTriggerPlayer())]=true
endfunction
function InitTrig_tiren takes nothing returns nothing
set gg_trg_tiren=CreateTrigger()
call DisableTrigger(gg_trg_tiren)
call TriggerRegisterPlayerChatEvent(gg_trg_tiren,Player(1),"TOK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_tiren,Player(2),"TOK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_tiren,Player(3),"TOK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_tiren,Player(4),"TOK",true)
call TriggerRegisterPlayerChatEvent(gg_trg_tiren,Player(5),"TOK",true)
call TriggerAddAction(gg_trg_tiren,function Trig_tiren_Actions)
endfunction
function Trig_trenok_Func001Func001C takes nothing returns boolean
if(not(udg_buerzhi_trok[bj_forLoopAIndex]==true))then
return false
endif
return true
endfunction
function Trig_trenok_Func002C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_trenok_Func003C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_trenok_Func004C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_trenok_Func005C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_trenok_Func006C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_trenok_Func007C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_trenok_Func008C takes nothing returns boolean
if(not(udg_int_tiren>(udg_int_youxirs/2)))then
return false
endif
return true
endfunction
function Trig_trenok_Func015A takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),(udg_renshu+40.00))
endfunction
function Trig_trenok_Actions takes nothing returns nothing
set bj_forLoopAIndex=2
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_trenok_Func001Func001C())then
set udg_int_tiren=(udg_int_tiren+1)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(Trig_trenok_Func002C())then
set udg_int_youxirs=(udg_int_youxirs+1)
else
endif
if(Trig_trenok_Func003C())then
set udg_int_youxirs=(udg_int_youxirs+1)
else
endif
if(Trig_trenok_Func004C())then
set udg_int_youxirs=(udg_int_youxirs+1)
else
endif
if(Trig_trenok_Func005C())then
set udg_int_youxirs=(udg_int_youxirs+1)
else
endif
if(Trig_trenok_Func006C())then
set udg_int_youxirs=(udg_int_youxirs+1)
else
endif
if(Trig_trenok_Func007C())then
set udg_int_youxirs=(udg_int_youxirs+1)
else
endif
if(Trig_trenok_Func008C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(("|CFFFF0000当前游戏人数为"+(I2S(udg_int_youxirs)+("人，同意踢人人数为"+I2S(udg_int_tiren))))+"人，超过一半的人同意，系统即将运行T人程序！"))
call TriggerSleepAction(2)
call CustomDefeatBJ(udg_wj_tiren,"你已被系统踢出游戏！")
else
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(("|CFFFF0000当前游戏人数为"+(I2S(udg_int_youxirs)+("人，同意踢人人数为"+I2S(udg_int_tiren))))+"人，不足一半的人同意踢人，踢人无效！"))
endif
set udg_likai=1
loop
exitwhen udg_likai>6
call UnitRemoveItemFromSlotSwapped(udg_likai,udg_heroname[GetConvertedPlayerId(udg_wj_tiren)])
call UnitDropItemPointLoc(udg_unit_bb[GetConvertedPlayerId(udg_wj_tiren)],UnitItemInSlot(udg_unit_bb[GetConvertedPlayerId(udg_wj_tiren)],(udg_likai-1)),GetUnitLoc(udg_unit_bb[GetConvertedPlayerId(udg_wj_tiren)]))
set udg_likai=udg_likai+1
endloop
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(udg_wj_tiren)+"离开了游戏！！！！他的东西掉在地上了，快去拿了吧！"))
call RemoveUnit(udg_heroname[GetConvertedPlayerId(udg_wj_tiren)])
call RemoveUnit(udg_unit_bb[GetConvertedPlayerId(udg_wj_tiren)])
call RemoveUnit(udg_bbtwo[GetConvertedPlayerId(udg_wj_tiren)])

set udg_shuaxinsj=(udg_shuaxinsj+0.10)
set udg_renshu=(udg_renshu-50.00)
call ForForce(GetPlayersAllies(Player(7)),function Trig_trenok_Func015A)
call DisplayTextToForce(GetPlayersAll(),("当前经验率为"+(R2S((udg_renshu+40.00))+"%")))
set udg_buerzhi_tiren=false
set udg_int_tiren=1
set udg_int_youxirs=0
set bj_forLoopAIndex=2
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_buerzhi_trok[bj_forLoopAIndex]=false
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_trenok takes nothing returns nothing
set gg_trg_trenok=CreateTrigger()
call TriggerAddAction(gg_trg_trenok,function Trig_trenok_Actions)
endfunction




function Trig_Uhhq1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EM'))
endfunction
function Trig_Uhhq1Actions takes nothing returns nothing
call PlaySoundBJ(gg_snd_uhq)
set udg_Uhhq1=GetSpellAbilityUnit()
set udg_Uhqdian[1]=GetUnitLoc(udg_Uhhq1)
set udg_Uhqdian[2]=GetSpellTargetLoc()
set udg_Uhhqss=AngleBetweenPoints(udg_Uhqdian[1],udg_Uhqdian[2])
set udg_Uhhqzu=CreateGroup()
call CreateNUnitsAtLoc(1,'e00H',GetOwningPlayer(udg_Uhhq1),udg_Uhqdian[1],udg_Uhhqss)
set udg_Uhuoqiu=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(1.50,'BTLF',udg_Uhuoqiu)
call RemoveLocation(udg_Uhqdian[2])
call EnableTrigger(gg_trg_Uhhq2)
call TriggerSleepAction(0.85)
call DisableTrigger(gg_trg_Uhhq2)
set udg_Uhhqzs=0
call RemoveLocation(udg_Uhqdian[1])
call GroupClear(udg_Uhhqzu)
endfunction
function InitTrig_Uhhq1 takes nothing returns nothing
set gg_trg_Uhhq1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Uhhq1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Uhhq1,Condition(function Trig_Uhhq1Conditions))
call TriggerAddAction(gg_trg_Uhhq1,function Trig_Uhhq1Actions)
endfunction

function Trig_Uhhq2Func005001003 takes nothing returns boolean
return((((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Uhhq1))==true))and(IsUnitInGroup(GetFilterUnit(),udg_Uhhqzu)==false)))
endfunction
function Trig_Uhhq2Func005A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_Uhhqzu)
call UnitDamageTargetBJ(udg_Uhhq1,GetEnumUnit(),(Pow(I2R(GetHeroLevel(udg_Uhhq1)),1.10)*(I2R(GetUnitAbilityLevel(udg_Uhhq1,'A0EM'))*160.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call DestroyGroup(GetLastCreatedGroup())
endfunction
function Trig_Uhhq2Actions takes nothing returns nothing
set udg_Uhhqzs=(udg_Uhhqzs+1)
set udg_Uhqdian[2]=PolarProjectionBJ(udg_Uhqdian[1],(8.00*I2R(udg_Uhhqzs)),udg_Uhhqss)
call SetUnitPositionLoc(udg_Uhuoqiu,udg_Uhqdian[2])
if((GetRandomInt(1,5)==5))then
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Uhuoqiu),GetRandomReal(1.00,100.00),GetRandomDirectionDeg()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_Uhqdian[2],Condition(function Trig_Uhhq2Func005001003)),function Trig_Uhhq2Func005A)
call RemoveLocation(udg_Uhqdian[2])
endfunction
function InitTrig_Uhhq2 takes nothing returns nothing
set gg_trg_Uhhq2=CreateTrigger()
call DisableTrigger(gg_trg_Uhhq2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Uhhq2,0.01)
call TriggerAddAction(gg_trg_Uhhq2,function Trig_Uhhq2Actions)
endfunction

function YDTriggerSaveLoadSystem___Init takes nothing returns nothing
set YDHT=InitHashtable()
endfunction
function YDWEH2I takes handle h returns integer
return GetHandleId(h)
endfunction
function YDWEFlushAllData takes nothing returns nothing
call FlushParentHashtable(YDHT)
endfunction
function YDWEFlushMissionByInteger takes integer i returns nothing
call FlushChildHashtable(YDHT,i)
endfunction
function YDWEFlushMissionByString takes string s returns nothing
call FlushChildHashtable(YDHT,StringHash(s))
endfunction
function YDWEFlushStoredIntegerByInteger takes integer i,integer j returns nothing
call RemoveSavedInteger(YDHT,i,j)
endfunction
function YDWEFlushStoredIntegerByString takes string s1,string s2 returns nothing
call RemoveSavedInteger(YDHT,StringHash(s1),StringHash(s2))
endfunction
function YDWEHaveSavedIntegerByInteger takes integer i,integer j returns boolean
return HaveSavedInteger(YDHT,i,j)
endfunction
function YDWEHaveSavedIntegerByString takes string s1,string s2 returns boolean
return HaveSavedInteger(YDHT,StringHash(s1),StringHash(s2))
endfunction
function YDWESaveIntegerByInteger takes integer pTable,integer pKey,integer i returns nothing
call SaveInteger(YDHT,pTable,pKey,i)
endfunction
function YDWESaveIntegerByString takes string pTable,string pKey,integer i returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),i)
endfunction
function YDWEGetIntegerByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetIntegerByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveRealByInteger takes integer pTable,integer pKey,real r returns nothing
call SaveReal(YDHT,pTable,pKey,r)
endfunction
function YDWESaveRealByString takes string pTable,string pKey,real r returns nothing
call SaveReal(YDHT,StringHash(pTable),StringHash(pKey),r)
endfunction
function YDWEGetRealByInteger takes integer pTable,integer pKey returns real
return LoadReal(YDHT,pTable,pKey)
endfunction
function YDWEGetRealByString takes string pTable,string pKey returns real
return LoadReal(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveStringByInteger takes integer pTable,integer pKey,string s returns nothing
call SaveStr(YDHT,pTable,pKey,s)
endfunction
function YDWESaveStringByString takes string pTable,string pKey,string s returns nothing
call SaveStr(YDHT,StringHash(pTable),StringHash(pKey),s)
endfunction
function YDWEGetStringByInteger takes integer pTable,integer pKey returns string
return LoadStr(YDHT,pTable,pKey)
endfunction
function YDWEGetStringByString takes string pTable,string pKey returns string
return LoadStr(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveBooleanByInteger takes integer pTable,integer pKey,boolean b returns nothing
call SaveBoolean(YDHT,pTable,pKey,b)
endfunction
function YDWESaveBooleanByString takes string pTable,string pKey,boolean b returns nothing
call SaveBoolean(YDHT,StringHash(pTable),StringHash(pKey),b)
endfunction
function YDWEGetBooleanByInteger takes integer pTable,integer pKey returns boolean
return LoadBoolean(YDHT,pTable,pKey)
endfunction
function YDWEGetBooleanByString takes string pTable,string pKey returns boolean
return LoadBoolean(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveUnitByInteger takes integer pTable,integer pKey,unit u returns nothing
call SaveUnitHandle(YDHT,pTable,pKey,u)
endfunction
function YDWESaveUnitByString takes string pTable,string pKey,unit u returns nothing
call SaveUnitHandle(YDHT,StringHash(pTable),StringHash(pKey),u)
endfunction
function YDWEGetUnitByInteger takes integer pTable,integer pKey returns unit
return LoadUnitHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetUnitByString takes string pTable,string pKey returns unit
return LoadUnitHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveUnitIDByInteger takes integer pTable,integer pKey,integer uid returns nothing
call SaveInteger(YDHT,pTable,pKey,uid)
endfunction
function YDWESaveUnitIDByString takes string pTable,string pKey,integer uid returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),uid)
endfunction
function YDWEGetUnitIDByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetUnitIDByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveAbilityIDByInteger takes integer pTable,integer pKey,integer abid returns nothing
call SaveInteger(YDHT,pTable,pKey,abid)
endfunction
function YDWESaveAbilityIDByString takes string pTable,string pKey,integer abid returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),abid)
endfunction
function YDWEGetAbilityIDByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetAbilityIDByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESavePlayerByInteger takes integer pTable,integer pKey,player p returns nothing
call SavePlayerHandle(YDHT,pTable,pKey,p)
endfunction
function YDWESavePlayerByString takes string pTable,string pKey,player p returns nothing
call SavePlayerHandle(YDHT,StringHash(pTable),StringHash(pKey),p)
endfunction
function YDWEGetPlayerByInteger takes integer pTable,integer pKey returns player
return LoadPlayerHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetPlayerByString takes string pTable,string pKey returns player
return LoadPlayerHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveItemByInteger takes integer pTable,integer pKey,item it returns nothing
call SaveItemHandle(YDHT,pTable,pKey,it)
endfunction
function YDWESaveItemByString takes string pTable,string pKey,item it returns nothing
call SaveItemHandle(YDHT,StringHash(pTable),StringHash(pKey),it)
endfunction
function YDWEGetItemByInteger takes integer pTable,integer pKey returns item
return LoadItemHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetItemByString takes string pTable,string pKey returns item
return LoadItemHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveItemIDByInteger takes integer pTable,integer pKey,integer itid returns nothing
call SaveInteger(YDHT,pTable,pKey,itid)
endfunction
function YDWESaveItemIDByString takes string pTable,string pKey,integer itid returns nothing
call SaveInteger(YDHT,StringHash(pTable),StringHash(pKey),itid)
endfunction
function YDWEGetItemIDByInteger takes integer pTable,integer pKey returns integer
return LoadInteger(YDHT,pTable,pKey)
endfunction
function YDWEGetItemIDByString takes string pTable,string pKey returns integer
return LoadInteger(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTimerByInteger takes integer pTable,integer pKey,timer t returns nothing
call SaveTimerHandle(YDHT,pTable,pKey,t)
endfunction
function YDWESaveTimerByString takes string pTable,string pKey,timer t returns nothing
call SaveTimerHandle(YDHT,StringHash(pTable),StringHash(pKey),t)
endfunction
function YDWEGetTimerByInteger takes integer pTable,integer pKey returns timer
return LoadTimerHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTimerByString takes string pTable,string pKey returns timer
return LoadTimerHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerByInteger takes integer pTable,integer pKey,trigger trg returns nothing
call SaveTriggerHandle(YDHT,pTable,pKey,trg)
endfunction
function YDWESaveTriggerByString takes string pTable,string pKey,trigger trg returns nothing
call SaveTriggerHandle(YDHT,StringHash(pTable),StringHash(pKey),trg)
endfunction
function YDWEGetTriggerByInteger takes integer pTable,integer pKey returns trigger
return LoadTriggerHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerByString takes string pTable,string pKey returns trigger
return LoadTriggerHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveLocationByInteger takes integer pTable,integer pKey,location pt returns nothing
call SaveLocationHandle(YDHT,pTable,pKey,pt)
endfunction
function YDWESaveLocationByString takes string pTable,string pKey,location pt returns nothing
call SaveLocationHandle(YDHT,StringHash(pTable),StringHash(pKey),pt)
endfunction
function YDWEGetLocationByInteger takes integer pTable,integer pKey returns location
return LoadLocationHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetLocationByString takes string pTable,string pKey returns location
return LoadLocationHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveGroupByInteger takes integer pTable,integer pKey,group g returns nothing
call SaveGroupHandle(YDHT,pTable,pKey,g)
endfunction
function YDWESaveGroupByString takes string pTable,string pKey,group g returns nothing
call SaveGroupHandle(YDHT,StringHash(pTable),StringHash(pKey),g)
endfunction
function YDWEGetGroupByInteger takes integer pTable,integer pKey returns group
return LoadGroupHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetGroupByString takes string pTable,string pKey returns group
return LoadGroupHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveMultiboardByInteger takes integer pTable,integer pKey,multiboard m returns nothing
call SaveMultiboardHandle(YDHT,pTable,pKey,m)
endfunction
function YDWESaveMultiboardByString takes string pTable,string pKey,multiboard m returns nothing
call SaveMultiboardHandle(YDHT,StringHash(pTable),StringHash(pKey),m)
endfunction
function YDWEGetMultiboardByInteger takes integer pTable,integer pKey returns multiboard
return LoadMultiboardHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetMultiboardByString takes string pTable,string pKey returns multiboard
return LoadMultiboardHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveMultiboardItemByInteger takes integer pTable,integer pKey,multiboarditem mt returns nothing
call SaveMultiboardItemHandle(YDHT,pTable,pKey,mt)
endfunction
function YDWESaveMultiboardItemByString takes string pTable,string pKey,multiboarditem mt returns nothing
call SaveMultiboardItemHandle(YDHT,StringHash(pTable),StringHash(pKey),mt)
endfunction
function YDWEGetMultiboardItemByInteger takes integer pTable,integer pKey returns multiboarditem
return LoadMultiboardItemHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetMultiboardItemByString takes string pTable,string pKey returns multiboarditem
return LoadMultiboardItemHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTextTagByInteger takes integer pTable,integer pKey,texttag tt returns nothing
call SaveTextTagHandle(YDHT,pTable,pKey,tt)
endfunction
function YDWESaveTextTagByString takes string pTable,string pKey,texttag tt returns nothing
call SaveTextTagHandle(YDHT,StringHash(pTable),StringHash(pKey),tt)
endfunction
function YDWEGetTextTagByInteger takes integer pTable,integer pKey returns texttag
return LoadTextTagHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTextTagByString takes string pTable,string pKey returns texttag
return LoadTextTagHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveLightningByInteger takes integer pTable,integer pKey,lightning ln returns nothing
call SaveLightningHandle(YDHT,pTable,pKey,ln)
endfunction
function YDWESaveLightningByString takes string pTable,string pKey,lightning ln returns nothing
call SaveLightningHandle(YDHT,StringHash(pTable),StringHash(pKey),ln)
endfunction
function YDWEGetLightningByInteger takes integer pTable,integer pKey returns lightning
return LoadLightningHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetLightningByString takes string pTable,string pKey returns lightning
return LoadLightningHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveRegionByInteger takes integer pTable,integer pKey,region rn returns nothing
call SaveRegionHandle(YDHT,pTable,pKey,rn)
endfunction
function YDWESaveRegionByString takes string pTable,string pKey,region rt returns nothing
call SaveRegionHandle(YDHT,StringHash(pTable),StringHash(pKey),rt)
endfunction
function YDWEGetRegionByInteger takes integer pTable,integer pKey returns region
return LoadRegionHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetRegionByString takes string pTable,string pKey returns region
return LoadRegionHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveRectByInteger takes integer pTable,integer pKey,rect rn returns nothing
call SaveRectHandle(YDHT,pTable,pKey,rn)
endfunction
function YDWESaveRectByString takes string pTable,string pKey,rect rt returns nothing
call SaveRectHandle(YDHT,StringHash(pTable),StringHash(pKey),rt)
endfunction
function YDWEGetRectByInteger takes integer pTable,integer pKey returns rect
return LoadRectHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetRectByString takes string pTable,string pKey returns rect
return LoadRectHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveLeaderboardByInteger takes integer pTable,integer pKey,leaderboard lb returns nothing
call SaveLeaderboardHandle(YDHT,pTable,pKey,lb)
endfunction
function YDWESaveLeaderboardByString takes string pTable,string pKey,leaderboard lb returns nothing
call SaveLeaderboardHandle(YDHT,StringHash(pTable),StringHash(pKey),lb)
endfunction
function YDWEGetLeaderboardByInteger takes integer pTable,integer pKey returns leaderboard
return LoadLeaderboardHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetLeaderboardByString takes string pTable,string pKey returns leaderboard
return LoadLeaderboardHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveEffectByInteger takes integer pTable,integer pKey,effect e returns nothing
call SaveEffectHandle(YDHT,pTable,pKey,e)
endfunction
function YDWESaveEffectByString takes string pTable,string pKey,effect e returns nothing
call SaveEffectHandle(YDHT,StringHash(pTable),StringHash(pKey),e)
endfunction
function YDWEGetEffectByInteger takes integer pTable,integer pKey returns effect
return LoadEffectHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetEffectByString takes string pTable,string pKey returns effect
return LoadEffectHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveDestructableByInteger takes integer pTable,integer pKey,destructable da returns nothing
call SaveDestructableHandle(YDHT,pTable,pKey,da)
endfunction
function YDWESaveDestructableByString takes string pTable,string pKey,destructable da returns nothing
call SaveDestructableHandle(YDHT,StringHash(pTable),StringHash(pKey),da)
endfunction
function YDWEGetDestructableByInteger takes integer pTable,integer pKey returns destructable
return LoadDestructableHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetDestructableByString takes string pTable,string pKey returns destructable
return LoadDestructableHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerConditionByInteger takes integer pTable,integer pKey,triggercondition tc returns nothing
call SaveTriggerConditionHandle(YDHT,pTable,pKey,tc)
endfunction
function YDWESaveTriggerConditionByString takes string pTable,string pKey,triggercondition tc returns nothing
call SaveTriggerConditionHandle(YDHT,StringHash(pTable),StringHash(pKey),tc)
endfunction
function YDWEGetTriggerConditionByInteger takes integer pTable,integer pKey returns triggercondition
return LoadTriggerConditionHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerConditionByString takes string pTable,string pKey returns triggercondition
return LoadTriggerConditionHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerActionByInteger takes integer pTable,integer pKey,triggeraction ta returns nothing
call SaveTriggerActionHandle(YDHT,pTable,pKey,ta)
endfunction
function YDWESaveTriggerActionByString takes string pTable,string pKey,triggeraction ta returns nothing
call SaveTriggerActionHandle(YDHT,StringHash(pTable),StringHash(pKey),ta)
endfunction
function YDWEGetTriggerActionByInteger takes integer pTable,integer pKey returns triggeraction
return LoadTriggerActionHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerActionByString takes string pTable,string pKey returns triggeraction
return LoadTriggerActionHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTriggerEventByInteger takes integer pTable,integer pKey,event et returns nothing
call SaveTriggerEventHandle(YDHT,pTable,pKey,et)
endfunction
function YDWESaveTriggerEventByString takes string pTable,string pKey,event et returns nothing
call SaveTriggerEventHandle(YDHT,StringHash(pTable),StringHash(pKey),et)
endfunction
function YDWEGetTriggerEventByInteger takes integer pTable,integer pKey returns event
return LoadTriggerEventHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTriggerEventByString takes string pTable,string pKey returns event
return LoadTriggerEventHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveForceByInteger takes integer pTable,integer pKey,force fc returns nothing
call SaveForceHandle(YDHT,pTable,pKey,fc)
endfunction
function YDWESaveForceByString takes string pTable,string pKey,force fc returns nothing
call SaveForceHandle(YDHT,StringHash(pTable),StringHash(pKey),fc)
endfunction
function YDWEGetForceByInteger takes integer pTable,integer pKey returns force
return LoadForceHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetForceByString takes string pTable,string pKey returns force
return LoadForceHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveBoolexprByInteger takes integer pTable,integer pKey,boolexpr be returns nothing
call SaveBooleanExprHandle(YDHT,pTable,pKey,be)
endfunction
function YDWESaveBoolexprByString takes string pTable,string pKey,boolexpr be returns nothing
call SaveBooleanExprHandle(YDHT,StringHash(pTable),StringHash(pKey),be)
endfunction
function YDWEGetBoolexprByInteger takes integer pTable,integer pKey returns boolexpr
return LoadBooleanExprHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetBoolexprByString takes string pTable,string pKey returns boolexpr
return LoadBooleanExprHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveSoundByInteger takes integer pTable,integer pKey,sound sd returns nothing
call SaveSoundHandle(YDHT,pTable,pKey,sd)
endfunction
function YDWESaveSoundByString takes string pTable,string pKey,sound sd returns nothing
call SaveSoundHandle(YDHT,StringHash(pTable),StringHash(pKey),sd)
endfunction
function YDWEGetSoundByInteger takes integer pTable,integer pKey returns sound
return LoadSoundHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetSoundByString takes string pTable,string pKey returns sound
return LoadSoundHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTimerDialogByInteger takes integer pTable,integer pKey,timerdialog td returns nothing
call SaveTimerDialogHandle(YDHT,pTable,pKey,td)
endfunction
function YDWESaveTimerDialogByString takes string pTable,string pKey,timerdialog td returns nothing
call SaveTimerDialogHandle(YDHT,StringHash(pTable),StringHash(pKey),td)
endfunction
function YDWEGetTimerDialogByInteger takes integer pTable,integer pKey returns timerdialog
return LoadTimerDialogHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTimerDialogByString takes string pTable,string pKey returns timerdialog
return LoadTimerDialogHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveTrackableByInteger takes integer pTable,integer pKey,trackable ta returns nothing
call SaveTrackableHandle(YDHT,pTable,pKey,ta)
endfunction
function YDWESaveTrackableByString takes string pTable,string pKey,trackable ta returns nothing
call SaveTrackableHandle(YDHT,StringHash(pTable),StringHash(pKey),ta)
endfunction
function YDWEGetTrackableByInteger takes integer pTable,integer pKey returns trackable
return LoadTrackableHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetTrackableByString takes string pTable,string pKey returns trackable
return LoadTrackableHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveDialogByInteger takes integer pTable,integer pKey,dialog d returns nothing
call SaveDialogHandle(YDHT,pTable,pKey,d)
endfunction
function YDWESaveDialogByString takes string pTable,string pKey,dialog d returns nothing
call SaveDialogHandle(YDHT,StringHash(pTable),StringHash(pKey),d)
endfunction
function YDWEGetDialogByInteger takes integer pTable,integer pKey returns dialog
return LoadDialogHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetDialogByString takes string pTable,string pKey returns dialog
return LoadDialogHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveButtonByInteger takes integer pTable,integer pKey,button bt returns nothing
call SaveButtonHandle(YDHT,pTable,pKey,bt)
endfunction
function YDWESaveButtonByString takes string pTable,string pKey,button bt returns nothing
call SaveButtonHandle(YDHT,StringHash(pTable),StringHash(pKey),bt)
endfunction
function YDWEGetButtonByInteger takes integer pTable,integer pKey returns button
return LoadButtonHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetButtonByString takes string pTable,string pKey returns button
return LoadButtonHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveQuestByInteger takes integer pTable,integer pKey,quest qt returns nothing
call SaveQuestHandle(YDHT,pTable,pKey,qt)
endfunction
function YDWESaveQuestByString takes string pTable,string pKey,quest qt returns nothing
call SaveQuestHandle(YDHT,StringHash(pTable),StringHash(pKey),qt)
endfunction
function YDWEGetQuestByInteger takes integer pTable,integer pKey returns quest
return LoadQuestHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetQuestByString takes string pTable,string pKey returns quest
return LoadQuestHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWESaveQuestItemByInteger takes integer pTable,integer pKey,questitem qi returns nothing
call SaveQuestItemHandle(YDHT,pTable,pKey,qi)
endfunction
function YDWESaveQuestItemByString takes string pTable,string pKey,questitem qi returns nothing
call SaveQuestItemHandle(YDHT,StringHash(pTable),StringHash(pKey),qi)
endfunction
function YDWEGetQuestItemByInteger takes integer pTable,integer pKey returns questitem
return LoadQuestItemHandle(YDHT,pTable,pKey)
endfunction
function YDWEGetQuestItemByString takes string pTable,string pKey returns questitem
return LoadQuestItemHandle(YDHT,StringHash(pTable),StringHash(pKey))
endfunction
function YDWES2I takes string s returns integer
return StringHash(s)
endfunction
function YDWESaveAbilityHandleBJ takes integer AbilityID,integer key,integer missionKey,hashtable table returns nothing
call SaveInteger(table,missionKey,key,AbilityID)
endfunction
function YDWESaveAbilityHandle takes hashtable table,integer parentKey,integer childKey,integer AbilityID returns nothing
call SaveInteger(table,parentKey,childKey,AbilityID)
endfunction
function YDWELoadAbilityHandleBJ takes integer key,integer missionKey,hashtable table returns integer
return LoadInteger(table,missionKey,key)
endfunction
function YDWELoadAbilityHandle takes hashtable table,integer parentKey,integer childKey returns integer
return LoadInteger(table,parentKey,childKey)
endfunction

function YDWETriggerRegisterLeaveRectSimpleNull takes trigger trig,rect r returns event
    local region rectRegion= CreateRegion()
    call RegionAddRect(rectRegion, r)
    set yd_NullTempRegion=rectRegion
    set rectRegion=null
    return TriggerRegisterLeaveRegion(trig, yd_NullTempRegion, null)
endfunction

function YDWECoordinateX takes real x returns real
return RMinBJ(RMaxBJ(x,yd_MapMinX),yd_MapMaxX)
endfunction
function YDWECoordinateY takes real y returns real
return RMinBJ(RMaxBJ(y,yd_MapMinY),yd_MapMaxY)
endfunction
function YDWEDistanceBetweenUnits takes unit a,unit b returns real
return SquareRoot((GetUnitX(a)-GetUnitX(b))*(GetUnitX(a)-GetUnitX(b))+(GetUnitY(a)-GetUnitY(b))*(GetUnitY(a)-GetUnitY(b)))
endfunction
function YDWEAngleBetweenUnits takes unit from,unit to returns real
return bj_RADTODEG*Atan2(GetUnitY(to)-GetUnitY(from),GetUnitX(to)-GetUnitX(from))
endfunction
function YDWEGetRect takes real x,real y,real width,real height returns rect
return Rect(x-width*0.5,y-height*0.5,x+width*0.5,y+height*0.5)
endfunction
function YDWEFlyEnable takes unit u returns nothing
call UnitAddAbility(u,'Amrf')
call UnitRemoveAbility(u,'Amrf')
endfunction
function YDWEId2S takes integer value returns string
local string charMap=bj_AllString
local string result=""
local integer remainingValue=value
local integer charValue
local integer byteno
set byteno=0
loop
set charValue=ModuloInteger(remainingValue,256)
set remainingValue=remainingValue/256
set result=SubString(charMap,charValue,charValue+1)+result
set byteno=byteno+1
exitwhen byteno==4
endloop
return result
endfunction
function YDWES2Id takes string targetstr returns integer
local string originstr=bj_AllString
local integer strlength=StringLength(targetstr)
local integer a=0
local integer b=0
local integer numx=1
local integer result=0
loop
exitwhen b>strlength-1
set numx=R2I(Pow(256,strlength-1-b))
set a=1
loop
exitwhen a>255
if SubString(targetstr,b,b+1)==SubString(originstr,a,a+1)then
set result=result+a*numx
set a=256
endif
set a=a+1
endloop
set b=b+1
endloop
return result
endfunction
function YDWES2UnitId takes string targetstr returns integer
return YDWES2Id(targetstr)
endfunction
function YDWES2ItemId takes string targetstr returns integer
return YDWES2Id(targetstr)
endfunction
function GetLastCombinedItem takes nothing returns item
return bj_lastCombinedItem
endfunction
function GetLastAbilityCastingUnit takes nothing returns unit
return bj_lastAbilityCastingUnit
endfunction
function GetLastAbilityTargetUnit takes nothing returns unit
return bj_lastAbilityTargetUnit
endfunction
function YDWESetMapLimitCoordinate takes real MinX,real MaxX,real MinY,real MaxY returns nothing
set yd_MapMaxX=MaxX
set yd_MapMinX=MinX
set yd_MapMaxY=MaxY
set yd_MapMinY=MinY
endfunction
function YDWESyStemAbilityCastingOverTriggerAction takes unit hero,integer index returns nothing
local integer i=(LoadInteger(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash(("TriggerNumber"))))
local integer abiltype=0
local trigger array trg
loop
set trg[i]=(LoadTriggerHandle(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash((I2S(i)))))
set abiltype=(LoadInteger(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash((I2S((GetHandleId((trg[i]))))+"AbilityType"))))
if trg[i]!=null and IsTriggerEnabled(trg[i])==true and index==abiltype then
set bj_lastAbilityCastingUnit=hero
call ConditionalTriggerExecute(trg[i])
endif
set trg[i]=null
set i=i-1
exitwhen i<=0
endloop
endfunction
function YDWESyStemAbilityCastingOverRegistTrigger takes trigger trg,integer index returns nothing
local integer i=(LoadInteger(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash(("TriggerNumber"))))
set i=i+1
call SaveInteger(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash(("TriggerNumber")),(i))
call SaveInteger(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash((I2S((GetHandleId((trg))))+"AbilityType")),(index))
call SaveTriggerHandle(YDHT,StringHash(("YDWESyStemAbilityCastingOverRegistTrigger")),StringHash((I2S(i))),(trg))
endfunction
function YDWECreateUnitPool takes nothing returns nothing
set bj_lastCreatedUnitPool=CreateUnitPool()
endfunction
function YDWEPlaceRandomUnit takes unitpool up,player p,real x,real y,real face returns nothing
set bj_lastPoolAbstractedUnit=PlaceRandomUnit(up,p,x,y,face)
endfunction
function YDWEGetLastUnitPool takes nothing returns unitpool
return bj_lastCreatedUnitPool
endfunction
function YDWEGetLastPoolAbstractedUnit takes nothing returns unit
return bj_lastPoolAbstractedUnit
endfunction
function YDWECreateItemPool takes nothing returns nothing
set bj_lastCreatedItemPool=CreateItemPool()
endfunction
function YDWEPlaceRandomItem takes itempool ip,real x,real y returns nothing
set bj_lastPoolAbstractedItem=PlaceRandomItem(ip,x,y)
endfunction
function YDWEGetLastItemPool takes nothing returns itempool
return bj_lastCreatedItemPool
endfunction
function YDWEGetLastPoolAbstractedItem takes nothing returns item
return bj_lastPoolAbstractedItem
endfunction
function YDWESetAttackDamageWeaponType takes attacktype at,damagetype dt,weapontype wt returns nothing
set bj_lastSetAttackType=at
set bj_lastSetDamageType=dt
set bj_lastSetWeaponType=wt
endfunction
function YDWEGetUnitItemSoftId takes unit hero,item it returns integer
local integer i=0
loop
exitwhen i>5
if UnitItemInSlot(hero,i)==it then
return i+1
endif
set i=i+1
endloop
return 0
endfunction
function YDWEVersion_Display takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFF1E90FF当前编辑器版本为： |r|cFF00FF00YDWE1.21.5修正版")
return false
endfunction
function YDWEVersion_Init takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
loop
exitwhen i==12
call TriggerRegisterPlayerChatEvent(t,Player(i),"YDWE Version",true)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function YDWEVersion_Display))
set t=null
endfunction
function InitializeYD takes nothing returns nothing
set yd_MapMinX=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)
set yd_MapMinY=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)
set yd_MapMaxX=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)
set yd_MapMaxY=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)
call YDWEVersion_Init()
endfunction
function YDWEEnumDestructablesInCircleBJNull takes real radius,location loc,code actionFunc returns nothing
local rect r
if(radius>=0)then
set bj_enumDestructableCenter=loc
set bj_enumDestructableRadius=radius
set r=GetRectFromCircleBJ(loc,radius)
call EnumDestructablesInRect(r,filterEnumDestructablesInCircleBJ,actionFunc)
call RemoveRect(r)
endif
set r=null
endfunction
function YDWEGetForceOfPlayerNull takes player whichPlayer returns force
local force f=CreateForce()
call ForceAddPlayer(f,whichPlayer)
set yd_NullTempForce=f
set f=null
return yd_NullTempForce
endfunction
function YDWEGetPlayersAlliesNull takes player whichPlayer returns force
local force f=CreateForce()
call ForceEnumAllies(f,whichPlayer,null)
set yd_NullTempForce=f
set f=null
return yd_NullTempForce
endfunction
function YDWEGetPlayersByMapControlNull takes mapcontrol whichControl returns force
local force f=CreateForce()
local integer playerIndex
local player indexPlayer
set playerIndex=0
loop
set indexPlayer=Player(playerIndex)
if GetPlayerController(indexPlayer)==whichControl then
call ForceAddPlayer(f,indexPlayer)
endif
set playerIndex=playerIndex+1
exitwhen playerIndex==bj_MAX_PLAYER_SLOTS
endloop
set indexPlayer=null
set yd_NullTempForce=f
set f=null
return yd_NullTempForce
endfunction
function YDWEGetRandomSubGroupNull takes integer count,group sourceGroup returns group
set bj_randomSubGroupGroup=CreateGroup()
set bj_randomSubGroupWant=count
set bj_randomSubGroupTotal=CountUnitsInGroup(sourceGroup)
if(bj_randomSubGroupWant<=0 or bj_randomSubGroupTotal<=0)then
return bj_randomSubGroupGroup
endif
set bj_randomSubGroupChance=I2R(bj_randomSubGroupWant)/I2R(bj_randomSubGroupTotal)
call ForGroup(sourceGroup,function GetRandomSubGroupEnum)
return bj_randomSubGroupGroup
endfunction

function YDWEGetUnitsInRectMatchingNull takes rect r,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRect(g,r,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsInRectOfPlayerNull takes rect r,player whichPlayer returns group
local group g=CreateGroup()
set bj_groupEnumOwningPlayer=whichPlayer
call GroupEnumUnitsInRect(g,r,filterGetUnitsInRectOfPlayer)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsOfPlayerAndTypeIdNull takes player whichPlayer,integer unitid returns group
local group g=CreateGroup()
set bj_groupEnumTypeId=unitid
call GroupEnumUnitsOfPlayer(g,whichPlayer,filterGetUnitsOfPlayerAndTypeId)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEPlaySoundNull takes string soundName returns nothing
local sound soundHandle=CreateSound(soundName,false,false,true,12700,12700,"")
call StartSound(soundHandle)
call KillSoundWhenDone(soundHandle)
set soundHandle=null
endfunction
function YDWEPolledWaitNull takes real duration returns nothing
local timer t
local real timeRemaining
if(duration>0)then
set t=CreateTimer()
call TimerStart(t,duration,false,null)
loop
set timeRemaining=TimerGetRemaining(t)
exitwhen timeRemaining<=0
if(timeRemaining>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(0.1*timeRemaining)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
call DestroyTimer(t)
endif
set t=null
endfunction
function YDWESetUnitFacingToFaceLocTimedNull takes unit whichUnit,location target,real duration returns nothing
local location unitLoc=GetUnitLoc(whichUnit)
call SetUnitFacingTimed(whichUnit,AngleBetweenPoints(unitLoc,target),duration)
call RemoveLocation(unitLoc)
set unitLoc=null
endfunction
function YDWETriggerRegisterEnterRectSimpleNull takes trigger trig,rect r returns event
local region rectRegion=CreateRegion()
call RegionAddRect(rectRegion,r)
set yd_NullTempRegion=rectRegion
set rectRegion=null
return TriggerRegisterEnterRegion(trig,yd_NullTempRegion,null)
endfunction
function YDWEGetUnitsInRangeOfLocAllNull takes real radius,location whichLocation returns group
return YDWEGetUnitsInRangeOfLocMatchingNull(radius,whichLocation,null)
endfunction
function YDWEGetUnitsInRectAllNull takes rect r returns group
return YDWEGetUnitsInRectMatchingNull(r,null)
endfunction
function YDWESetUnitFacingToFaceUnitTimedNull takes unit whichUnit,unit target,real duration returns nothing
local location unitLoc=GetUnitLoc(target)
call YDWESetUnitFacingToFaceLocTimedNull(whichUnit,unitLoc,duration)
call RemoveLocation(unitLoc)
set unitLoc=null
endfunction
function YDWETimerSystem___NewTaskIndex takes nothing returns integer
local integer h=YDWETimerSystem___TaskListIdleHead
if YDWETimerSystem___TaskListIdleHead<0 then
if YDWETimerSystem___TaskListIdleMax>=8000 then
return 8100
else
set YDWETimerSystem___TaskListIdleMax=YDWETimerSystem___TaskListIdleMax+1
return YDWETimerSystem___TaskListIdleMax
endif
endif
set YDWETimerSystem___TaskListIdleHead=YDWETimerSystem___TaskListIdle[h]
return h
endfunction
function YDWETimerSystem___DeleteTaskIndex takes integer index returns nothing
set YDWETimerSystem___TaskListIdle[index]=YDWETimerSystem___TaskListIdleHead
set YDWETimerSystem___TaskListIdleHead=index
endfunction
function YDWETimerSystem___NewTask takes real time,boolexpr proc returns integer
local integer index=YDWETimerSystem___NewTaskIndex()
local integer h=YDWETimerSystem___TaskListHead
local integer t=R2I(100.*time)+YDWETimerSystem___CurrentTime
local integer p
set YDWETimerSystem___TaskListProc[index]=proc
set YDWETimerSystem___TaskListTime[index]=t
loop
set p=YDWETimerSystem___TaskListNext[h]
if p<0 or YDWETimerSystem___TaskListTime[p]>=t then
set YDWETimerSystem___TaskListNext[h]=index
set YDWETimerSystem___TaskListNext[index]=p
return index
endif
set h=p
endloop
return index
endfunction
function YDWETimerSystemNewTask takes real time,boolexpr proc returns integer
return YDWETimerSystem___NewTask(time,proc)
endfunction
function YDWETimerSystemGetCurrentTask takes nothing returns integer
return YDWETimerSystem___CurrentIndex
endfunction
function YDWETimerSystem___RemoveUnit_CallBack takes nothing returns nothing
call RemoveUnit(LoadUnitHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveUnit takes real time,unit u returns nothing
call SaveUnitHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnRemoveUnit),u)
endfunction
function YDWETimerSystem___DestroyTimer_CallBack takes nothing returns nothing
call DestroyTimer(LoadTimerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyTimer takes real time,timer t returns nothing
call SaveTimerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnDestroyTimer),t)
endfunction
function YDWETimerSystem___RemoveItem_CallBack takes nothing returns nothing
call RemoveItem(LoadItemHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveItem takes real time,item it returns nothing
call SaveItemHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnRemoveItem),it)
endfunction
function YDWETimerSystem___DestroyEffect_CallBack takes nothing returns nothing
call DestroyEffect(LoadEffectHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyEffect takes real time,effect e returns nothing
call SaveEffectHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnDestroyEffect),e)
endfunction
function YDWETimerSystem___DestroyLightning_CallBack takes nothing returns nothing
call DestroyLightning(LoadLightningHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyLightning takes real time,lightning lt returns nothing
call SaveLightningHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnDestroyLightning),lt)
endfunction
function YDWETimerSystem___RunTrigger_CallBack takes nothing returns nothing
call TriggerExecute(LoadTriggerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRunTrigger takes real time,trigger trg returns nothing
call SaveTriggerHandle(YDHT,YDWETimerSystem___TimerHandle,YDWETimerSystem___NewTask(time,YDWETimerSystem___fnRunTrigger),trg)
endfunction
function YDWETimerDestroyTextTag takes real time,texttag tt returns nothing
local integer N=0
local integer i=0
if time<=0 then
set time=0.01
endif
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,time)
call SetTextTagFadepoint(tt,time)
endfunction
function YDWETimerSystem___Main takes nothing returns nothing
local integer h=YDWETimerSystem___TaskListHead
local integer p
loop
set YDWETimerSystem___CurrentIndex=YDWETimerSystem___TaskListNext[h]
exitwhen YDWETimerSystem___CurrentIndex<0 or YDWETimerSystem___CurrentTime<YDWETimerSystem___TaskListTime[YDWETimerSystem___CurrentIndex]
call ForceEnumPlayers(YDWETimerSystem___RunBoolexpr,YDWETimerSystem___TaskListProc[YDWETimerSystem___CurrentIndex])
call YDWETimerSystem___DeleteTaskIndex(YDWETimerSystem___CurrentIndex)
set YDWETimerSystem___TaskListNext[h]=YDWETimerSystem___TaskListNext[YDWETimerSystem___CurrentIndex]
endloop
set YDWETimerSystem___CurrentTime=YDWETimerSystem___CurrentTime+1
endfunction
function YDWETimerSystem___Init takes nothing returns nothing
set YDWETimerSystem___RunBoolexpr=CreateForce()
call ForceAddPlayer(YDWETimerSystem___RunBoolexpr,Player(0))
set YDWETimerSystem___Timer=CreateTimer()
set YDWETimerSystem___TimerHandle=GetHandleId(YDWETimerSystem___Timer)
set YDWETimerSystem___CurrentTime=0
set YDWETimerSystem___TaskListHead=0
set YDWETimerSystem___TaskListNext[0]=-1
set YDWETimerSystem___TaskListIdleHead=1
set YDWETimerSystem___TaskListIdleMax=1
set YDWETimerSystem___TaskListIdle[1]=-1
set YDWETimerSystem___fnRemoveUnit=Filter(function YDWETimerSystem___RemoveUnit_CallBack)
set YDWETimerSystem___fnDestroyTimer=Filter(function YDWETimerSystem___DestroyTimer_CallBack)
set YDWETimerSystem___fnRemoveItem=Filter(function YDWETimerSystem___RemoveItem_CallBack)
set YDWETimerSystem___fnDestroyEffect=Filter(function YDWETimerSystem___DestroyEffect_CallBack)
set YDWETimerSystem___fnDestroyLightning=Filter(function YDWETimerSystem___DestroyLightning_CallBack)
set YDWETimerSystem___fnRunTrigger=Filter(function YDWETimerSystem___RunTrigger_CallBack)
call TimerStart(YDWETimerSystem___Timer,0.01,true,function YDWETimerSystem___Main)
endfunction
function YDWETimerSystemGetRunIndex takes nothing returns integer
return YDWETimerSystem___TimerSystem_RunIndex
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunction takes nothing returns nothing
local integer tid=GetHandleId(GetExpiredTimer())
local trigger trg=LoadTriggerHandle(YDHT,tid,$D0001)
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(trg))),StringHash("RunIndex"),LoadInteger(YDHT,tid,$D0002))
if TriggerEvaluate(trg)then
call TriggerExecute(trg)
endif
set trg=null
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes takes nothing returns nothing
local integer tid=GetHandleId(GetExpiredTimer())
local trigger trg=LoadTriggerHandle(YDHT,tid,$D0001)
local integer times=LoadInteger(YDHT,tid,$D0003)
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(trg))),StringHash("RunIndex"),LoadInteger(YDHT,tid,$D0002))
if TriggerEvaluate(trg)then
call TriggerExecute(trg)
endif
set times=times-1
if times>0 then
call SaveInteger(YDHT,tid,$D0003,times)
else
call DestroyTimer(GetExpiredTimer())
call FlushChildHashtable(YDHT,tid)
endif
set trg=null
endfunction
function YDWETimerRunPeriodicTrigger takes real timeout,trigger trg,boolean b,integer times,integer data returns nothing
local timer t
local integer tid
local integer index=0
if timeout<0 then
return
else
set t=CreateTimer()
set tid=GetHandleId(t)
endif
set YDWETimerSystem___TimerSystem_RunIndex=YDWETimerSystem___TimerSystem_RunIndex+1
call SaveTriggerHandle(YDHT,tid,$D0001,trg)
call SaveInteger(YDHT,tid,$D0002,YDWETimerSystem___TimerSystem_RunIndex)
set index=LoadInteger(YDHT,GetHandleId(trg),'YDTS'+data)
set index=index+1
call SaveInteger(YDHT,GetHandleId(trg),'YDTS'+data,index)
call SaveTimerHandle(YDHT,GetHandleId(trg),('YDTS'+data)*index,t)
if b==false then
call SaveInteger(YDHT,tid,$D0003,times)
call TimerStart(t,timeout,true,function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes)
else
call TimerStart(t,timeout,true,function YDWETimerSystem___RunPeriodicTriggerFunction)
endif
set t=null
endfunction
function YDWETimerRunPeriodicTriggerOver takes trigger trg,integer data returns nothing
local integer trgid=GetHandleId(trg)
local integer index=LoadInteger(YDHT,trgid,'YDTS'+data)
local timer t
loop
exitwhen index<=0
set t=LoadTimerHandle(YDHT,trgid,('YDTS'+data)*index)
call DestroyTimer(t)
call FlushChildHashtable(YDHT,GetHandleId(t))
call RemoveSavedHandle(YDHT,trgid,('YDTS'+data)*index)
set index=index-1
endloop
call RemoveSavedInteger(YDHT,trgid,'YDTS'+data)
set t=null
endfunction


function Trig_pm1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EK'))
endfunction
function Trig_pm1Actions takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((1.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0EK'))*I2R(GetHeroAgi(GetTriggerUnit(),true))))*30.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call PlaySoundBJ(gg_snd_paomo)
if((GetRandomInt(1,3)==2))then
set udg_wy_lf=true
else
call DoNothing()
endif
set udg_wy_unit[1]=GetTriggerUnit()
set udg_wy_unit[2]=GetSpellTargetUnit()
set udg_wydian=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e008',GetOwningPlayer(udg_wy_unit[1]),GetUnitLoc(udg_wy_unit[2]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"locustswarm")
endfunction
function InitTrig_pm1 takes nothing returns nothing
set gg_trg_pm1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_pm1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_pm1,Condition(function Trig_pm1Conditions))
call TriggerAddAction(gg_trg_pm1,function Trig_pm1Actions)
endfunction
function Trig_pm2Conditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='e009'))
endfunction
function Trig_pm2Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call YDWETimerDestroyEffect(1.00,GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,'e00A',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),GetUnitLoc(udg_wy_unit[2]))
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_wy_group)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call EnableTrigger(gg_trg_pm3)
endfunction
function InitTrig_pm2 takes nothing returns nothing
set gg_trg_pm2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_pm2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_pm2,Condition(function Trig_pm2Conditions))
call TriggerAddAction(gg_trg_pm2,function Trig_pm2Actions)
endfunction
function Trig_pm3Func001Func001001003 takes nothing returns boolean
return((((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_wy_unit[1]))==true)))
endfunction
function Trig_pm3Func001Func001A takes nothing returns nothing
call UnitDamageTargetBJ(udg_wy_unit[1],GetEnumUnit(),((1.00*(I2R(GetUnitAbilityLevel(udg_wy_unit[1],'A0EK'))*I2R(GetHeroAgi(udg_wy_unit[1],true))))*10.00),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_pm3Func001Func018A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),20.00,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),GetUnitLoc(udg_wy_unit[2]))))
if((RectContainsUnit(RectFromCenterSizeBJ(GetUnitLoc(udg_wy_unit[2]),500.00,500.00),GetEnumUnit())==true))then
if((udg_wy_lf==true)and(GetRandomInt(1,10)==5))then
call GroupRemoveUnitSimple(GetEnumUnit(),udg_wy_group)
call UnitAddAbility(udg_wy_unit[1],'A0EI')
call SetUnitPositionLoc(udg_wy_unit[1],PolarProjectionBJ(GetUnitLoc(udg_wy_unit[2]),200.00,AngleBetweenPoints(GetUnitLoc(udg_wy_unit[1]),GetUnitLoc(udg_wy_unit[2]))))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_wy_unit[1]),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call YDWETimerDestroyEffect(1.00,GetLastCreatedEffectBJ())
call SetUnitAnimation(udg_wy_unit[1],"attack")
call UnitRemoveAbility(udg_wy_unit[1],'A0EI')
else
if((RectContainsUnit(RectFromCenterSizeBJ(GetUnitLoc(udg_wy_unit[2]),100.00,100.00),GetEnumUnit())==true))then
call RemoveUnit(GetEnumUnit())
else
call DoNothing()
endif
endif
else
call DoNothing()
endif
endfunction
function Trig_pm3Actions takes nothing returns nothing
if((IsUnitDeadBJ(udg_wy_unit[2])==false)and(IsUnitGroupEmptyBJ(udg_wy_group)==false)and(IsUnitGroupDeadBJ(udg_wy_group)==false))then
call ForGroupBJ(udg_wy_group,function Trig_pm3Func001Func018A)
else
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300.00,udg_wydian,Condition(function Trig_pm3Func001Func001001003)),function Trig_pm3Func001Func001A)
call DestroyGroup(GetLastCreatedGroup())
call RemoveLocation(udg_wydian)
call DisableTrigger(GetTriggeringTrigger())
set udg_wy_lf=false
call UnitAddAbility(udg_wy_unit[1],'A0EI')
call TriggerSleepAction(0.10)
call SetUnitPositionLoc(udg_wy_unit[1],PolarProjectionBJ(GetUnitLoc(udg_wy_unit[2]),200.00,AngleBetweenPoints(GetUnitLoc(udg_wy_unit[1]),GetUnitLoc(udg_wy_unit[2]))))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_wy_unit[1]),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call YDWETimerDestroyEffect(1.00,GetLastCreatedEffectBJ())
call SetUnitAnimation(udg_wy_unit[1],"attack")
call UnitDamageTargetBJ(udg_wy_unit[1],udg_wy_unit[2],((1.00*(I2R(GetUnitAbilityLevel(udg_wy_unit[1],'A0EK'))*I2R(GetHeroAgi(udg_wy_unit[1],true))))*20.00),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
call TriggerSleepAction(0.01)
call UnitRemoveAbility(udg_wy_unit[1],'A0EI')
call GroupClear(udg_wy_group)
set udg_wy_unit[1]=null
set udg_wy_unit[2]=null
endif
endfunction
function InitTrig_pm3 takes nothing returns nothing
set gg_trg_pm3=CreateTrigger()
call DisableTrigger(gg_trg_pm3)
call TriggerRegisterTimerEventPeriodic(gg_trg_pm3,0.02)
call TriggerAddAction(gg_trg_pm3,function Trig_pm3Actions)
endfunction


function Trig_yuedu1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EO'))
endfunction
function Trig_yuedu1Actions takes nothing returns nothing
call PlaySoundBJ(gg_snd_yuedu)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((1.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0EO'))*I2R(GetHeroAgi(GetTriggerUnit(),true))))*1000.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set udg_yuedu_zs=0
set udg_yuedu_jl=15
set udg_yuedu_unit[1]=GetTriggerUnit()
set udg_yuedu_unit[2]=GetSpellTargetUnit()
set udg_yuedu_dian[1]=GetUnitLoc(udg_yuedu_unit[1])
set udg_yuedu_dian[2]=GetUnitLoc(udg_yuedu_unit[2])
set udg_yuedu_i=1
loop
exitwhen udg_yuedu_i>5
set udg_yuedu_dian[3]=PolarProjectionBJ(udg_yuedu_dian[2],293.00,(72.00*I2R(udg_yuedu_i)))
call CreateNUnitsAtLocFacingLocBJ(1,'e00F',GetOwningPlayer(udg_yuedu_unit[1]),udg_yuedu_dian[3],udg_yuedu_dian[2])
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_yuedu_dian[3])
set udg_yuedu_dian[3]=PolarProjectionBJ(udg_yuedu_dian[2],300.00,(36.00+(72.00*I2R(udg_yuedu_i))))
call CreateNUnitsAtLocFacingLocBJ(1,'e00F',GetOwningPlayer(udg_yuedu_unit[1]),udg_yuedu_dian[3],udg_yuedu_dian[2])
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_yuedu_dian[3])
set udg_yuedu_i=udg_yuedu_i+1
endloop
call EnableTrigger(gg_trg_yuedu2)
endfunction
function InitTrig_yuedu1 takes nothing returns nothing
set gg_trg_yuedu1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yuedu1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_yuedu1,Condition(function Trig_yuedu1Conditions))
call TriggerAddAction(gg_trg_yuedu1,function Trig_yuedu1Actions)
endfunction
function Trig_yuedu2Actions takes nothing returns nothing
set udg_yuedu_zs=(udg_yuedu_zs+1)
if((udg_yuedu_zs<25))then
set udg_yuedu_jl=(udg_yuedu_jl+15)
set udg_yuedu_dian[3]=PolarProjectionBJ(udg_yuedu_dian[2],300.00,I2R(udg_yuedu_jl))
call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(udg_yuedu_unit[1]),udg_yuedu_dian[3],udg_yuedu_dian[2])
call SetUnitAnimation(GetLastCreatedUnit(),"attack")
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_yuedu_dian[3])
if((GetUnitAbilityLevel(udg_yuedu_unit[1],'A0EO')==1))then
call UnitDamageTargetBJ(udg_yuedu_unit[1],udg_yuedu_unit[2],(20000.00+(I2R(GetHeroInt(udg_yuedu_unit[1],true))*I2R(GetHeroLevel(udg_yuedu_unit[1])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
if((GetUnitAbilityLevel(udg_yuedu_unit[1],'A0EO')==2))then
call UnitDamageTargetBJ(udg_yuedu_unit[1],udg_yuedu_unit[2],(60000.00+(I2R(GetHeroInt(udg_yuedu_unit[1],true))*I2R(GetHeroLevel(udg_yuedu_unit[1])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
if((GetUnitAbilityLevel(udg_yuedu_unit[1],'A0EO')==3))then
call UnitDamageTargetBJ(udg_yuedu_unit[1],udg_yuedu_unit[2],(100000.00+(I2R(GetHeroInt(udg_yuedu_unit[1],true))*I2R(GetHeroLevel(udg_yuedu_unit[1])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
else
call DisableTrigger(GetTriggeringTrigger())
set udg_yuedu_unit[1]=null
set udg_yuedu_unit[2]=null
call RemoveLocation(udg_yuedu_dian[1])
call RemoveLocation(udg_yuedu_dian[2])
endif
endfunction
function InitTrig_yuedu2 takes nothing returns nothing
set gg_trg_yuedu2=CreateTrigger()
call DisableTrigger(gg_trg_yuedu2)
call TriggerRegisterTimerEventPeriodic(gg_trg_yuedu2,0.04)
call TriggerAddAction(gg_trg_yuedu2,function Trig_yuedu2Actions)
endfunction
function Trig_yuedu3Conditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='e00E'))
endfunction
function Trig_yuedu3Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call YDWETimerDestroyEffect(1.00,GetLastCreatedEffectBJ())
endfunction
function InitTrig_yuedu3 takes nothing returns nothing
set gg_trg_yuedu3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_yuedu3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_yuedu3,Condition(function Trig_yuedu3Conditions))
call TriggerAddAction(gg_trg_yuedu3,function Trig_yuedu3Actions)
endfunction
function Trig_TianZhaoConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EN'))
endfunction
function Trig_TianZhaoFunc011001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Tz_unit[1]))==true)))
endfunction
function Trig_TianZhaoFunc011A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Tz_unit[1],GetEnumUnit(),10000000.00,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_TianZhaoFunc016001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Tz_unit[1]))==true)))
endfunction
function Trig_TianZhaoFunc016A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Tz_unit[1],GetEnumUnit(),10000000.00,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_TianZhaoActions takes nothing returns nothing
call PlaySoundBJ(gg_snd_tz2)
set udg_Tz_unit[1]=GetTriggerUnit()
set udg_Tz_unit[2]=GetSpellTargetUnit()
set udg_Tz_dian=GetUnitLoc(udg_Tz_unit[2])
call CreateNUnitsAtLoc(1,'e00D',GetOwningPlayer(udg_Tz_unit[1]),udg_Tz_dian,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
set udg_Tz_zs=1
loop
exitwhen udg_Tz_zs>6
call CreateNUnitsAtLoc(1,'e00D',GetOwningPlayer(udg_Tz_unit[1]),PolarProjectionBJ(udg_Tz_dian,200.00,(60.00*I2R(udg_Tz_zs))),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
set udg_Tz_zs=udg_Tz_zs+1
endloop
set udg_Tz_zs=1
loop
exitwhen udg_Tz_zs>12
call CreateNUnitsAtLoc(1,'e00D',GetOwningPlayer(udg_Tz_unit[1]),PolarProjectionBJ(udg_Tz_dian,450.00,(30.00*I2R(udg_Tz_zs))),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
set udg_Tz_zs=udg_Tz_zs+1
endloop
call TriggerSleepAction(0.60)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500.00,udg_Tz_dian,Condition(function Trig_TianZhaoFunc011001003)),function Trig_TianZhaoFunc011A)
call DestroyGroup(GetLastCreatedGroup())
call TriggerSleepAction(0.90)
set udg_Tz_zs=1
loop
exitwhen udg_Tz_zs>6
call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(udg_Tz_unit[1]),PolarProjectionBJ(udg_Tz_dian,150.00,(60.00*I2R(udg_Tz_zs))),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(udg_Tz_unit[1]),PolarProjectionBJ(udg_Tz_dian,200.00,(60.00*I2R(udg_Tz_zs))),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
set udg_Tz_zs=udg_Tz_zs+1
endloop
set udg_Tz_zs=1
loop
exitwhen udg_Tz_zs>24
call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(udg_Tz_unit[1]),PolarProjectionBJ(udg_Tz_dian,350.00,(15.00*I2R(udg_Tz_zs))),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
set udg_Tz_zs=udg_Tz_zs+1
endloop
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500.00,udg_Tz_dian,Condition(function Trig_TianZhaoFunc016001003)),function Trig_TianZhaoFunc016A)
call DestroyGroup(GetLastCreatedGroup())
call RemoveLocation(udg_Tz_dian)
set udg_Tz_unit[1]=null
set udg_Tz_unit[2]=null
endfunction
function InitTrig_TianZhao takes nothing returns nothing
set gg_trg_TianZhao=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TianZhao,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_TianZhao,Condition(function Trig_TianZhaoConditions))
call TriggerAddAction(gg_trg_TianZhao,function Trig_TianZhaoActions)
endfunction
function Trig_FSBPConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EL'))
endfunction
function Trig_FSBPActions takes nothing returns nothing
set udg_SFDW[517]=GetTriggerUnit()
set udg_MB[517]=GetSpellTargetUnit()
set udg_FSBPD[1]=GetUnitLoc(GetTriggerUnit())
set udg_FSBPD[2]=GetSpellTargetLoc()
call TriggerSleepAction(0.10)
call PauseUnit(GetTriggerUnit(),true)
call AddSpecialEffectLocBJ(udg_FSBPD[2],"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(udg_SFDW[517]),PolarProjectionBJ(udg_FSBPD[2],60.00,AngleBetweenPoints(udg_FSBPD[1],udg_FSBPD[2])),udg_FSBPD[1])
call SetUnitFlyHeight(GetLastCreatedUnit(),0.00,1000000000.00)
call SetUnitAnimation(GetLastCreatedUnit(),"spell")
set udg_KLDW[12]=GetLastCreatedUnit()
set udg_FSBPD[3]=GetUnitLoc(udg_KLDW[12])
call RemoveLocation(udg_FSBPD[3])
call TriggerSleepAction(1.00)
call AddSpecialEffectLocBJ(udg_FSBPD[2],"Abilities\\Weapons\\GlaiveMissile\\GlaiveMissileTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call KillUnit(udg_KLDW[12])
call PauseUnit(GetTriggerUnit(),false)
endfunction
function InitTrig_FSBP takes nothing returns nothing
set gg_trg_FSBP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_FSBP,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_FSBP,Condition(function Trig_FSBPConditions))
call TriggerAddAction(gg_trg_FSBP,function Trig_FSBPActions)
endfunction
function Trig_FSBP2Conditions takes nothing returns boolean
return((GetTriggerUnit()==udg_KLDW[12]))
endfunction
function Trig_FSBP2Func005002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SFDW[517]))==true))))
endfunction
function Trig_FSBP2Func006A takes nothing returns nothing
call UnitAddAbilityBJ('Amrf',GetEnumUnit())
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_FLYING)==false))then
call SetUnitFlyHeight(GetEnumUnit(),200.00,1000.00)
else
endif
call UnitRemoveAbilityBJ('Amrf',GetEnumUnit())
call UnitDamageTargetBJ(udg_SFDW[517],GetEnumUnit(),((I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,udg_SFDW[517],true))*(I2R(GetUnitAbilityLevel(udg_SFDW[517],'A0EL'))*15.00))*1.00),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set udg_FSBPD[4]=GetUnitLoc(GetEnumUnit())
endfunction
function Trig_FSBP2Func010A takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_FLYING)==false))then
call SetUnitFlyHeight(GetEnumUnit(),0.00,600.00)
else
endif
call PauseUnitBJ(false,GetEnumUnit())
endfunction
function Trig_FSBP2Actions takes nothing returns nothing
set udg_FSBPD[3]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e00B',GetOwningPlayer(GetTriggerUnit()),udg_FSBPD[3],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(GetRandomLocInRect(RectFromCenterSizeBJ(udg_FSBPD[3],400.00,400.00)),"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetRandomLocInRect(RectFromCenterSizeBJ(udg_FSBPD[3],400.00,400.00)),"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_DWW[517]=YDWEGetUnitsInRangeOfLocMatchingNull(500.00,udg_FSBPD[3],Condition(function Trig_FSBP2Func005002003))
call ForGroupBJ(udg_DWW[517],function Trig_FSBP2Func006A)
call EnableTrigger(gg_trg_FSBP3)
call RemoveUnit(GetTriggerUnit())
call TriggerSleepAction(0.20)
call ForGroupBJ(udg_DWW[517],function Trig_FSBP2Func010A)
call TriggerSleepAction(0.10)
call DisableTrigger(gg_trg_FSBP3)
call GroupClear(udg_DWW[517])
call RemoveLocation(udg_FSBPD[1])
call RemoveLocation(udg_FSBPD[2])
call RemoveLocation(udg_FSBPD[3])
call RemoveLocation(udg_FSBPD[4])
endfunction
function InitTrig_FSBP2 takes nothing returns nothing
set gg_trg_FSBP2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_FSBP2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_FSBP2,Condition(function Trig_FSBP2Conditions))
call TriggerAddAction(gg_trg_FSBP2,function Trig_FSBP2Actions)
endfunction
function Trig_FSBP3Func001A takes nothing returns nothing
call AddSpecialEffectLocBJ(udg_FSBPD[4],"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(udg_FSBPD[4],15.00,AngleBetweenPoints(udg_FSBPD[3],udg_FSBPD[4])))
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Trig_FSBP3Actions takes nothing returns nothing
call ForGroupBJ(udg_DWW[517],function Trig_FSBP3Func001A)
endfunction
function InitTrig_FSBP3 takes nothing returns nothing
set gg_trg_FSBP3=CreateTrigger()
call DisableTrigger(gg_trg_FSBP3)
call TriggerRegisterTimerEventPeriodic(gg_trg_FSBP3,0.04)
call TriggerAddAction(gg_trg_FSBP3,function Trig_FSBP3Actions)
endfunction
function Trig_XzhConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EP'))
endfunction
function Trig_XzhFunc008001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Xzh_unit))==true)))
endfunction
function Trig_XzhFunc008A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Xzh_unit,GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,udg_Xzh_unit,true))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_Xzh_unit))])),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_XzhActions takes nothing returns nothing
call PlaySoundBJ(gg_snd_xuzzn)
set udg_Xzh_unit=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'e00G',GetOwningPlayer(udg_Xzh_unit),GetUnitLoc(udg_Xzh_unit),GetUnitFacing(udg_Xzh_unit))
set udg_Xzh_xzzn=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(20.00,'BTLF',udg_Xzh_xzzn)
call SetUnitTimeScale(udg_Xzh_xzzn,2.00)
call SetUnitPathing(udg_Xzh_xzzn,false)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500.00,GetUnitLoc(udg_Xzh_unit),Condition(function Trig_XzhFunc008001003)),function Trig_XzhFunc008A)
call DestroyGroup(GetLastCreatedGroup())
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_Xzh_unit))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_Xzh_unit))]+5)
call StartTimerBJ(udg_Xzh_jsq,false,20.00)
call EnableTrigger(gg_trg_Xzh2)
endfunction
function InitTrig_Xzh takes nothing returns nothing
set gg_trg_Xzh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Xzh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Xzh,Condition(function Trig_XzhConditions))
call TriggerAddAction(gg_trg_Xzh,function Trig_XzhActions)
endfunction
function Trig_Xzh2Actions takes nothing returns nothing
call SetUnitPositionLocFacingBJ(udg_Xzh_xzzn,GetUnitLoc(udg_Xzh_unit),GetUnitFacing(udg_Xzh_unit))
call SetUnitAnimation(udg_Xzh_xzzn,"walk")
endfunction
function InitTrig_Xzh2 takes nothing returns nothing
set gg_trg_Xzh2=CreateTrigger()
call DisableTrigger(gg_trg_Xzh2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Xzh2,0.01)
call TriggerAddAction(gg_trg_Xzh2,function Trig_Xzh2Actions)
endfunction
function Trig_Xzh3Actions takes nothing returns nothing
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_Xzh_unit))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_Xzh_unit))]-5)
set udg_Xzh_unit=null
set udg_Xzh_xzzn=null
call DisableTrigger(gg_trg_Xzh2)
endfunction
function InitTrig_Xzh3 takes nothing returns nothing
set gg_trg_Xzh3=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Xzh3,udg_Xzh_jsq)
call TriggerAddAction(gg_trg_Xzh3,function Trig_Xzh3Actions)
endfunction
function Trig_hfzConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FH'))
endfunction
function Trig_hfzFunc002001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))))
endfunction
function Trig_hfzFunc002A takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0FH'))*10.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_hfzActions takes nothing returns nothing
set udg_HFZ=GetSpellTargetLoc()
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300.00,udg_HFZ,Condition(function Trig_hfzFunc002001003)),function Trig_hfzFunc002A)
call RemoveLocation(udg_HFZ)
endfunction
function InitTrig_hfz takes nothing returns nothing
set gg_trg_hfz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_hfz,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_hfz,Condition(function Trig_hfzConditions))
call TriggerAddAction(gg_trg_hfz,function Trig_hfzActions)
endfunction
function Trig_SD2Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0EU'))
endfunction
function Trig_SD2Actions takes nothing returns nothing
call PlaySoundBJ(gg_snd_jinsesg)
set udg_s4D_dw[3]=GetTriggerUnit()
set udg_s4D_dw[4]=GetSpellTargetUnit()
call TriggerSleepAction(0.02)
set udg_s4D_dian[1]=GetUnitLoc(udg_s4D_dw[3])
set udg_s4D_dian[2]=GetUnitLoc(udg_s4D_dw[4])
call PauseUnitBJ(true,udg_s4D_dw[3])
call SetUnitPathing(udg_s4D_dw[3],false)
call UnitAddAbility(udg_s4D_dw[3],'Amrf')
call SetUnitAnimation(udg_s4D_dw[3],"Spell Throw")
set udg_Luoxuan_Texiao=AddSpecialEffectTarget("fdlxw jhxcom_2000.mdx",udg_s4D_dw[3],"hand right")
set udg_s4D_ss[3]=-20.00
set udg_s4D_ss[4]=AngleBetweenPoints(udg_s4D_dian[1],udg_s4D_dian[2])
set udg_s4D_ss[5]=DistanceBetweenPoints(udg_s4D_dian[1],udg_s4D_dian[2])
call TriggerSleepAction(0.10)
call EnableTrigger(gg_trg_SD3)
endfunction
function InitTrig_SD2 takes nothing returns nothing
set gg_trg_SD2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SD2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SD2,Condition(function Trig_SD2Conditions))
call TriggerAddAction(gg_trg_SD2,function Trig_SD2Actions)
endfunction
function Trig_SD3Func010Func008001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_s4D_dw[3]))==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))))
endfunction
function Trig_SD3Func010Func008A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_s4D_dw[3],GetEnumUnit(),(Pow(I2R(GetHeroLevel(udg_s4D_dw[3])),1.10)*(I2R(GetUnitAbilityLevel(udg_s4D_dw[3],'A0EU'))*200.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(udg_s4D_dw[3],GetEnumUnit(),(Pow(I2R(100),1.10)*(I2R(GetUnitAbilityLevel(udg_s4D_dw[3],'A0EU'))*200.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_SD3Actions takes nothing returns nothing
set udg_s4D_ss[3]=(udg_s4D_ss[3]+1)
set udg_s4D_ss[2]=(udg_s4D_ss[2]+1)
set udg_s4D_ss[1]=(((udg_s4D_ss[3]*udg_s4D_ss[3])*-1.00)+200.00)
call SetUnitFlyHeight(udg_s4D_dw[3],udg_s4D_ss[1],0.00)
set udg_s4D_dian[3]=GetUnitLoc(udg_s4D_dw[3])
set udg_s4D_dian[4]=PolarProjectionBJ(udg_s4D_dian[3],(udg_s4D_ss[5]/40.00),AngleBetweenPoints(udg_s4D_dian[3],udg_s4D_dian[2]))
call SetUnitPositionLoc(udg_s4D_dw[3],udg_s4D_dian[4])
call RemoveLocation(udg_s4D_dian[3])
call RemoveLocation(udg_s4D_dian[4])
if((udg_s4D_ss[2]>=40.00))then
call DisableTrigger(GetTriggeringTrigger())
set udg_s4D_ss[2]=0.00
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_s4D_dian[2],250.00,(60.00*I2R(GetForLoopIndexA()))),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(udg_s4D_dw[3]),udg_s4D_dian[2],GetRandomDirectionDeg())
call UnitAddAbility(GetLastCreatedUnit(),'AOws')
call IssueImmediateOrder(GetLastCreatedUnit(),"stomp")
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',0.20)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(330.00,udg_s4D_dian[2],Condition(function Trig_SD3Func010Func008001003)),function Trig_SD3Func010Func008A)
call SetUnitFlyHeight(udg_s4D_dw[3],GetUnitDefaultFlyHeight(udg_s4D_dw[3]),1000000000.00)
call SetUnitAnimation(udg_s4D_dw[3],"spell Throw")
call UnitRemoveAbility(udg_s4D_dw[3],'Amrf')
call DestroyEffect(udg_Luoxuan_Texiao)
call SetUnitPathing(udg_s4D_dw[3],true)
call PauseUnit(udg_s4D_dw[3],false)
call SelectUnitForPlayerSingle(udg_s4D_dw[3],GetOwningPlayer(udg_s4D_dw[3]))
call RemoveLocation(udg_s4D_dian[1])
call RemoveLocation(udg_s4D_dian[2])
set udg_s4D_dw[3]=null
set udg_s4D_dw[4]=null
else
endif
endfunction
function InitTrig_SD3 takes nothing returns nothing
set gg_trg_SD3=CreateTrigger()
call DisableTrigger(gg_trg_SD3)
call TriggerRegisterTimerEventPeriodic(gg_trg_SD3,0.01)
call TriggerAddAction(gg_trg_SD3,function Trig_SD3Actions)
endfunction
function Trig_Shunguang_ShanConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0ET'))
endfunction
function Trig_Shunguang_ShanFunc004002003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Sidai_Danwei))==true))))
endfunction
function Trig_Shunguang_ShanActions takes nothing returns nothing
set udg_Luoxuan_Shishu[0]=0.00
set udg_Sidai_Danwei=GetSpellAbilityUnit()
set udg_Shunguang_Dian[0]=GetUnitLoc(udg_Sidai_Danwei)
set udg_Sidai_Danweizu=YDWEGetUnitsInRangeOfLocMatchingNull(800.00,udg_Shunguang_Dian[0],Condition(function Trig_Shunguang_ShanFunc004002003))
if((CountUnitsInGroup(udg_Sidai_Danweizu)>0))then
set udg_Shunguang_Danwei=GroupPickRandomUnit(udg_Sidai_Danweizu)
call DestroyGroup(udg_Sidai_Danweizu)
set udg_Luoxuan_Texiao=AddSpecialEffectTarget("Abilities\\Spells\\Items\\ScrollOfRegeneration\\Scroll_Regen_Target.mdl",udg_Sidai_Danwei,"chest")
call SetUnitPathing(udg_Sidai_Danwei,false)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Rejuvenation\\RejuvenationTarget.mdl",udg_Shunguang_Dian[0]))
call EnableTrigger(gg_trg_Shunguang_Go)
else
call DoNothing()
endif
call RemoveLocation(udg_Shunguang_Dian[0])
endfunction
function InitTrig_Shunguang_Shan takes nothing returns nothing
set gg_trg_Shunguang_Shan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shunguang_Shan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shunguang_Shan,Condition(function Trig_Shunguang_ShanConditions))
call TriggerAddAction(gg_trg_Shunguang_Shan,function Trig_Shunguang_ShanActions)
endfunction
function Trig_Shunguang_GoFunc001Func003002003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Sidai_Danwei))==true)))
endfunction
function Trig_Shunguang_GoFunc001Func007A takes nothing returns nothing
set udg_Shunguang_Dian[1]=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(udg_Sidai_Danwei),udg_Shunguang_Dian[1],bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0F1')
call IssueTargetOrderById(GetLastCreatedUnit(),852095,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",udg_Shunguang_Dian[1]))
call UnitDamageTarget(udg_Sidai_Danwei,GetEnumUnit(),(I2R(GetUnitAbilityLevel(udg_Sidai_Danwei,'A0ET'))*(I2R(GetHeroStr(udg_Sidai_Danwei,true))*20.00)),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call RemoveLocation(udg_Shunguang_Dian[1])
endfunction
function Trig_Shunguang_GoActions takes nothing returns nothing
if((udg_Luoxuan_Shishu[0]==1.00))then
call DestroyEffect(udg_Luoxuan_Texiao)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitPathing(udg_Sidai_Danwei,true)
else
set udg_Luoxuan_Shishu[0]=(udg_Luoxuan_Shishu[0]+1)
set udg_Shunguang_Dian[0]=GetUnitLoc(udg_Shunguang_Danwei)
set udg_Sidai_Danweizu=YDWEGetUnitsInRangeOfLocMatchingNull(450.00,udg_Shunguang_Dian[0],Condition(function Trig_Shunguang_GoFunc001Func003002003))
call SetUnitPositionLoc(udg_Sidai_Danwei,udg_Shunguang_Dian[0])
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Rejuvenation\\RejuvenationTarget.mdl",udg_Shunguang_Dian[0]))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_Shunguang_Dian[1]=PolarProjectionBJ(udg_Shunguang_Dian[0],50.00,((360.00/3.00)*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'e00J',GetOwningPlayer(udg_Sidai_Danwei),udg_Shunguang_Dian[1],AngleBetweenPoints(udg_Shunguang_Dian[0],udg_Shunguang_Dian[1]))
call SetUnitAnimation(bj_lastCreatedUnit,"attack")
call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.50)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100,100,100,100.00)
call RemoveLocation(udg_Shunguang_Dian[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(udg_Sidai_Danweizu,function Trig_Shunguang_GoFunc001Func007A)
call DestroyGroup(udg_Sidai_Danweizu)
call RemoveLocation(udg_Shunguang_Dian[0])
endif
endfunction
function InitTrig_Shunguang_Go takes nothing returns nothing
set gg_trg_Shunguang_Go=CreateTrigger()
call DisableTrigger(gg_trg_Shunguang_Go)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shunguang_Go,0.30)
call TriggerAddAction(gg_trg_Shunguang_Go,function Trig_Shunguang_GoActions)
endfunction
function Trig_Feilei_StandConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0ER'))
endfunction
function Trig_Feilei_StandFunc016002003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Sidai_Danwei))==true)))
endfunction
function Trig_Feilei_StandFunc017A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function Trig_Feilei_StandActions takes nothing returns nothing
set udg_Feilei_High[0]=0.00
set udg_Feilei_Zhengshu[0]=0
set udg_Feilei_Zhengshu[1]=0
set udg_Feilei_Zhengshu[2]=0
set udg_Feilei_Zhengshu[3]=0
set udg_Feilei_Zhengshu[4]=0
set udg_Sidai_Danwei=GetSpellAbilityUnit()
set udg_Feilei_Dian[0]=GetSpellTargetLoc()
set udg_Feilei_Quyu=RectFromCenterSizeBJ(udg_Feilei_Dian[0],600.00,600.00)
set udg_Feilei_Dian[33]=GetUnitLoc(udg_Sidai_Danwei)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=30
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_Feilei_Dian[bj_forLoopAIndex]=GetRandomLocInRect(udg_Feilei_Quyu)
call CreateNUnitsAtLoc(1,'e00M',GetOwningPlayer(udg_Sidai_Danwei),udg_Feilei_Dian[33],AngleBetweenPoints(udg_Feilei_Dian[33],udg_Feilei_Dian[bj_forLoopAIndex]))
set udg_Feilei_Kuwu[bj_forLoopAIndex]=bj_lastCreatedUnit
set udg_Feilei_Shishu[bj_forLoopAIndex]=(DistanceBetweenPoints(udg_Feilei_Dian[33],udg_Feilei_Dian[bj_forLoopAIndex])/60.00)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call UnitAddAbility(udg_Sidai_Danwei,'Arav')
call UnitRemoveAbility(udg_Sidai_Danwei,'Arav')
call PauseUnit(udg_Sidai_Danwei,true)
call SetUnitPathing(udg_Sidai_Danwei,false)
set udg_Sidai_Danweizu1=YDWEGetUnitsInRangeOfLocMatchingNull(500.00,udg_Feilei_Dian[0],Condition(function Trig_Feilei_StandFunc016002003))
call ForGroupBJ(udg_Sidai_Danweizu1,function Trig_Feilei_StandFunc017A)
call EnableTrigger(gg_trg_Feilei_Go)
endfunction
function InitTrig_Feilei_Stand takes nothing returns nothing
set gg_trg_Feilei_Stand=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Feilei_Stand,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Feilei_Stand,Condition(function Trig_Feilei_StandConditions))
call TriggerAddAction(gg_trg_Feilei_Stand,function Trig_Feilei_StandActions)
endfunction
function Trig_Feilei_GoFunc002Func002Func003Func012002003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Sidai_Danwei))==true)))
endfunction
function Trig_Feilei_GoFunc002Func002Func003Func013A takes nothing returns nothing
call UnitDamageTarget(udg_Sidai_Danwei,GetEnumUnit(),((30.00*I2R(GetUnitAbilityLevel(udg_Sidai_Danwei,'A0ER')))*I2R(GetHeroStr(udg_Sidai_Danwei,true))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call UnitDamageTarget(udg_Sidai_Danwei,GetEnumUnit(),((500.00*I2R(GetUnitAbilityLevel(udg_Sidai_Danwei,'A0ER')))*I2R(130)),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("300伤害")))
endfunction
function Trig_Feilei_GoFunc003Func003Func010002003 takes nothing returns boolean
return(((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Sidai_Danwei))==true)))
endfunction
function Trig_Feilei_GoFunc003Func003Func011A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_Feilei_GoFunc003Func003Func012A takes nothing returns nothing
call UnitDamageTarget(udg_Sidai_Danwei,GetEnumUnit(),((500.00*I2R(GetUnitAbilityLevel(udg_Sidai_Danwei,'A0ER')))*I2R(GetHeroStr(udg_Sidai_Danwei,true))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call UnitDamageTarget(udg_Sidai_Danwei,GetEnumUnit(),((500.00*I2R(GetUnitAbilityLevel(udg_Sidai_Danwei,'A0ER')))*I2R(4000)),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("500伤害")))
endfunction
function Trig_Feilei_GoActions takes nothing returns nothing
if((udg_Feilei_Zhengshu[0]<=60))then
set udg_Feilei_Zhengshu[0]=(udg_Feilei_Zhengshu[0]+1)
set udg_Feilei_High[0]=(udg_Feilei_High[0]+0.05)
set udg_Feilei_High[1]=RAbsBJ((300.00*Sin(udg_Feilei_High[0])))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=30
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_Feilei_Dian[31]=GetUnitLoc(udg_Feilei_Kuwu[bj_forLoopAIndex])
set udg_Feilei_Dian[32]=PolarProjectionBJ(udg_Feilei_Dian[31],udg_Feilei_Shishu[bj_forLoopAIndex],GetUnitFacing(udg_Feilei_Kuwu[bj_forLoopAIndex]))
call SetUnitPositionLoc(udg_Feilei_Kuwu[bj_forLoopAIndex],udg_Feilei_Dian[32])
call SetUnitFlyHeight(udg_Feilei_Kuwu[bj_forLoopAIndex],udg_Feilei_High[1],0.00)
call RemoveLocation(udg_Feilei_Dian[31])
call RemoveLocation(udg_Feilei_Dian[32])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if((udg_Feilei_Zhengshu[1]==0))then
set udg_Feilei_Zhengshu[1]=1
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=30
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call KillUnit(udg_Feilei_Kuwu[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_Luoxuan_Texiao=AddSpecialEffectTarget("Abilities\\Spells\\Items\\ScrollOfRegeneration\\Scroll_Regen_Target.mdl",udg_Sidai_Danwei,"chest")
call SetUnitVertexColorBJ(udg_Sidai_Danwei,100,100,100,80.00)
else
call DoNothing()
endif
endif
if((udg_Feilei_Zhengshu[1]==1))then
if((udg_Feilei_Zhengshu[2]<=30))then
if((udg_Feilei_Zhengshu[3]==20))then
set udg_Feilei_Zhengshu[2]=(udg_Feilei_Zhengshu[2]+1)
set udg_Feilei_Zhengshu[3]=0
call SetUnitPositionLoc(udg_Sidai_Danwei,udg_Feilei_Dian[udg_Feilei_Zhengshu[2]])
call CreateNUnitsAtLoc(1,'e00J',GetOwningPlayer(udg_Sidai_Danwei),udg_Feilei_Dian[udg_Feilei_Zhengshu[2]],GetUnitFacing(udg_Sidai_Danwei))
call SetUnitTimeScale(bj_lastCreatedUnit,3.00)
call SetUnitAnimation(bj_lastCreatedUnit,"attack")
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100,100,100,80.00)
call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',1.00)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",udg_Feilei_Dian[udg_Feilei_Zhengshu[2]]))
call TerrainDeformationCraterBJ(0.5,false,udg_Feilei_Dian[udg_Feilei_Zhengshu[2]],200.00,100.00)
set udg_Sidai_Danweizu=YDWEGetUnitsInRangeOfLocMatchingNull(300.00,udg_Feilei_Dian[udg_Feilei_Zhengshu[2]],Condition(function Trig_Feilei_GoFunc002Func002Func003Func012002003))
call ForGroupBJ(udg_Sidai_Danweizu,function Trig_Feilei_GoFunc002Func002Func003Func013A)
call CreateNUnitsAtLoc(1,'e00L',GetOwningPlayer(udg_Sidai_Danwei),udg_Feilei_Dian[udg_Feilei_Zhengshu[2]],bj_UNIT_FACING)
call IssueImmediateOrder(bj_lastCreatedUnit,"thunderclap")
call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',1.00)
call DestroyGroup(udg_Sidai_Danweizu)
else
set udg_Feilei_Zhengshu[3]=(udg_Feilei_Zhengshu[3]+1)
endif
else
set udg_Feilei_Zhengshu[1]=2
endif
else
if((udg_Feilei_Zhengshu[1]==2))then
call SetUnitPositionLocFacingLocBJ(udg_Sidai_Danwei,udg_Feilei_Dian[33],udg_Feilei_Dian[0])
set udg_Feilei_Texiao=AddSpecialEffectTarget("war3mapImported\\fdlxw jhxcom_2000.mdx",udg_Sidai_Danwei,"hand right")
call SetUnitAnimation(udg_Sidai_Danwei,"spell one")
call SetUnitVertexColorBJ(udg_Sidai_Danwei,100,100,100,0.00)
set udg_Feilei_Zhengshu[1]=3
else
if((udg_Feilei_Zhengshu[1]==3))then
if((udg_Feilei_Zhengshu[4]==50))then
set udg_Feilei_Zhengshu[1]=4
set udg_Feilei_High[0]=0.00
else
set udg_Feilei_Zhengshu[4]=(udg_Feilei_Zhengshu[4]+1)
endif
else
call DoNothing()
endif
endif
endif
if((udg_Feilei_Zhengshu[1]==4))then
if((udg_Feilei_High[0]<=3.00))then
set udg_Feilei_High[0]=(udg_Feilei_High[0]+0.05)
set udg_Feilei_High[1]=RAbsBJ((300.00*Sin(udg_Feilei_High[0])))
set udg_Feilei_Dian[1]=GetUnitLoc(udg_Sidai_Danwei)
set udg_Feilei_Dian[2]=PolarProjectionBJ(udg_Feilei_Dian[1],(DistanceBetweenPoints(udg_Feilei_Dian[0],udg_Feilei_Dian[33])/60.00),AngleBetweenPoints(udg_Feilei_Dian[33],udg_Feilei_Dian[0]))
call SetUnitPositionLocFacingBJ(udg_Sidai_Danwei,udg_Feilei_Dian[2],AngleBetweenPoints(udg_Feilei_Dian[33],udg_Feilei_Dian[0]))
call SetUnitFlyHeight(udg_Sidai_Danwei,udg_Feilei_High[1],0.00)
call RemoveLocation(udg_Feilei_Dian[1])
call RemoveLocation(udg_Feilei_Dian[2])
else
call RemoveRect(udg_Feilei_Quyu)
call SetUnitAnimation(udg_Sidai_Danwei,"spell two")
call DestroyEffect(udg_Feilei_Texiao)
call DestroyEffect(udg_Luoxuan_Texiao)
call TerrainDeformationRippleBJ(1.00,false,udg_Feilei_Dian[0],1024,1024,100.00,0.50,512)
call PauseUnit(udg_Sidai_Danwei,false)
call SetUnitPathing(udg_Sidai_Danwei,true)
set udg_Feilei_Quyu=RectFromCenterSizeBJ(udg_Feilei_Dian[0],500.00,500.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_Feilei_Dian[1]=PolarProjectionBJ(udg_Feilei_Dian[0],100.00,(36.00*I2R(bj_forLoopAIndex)))
set udg_Feilei_Dian[2]=GetRandomLocInRect(udg_Feilei_Quyu)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",udg_Feilei_Dian[1]))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",udg_Feilei_Dian[2]))
call RemoveLocation(udg_Feilei_Dian[1])
call RemoveLocation(udg_Feilei_Dian[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_Sidai_Danweizu=YDWEGetUnitsInRangeOfLocMatchingNull(500.00,udg_Feilei_Dian[udg_Feilei_Zhengshu[2]],Condition(function Trig_Feilei_GoFunc003Func003Func010002003))
call ForGroupBJ(udg_Sidai_Danweizu1,function Trig_Feilei_GoFunc003Func003Func011A)
call ForGroupBJ(udg_Sidai_Danweizu,function Trig_Feilei_GoFunc003Func003Func012A)
call ResetUnitAnimation(udg_Sidai_Danwei)
call GroupClear(udg_Sidai_Danweizu)
call GroupClear(udg_Sidai_Danweizu1)
call RemoveLocation(udg_Feilei_Dian[0])
call RemoveLocation(udg_Feilei_Dian[33])
call DisableTrigger(GetTriggeringTrigger())
endif
else
call DoNothing()
endif
endfunction
function InitTrig_Feilei_Go takes nothing returns nothing
set gg_trg_Feilei_Go=CreateTrigger()
call DisableTrigger(gg_trg_Feilei_Go)
call TriggerRegisterTimerEventPeriodic(gg_trg_Feilei_Go,0.01)
call TriggerAddAction(gg_trg_Feilei_Go,function Trig_Feilei_GoActions)
endfunction
function Trig_wxty1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FJ'))
endfunction
function Trig_wxty1Actions takes nothing returns nothing
set udg_wxty[7]=GetTriggerUnit()
set udg_wxty[8]=GetSpellTargetUnit()
set udg_zlydian[2]=GetUnitLoc(udg_wxty[7])
call TriggerSleepAction(0.10)
call PauseUnitBJ(true,udg_wxty[7])
call SetUnitPathing(udg_wxty[8],false)
call EnableTrigger(gg_trg_wxty2)
endfunction
function InitTrig_wxty1 takes nothing returns nothing
set gg_trg_wxty1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wxty1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_wxty1,Condition(function Trig_wxty1Conditions))
call TriggerAddAction(gg_trg_wxty1,function Trig_wxty1Actions)
endfunction
function Trig_wxty2Actions takes nothing returns nothing
if(((RectContainsUnit(RectFromCenterSizeBJ(udg_zlydian[2],200.00,200.00),udg_wxty[8])==true)or(IsUnitDeadBJ(udg_wxty[8])==true)or(IsUnitDeadBJ(udg_wxty[7])==true)))then
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLocFacingLocBJ(1,'e00K',GetOwningPlayer(udg_wxty[7]),PolarProjectionBJ(GetUnitLoc(udg_wxty[7]),-100.00,GetUnitFacing(udg_wxty[7])),GetUnitLoc(udg_wxty[7]))
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',3.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetLastCreatedUnit()),250.00,(30.00*I2R(GetForLoopIndexA()))),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitPathing(udg_wxty[8],true)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_wxty[8]),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(udg_wxty[8]),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(udg_wxty[7]),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if((GetRandomInt(1,10)==1))then
call KillUnit(udg_wxty[7])
call KillUnit(udg_wxty[8])
call DisplayTextToForce(GetPlayersAll(),("|cffff0000超能之神发动尸鬼封印，成功把"+(GetUnitName(udg_wxty[8])+"秒杀!!!同时自身灵魂被死神带走...")))
else
call UnitDamageTargetBJ(udg_wxty[7],udg_wxty[8],(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,udg_wxty[7],true))*(I2R(GetHeroLevel(udg_wxty[7]))*5.00)),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
call SetUnitLifeBJ(udg_wxty[7],(GetUnitState(udg_wxty[7],UNIT_STATE_LIFE)-(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,udg_wxty[7],true))*(I2R(GetHeroLevel(udg_wxty[7]))*1))))
endif
call PauseUnitBJ(false,udg_wxty[7])
set udg_wxty[7]=null
set udg_wxty[8]=null
call RemoveLocation(udg_zlydian[2])
else
call SetUnitPositionLocFacingLocBJ(udg_wxty[8],PolarProjectionBJ(GetUnitLoc(udg_wxty[8]),35.00,AngleBetweenPoints(GetUnitLoc(udg_wxty[8]),udg_zlydian[2])),udg_zlydian[2])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_wxty[8]),"Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
endfunction
function InitTrig_wxty2 takes nothing returns nothing
set gg_trg_wxty2=CreateTrigger()
call DisableTrigger(gg_trg_wxty2)
call TriggerRegisterTimerEventPeriodic(gg_trg_wxty2,0.03)
call TriggerAddAction(gg_trg_wxty2,function Trig_wxty2Actions)
endfunction
function Trig_zjgmConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0F4')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_zjgmFunc003002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_honglian[0]))==true))))
endfunction
function Trig_zjgmFunc008A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_honglian[0],GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,udg_honglian[0],true))*(I2R(GetUnitAbilityLevel(udg_honglian[0],'A0F4'))*10.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_zjgmActions takes nothing returns nothing
set udg_honglian[0]=GetTriggerUnit()
set udg_honglian_dian[0]=GetSpellTargetLoc()
set udg_zjgm=YDWEGetUnitsInRangeOfLocMatchingNull(350.00,udg_honglian_dian[0],Condition(function Trig_zjgmFunc003002003))
if((((IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(udg_honglian[0]))==true))or(GetSpellTargetUnit()==udg_honglian[0])))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetSpellTargetUnit(),"overhead"))
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(GetHeroInt(udg_honglian[0],true))*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0F4'))*20.00))))
else
endif
call CreateNUnitsAtLoc(1,'h00T',GetOwningPlayer(GetTriggerUnit()),udg_honglian_dian[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.50,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call ForGroupBJ(udg_zjgm,function Trig_zjgmFunc008A)
call GroupClear(udg_zjgm)
call RemoveLocation(udg_honglian_dian[0])
endfunction
function InitTrig_zjgm takes nothing returns nothing
set gg_trg_zjgm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zjgm,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_zjgm,Condition(function Trig_zjgmConditions))
call TriggerAddAction(gg_trg_zjgm,function Trig_zjgmActions)
endfunction
function Trig_honglian9Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0F7')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)and(GetTriggerUnit()==gg_unit_Ewar_0127))
endfunction
function Trig_honglian9Func004001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)))
endfunction
function Trig_honglian9Func004A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0F7'))*15.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_honglian9Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h00U',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.50,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(350.00,GetUnitLoc(GetSpellTargetUnit()),Condition(function Trig_honglian9Func004001003)),function Trig_honglian9Func004A)
call DestroyGroup(GetLastCreatedGroup())
endfunction
function InitTrig_honglian9 takes nothing returns nothing
set gg_trg_honglian9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_honglian9,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_honglian9,Condition(function Trig_honglian9Conditions))
call TriggerAddAction(gg_trg_honglian9,function Trig_honglian9Actions)
endfunction
function Trig_honglian6Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0F8'))
endfunction
function Trig_honglian6Actions takes nothing returns nothing
set udg_honglian[6]=GetTriggerUnit()
set udg_honglian[7]=GetSpellTargetUnit()
call TriggerSleepAction(0.01)
call PauseUnitBJ(true,udg_honglian[6])
call SetUnitPathing(udg_honglian[6],false)
call UnitAddAbility(udg_honglian[6],'Amrf')
call SetUnitAnimation(udg_honglian[6],"stand Walk Alternate")
call SetUnitFlyHeight(udg_honglian[6],150.00,150.00)
call CreateNUnitsAtLoc(1,'h00Q',GetOwningPlayer(udg_honglian[6]),GetUnitLoc(udg_honglian[6]),GetUnitFacing(udg_honglian[6]))
set udg_honglian[8]=GetLastCreatedUnit()
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.00)
call EnableTrigger(gg_trg_honglian7)
endfunction
function InitTrig_honglian6 takes nothing returns nothing
set gg_trg_honglian6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_honglian6,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_honglian6,Condition(function Trig_honglian6Conditions))
call TriggerAddAction(gg_trg_honglian6,function Trig_honglian6Actions)
endfunction
function Trig_honglian7Func001Func009001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_honglian[6]))==true)))
endfunction
function Trig_honglian7Func001Func009A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_honglian[6],GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,udg_honglian[6],true))*(I2R(GetUnitAbilityLevel(udg_honglian[6],'A0F8'))*15.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_honglian7Actions takes nothing returns nothing
if(((RectContainsUnit(RectFromCenterSizeBJ(GetUnitLoc(udg_honglian[7]),150.00,150.00),udg_honglian[8])==true)or(IsUnitAliveBJ(udg_honglian[7])==false)))then
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(udg_honglian[8])
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(350.00,GetUnitLoc(udg_honglian[7]),Condition(function Trig_honglian7Func001Func009001003)),function Trig_honglian7Func001Func009A)
call SetUnitFlyHeight(udg_honglian[6],GetUnitDefaultFlyHeight(udg_honglian[6]),0.00)
call UnitRemoveAbility(udg_honglian[6],'Amrf')
call SetUnitPathing(udg_honglian[6],true)
call PauseUnitBJ(false,udg_honglian[6])
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_honglian[GetForLoopIndexA()]=null
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call SetUnitPositionLocFacingLocBJ(udg_honglian[6],GetUnitLoc(udg_honglian[8]),GetUnitLoc(udg_honglian[7]))
call SetUnitPositionLocFacingBJ(udg_honglian[8],PolarProjectionBJ(GetUnitLoc(udg_honglian[8]),35.00,AngleBetweenPoints(GetUnitLoc(udg_honglian[8]),GetUnitLoc(udg_honglian[7]))),GetUnitFacing(udg_honglian[6]))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_honglian[8]),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(udg_honglian[8]),"Objects\\Spawnmodels\\NightElf\\NEDeathSmall\\NEDeathSmall.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
endfunction
function InitTrig_honglian7 takes nothing returns nothing
set gg_trg_honglian7=CreateTrigger()
call DisableTrigger(gg_trg_honglian7)
call TriggerRegisterTimerEventPeriodic(gg_trg_honglian7,0.02)
call TriggerAddAction(gg_trg_honglian7,function Trig_honglian7Actions)
endfunction
function Trig_honglian1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0F9'))
endfunction
function Trig_honglian1Func010002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_honglian[1]))==true)))
endfunction
function Trig_honglian1Func011A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_honglian[1],GetEnumUnit(),udg_cjljz,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_honglian1Func015Func001002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_honglian[1]))==true)))
endfunction
function Trig_honglian1Func015Func002A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_honglian[1],GetEnumUnit(),udg_cjljz,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_honglian1Func017A takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Trig_honglian1Actions takes nothing returns nothing
call PlaySoundBJ(gg_snd_hl6)
set udg_honglian[1]=GetTriggerUnit()
set udg_honglian[2]=GetSpellTargetUnit()
set udg_honglian_dian[1]=GetUnitLoc(udg_honglian[2])
call CreateNUnitsAtLoc(1,'h00U',GetOwningPlayer(GetTriggerUnit()),udg_honglian_dian[1],bj_UNIT_FACING)
call SetUnitAnimationByIndex(GetLastCreatedUnit(),1)
call GroupAddUnitSimple(bj_lastCreatedUnit,udg_honglian_zu[1])
set udg_cjljz=(50.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0F9'))*I2R(GetHeroInt(GetTriggerUnit(),true))))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_honglian_dian[2]=PolarProjectionBJ(udg_honglian_dian[1],100.00,(36.00*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'e00T',GetOwningPlayer(udg_honglian[1]),udg_honglian_dian[2],(36.00*I2R(bj_forLoopAIndex)))
call SetUnitAnimationByIndex(GetLastCreatedUnit(),1)
call GroupAddUnitSimple(bj_lastCreatedUnit,udg_honglian_zu[1])
call RemoveLocation(udg_honglian_dian[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop

call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),12*udg_cjljz,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),38500*(70+40*GetUnitAbilityLevel(GetTriggerUnit(),'A0F9')),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)


set udg_honglian_zu[2]=YDWEGetUnitsInRangeOfLocMatchingNull(600.00,udg_honglian_dian[1],Condition(function Trig_honglian1Func010002003))
call ForGroupBJ(udg_honglian_zu[2],function Trig_honglian1Func011A)
call GroupClear(udg_honglian_zu[2])
call TriggerSleepAction(0.70)
call EnableTrigger(gg_trg_honglian2)
set udg_hl_zs=1
loop
exitwhen udg_hl_zs>5
set udg_honglian_zu[2]=YDWEGetUnitsInRangeOfLocMatchingNull(600.00,udg_honglian_dian[1],Condition(function Trig_honglian1Func015Func001002003))
call ForGroupBJ(udg_honglian_zu[2],function Trig_honglian1Func015Func002A)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),3800*(70+30*GetUnitAbilityLevel(GetTriggerUnit(),'A0F9')),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call GroupClear(udg_honglian_zu[2])
call TriggerSleepAction(0.20)
set udg_hl_zs=udg_hl_zs+1
endloop
call DisableTrigger(gg_trg_honglian2)
call ForGroupBJ(udg_honglian_zu[1],function Trig_honglian1Func017A)
call GroupClear(udg_honglian_zu[1])
call RemoveLocation(udg_honglian_dian[1])
endfunction
function InitTrig_honglian1 takes nothing returns nothing
set gg_trg_honglian1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_honglian1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_honglian1,Condition(function Trig_honglian1Conditions))
call TriggerAddAction(gg_trg_honglian1,function Trig_honglian1Actions)
endfunction
function Trig_honglian2Func003A takes nothing returns nothing
set udg_Ang=GetUnitFacing(GetEnumUnit())
set udg_honglian_dian[2]=PolarProjectionBJ(udg_honglian_dian[1],100.00,(udg_Ang+20.00))
call SetUnitPositionLocFacingBJ(GetEnumUnit(),udg_honglian_dian[2],(udg_Ang+20.00))
call RemoveLocation(udg_honglian_dian[2])
endfunction
function Trig_honglian2Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(udg_honglian_dian[1],"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(udg_honglian_zu[1],function Trig_honglian2Func003A)
endfunction
function InitTrig_honglian2 takes nothing returns nothing
set gg_trg_honglian2=CreateTrigger()
call DisableTrigger(gg_trg_honglian2)
call TriggerRegisterTimerEventPeriodic(gg_trg_honglian2,0.10)
call TriggerAddAction(gg_trg_honglian2,function Trig_honglian2Actions)
endfunction
function Trig_honglian3Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FA'))
endfunction
function Trig_honglian3Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundBJ(gg_snd_hl4)
set udg_honglian[3]=GetTriggerUnit()
set udg_honglian_dian[3]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),90.00,GetUnitFacing(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,'e00T',GetOwningPlayer(udg_honglian[3]),udg_honglian_dian[3],(GetUnitFacing(GetTriggerUnit())+90.00))
call SetUnitFlyHeight(GetLastCreatedUnit(),150.00,0.00)
call SetUnitAnimationByIndex(GetLastCreatedUnit(),1)
set udg_honglian[4]=GetLastCreatedUnit()
call RemoveLocation(udg_honglian_dian[3])
set udg_honglian_dian[3]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),150.00,GetUnitFacing(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,'h00T',GetOwningPlayer(udg_honglian[3]),udg_honglian_dian[3],GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimationByIndex(GetLastCreatedUnit(),1)
set udg_honglian[5]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(0.20,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_honglian_dian[3])
call EnableTrigger(gg_trg_honglian4)
call TriggerSleepAction(2.00)
call DisableTrigger(gg_trg_honglian4)
call GroupClear(udg_honglian_zu[4])
call KillUnit(udg_honglian[4])
set udg_honglian[3]=null
set udg_honglian[4]=null
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_honglian3 takes nothing returns nothing
set gg_trg_honglian3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_honglian3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_honglian3,Condition(function Trig_honglian3Conditions))
call TriggerAddAction(gg_trg_honglian3,function Trig_honglian3Actions)
endfunction
function Trig_honglian4Conditions takes nothing returns boolean
return((GetTriggerUnit()==udg_honglian[5]))
endfunction
function Trig_honglian4Func011002003 takes nothing returns boolean
return((((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitInGroup(GetFilterUnit(),udg_honglian_zu[4])==false))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_honglian[3]))==true)))
endfunction
function Trig_honglian4Func012A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_honglian_zu[4])
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_honglian[3],GetEnumUnit(),(3.00*(I2R(GetHeroLevel(udg_honglian[3]))*I2R(GetHeroInt(udg_honglian[3],true)))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_honglian4Actions takes nothing returns nothing
set udg_honglian[5]=null
set udg_honglian_dian[3]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),50.00,GetUnitFacing(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,'h00U',GetOwningPlayer(udg_honglian[3]),udg_honglian_dian[3],GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimationByIndex(GetLastCreatedUnit(),1)
set udg_honglian[5]=GetLastCreatedUnit()
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(0.15,'BTLF',GetLastCreatedUnit())
set udg_honglian_zu[3]=YDWEGetUnitsInRangeOfLocMatchingNull(300.00,GetUnitLoc(udg_honglian[5]),Condition(function Trig_honglian4Func011002003))
call ForGroupBJ(udg_honglian_zu[3],function Trig_honglian4Func012A)
call GroupClear(udg_honglian_zu[3])
call RemoveLocation(udg_honglian_dian[3])
endfunction
function InitTrig_honglian4 takes nothing returns nothing
set gg_trg_honglian4=CreateTrigger()
call DisableTrigger(gg_trg_honglian4)
call TriggerRegisterAnyUnitEventBJ(gg_trg_honglian4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_honglian4,Condition(function Trig_honglian4Conditions))
call TriggerAddAction(gg_trg_honglian4,function Trig_honglian4Actions)
endfunction
function Trig_AbilityConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FB'))
endfunction
function Trig_AbilityActions takes nothing returns nothing
set udg_u=GetTriggerUnit()
set udg_d[0]=GetSpellTargetLoc()
set udg_end=R2I((2.00/0.10))
set udg_r[0]=(I2R(((GetHeroAgi(udg_u,true)*GetUnitAbilityLevelSwapped('A0FB',GetTriggerUnit()))/udg_end))*8.00)
set udg_r[3]=Atan2BJ((GetLocationY(udg_d[0])-GetUnitY(udg_u)),(GetLocationX(udg_d[0])-GetUnitX(udg_u)))
set udg_k[0]=CreateUnit(GetOwningPlayer(udg_u),'e00P',GetUnitX(udg_u),GetUnitY(udg_u),0)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(udg_u),GetUnitY(udg_u)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(udg_u),GetUnitY(udg_u)))
call EnableTrigger(gg_trg_GetExpired)
call StartTimerBJ(udg_Timer,true,0.03)
endfunction
function InitTrig_Ability takes nothing returns nothing
set gg_trg_Ability=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ability,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ability,Condition(function Trig_AbilityConditions))
call TriggerAddAction(gg_trg_Ability,function Trig_AbilityActions)
endfunction
function Trig_GetExpiredActions takes nothing returns nothing
set udg_r[1]=(GetUnitX(udg_k[0])-GetLocationX(udg_d[0]))
set udg_r[2]=(GetUnitY(udg_k[0])-GetLocationY(udg_d[0]))
set udg_r[1]=SquareRoot(((udg_r[1]*udg_r[1])-(udg_r[2]*udg_r[2])))
if((udg_r[1]>35.00))then
set udg_r[1]=(GetUnitX(udg_k[0])+(30.00*CosBJ(udg_r[3])))
set udg_r[2]=(GetUnitY(udg_k[0])+(30.00*SinBJ(udg_r[3])))
call SetUnitX(udg_k[0],udg_r[1])
call SetUnitY(udg_k[0],udg_r[2])
else
call DisableTrigger(GetTriggeringTrigger())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=GetRandomInt(4,6)
set udg_r[1]=(GetLocationX(udg_d[0])+(30.00*CosBJ(I2R((bj_forLoopAIndex*36)))))
set udg_r[2]=(GetLocationY(udg_d[0])+(30.00*SinBJ(I2R((bj_forLoopAIndex*36)))))
set udg_k[bj_forLoopAIndex]=CreateUnit(GetOwningPlayer(udg_u),'e00Q',udg_r[1],udg_r[2],I2R((bj_forLoopAIndex*36)))
call SetUnitTimeScale(udg_k[bj_forLoopAIndex],0.50)
call UnitApplyTimedLife(udg_k[bj_forLoopAIndex],'BHwe',2.00)
call SetUnitScale(udg_k[bj_forLoopAIndex],(bj_forLoopBIndex),(bj_forLoopBIndex),(bj_forLoopBIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",udg_d[0]))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",udg_d[0]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",GetUnitX(udg_u),GetUnitY(udg_u)))
call EnableTrigger(gg_trg_GetExpiredTimer)
call StartTimerBJ(udg_Timer,true,0.10)
endif
endfunction
function InitTrig_GetExpired takes nothing returns nothing
set gg_trg_GetExpired=CreateTrigger()
call DisableTrigger(gg_trg_GetExpired)
call TriggerRegisterTimerExpireEvent(gg_trg_GetExpired,udg_Timer)
call TriggerAddAction(gg_trg_GetExpired,function Trig_GetExpiredActions)
endfunction
function Trig_GetExpiredTimerFunc001Func004A takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitEnemy(GetEnumUnit(),GetOwningPlayer(udg_u))==true)and(IsUnitAlly(GetEnumUnit(),GetOwningPlayer(udg_u))==false))then
call UnitDamageTarget(udg_u,GetEnumUnit(),udg_r[0],true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
else
endif
endfunction
function Trig_GetExpiredTimerActions takes nothing returns nothing
if((udg_end>0))then
set udg_end=(udg_end-1)
set udg_G=(YDWEGetUnitsInRangeOfLocMatchingNull(((600.00)*1.0),(udg_d[0]),null))
call ForGroupBJ(udg_G,function Trig_GetExpiredTimerFunc001Func004A)
call DestroyGroup(udg_G)
call SetUnitAnimation(udg_k[0],"death")
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call KillUnit(udg_k[bj_forLoopAIndex])
set udg_k[bj_forLoopAIndex]=null
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_d[0])
call RemoveUnit(udg_k[0])
set udg_u=null
call PauseTimer(udg_Timer)
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_GetExpiredTimer takes nothing returns nothing
set gg_trg_GetExpiredTimer=CreateTrigger()
call DisableTrigger(gg_trg_GetExpiredTimer)
call TriggerRegisterTimerExpireEvent(gg_trg_GetExpiredTimer,udg_Timer)
call TriggerAddAction(gg_trg_GetExpiredTimer,function Trig_GetExpiredTimerActions)
endfunction
function Trig_jssjqConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0F3'))
endfunction
function Trig_jssjqFunc029002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_jssjq_DW[1]))==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))))
endfunction
function Trig_jssjqFunc030A takes nothing returns nothing
call UnitDamageTargetBJ(udg_jssjq_DW[1],GetEnumUnit(),((I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,udg_jssjq_DW[1],true))*(I2R(GetUnitAbilityLevel(udg_jssjq_DW[1],'A0F3'))*15.00))*1.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)

endfunction
function Trig_jssjqActions takes nothing returns nothing
set udg_jssjq_DW[1]=GetSpellAbilityUnit()
set udg_jssjq_DW[2]=GetSpellTargetUnit()
set udg_jssjq_SS=(YDWEDistanceBetweenUnits(udg_jssjq_DW[1],udg_jssjq_DW[2])+74.00)
call GroupClear(udg_jssjq_DWZ)
call PauseUnitBJ(true,udg_jssjq_DW[1])
call PauseUnitBJ(true,udg_jssjq_DW[2])
call SetUnitAnimation(udg_jssjq_DW[1],"Spell one")
set udg_jssjq=AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",udg_jssjq_DW[1],"hand right")
call YDWEPolledWaitNull(0.70)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_jssjq_DW[1]),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ShowUnitHide(udg_jssjq_DW[1])
call SetUnitPositionLocFacingBJ(udg_jssjq_DW[1],PolarProjectionBJ(GetUnitLoc(udg_jssjq_DW[1]),udg_jssjq_SS,GetUnitFacing(udg_jssjq_DW[1])),bj_UNIT_FACING)
call YDWEPolledWaitNull(0.28)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_jssjq_DW[1]),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call YDWESetUnitFacingToFaceUnitTimedNull(udg_jssjq_DW[1],udg_jssjq_DW[2],0.00)
call ShowUnitShow(udg_jssjq_DW[1])
call YDWEPolledWaitNull(0.22)
call SetUnitAnimation(udg_jssjq_DW[1],"Spell two")
call YDWEPolledWaitNull(0.30)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_jssjq_DW[2]),"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call DestroyEffect(udg_jssjq)
call PauseUnitBJ(false,udg_jssjq_DW[1])
call ResetUnitAnimation(udg_jssjq_DW[1])
set udg_jssjq_POINT[1]=GetUnitLoc(udg_jssjq_DW[1])
set udg_jssjq_POINT[2]=GetUnitLoc(udg_jssjq_DW[2])
set udg_jssjq_DWZ=YDWEGetUnitsInRangeOfLocMatchingNull(150.00,udg_jssjq_POINT[2],Condition(function Trig_jssjqFunc029002003))
call ForGroupBJ(udg_jssjq_DWZ,function Trig_jssjqFunc030A)
call EnableTrigger(gg_trg_jssjq1)
call YDWEPolledWaitNull(0.50)
call DisableTrigger(gg_trg_jssjq1)
call PauseUnitBJ(false,udg_jssjq_DW[2])
call YDWEPolledWaitNull(0.80)
set udg_jssjq_SS=0.00
set udg_jssjq_DW[1]=null
set udg_jssjq_DW[2]=null
call RemoveLocation(udg_jssjq_POINT[1])
call RemoveLocation(udg_jssjq_POINT[2])
call GroupClear(udg_jssjq_DWZ)
endfunction
function InitTrig_jssjq takes nothing returns nothing
set gg_trg_jssjq=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jssjq,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_jssjq,Condition(function Trig_jssjqConditions))
call TriggerAddAction(gg_trg_jssjq,function Trig_jssjqActions)
endfunction
function Trig_jssjq1Func001A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),24.00,AngleBetweenPoints(udg_jssjq_POINT[1],GetUnitLoc(GetEnumUnit()))))
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Trig_jssjq1Actions takes nothing returns nothing
call ForGroupBJ(udg_jssjq_DWZ,function Trig_jssjq1Func001A)
endfunction
function InitTrig_jssjq1 takes nothing returns nothing
set gg_trg_jssjq1=CreateTrigger()
call DisableTrigger(gg_trg_jssjq1)
call TriggerRegisterTimerEventPeriodic(gg_trg_jssjq1,0.03)
call TriggerAddAction(gg_trg_jssjq1,function Trig_jssjq1Actions)
endfunction
function Trig_sjjzConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FD'))
endfunction
function Trig_sjjzFunc002001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)))
endfunction
function Trig_sjjzFunc002A takes nothing returns nothing
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),udg_P[115],bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'A0F1')
call IssueTargetOrderById(GetLastCreatedUnit(),852095,GetEnumUnit())
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',1.00)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroAgi(GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0FD'))*10.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_sjjzActions takes nothing returns nothing
set udg_P[115]=GetSpellTargetLoc()
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(200.00,udg_P[115],Condition(function Trig_sjjzFunc002001003)),function Trig_sjjzFunc002A)
call RemoveLocation(udg_P[115])
endfunction
function InitTrig_sjjz takes nothing returns nothing
set gg_trg_sjjz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sjjz,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sjjz,Condition(function Trig_sjjzConditions))
call TriggerAddAction(gg_trg_sjjz,function Trig_sjjzActions)
endfunction
function Trig_chongjiConditions takes nothing returns boolean
return(((GetRandomInt(1,50)==1)and(GetAttacker()==gg_unit_Emoo_0145)))
endfunction
function Trig_chongjiActions takes nothing returns nothing
if(((GetUnitAbilityLevelSwapped('A0FE',gg_unit_Emoo_0145)>=1)and((GetUnitTypeId(GetTriggerUnit())=='u002')or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[0])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[1])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[2])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[3])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[4])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[5])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[6])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[7])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[8])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[9])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[10])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[11])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[12])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[13])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[14])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[15])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[16])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[17])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[18])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[19])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[20])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[21])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[22])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[23])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[24])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[25])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[26])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[27])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[28])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[29])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[30])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[31])or(GetUnitTypeId(GetTriggerUnit())==udg_Monster[32]))))then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),1000000000.00,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE)
else
if(((GetUnitTypeId(GetTriggerUnit())=='ninf')and(GetUnitAbilityLevelSwapped('A0FE',gg_unit_Emoo_0145)>=7)))then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),1000000000.00,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000时间累加发动，时间之神将"+(GetUnitName(GetAttackedUnitBJ())+"秒杀！")))
call KillUnit(GetAttackedUnitBJ())
else
if(((GetUnitAbilityLevelSwapped('A0FE',gg_unit_Emoo_0145)>=11)and((GetUnitTypeId(GetTriggerUnit())=='Uktl')or(GetUnitTypeId(GetTriggerUnit())=='Uanb')or(GetUnitTypeId(GetTriggerUnit())=='Nman'))))then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),1000000000.00,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000时间累加发动，时间之神将"+(GetUnitName(GetAttackedUnitBJ())+"秒杀！")))
call KillUnit(GetAttackedUnitBJ())
else
if(((GetUnitAbilityLevelSwapped('A0FE',gg_unit_Emoo_0145)>=15)and((GetUnitTypeId(GetTriggerUnit())=='nbzd')or(GetUnitTypeId(GetTriggerUnit())=='Ulic'))))then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),1000000000.00,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000时间累加发动，时间之神将"+(GetUnitName(GetAttackedUnitBJ())+"秒杀！")))
else
if(((GetUnitAbilityLevelSwapped('A0FE',gg_unit_Emoo_0145)==20)and(GetUnitTypeId(GetTriggerUnit())=='nrwm')))then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),1000000000.00,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000时间累加发动，时间之神将"+(GetUnitName(GetAttackedUnitBJ())+"秒杀！")))
call KillUnit(GetAttackedUnitBJ())
else
endif
endif
endif
endif
endif
endfunction
function InitTrig_chongji takes nothing returns nothing
set gg_trg_chongji=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chongji,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_chongji,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_chongji,Condition(function Trig_chongjiConditions))
call TriggerAddAction(gg_trg_chongji,function Trig_chongjiActions)
endfunction
function Trig_hpnglian8Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FO'))
endfunction
function Trig_hpnglian8Func004001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_honglian[9]))==true)))
endfunction
function Trig_hpnglian8Func004A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_honglian[9],GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,udg_honglian[9],true))*(I2R(GetUnitAbilityLevel(udg_honglian[9],'A0FO'))*750.00)),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_hpnglian8Actions takes nothing returns nothing
set udg_honglian[9]=GetTriggerUnit()
set udg_honglian_dian[5]=GetUnitLoc(GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLocFacingLocBJ(1,'h00T',GetOwningPlayer(udg_honglian[9]),PolarProjectionBJ(udg_honglian_dian[5],600.00,(18.00*I2R(GetForLoopIndexA()))),udg_honglian_dian[5])
call UnitApplyTimedLifeBJ(8.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColor(GetLastCreatedUnit(),50,70,50,150)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(630.00,GetUnitLoc(udg_honglian[9]),Condition(function Trig_hpnglian8Func004001003)),function Trig_hpnglian8Func004A)
call TriggerSleepAction(0.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=18
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLocFacingLocBJ(1,'h00T',GetOwningPlayer(udg_honglian[9]),PolarProjectionBJ(udg_honglian_dian[5],500.00,(20.00*I2R(GetForLoopIndexA()))),udg_honglian_dian[5])
call UnitApplyTimedLifeBJ(8.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call SetUnitFlyHeight(GetLastCreatedUnit(),100.00,0.00)
call SetUnitVertexColor(GetLastCreatedUnit(),50,70,50,150)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerSleepAction(0.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=16
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLocFacingLocBJ(1,'h00T',GetOwningPlayer(udg_honglian[9]),PolarProjectionBJ(udg_honglian_dian[5],400.00,(22.50*I2R(GetForLoopIndexA()))),udg_honglian_dian[5])
call UnitApplyTimedLifeBJ(8.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call SetUnitFlyHeight(GetLastCreatedUnit(),200.00,0.00)
call SetUnitVertexColor(GetLastCreatedUnit(),50,50,50,150)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerSleepAction(0.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLocFacingLocBJ(1,'h00T',GetOwningPlayer(udg_honglian[9]),PolarProjectionBJ(udg_honglian_dian[5],300.00,(30.00*I2R(GetForLoopIndexA()))),udg_honglian_dian[5])
call UnitApplyTimedLifeBJ(8.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call SetUnitFlyHeight(GetLastCreatedUnit(),300.00,0.00)
call SetUnitVertexColor(GetLastCreatedUnit(),50,50,50,150)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerSleepAction(0.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLocFacingLocBJ(1,'h00U',GetOwningPlayer(udg_honglian[9]),PolarProjectionBJ(udg_honglian_dian[5],150.00,(60.00*I2R(GetForLoopIndexA()))),udg_honglian_dian[5])
call UnitApplyTimedLifeBJ(8.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call SetUnitFlyHeight(GetLastCreatedUnit(),400.00,0.00)
call SetUnitVertexColor(GetLastCreatedUnit(),50,50,50,150)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_honglian_dian[5])
set udg_honglian[9]=null
endfunction
function InitTrig_hpnglian8 takes nothing returns nothing
set gg_trg_hpnglian8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_hpnglian8,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_hpnglian8,Condition(function Trig_hpnglian8Conditions))
call TriggerAddAction(gg_trg_hpnglian8,function Trig_hpnglian8Actions)
endfunction
function Trig_sjlhConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FK'))
endfunction
function Trig_sjlhFunc002002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)))
endfunction
function Trig_sjlhFunc003002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)))
endfunction
function Trig_sjlhFunc004Func001Func002A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(),'A0FL')
endfunction
function Trig_sjlhFunc004Func001Func004A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(),'A0FL')
call SetPlayerAbilityAvailableBJ(false,'A0FL',GetEnumPlayer())
endfunction
function Trig_sjlhFunc004Func003A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(),'A0FL')
call SetPlayerAbilityAvailableBJ(false,'A0FL',GetEnumPlayer())
endfunction
function Trig_sjlhActions takes nothing returns nothing
set udg_P[116]=GetUnitLoc(GetTriggerUnit())
set udg_shijianchongsheng[1]=YDWEGetUnitsInRangeOfLocMatchingNull(1000000000.00,udg_P[116],Condition(function Trig_sjlhFunc002002003))
set udg_shijianchongsheng[2]=YDWEGetUnitsInRangeOfLocMatchingNull(1000000000.00,udg_P[116],Condition(function Trig_sjlhFunc003002003))
if((UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07M')==true))then
call DisplayTextToForce(GetPlayersAll(),"时空轮回发动成功.时间之神的同盟单位将进入15秒的无死亡状态.")
call StartTimerBJ(udg_jsq_shijian,false,15.00)
call ForGroupBJ(udg_shijianchongsheng[1],function Trig_sjlhFunc004Func003A)
else
if((GetRandomInt(1,5)<=4))then
call DisplayTextToForce(GetPlayersAll(),"时空轮回发动成功.时间之神的同盟单位将进入15秒的无死亡状态.")
call ForGroupBJ(udg_shijianchongsheng[1],function Trig_sjlhFunc004Func001Func004A)
else
call DisplayTextToForce(GetPlayersAll(),"时空轮回发动过程中.造成时空混乱.所有敌对单位将进入15秒的无死亡状态.大家小心！！！")
call ForGroupBJ(udg_shijianchongsheng[2],function Trig_sjlhFunc004Func001Func002A)
endif
endif
call StartTimerBJ(udg_jsq_shijian,false,15.00)
endfunction
function InitTrig_sjlh takes nothing returns nothing
set gg_trg_sjlh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sjlh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sjlh,Condition(function Trig_sjlhConditions))
call TriggerAddAction(gg_trg_sjlh,function Trig_sjlhActions)
endfunction
function Trig_sjlh_1Func002A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'A0FL')
endfunction
function Trig_sjlh_1Func003A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'A0FL')
endfunction
function Trig_sjlh_1Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"时空轮回发动时间到期.所有单位状态恢复正常.")
call ForGroupBJ(udg_shijianchongsheng[1],function Trig_sjlh_1Func002A)
call ForGroupBJ(udg_shijianchongsheng[2],function Trig_sjlh_1Func003A)
call RemoveLocation(udg_P[116])
endfunction
function InitTrig_sjlh_1 takes nothing returns nothing
set gg_trg_sjlh_1=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_sjlh_1,udg_jsq_shijian)
call TriggerAddAction(gg_trg_sjlh_1,function Trig_sjlh_1Actions)
endfunction
function Trig_sgdlConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0FN'))
endfunction
function Trig_sgdlActions takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A06T')
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A06T',false)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl")
set udg_wudixg1=GetLastCreatedEffectBJ()
call StartTimerBJ(udg_jsqdaoqi1,false,I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0FN')))
endfunction
function InitTrig_sgdl takes nothing returns nothing
set gg_trg_sgdl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sgdl,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sgdl,Condition(function Trig_sgdlConditions))
call TriggerAddAction(gg_trg_sgdl,function Trig_sgdlActions)
endfunction
function Trig_sgdl1Actions takes nothing returns nothing
call UnitRemoveAbility(gg_unit_Emoo_0145,'A06T')
call UnitRemoveBuffBJ('B00F',gg_unit_Emoo_0145)
call DestroyEffect(udg_wudixg1)
endfunction
function InitTrig_sgdl1 takes nothing returns nothing
set gg_trg_sgdl1=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_sgdl1,udg_jsqdaoqi1)
call TriggerAddAction(gg_trg_sgdl1,function Trig_sgdl1Actions)
endfunction






function Trig_attacktest_Conditions takes nothing returns boolean
return false
endfunction
function Trig_attacktest_Actions takes nothing returns nothing
if(GetUnitTypeId(GetTriggerUnit())=='Bos2')then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00BOSS"+I2S(2)+"正在被攻击|r")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos3')then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00BOSS"+I2S(3)+"正在被攻击|r")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos4')then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00BOSS"+I2S(4)+"正在被攻击|r")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos5')then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00BOSS"+I2S(5)+"正在被攻击|r")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos6')then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00BOSS"+I2S(6)+"正在被攻击|r")
endif
endfunction
function InitTrig_attacktest takes nothing returns nothing
set gg_trg_attacktest=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_attacktest, EVENT_PLAYER_HERO_LEVEL)
call TriggerRegisterAnyUnitEventBJ(gg_trg_attacktest,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_attacktest,Condition(function Trig_attacktest_Conditions))
call TriggerAddAction(gg_trg_attacktest,function Trig_attacktest_Actions)
endfunction



function Trig_ultimamagic_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos7'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='S005'))then
return false
endif
endif
if(not(udg_notwo==0))then
return false
endif
if(not(GetRandomInt(1,60-9*udg_nanduBL-3*udg_selfdestruct)==1))then
return false
endif
return true
endfunction
function Trig_ultimamagic_Actions takes nothing returns nothing

set udg_notwo=1
set udg_matime=1

loop
exitwhen(udg_matime>15)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00哈哈哈哈，超级大魔法已经启动，"+I2S(16-udg_matime)+"秒之后将会清扫你们所有的人类|r")
call TriggerSleepAction(1.00)
set udg_matime=udg_matime+1
endloop

set udg_matime=1

loop
exitwhen(udg_matime>7)
if(udg_zomb[udg_matime]==0)then
if(udg_nanduBL<=3)then
call SetUnitLifePercentBJ(udg_heroname[udg_matime],5-udg_nanduBL)
else
call KillUnit(udg_heroname[udg_matime])
endif
set udg_notwo=0
endif
set udg_notwo=0
set udg_matime=udg_matime+1
endloop



endfunction
function InitTrig_ultimamagic takes nothing returns nothing
set gg_trg_ultimamagic=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ultimamagic,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ultimamagic,Condition(function Trig_ultimamagic_Conditions))
call TriggerAddAction(gg_trg_ultimamagic,function Trig_ultimamagic_Actions)
endfunction




function Trig_recoverlife_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Bos8'))then
return false
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_recoverlife_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetAttacker())<40*udg_rabbit)then
call SetUnitLifePercentBJ(GetAttacker(),40*udg_rabbit)
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00回复生命值"+I2S(1)+"|r")
endif
endfunction
function InitTrig_recoverlife takes nothing returns nothing
set gg_trg_recoverlife=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_recoverlife,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_recoverlife,Condition(function Trig_recoverlife_Conditions))
call TriggerAddAction(gg_trg_recoverlife,function Trig_recoverlife_Actions)
endfunction

function Trig_recover2life_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos8'))then
return false
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_recover2life_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetTriggerUnit())<40*udg_rabbit)then
call SetUnitLifePercentBJ(GetTriggerUnit(),40*udg_rabbit)
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00回复生命值"+I2S(1)+"|r")
endif
endfunction
function InitTrig_recover2life takes nothing returns nothing
set gg_trg_recover2life=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_recover2life,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_recover2life,Condition(function Trig_recover2life_Conditions))
call TriggerAddAction(gg_trg_recover2life,function Trig_recover2life_Actions)
endfunction








function Trig_callrabbit_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos8'))then
return false
endif
if(not(udg_rabbit3==0))then
return false
endif
if(not(GetRandomInt(1,4)==1))then
return false
endif
return true
endfunction
function Trig_callrabbit_Actions takes nothing returns nothing
set udg_rabbit2=0
loop
exitwhen(udg_rabbit2>=udg_rabbit)
call CreateNUnitsAtLoc(1,'Bos1',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',61.00)
set udg_rabbit2=udg_rabbit2+1
endloop
set udg_rabbit3=1
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00召唤"+I2S(udg_rabbit)+"个兔子|r")
call StartTimerBJ(udg_jsq1,false,60)
endfunction
function InitTrig_callrabbit takes nothing returns nothing
set gg_trg_callrabbit=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_callrabbit,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_callrabbit,Condition(function Trig_callrabbit_Conditions))
call TriggerAddAction(gg_trg_callrabbit,function Trig_callrabbit_Actions)
endfunction

function Trig_rabbitwudi_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos1'))then
return false
endif
if(not(GetTriggerUnit()==udg_rabbitu2[udg_rabbitx]))then
if(not(GetTriggerUnit()==udg_rabbitu2[udg_rabbitx+1]))then
if(not(GetTriggerUnit()==udg_rabbitu2[udg_rabbitx+2]))then
if(not(GetTriggerUnit()==udg_rabbitu2[udg_rabbitx+3]))then
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-1])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-2])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-3])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-4])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-5])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-6])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-7])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-8])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-9])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-10])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-11])then
return false
endif
if(GetTriggerUnit()==udg_rabbitu[udg_rabbitc-12])then
return false
endif
endif
endif
endif
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_rabbitwudi_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetAttackedUnitBJ())<30)then
set udg_rabbitc=udg_rabbitc+1
set udg_rabbitu[udg_rabbitc]=GetTriggerUnit()
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00进入无敌状态"+I2S(1)+"|r")
call SetUnitInvulnerable(GetTriggerUnit(),true)
call TriggerSleepAction(10.00)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00进入吸收状态，此时攻击兔子伤害将被吸收并转化为体力"+I2S(1)+"|r")
call SetUnitInvulnerable(GetTriggerUnit(),false)
call UnitAddAbilityBJ('A04J',GetTriggerUnit())
call TriggerSleepAction(15.00)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00解除吸收状态，进入无敌状态"+I2S(1)+"|r")
call UnitRemoveAbilityBJ('A04J',GetTriggerUnit())
call SetUnitInvulnerable(GetTriggerUnit(),true)
call TriggerSleepAction(5.00)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00解除无敌状态"+I2S(1)+"|r")
call SetUnitInvulnerable(GetTriggerUnit(),false)
endif
endfunction
function InitTrig_rabbitwudi takes nothing returns nothing
set gg_trg_rabbitwudi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_rabbitwudi, EVENT_PLAYER_HERO_LEVEL)
call TriggerRegisterAnyUnitEventBJ(gg_trg_rabbitwudi,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_rabbitwudi,Condition(function Trig_rabbitwudi_Conditions))
call TriggerAddAction(gg_trg_rabbitwudi,function Trig_rabbitwudi_Actions)
endfunction

function Trig_rabbitabsorb_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetTriggerUnit(),'B009')==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos1'))then
return false
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_rabbitabsorb_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())+15)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00吸收"+I2S(15)+"%血量|r")

if(udg_selfdestruct>=2)then
if(GetUnitLifePercent(GetTriggerUnit())>88)then
set udg_rabbitx=udg_rabbitx+1
//set udg_rabbitu2[udg_rabbitx]=GetTriggerUnit()
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00状态全恢复"+I2S(100)+"%|r")
endif
endif

endfunction
function InitTrig_rabbitabsorb takes nothing returns nothing
set gg_trg_rabbitabsorb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_rabbitabsorb, EVENT_PLAYER_HERO_LEVEL)
call TriggerRegisterAnyUnitEventBJ(gg_trg_rabbitabsorb,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_rabbitabsorb,Condition(function Trig_rabbitabsorb_Conditions))
call TriggerAddAction(gg_trg_rabbitabsorb,function Trig_rabbitabsorb_Actions)
endfunction


function Trig_rabbitjsq_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_rabbitdeath)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00时间到"+I2S(udg_rabbit)+"个兔子将被吸收|r")
call TriggerSleepAction(2.00)
set udg_rabbit3=0
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00剩余"+I2S(udg_rabbit)+"个兔子将被重新召唤|r")
call EnableTrigger(gg_trg_rabbitdeath)
endfunction
function InitTrig_rabbitjsq takes nothing returns nothing
set gg_trg_rabbitjsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_rabbitjsq,udg_jsq1)
call TriggerAddAction(gg_trg_rabbitjsq,function Trig_rabbitjsq_Actions)
endfunction


function Trig_rabbitdeath_Conditions takes nothing returns boolean


if( GetPlayerName(GetOwningPlayer(GetKillingUnitBJ())) == "" )then
return false
endif

if(GetKillingUnitBJ()==null)then
return false
endif

if(not(GetKillingUnitBJ()==udg_heroname[1]))then
if(not(GetKillingUnitBJ()==udg_heroname[2]))then
if(not(GetKillingUnitBJ()==udg_heroname[3]))then
if(not(GetKillingUnitBJ()==udg_heroname[4]))then
if(not(GetKillingUnitBJ()==udg_heroname[5]))then
if(not(GetKillingUnitBJ()==udg_heroname[6]))then
return false
endif
endif
endif
endif
endif
endif


if(not(GetUnitTypeId(GetTriggerUnit())=='Bos1'))then
return false
endif
return true
endfunction
function Trig_rabbitdeath_Actions takes nothing returns nothing
if(udg_rabbit>=1)then
set udg_rabbit=udg_rabbit-1
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00兔子死亡，虚神的能力减弱了，剩余兔子数量为"+I2S(udg_rabbit)+"|r")

if(GetUnitTypeId(GetDyingUnit())=='Bos1')then
set udg_BOSSjifen=150
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+100)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))

endif


endfunction
function InitTrig_rabbitdeath takes nothing returns nothing
set gg_trg_rabbitdeath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_rabbitdeath,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_rabbitdeath,Condition(function Trig_rabbitdeath_Conditions))
call TriggerAddAction(gg_trg_rabbitdeath,function Trig_rabbitdeath_Actions)
endfunction












function Trig_recovercoflife_Conditions takes nothing returns boolean
return false
if(GetUnitTypeId(GetTriggerUnit())=='Bos2')then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos3')then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos4')then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos5')then
return true
endif
if(GetUnitTypeId(GetTriggerUnit())=='Bos6')then
return true
endif
return false
endfunction
function Trig_recovercoflife_Actions takes nothing returns nothing
set udg_cofmutex=GetRandomInt(2,6)


if(udg_cofmutex==2)then
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos2'))then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])/3             ))


else
	
endif
	
endif

if(udg_cofmutex==3)then
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos3'))then

else
	
endif
	
endif

if(udg_cofmutex==4)then
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos4'))then

else
	
endif
	
endif

if(udg_cofmutex==5)then
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos5'))then

else
	
endif
	
endif

if(udg_cofmutex==6)then
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos6'))then

else
	
endif
	
endif


endfunction
function InitTrig_recovercoflife takes nothing returns nothing
set gg_trg_recovercoflife=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_recovercoflife,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_recovercoflife,Condition(function Trig_recovercoflife_Conditions))
call TriggerAddAction(gg_trg_recovercoflife,function Trig_recovercoflife_Actions)
endfunction






function Trig_duijiang4_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM4'))then
return false
endif
return true
endfunction
function Trig_duijiang4_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang4==false))then
return false
endif
return true
endfunction
function Trig_duijiang4_Actions takes nothing returns nothing
if(Trig_duijiang4_Func002C())then
set udg_buerzhi_duijiang4=true
set udg_unit_duijiang4dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang4)
call DialogSetMessage(udg_ck_duijiang4,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang4,"增加100W积分(无效)")
set udg_an_duijiang4[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"全属性100(20000积分)")
set udg_an_duijiang4[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"全属性300(58000积分)")
set udg_an_duijiang4[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"全属性500(940000积分)")
set udg_an_duijiang4[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"升一级(2000积分)")
set udg_an_duijiang4[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"升10级(19000积分)")
set udg_an_duijiang4[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"技能经验500(50000积分)")
set udg_an_duijiang4[6]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"技能经验1000(80000积分)")
set udg_an_duijiang4[7]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"技能等级提升(90000积分)")
set udg_an_duijiang4[8]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"全系数10点(90000积分)")
set udg_an_duijiang4[9]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"属性伤害发动几率+1(220000积分)")
set udg_an_duijiang4[10]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang4,"取消")
set udg_an_duijiang4[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang4,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang4 takes nothing returns nothing
set gg_trg_duijiang4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang4,Condition(function Trig_duijiang4_Conditions))
call TriggerAddAction(gg_trg_duijiang4,function Trig_duijiang4_Actions)
endfunction



function Trig_duijiang4anniu_Actions takes nothing returns nothing
if(GetClickedButtonBJ()==udg_an_duijiang4[0])then
//call DisplayTextToForce(GetPlayersAll(),"|cffffcc00增加100W积分|r")
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+0
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=20000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-20000
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,100)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,100)
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=58000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-58000
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,300)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,300)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,300)
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=94000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-94000
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],bj_MODIFYMETHOD_ADD,500)
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=2000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-2000
call SetHeroLevelBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],(GetUnitLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))])+1),true)
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=19000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-19000
call SetHeroLevelBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))],(GetUnitLevel(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))])+10),true)
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[6])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=50000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-50000
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+500
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[7])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=80000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-80000
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+1000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[8])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=90000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-90000
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+1
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[9])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=90000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-90000
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+10
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_playertx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+10
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+10
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[10])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]>=220000)then
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]-220000
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang4dw))]+1
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang4[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang4=false
endfunction
function InitTrig_duijiang4anniu takes nothing returns nothing
set gg_trg_duijiang4anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang4anniu,udg_ck_duijiang4)
call TriggerAddAction(gg_trg_duijiang4anniu,function Trig_duijiang4anniu_Actions)
endfunction



function Trig_duijiang5_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM5'))then
return false
endif
if(not(udg_waves<=16))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00已无法换取|r")
return false
endif
return true
endfunction
function Trig_duijiang5_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang5==false))then
return false
endif
return true
endfunction
function Trig_duijiang5_Actions takes nothing returns nothing
if(Trig_duijiang5_Func002C())then
set udg_buerzhi_duijiang5=true
set udg_unit_duijiang5dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang5)
call DialogSetMessage(udg_ck_duijiang5,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang5,"处女之剑/徘徊者的利刃/无坚不摧之力(300积分)")
set udg_an_duijiang5[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang5,"极乐战甲(350积分)")
set udg_an_duijiang5[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang5,"诺克西之剑/毁灭之刃/黎明之神(600积分)")
set udg_an_duijiang5[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang5,"圣古战甲(600积分)")
set udg_an_duijiang5[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang5,"紫晶星辰巨剑/瞬都罗喉封狱箭/隆奇努斯之枪(1200积分)")
set udg_an_duijiang5[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang5,"缺月五光铠(2000积分)")
set udg_an_duijiang5[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang5,"取消")
set udg_an_duijiang5[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang5,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang5 takes nothing returns nothing
set gg_trg_duijiang5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang5,Condition(function Trig_duijiang5_Conditions))
call TriggerAddAction(gg_trg_duijiang5,function Trig_duijiang5_Actions)
endfunction



function Trig_duijiang5anniu_Actions takes nothing returns nothing


if(GetClickedButtonBJ()==udg_an_duijiang5[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]>=300)then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(9,11)],udg_unit_duijiang5dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]-300
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang5[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]>=350)then
call UnitAddItemByIdSwapped(udg_Item[12],udg_unit_duijiang5dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]-350
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang5[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]>=600)then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(14,16)],udg_unit_duijiang5dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]-600
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang5[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]>=600)then
call UnitAddItemByIdSwapped(udg_Item[17],udg_unit_duijiang5dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]-600
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang5[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]>=1200)then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(101,103)],udg_unit_duijiang5dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]-1200
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang5[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]>=2000)then
call UnitAddItemByIdSwapped(udg_Item[100],udg_unit_duijiang5dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang5dw))]-2000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif



if(GetClickedButtonBJ()==udg_an_duijiang5[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang5=false
endfunction
function InitTrig_duijiang5anniu takes nothing returns nothing
set gg_trg_duijiang5anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang5anniu,udg_ck_duijiang5)
call TriggerAddAction(gg_trg_duijiang5anniu,function Trig_duijiang5anniu_Actions)
endfunction



function Trig_duijiang6_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM6'))then
return false
endif
return true
endfunction
function Trig_duijiang6_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang6==false))then
return false
endif
return true
endfunction
function Trig_duijiang6_Actions takes nothing returns nothing
if(Trig_duijiang6_Func002C())then
set udg_buerzhi_duijiang6=true
set udg_unit_duijiang6dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang6)
call DialogSetMessage(udg_ck_duijiang6,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang6,"青冥海狱弓LV1(3000积分)")
set udg_an_duijiang6[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"玄水菩提扇LV1(5000积分)")
set udg_an_duijiang6[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"焰分噬浪尺LV1(3000积分)")
set udg_an_duijiang6[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"圣皇法衣LV1(20000积分)")
set udg_an_duijiang6[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"海神之心(20000积分)")
set udg_an_duijiang6[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"死亡神珠（小）(1000积分)")
set udg_an_duijiang6[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"死亡神珠（中）(2000积分)")
set udg_an_duijiang6[6]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"死亡神珠（大）(3000积分)")
set udg_an_duijiang6[7]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang6,"取消")
set udg_an_duijiang6[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang6,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang6 takes nothing returns nothing
set gg_trg_duijiang6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang6,Condition(function Trig_duijiang6_Conditions))
call TriggerAddAction(gg_trg_duijiang6,function Trig_duijiang6_Actions)
endfunction



function Trig_duijiang6anniu_Actions takes nothing returns nothing


if(GetClickedButtonBJ()==udg_an_duijiang6[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=3000)then
call UnitAddItemByIdSwapped(udg_Item[171],udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-3000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=5000)then
call UnitAddItemByIdSwapped(udg_Item[173],udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-5000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=3000)then
call UnitAddItemByIdSwapped(udg_Item[172],udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-3000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=20000)then
call UnitAddItemByIdSwapped(udg_Item[170],udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-20000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=20000)then
call UnitAddItemByIdSwapped(udg_Item[174],udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-20000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=1000)then
call UnitAddItemByIdSwapped('DEA1',udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-1000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[6])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=2000)then
call UnitAddItemByIdSwapped('DEA2',udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-2000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang6[7])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]>=3000)then
call UnitAddItemByIdSwapped('DEA3',udg_unit_duijiang6dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang6dw))]-3000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif





if(GetClickedButtonBJ()==udg_an_duijiang6[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang6=false
endfunction
function InitTrig_duijiang6anniu takes nothing returns nothing
set gg_trg_duijiang6anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang6anniu,udg_ck_duijiang6)
call TriggerAddAction(gg_trg_duijiang6anniu,function Trig_duijiang6anniu_Actions)
endfunction


function Trig_duijiang7_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM7'))then
return false
endif
return true
endfunction
function Trig_duijiang7_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang7==false))then
return false
endif
return true
endfunction
function Trig_duijiang7_Actions takes nothing returns nothing
if(Trig_duijiang7_Func002C())then
set udg_buerzhi_duijiang7=true
set udg_unit_duijiang7dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang7)
call DialogSetMessage(udg_ck_duijiang7,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang7,"天使之翼·真(27000积分)")
set udg_an_duijiang7[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"圣灵之翼·真(26000积分)")
set udg_an_duijiang7[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"暗黑之翼·真(24000积分)")
set udg_an_duijiang7[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"飞龙之翼·真(29000积分)")
set udg_an_duijiang7[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"仙石(15000积分)")
set udg_an_duijiang7[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"神石(15000积分)")
set udg_an_duijiang7[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"神之翼(110000积分)")
set udg_an_duijiang7[6]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang7,"取消")
set udg_an_duijiang7[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang7,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang7 takes nothing returns nothing
set gg_trg_duijiang7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang7,Condition(function Trig_duijiang7_Conditions))
call TriggerAddAction(gg_trg_duijiang7,function Trig_duijiang7_Actions)
endfunction



function Trig_duijiang7anniu_Actions takes nothing returns nothing


if(GetClickedButtonBJ()==udg_an_duijiang7[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=27000)then
call UnitAddItemByIdSwapped(udg_Item[5],udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-27000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang7[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=26000)then
call UnitAddItemByIdSwapped(udg_Item[8],udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-26000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang7[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=24000)then
call UnitAddItemByIdSwapped(udg_Item[7],udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-24000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang7[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=29000)then
call UnitAddItemByIdSwapped(udg_Item[6],udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-29000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang7[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=15000)then
call UnitAddItemByIdSwapped('I01R',udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-15000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang7[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=15000)then
call UnitAddItemByIdSwapped('I003',udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-15000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang7[6])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]>=110000)then
call UnitAddItemByIdSwapped('I06K',udg_unit_duijiang7dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang7dw))]-110000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif



if(GetClickedButtonBJ()==udg_an_duijiang7[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang7=false
endfunction
function InitTrig_duijiang7anniu takes nothing returns nothing
set gg_trg_duijiang7anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang7anniu,udg_ck_duijiang7)
call TriggerAddAction(gg_trg_duijiang7anniu,function Trig_duijiang7anniu_Actions)
endfunction

function Trig_duijiang8_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM8'))then
return false
endif
return true
endfunction
function Trig_duijiang8_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang8==false))then
return false
endif
return true
endfunction
function Trig_duijiang8_Actions takes nothing returns nothing
if(Trig_duijiang8_Func002C())then
set udg_buerzhi_duijiang8=true
set udg_unit_duijiang8dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang8)
call DialogSetMessage(udg_ck_duijiang8,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang8,"精灵之舞/冰晶手镯/雷电手镯(35000积分)")
set udg_an_duijiang8[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"极光指环/海王之戒/禁锢之戒(40000积分)")
set udg_an_duijiang8[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"天仙手镯(140000积分)")
set udg_an_duijiang8[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"上神指环(170000积分)")
set udg_an_duijiang8[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"神奇的箱子(1000积分)")
set udg_an_duijiang8[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"神奇的珠子(10000积分)")
set udg_an_duijiang8[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"神奇的指环(100000积分)")
set udg_an_duijiang8[6]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang8,"取消")
set udg_an_duijiang8[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang8,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang8 takes nothing returns nothing
set gg_trg_duijiang8=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang8,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang8,Condition(function Trig_duijiang8_Conditions))
call TriggerAddAction(gg_trg_duijiang8,function Trig_duijiang8_Actions)
endfunction



function Trig_duijiang8anniu_Actions takes nothing returns nothing


if(GetClickedButtonBJ()==udg_an_duijiang8[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=35000)then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(28,30)],udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-35000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang8[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=40000)then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(31,33)],udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-40000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang8[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=140000)then
call UnitAddItemByIdSwapped('I03G',udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-140000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang8[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=170000)then
call UnitAddItemByIdSwapped('I03K',udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-170000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang8[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=1000)then
call UnitAddItemByIdSwapped(udg_Item[180],udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-1000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang8[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=10000)then
call UnitAddItemByIdSwapped(udg_Item[181],udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-10000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang8[6])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]>=100000)then
call UnitAddItemByIdSwapped(udg_Item[182],udg_unit_duijiang8dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang8dw))]-100000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif



if(GetClickedButtonBJ()==udg_an_duijiang8[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang8=false
endfunction
function InitTrig_duijiang8anniu takes nothing returns nothing
set gg_trg_duijiang8anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang8anniu,udg_ck_duijiang8)
call TriggerAddAction(gg_trg_duijiang8anniu,function Trig_duijiang8anniu_Actions)
endfunction

function Trig_duijiang9_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM9'))then
return false
endif
return true
endfunction
function Trig_duijiang9_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang9==false))then
return false
endif
return true
endfunction
function Trig_duijiang9_Actions takes nothing returns nothing
if(Trig_duijiang9_Func002C())then
set udg_buerzhi_duijiang9=true
set udg_unit_duijiang9dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang9)
call DialogSetMessage(udg_ck_duijiang9,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang9,"统御指环(初阶)(100000积分)")
set udg_an_duijiang9[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"红颜之怒(90000积分)")
set udg_an_duijiang9[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"宵暗之镯(90000积分)")
set udg_an_duijiang9[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"泪光晶坠(40000积分)")
set udg_an_duijiang9[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"圣者指环(45000积分)")
set udg_an_duijiang9[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"永恒日轮(66000积分)")
set udg_an_duijiang9[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"空间之轮/毁灭之轮/时间之轮/速度之轮(12000积分)")
set udg_an_duijiang9[6]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang9,"取消")
set udg_an_duijiang9[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang9,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang9 takes nothing returns nothing
set gg_trg_duijiang9=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang9,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang9,Condition(function Trig_duijiang9_Conditions))
call TriggerAddAction(gg_trg_duijiang9,function Trig_duijiang9_Actions)
endfunction



function Trig_duijiang9anniu_Actions takes nothing returns nothing


if(GetClickedButtonBJ()==udg_an_duijiang9[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=100000)then
call UnitAddItemByIdSwapped(udg_Item[81],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-100000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang9[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=90000)then
call UnitAddItemByIdSwapped(udg_Item[76],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-90000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang9[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=90000)then
call UnitAddItemByIdSwapped(udg_Item[72],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-90000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang9[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=40000)then
call UnitAddItemByIdSwapped(udg_Item[75],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-40000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang9[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=45000)then
call UnitAddItemByIdSwapped(udg_Item[71],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-45000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang9[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=66000)then
call UnitAddItemByIdSwapped(udg_Item[74],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-66000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang9[6])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]>=12000)then
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(77,80)],udg_unit_duijiang9dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang9dw))]-12000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif



if(GetClickedButtonBJ()==udg_an_duijiang9[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang9=false
endfunction
function InitTrig_duijiang9anniu takes nothing returns nothing
set gg_trg_duijiang9anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang9anniu,udg_ck_duijiang9)
call TriggerAddAction(gg_trg_duijiang9anniu,function Trig_duijiang9anniu_Actions)
endfunction

function Trig_duijiang0_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='MMM0'))then
return false
endif
return true
endfunction
function Trig_duijiang0_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiang0==false))then
return false
endif
return true
endfunction
function Trig_duijiang0_Actions takes nothing returns nothing
if(Trig_duijiang0_Func002C())then
set udg_buerzhi_duijiang0=true
set udg_unit_duijiang0dw=GetTriggerUnit()
call DialogClear(udg_ck_duijiang0)
call DialogSetMessage(udg_ck_duijiang0,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiang0,"五行之戒(30000积分)")
set udg_an_duijiang0[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"七界命由初阶(160000积分)")
set udg_an_duijiang0[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"七界命由高阶(480000积分)")
set udg_an_duijiang0[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"神剑(220000积分)")
set udg_an_duijiang0[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"神之衣(450000积分)")
set udg_an_duijiang0[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"混沌披风(120000积分)")
set udg_an_duijiang0[5]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"七彩宝石(1234567积分)")
set udg_an_duijiang0[6]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiang0,"取消")
set udg_an_duijiang0[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiang0,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiang0 takes nothing returns nothing
set gg_trg_duijiang0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiang0,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiang0,Condition(function Trig_duijiang0_Conditions))
call TriggerAddAction(gg_trg_duijiang0,function Trig_duijiang0_Actions)
endfunction



function Trig_duijiang0anniu_Actions takes nothing returns nothing


if(GetClickedButtonBJ()==udg_an_duijiang0[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=30000)then
call UnitAddItemByIdSwapped(udg_Item[90],udg_unit_duijiang0dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-30000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang0[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=160000)then
call UnitAddItemByIdSwapped('I02X',udg_unit_duijiang0dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-160000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang0[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=480000)then
call UnitAddItemByIdSwapped('I040',udg_unit_duijiang0dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-480000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang0[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=220000)then
call UnitAddItemByIdSwapped(udg_Item[186],udg_unit_duijiang0dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-220000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang0[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=450000)then
call UnitAddItemByIdSwapped(udg_Item[187],udg_unit_duijiang0dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-450000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang0[5])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=120000)then
if(GetRandomInt(1,100)==1)then
call UnitAddItemByIdSwapped(udg_Item[97],udg_unit_duijiang0dw)
else
call UnitAddItemByIdSwapped(udg_Item[96],udg_unit_duijiang0dw)
endif
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-120000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiang0[6])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]>=1234567)then
call UnitAddItemByIdSwapped('SEVE',udg_unit_duijiang0dw)
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiang0dw))]-1234567
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif



if(GetClickedButtonBJ()==udg_an_duijiang0[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif

set udg_buerzhi_duijiang0=false
endfunction
function InitTrig_duijiang0anniu takes nothing returns nothing
set gg_trg_duijiang0anniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiang0anniu,udg_ck_duijiang0)
call TriggerAddAction(gg_trg_duijiang0anniu,function Trig_duijiang0anniu_Actions)
endfunction



function Trig_duijiangX_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='IMMX'))then
return false
endif
if((GetUnitTypeId(GetTriggerUnit())=='e003'))then
return false
endif
if(not(udg_duijiangX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请勿重复领取天道法则技能|r")
return false
endif

return true
endfunction
function Trig_duijiangX_Func002C takes nothing returns boolean
if(not(udg_buerzhi_duijiangX==false))then
return false
endif
return true
endfunction
function Trig_duijiangX_Actions takes nothing returns nothing
if(Trig_duijiangX_Func002C())then
set udg_buerzhi_duijiangX=true
set udg_unit_duijiangXdw=GetTriggerUnit()
call DialogClear(udg_ck_duijiangX)
call DialogSetMessage(udg_ck_duijiangX,"|cffff0000兑奖|r")
call DialogAddButtonBJ(udg_ck_duijiangX,"技能等级+1，发动几率+2，空间法则(130000积分)")
set udg_an_duijiangX[0]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiangX,"技能等级+1，发动几率+2，灭之法则(100000积分)")
set udg_an_duijiangX[1]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiangX,"技能等级+1，发动几率+2，时间法则(120000积分)")
set udg_an_duijiangX[2]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiangX,"技能等级+1，发动几率+2，速度法则(110000积分)")
set udg_an_duijiangX[3]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiangX,"技能等级+1，发动几率+2，随机法则(可佩带轮子学习特定的法则技能)(100000积分)")
set udg_an_duijiangX[4]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_ck_duijiangX,"取消")
set udg_an_duijiangX[11]=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_ck_duijiangX,true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00当前积分为"+I2S(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"点|r")
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"2222222222！")
endif
endfunction
function InitTrig_duijiangX takes nothing returns nothing
set gg_trg_duijiangX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_duijiangX,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_duijiangX,Condition(function Trig_duijiangX_Conditions))
call TriggerAddAction(gg_trg_duijiangX,function Trig_duijiangX_Actions)
endfunction



function Trig_duijiangXanniu_Actions takes nothing returns nothing

if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I064')==true)then
set udg_ccc=3
endif

if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I065')==true)then
set udg_ccc=2
endif

if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I066')==true)then
set udg_ccc=1
endif

if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I067')==true)then
set udg_ccc=4
endif

if(GetClickedButtonBJ()==udg_an_duijiangX[0])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]>=130000)then
set udg_ccc=3
call UnitAddAbilityBJ(udg_jineng[udg_ccc],udg_unit_duijiangXdw)
call UnitMakeAbilityPermanent(udg_unit_duijiangXdw,true,udg_jineng[udg_ccc])
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+1
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+2
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]-130000

if(udg_ccc==1)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得时间法则！|R"))
else
if(udg_ccc==2)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得灭之法则！|R"))
else
if(udg_ccc==3)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得空间法则！|R"))
else
if(udg_ccc==4)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得速度法则！|R"))
else
endif
endif
endif
endif
set udg_duijiangX[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=true

else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiangX[1])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]>=100000)then

set udg_ccc=2
call UnitAddAbilityBJ(udg_jineng[udg_ccc],udg_unit_duijiangXdw)
call UnitMakeAbilityPermanent(udg_unit_duijiangXdw,true,udg_jineng[udg_ccc])
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+1
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+2

if(udg_ccc==1)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得时间法则！|R"))
else
if(udg_ccc==2)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得灭之法则！|R"))
else
if(udg_ccc==3)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得空间法则！|R"))
else
if(udg_ccc==4)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得速度法则！|R"))
else
endif
endif
endif
endif
set udg_duijiangX[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=true

set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]-100000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiangX[2])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]>=120000)then

set udg_ccc=1
call UnitAddAbilityBJ(udg_jineng[udg_ccc],udg_unit_duijiangXdw)
call UnitMakeAbilityPermanent(udg_unit_duijiangXdw,true,udg_jineng[udg_ccc])
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+1
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+2

if(udg_ccc==1)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得时间法则！|R"))
else
if(udg_ccc==2)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得灭之法则！|R"))
else
if(udg_ccc==3)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得空间法则！|R"))
else
if(udg_ccc==4)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得速度法则！|R"))
else
endif
endif
endif
endif
set udg_duijiangX[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=true

set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]-120000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiangX[3])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]>=110000)then

set udg_ccc=4
call UnitAddAbilityBJ(udg_jineng[udg_ccc],udg_unit_duijiangXdw)
call UnitMakeAbilityPermanent(udg_unit_duijiangXdw,true,udg_jineng[udg_ccc])
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+1
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+2

if(udg_ccc==1)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得时间法则！|R"))
else
if(udg_ccc==2)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得灭之法则！|R"))
else
if(udg_ccc==3)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得空间法则！|R"))
else
if(udg_ccc==4)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得速度法则！|R"))
else
endif
endif
endif
endif
set udg_duijiangX[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=true

set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]-110000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiangX[4])then
if(udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]>=100000)then

if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I064')==true)then
set udg_ccc=3
else
if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I065')==true)then
set udg_ccc=2
else
if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I066')==true)then
set udg_ccc=1
else
if(UnitHasItemOfTypeBJ(udg_unit_duijiangXdw,'I067')==true)then
set udg_ccc=4
else
set udg_ccc=GetRandomInt(1,4)
endif
endif
endif
endif


call UnitAddAbilityBJ(udg_jineng[udg_ccc],udg_unit_duijiangXdw)
call UnitMakeAbilityPermanent(udg_unit_duijiangXdw,true,udg_jineng[udg_ccc])
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+1
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]+2

if(udg_ccc==1)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得时间法则！|R"))
else
if(udg_ccc==2)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得灭之法则！|R"))
else
if(udg_ccc==3)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得空间法则！|R"))
else
if(udg_ccc==4)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(udg_unit_duijiangXdw))+"|cFF33FF00技能等级+1，属性伤害发动几率+2，并领悟天道规则，习得速度法则！|R"))
else
endif
endif
endif
endif
set udg_duijiangX[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=true
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_unit_duijiangXdw,'I066'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_unit_duijiangXdw,'I065'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_unit_duijiangXdw,'I064'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_unit_duijiangXdw,'I067'))

set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_unit_duijiangXdw))]-100000
else
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00积分不足|r")
endif
endif

if(GetClickedButtonBJ()==udg_an_duijiangX[11])then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00取消|r")
endif
set udg_buerzhi_duijiangX=false
endfunction
function InitTrig_duijiangXanniu takes nothing returns nothing
set gg_trg_duijiangXanniu=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_duijiangXanniu,udg_ck_duijiangX)
call TriggerAddAction(gg_trg_duijiangXanniu,function Trig_duijiangXanniu_Actions)
endfunction





function Trig_siwangshenzhu_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'DEA1')==true))then
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'DEA2')==true))then
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'DEA3')==true))then
return false
endif
endif
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Etyr'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos5'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='N000'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Uear'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='nvil'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos7'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos8'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos1'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos2'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos9'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos3'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos4'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos0'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S001'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S002'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S003'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S004'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S005'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S006'))then
return false
endif
return true
endfunction
function Trig_siwangshenzhu_Actions takes nothing returns nothing

if(UnitHasItemOfTypeBJ(GetAttacker(),'DEA1')==true)then
if(GetRandomInt(1,200)==1)then
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),90000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000死亡神珠发动"+(GetUnitName(GetAttackedUnitBJ())+"被秒杀！")))
else
if(GetRandomInt(1,100)<=3)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'DEA1'))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡神珠被破坏掉了|r")
else
endif
endif
endif

if(UnitHasItemOfTypeBJ(GetAttacker(),'DEA2')==true)then
if(GetRandomInt(1,200)==1)then
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),90000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000死亡神珠发动"+(GetUnitName(GetAttackedUnitBJ())+"被秒杀！")))
else
if(GetRandomInt(1,100)<=2)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'DEA2'))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡神珠被破坏掉了|r")
else
endif
endif
endif

if(UnitHasItemOfTypeBJ(GetAttacker(),'DEA3')==true)then
if(GetRandomInt(1,200)==1)then
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),90000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000死亡神珠发动"+(GetUnitName(GetAttackedUnitBJ())+"被秒杀！")))
else
if(GetRandomInt(1,100)<=1)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'DEA3'))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00死亡神珠被破坏掉了|r")
else
endif
endif
endif

endfunction
function InitTrig_siwangshenzhu takes nothing returns nothing
set gg_trg_siwangshenzhu=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_siwangshenzhu,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_siwangshenzhu,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_siwangshenzhu,Condition(function Trig_siwangshenzhu_Conditions))
call TriggerAddAction(gg_trg_siwangshenzhu,function Trig_siwangshenzhu_Actions)
endfunction

function Trig_removeitemFunc001002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction

function Trig_removeunitFunc001002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction

function Trig_mmm1001_Conditions takes nothing returns boolean
return true
endfunction


function Trig_mmm1_Conditions takes nothing returns boolean
if(GetUnitTypeId(GetTriggerUnit())=='e003')then
return false
endif
if(not(udg_shenjie2ing==12))then
return false
endif
if(GetItemTypeId(GetManipulatedItem())=='MMM1')then
if(not(GetHeroLevel(GetTriggerUnit())>=40))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请40级以上再来挑战|r")
return false
endif
set udg_tzlevel=0
return true
endif
if(GetItemTypeId(GetManipulatedItem())=='MMM2')then
if(not(GetHeroLevel(GetTriggerUnit())>=100))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请100级以上再来挑战|r")
return false
endif
set udg_tzlevel=10
return true
endif
if(GetItemTypeId(GetManipulatedItem())=='MMM3')then
if(not(GetHeroLevel(GetTriggerUnit())>=180))then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00请180级以上再来挑战|r")
return false
endif
set udg_tzlevel=20
call CreateNUnitsAtLoc(1,'otbk',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________028),bj_UNIT_FACING)
set udg_emo20=GetLastCreatedUnit()
call SetUnitInvulnerable(udg_emo20,true)

return true
endif
return false
endfunction
function Trig_mmm1_Actions takes nothing returns nothing
//set udg_antileave=CreateTimer()
call StartTimerBJ(udg_antileave,false,299.00)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"试炼"))
set udg_shenjie2chuangkou=GetLastCreatedTimerDialogBJ()

call EnumItemsInRectBJ(gg_rct______________119, function Trig_removeitemFunc001002)



set udg_shenjie2ing=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))

set udg_mitem1=UnitItemInSlotBJ(GetTriggerUnit(),1)
set udg_mitem2=UnitItemInSlotBJ(GetTriggerUnit(),2)
set udg_mitem3=UnitItemInSlotBJ(GetTriggerUnit(),3)
set udg_mitem4=UnitItemInSlotBJ(GetTriggerUnit(),4)
set udg_mitem5=UnitItemInSlotBJ(GetTriggerUnit(),5)
set udg_mitem6=UnitItemInSlotBJ(GetTriggerUnit(),6)
call UnitRemoveItemSwapped(udg_mitem1,GetTriggerUnit())
call UnitRemoveItemSwapped(udg_mitem2,GetTriggerUnit())
call UnitRemoveItemSwapped(udg_mitem3,GetTriggerUnit())
call UnitRemoveItemSwapped(udg_mitem4,GetTriggerUnit())
call UnitRemoveItemSwapped(udg_mitem5,GetTriggerUnit())
call UnitRemoveItemSwapped(udg_mitem6,GetTriggerUnit())

set udg_mitem11=UnitItemInSlotBJ(udg_unit_bb[udg_shenjie2ing],1)
set udg_mitem12=UnitItemInSlotBJ(udg_unit_bb[udg_shenjie2ing],2)
set udg_mitem13=UnitItemInSlotBJ(udg_unit_bb[udg_shenjie2ing],3)
set udg_mitem14=UnitItemInSlotBJ(udg_unit_bb[udg_shenjie2ing],4)
set udg_mitem15=UnitItemInSlotBJ(udg_unit_bb[udg_shenjie2ing],5)
set udg_mitem16=UnitItemInSlotBJ(udg_unit_bb[udg_shenjie2ing],6)
call UnitRemoveItemSwapped(udg_mitem11,udg_unit_bb[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem12,udg_unit_bb[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem13,udg_unit_bb[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem14,udg_unit_bb[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem15,udg_unit_bb[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem16,udg_unit_bb[udg_shenjie2ing])

set udg_mitem21=UnitItemInSlotBJ(udg_bbtwo[udg_shenjie2ing],1)
set udg_mitem22=UnitItemInSlotBJ(udg_bbtwo[udg_shenjie2ing],2)
set udg_mitem23=UnitItemInSlotBJ(udg_bbtwo[udg_shenjie2ing],3)
set udg_mitem24=UnitItemInSlotBJ(udg_bbtwo[udg_shenjie2ing],4)
set udg_mitem25=UnitItemInSlotBJ(udg_bbtwo[udg_shenjie2ing],5)
set udg_mitem26=UnitItemInSlotBJ(udg_bbtwo[udg_shenjie2ing],6)
call UnitRemoveItemSwapped(udg_mitem21,udg_bbtwo[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem22,udg_bbtwo[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem23,udg_bbtwo[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem24,udg_bbtwo[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem25,udg_bbtwo[udg_shenjie2ing])
call UnitRemoveItemSwapped(udg_mitem26,udg_bbtwo[udg_shenjie2ing])

call UnitAddItemSwapped(udg_mitem1,udg_baoguan01)
call UnitAddItemSwapped(udg_mitem2,udg_baoguan01)
call UnitAddItemSwapped(udg_mitem3,udg_baoguan01)
call UnitAddItemSwapped(udg_mitem4,udg_baoguan01)
call UnitAddItemSwapped(udg_mitem5,udg_baoguan01)
call UnitAddItemSwapped(udg_mitem6,udg_baoguan01)

call UnitAddItemSwapped(udg_mitem11,udg_baoguan02)
call UnitAddItemSwapped(udg_mitem12,udg_baoguan02)
call UnitAddItemSwapped(udg_mitem13,udg_baoguan02)
call UnitAddItemSwapped(udg_mitem14,udg_baoguan02)
call UnitAddItemSwapped(udg_mitem15,udg_baoguan02)
call UnitAddItemSwapped(udg_mitem16,udg_baoguan02)

call UnitAddItemSwapped(udg_mitem21,udg_baoguan03)
call UnitAddItemSwapped(udg_mitem22,udg_baoguan03)
call UnitAddItemSwapped(udg_mitem23,udg_baoguan03)
call UnitAddItemSwapped(udg_mitem24,udg_baoguan03)
call UnitAddItemSwapped(udg_mitem25,udg_baoguan03)
call UnitAddItemSwapped(udg_mitem26,udg_baoguan03)

set udg_tzsap=0

call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________097))
call SetUnitPositionLoc(udg_unit_bb[udg_shenjie2ing],GetRectCenter(gg_rct______________097))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________097))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________097),0)
set udg_shenjie2ing=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00物品回收|r")

set udg_ccc=0
loop
exitwhen(udg_ccc>=12)
call CreateItemLoc(udg_tzitem[udg_tzlevel*10+udg_ccc],GetRectCenter(gg_rct______________097))
set udg_tzxitem[udg_ccc]=GetLastCreatedItem()
set udg_ccc=udg_ccc+1
endloop
call SetItemCharges(udg_tzxitem[8], 50)
call SetItemCharges(udg_tzxitem[9], 50)
set udg_ccc=GetRandomInt(1,4)

call UnitAddItemSwapped(udg_tzxitem[0],udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[1],udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[2],udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[3],udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[4],udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[5],udg_heroname[udg_shenjie2ing])

call UnitAddItemSwapped(udg_tzxitem[6],udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[7],udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[8],udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[9],udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[10],udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_tzxitem[11],udg_unit_bb[udg_shenjie2ing])



call CreateNUnitsAtLoc(1,'nsha',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(gg_rct______________097),bj_UNIT_FACING)
set udg_tzsheep=GetLastCreatedUnit()
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀死眼前的绵羊开始挑战|r")
if(udg_tzlevel==20)then
call UnitAddItemByIdSwapped('I02E',udg_unit_bb[udg_shenjie2ing])
endif

endfunction
function InitTrig_mmm1 takes nothing returns nothing
set gg_trg_mmm1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_mmm1,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_mmm1,Condition(function Trig_mmm1_Conditions))
call TriggerAddAction(gg_trg_mmm1,function Trig_mmm1_Actions)
endfunction

function Trig_mmmle1_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_heroname[udg_shenjie2ing]))then
if(not(GetTriggerUnit()==udg_unit_bb[udg_shenjie2ing]))then
if(not(GetTriggerUnit()==udg_bbtwo[udg_shenjie2ing]))then
return false
endif
endif
endif
return true
endfunction
function Trig_mmmle1_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_heroname[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
call SetUnitPositionLoc(udg_unit_bb[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________005))

set udg_ccc=0
loop
exitwhen(udg_ccc>12)
call RemoveItem(udg_tzxitem[udg_ccc])
set udg_ccc=udg_ccc+1
endloop

call UnitRemoveItemSwapped(udg_mitem1,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem2,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem3,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem4,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem5,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem6,udg_baoguan01)

call UnitRemoveItemSwapped(udg_mitem11,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem12,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem13,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem14,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem15,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem16,udg_baoguan02)

call UnitRemoveItemSwapped(udg_mitem21,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem22,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem23,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem24,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem25,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem26,udg_baoguan03)


call UnitAddItemSwapped(udg_mitem1,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem2,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem3,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem4,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem5,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem6,udg_heroname[udg_shenjie2ing])

call UnitAddItemSwapped(udg_mitem11,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem12,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem13,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem14,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem15,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem16,udg_unit_bb[udg_shenjie2ing])

call UnitAddItemSwapped(udg_mitem21,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem22,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem23,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem24,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem25,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem26,udg_bbtwo[udg_shenjie2ing])

set udg_mitem1=null
set udg_mitem2=null
set udg_mitem3=null
set udg_mitem4=null
set udg_mitem5=null
set udg_mitem6=null
set udg_mitem11=null
set udg_mitem12=null
set udg_mitem13=null
set udg_mitem14=null
set udg_mitem15=null
set udg_mitem16=null
set udg_mitem21=null
set udg_mitem22=null
set udg_mitem23=null
set udg_mitem24=null
set udg_mitem25=null
set udg_mitem26=null

call DisplayTextToForce(GetPlayersAll(),"|cffffcc00返还物品|r")

//call DestroyTimer(udg_antileave)
//call DestroyTimer(udg_shenjie)
call DestroyTimerDialog(udg_shenjiechuangkou)
call RemoveUnit(udg_sjjy)
set udg_shenjieing=false
set udg_buerzhi_huimie2=false
set udg_shenjie2ing=12
call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________119,Condition(function Trig_shenjie1_Func002001002)),function Trig_shenjie1_Func002A)
set udg_shenjiedw=null
set udg_sjjy=null


call DestroyTimerDialog(udg_shenjie2chuangkou)

set udg_tz2sap=0
set udg_tzsap=0


call RemoveUnit(udg_tzsheep)
call RemoveUnit(udg_tzm)
call RemoveUnit(udg_emo04)
call RemoveUnit(udg_emo20)
set udg_shenjie2ing=12
endfunction
function InitTrig_mmmle1 takes nothing returns nothing
set gg_trg_mmmle1=CreateTrigger()
call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_mmmle1 ,gg_rct______________119)
call TriggerAddCondition(gg_trg_mmmle1,Condition(function Trig_mmmle1_Conditions))
call TriggerAddAction(gg_trg_mmmle1,function Trig_mmmle1_Actions)
endfunction

function Trig_mmmde1_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_heroname[udg_shenjie2ing]))then
return false
endif
return true
endfunction
function Trig_mmmde1_Actions takes nothing returns nothing
call TriggerSleepAction(0.10)
set udg_ccc=0
loop
exitwhen(udg_ccc>12)
call RemoveItem(udg_tzxitem[udg_ccc])
set udg_ccc=udg_ccc+1
endloop
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________005),true)
call SetUnitPositionLoc(udg_unit_bb[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________005))

call UnitRemoveItemSwapped(udg_mitem1,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem2,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem3,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem4,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem5,udg_baoguan01)
call UnitRemoveItemSwapped(udg_mitem6,udg_baoguan01)

call UnitRemoveItemSwapped(udg_mitem11,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem12,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem13,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem14,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem15,udg_baoguan02)
call UnitRemoveItemSwapped(udg_mitem16,udg_baoguan02)

call UnitRemoveItemSwapped(udg_mitem21,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem22,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem23,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem24,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem25,udg_baoguan03)
call UnitRemoveItemSwapped(udg_mitem26,udg_baoguan03)


call UnitAddItemSwapped(udg_mitem1,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem2,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem3,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem4,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem5,udg_heroname[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem6,udg_heroname[udg_shenjie2ing])

call UnitAddItemSwapped(udg_mitem11,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem12,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem13,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem14,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem15,udg_unit_bb[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem16,udg_unit_bb[udg_shenjie2ing])

call UnitAddItemSwapped(udg_mitem21,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem22,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem23,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem24,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem25,udg_bbtwo[udg_shenjie2ing])
call UnitAddItemSwapped(udg_mitem26,udg_bbtwo[udg_shenjie2ing])

set udg_mitem1=null
set udg_mitem2=null
set udg_mitem3=null
set udg_mitem4=null
set udg_mitem5=null
set udg_mitem6=null
set udg_mitem11=null
set udg_mitem12=null
set udg_mitem13=null
set udg_mitem14=null
set udg_mitem15=null
set udg_mitem16=null
set udg_mitem21=null
set udg_mitem22=null
set udg_mitem23=null
set udg_mitem24=null
set udg_mitem25=null
set udg_mitem26=null

call DisplayTextToForce(GetPlayersAll(),"|cffeecc00返还物品|r")


//call DestroyTimer(udg_antileave)
//call DestroyTimer(udg_shenjie)
call DestroyTimerDialog(udg_shenjiechuangkou)
call RemoveUnit(udg_sjjy)
set udg_shenjieing=false
set udg_buerzhi_huimie2=false
set udg_shenjie2ing=12
call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________119,Condition(function Trig_shenjie1_Func002001002)),function Trig_shenjie1_Func002A)
set udg_shenjiedw=null
set udg_sjjy=null


call DestroyTimerDialog(udg_shenjie2chuangkou)

set udg_tz2sap=0
set udg_tzsap=0

call RemoveUnit(udg_tzsheep)
call RemoveUnit(udg_tzm)
call RemoveUnit(udg_emo04)
call RemoveUnit(udg_emo20)
call SetUnitPositionLoc(udg_heroname[udg_shenjie2ing],GetRectCenter(gg_rct______________005))

set udg_shenjie2ing=12
endfunction
function InitTrig_mmmde1 takes nothing returns nothing
set gg_trg_mmmde1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_mmmde1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_mmmde1,Condition(function Trig_mmmde1_Conditions))
call TriggerAddAction(gg_trg_mmmde1,function Trig_mmmde1_Actions)
endfunction


function Trig_shilian_Actions takes nothing returns nothing
if(GetUnitTypeId(GetDyingUnit())=='nsha')then
if(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==udg_shenjie2ing)then
if(GetDyingUnit()==udg_tzsheep)then
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00挑战开始|r")
call SetUnitPositionLoc(GetKillingUnitBJ(),GetRectCenter(gg_rct______________097))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnitBJ()),GetRectCenter(gg_rct______________097),0)
call CreateNUnitsAtLoc(1,udg_tzmonster[udg_tzlevel],Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________028),bj_UNIT_FACING)
set udg_tzm=GetLastCreatedUnit()
set udg_bounsid=GetRandomInt(0,9)
set udg_tmpscore=R2I(udg_stabouns[udg_bounsid]*Pow(5,udg_tzlevel/10)*Pow(2,udg_tzlevel-udg_tzlevel/10*10)*7/10)
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00试炼条件为|cffff0000"+bounsstring[udg_bounsid]+",|cf0eecc00若通过此试炼可获得试炼积分为|cffff0000"+I2S(udg_tmpscore)+"点|r")

if(udg_tzlevel==20)then
//set udg_rabbit=udg_rabbit+1
endif
if(udg_tzlevel==23)then
set udg_emo03=udg_tzm
call UnitAddItemByIdSwapped('I99E',udg_emo03)
call CreateNUnitsAtLoc(1,'Bdem',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________028),bj_UNIT_FACING)
set udg_emo04=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('I99E',udg_emo04)
endif


if(not(UnitHasItemOfTypeBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'NECK')==true))then


if(udg_bounsid==0)then
set udg_ccc=GetRandomInt(1,12)
if(not(udg_tzxitem[udg_ccc]==UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],6)))then
call RemoveItem(udg_tzxitem[udg_ccc])
endif
endif

if(udg_bounsid==1)then
set udg_ccc=GetRandomInt(1,12)
if(not(udg_tzxitem[udg_ccc]==UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],6)))then
call RemoveItem(udg_tzxitem[udg_ccc])
endif
set udg_ccc=GetRandomInt(1,12)
if(not(udg_tzxitem[udg_ccc]==UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],6)))then
call RemoveItem(udg_tzxitem[udg_ccc])
endif
endif
if(udg_bounsid==2)then
set udg_ccc=GetRandomInt(1,12)
if(not(udg_tzxitem[udg_ccc]==UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],6)))then
call RemoveItem(udg_tzxitem[udg_ccc])
endif
set udg_ccc=GetRandomInt(1,12)
if(not(udg_tzxitem[udg_ccc]==UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],6)))then
call RemoveItem(udg_tzxitem[udg_ccc])
endif
set udg_ccc=GetRandomInt(1,12)
if(not(udg_tzxitem[udg_ccc]==UnitItemInSlotBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],6)))then
call RemoveItem(udg_tzxitem[udg_ccc])
endif
endif
if(udg_bounsid==5)then
call RemoveItem(udg_tzxitem[0])
endif
if(udg_bounsid==4)then
call RemoveItem(udg_tzxitem[8])
call RemoveItem(udg_tzxitem[9])
endif

if(udg_bounsid==3)then
set udg_tz2sap=udg_tz2sap+3
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00当前状态为：攻击时受到额外伤害"+I2S(udg_tz2sap)+"%|r")

endif

if(udg_bounsid==6)then
set udg_tzsap=udg_tzsap+4
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00当前状态为：被攻击受到额外伤害"+I2S(udg_tzsap)+"%|r")
endif

if(udg_bounsid==7)then
set udg_tzsap=udg_tzsap+2
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00当前状态为：被攻击受到额外伤害"+I2S(udg_tzsap)+"%|r")
endif

if(udg_bounsid==8)then
set udg_tzsap=udg_tzsap-1
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00当前状态为：被攻击受到额外伤害"+I2S(udg_tzsap)+"%|r")
endif

else
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00用辟邪项链抵挡了一次诅咒|r")
call RemoveItem(udg_tzxitem[11])
endif


endif
endif
endif
endfunction
function InitTrig_shilian takes nothing returns nothing
set gg_trg_shilian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shilian,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_shilian,function Trig_shilian_Actions)
endfunction

function Trig_shi2lian_Actions takes nothing returns nothing
if(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(udg_heroname[udg_shenjie2ing]))then
if(GetDyingUnit()==udg_tzm)then
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00挑战成功，获得积分|r")
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_heroname[udg_shenjie2ing]))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(udg_heroname[udg_shenjie2ing]))]+udg_tmpscore
set udg_tzlevel=udg_tzlevel+1
if(udg_tzlevel-udg_tzlevel/10*10<=4+udg_tzlevel/10)then
call SetUnitPositionLoc(GetKillingUnitBJ(),GetRectCenter(gg_rct______________097))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnitBJ()),GetRectCenter(gg_rct______________097),0)
call CreateNUnitsAtLoc(1,'nsha',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(gg_rct______________097),bj_UNIT_FACING)
set udg_tzsheep=GetLastCreatedUnit()
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00杀死眼前的绵羊开始挑战|r")
else
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00恭喜整个试炼全部完成|r")
//call DestroyTimer(udg_antileave)
call DestroyTimerDialog(udg_shenjie2chuangkou)
set udg_ccc=1
loop
exitwhen(udg_ccc>12)
call RemoveItem(udg_tzxitem[udg_ccc])
set udg_ccc=udg_ccc+1
endloop
//call SetUnitPositionLoc(GetKillingUnitBJ(),GetRectCenter(gg_rct______________005))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnitBJ()),GetRectCenter(gg_rct______________005),0)
endif
endif
endif
endfunction
function InitTrig_shi2lian takes nothing returns nothing
set gg_trg_shi2lian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shi2lian,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_shi2lian,function Trig_shi2lian_Actions)
endfunction

function Trig_cheng180score_Conditions takes nothing returns boolean
if(not(GetHeroLevel(GetTriggerUnit())>=180))then
return false
endif
if(not(udg_mutex180[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_cheng180score_Actions takes nothing returns nothing
set udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_mscore[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100000
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|cFF33FF00等级到达180级，获得试炼积分100000分！|R"))
set udg_mutex180[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
endfunction
function InitTrig_cheng180score takes nothing returns nothing
set gg_trg_cheng180score=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_cheng180score, EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(gg_trg_cheng180score,Condition(function Trig_cheng180score_Conditions))
call TriggerAddAction(gg_trg_cheng180score,function Trig_cheng180score_Actions)
endfunction

function Trig_tzsap_Conditions takes nothing returns boolean
if(GetTriggerUnit()==udg_heroname[udg_shenjie2ing])then
return true
endif
return false
endfunction
function Trig_tzsap_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])>12)then
call SetUnitLifePercentBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetUnitLifePercent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])-udg_tzsap)
else
endif
endfunction
function InitTrig_tzsap takes nothing returns nothing
set gg_trg_tzsap=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tzsap,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_tzsap,Condition(function Trig_tzsap_Conditions))
call TriggerAddAction(gg_trg_tzsap,function Trig_tzsap_Actions)
endfunction

function Trig_tz2sap_Conditions takes nothing returns boolean
if(GetAttacker()==udg_heroname[udg_shenjie2ing])then
return true
endif
return false
endfunction
function Trig_tz2sap_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])>12)then
call SetUnitLifePercentBJ(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],GetUnitLifePercent(udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])-udg_tz2sap)
else
endif
endfunction
function InitTrig_tz2sap takes nothing returns nothing
set gg_trg_tz2sap=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_tz2sap,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_tz2sap,Condition(function Trig_tz2sap_Conditions))
call TriggerAddAction(gg_trg_tz2sap,function Trig_tz2sap_Actions)
endfunction

function Trig_shiwu_Func002Func009A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetUnitLoc(GetTriggerUnit()))
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00吃完啦！！！！|r")
call PauseUnit(GetEnumUnit(),false)

endfunction

function Trig_shiwu_Func002Func006A takes nothing returns nothing

if(GetRandomInt(1,100)<=6*udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-20)then
call SetUnitPositionLoc(GetEnumUnit(),GetUnitLoc(GetTriggerUnit()))
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00发现好吃的！！！！|r")
call PauseUnit(GetEnumUnit(),true)
else
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00才不好吃！！！！|r")
endif
endfunction


function Trig_shiwu_Func002Func006001003 takes nothing returns boolean
if(GetUnitTypeId(GetFilterUnit())=='Bos9')then
return true
endif
return false
endfunction

function Trig_shiwu_Func003C takes nothing returns boolean

if((GetItemTypeId(GetManipulatedItem())=='I02F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02E'))then
return true
endif

return false
endfunction
function Trig_shiwu_Conditions takes nothing returns boolean
if(not Trig_shiwu_Func003C())then
return false
endif
return true
endfunction
function Trig_shiwu_Actions takes nothing returns nothing
set udg_shiwudian=GetUnitLoc(GetTriggerUnit())
call ForGroupBJ(GetUnitsInRangeOfLocMatching(900.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_shiwu_Func002Func006001003)),function Trig_shiwu_Func002Func006A)
call StartTimerBJ(udg_shiwutime,false,10.00)
endfunction
function InitTrig_shiwu takes nothing returns nothing
set gg_trg_shiwu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_shiwu,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_shiwu,Condition(function Trig_shiwu_Conditions))
call TriggerAddAction(gg_trg_shiwu,function Trig_shiwu_Actions)
endfunction

function Trig_shiwujsq_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(900.00,udg_shiwudian,Condition(function Trig_shiwu_Func002Func006001003)),function Trig_shiwu_Func002Func009A)
endfunction
function InitTrig_shiwujsq takes nothing returns nothing
set gg_trg_shiwujsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_shiwujsq,udg_shiwutime)
call TriggerAddAction(gg_trg_shiwujsq,function Trig_shiwujsq_Actions)
endfunction

function Trig_xixuegui_Conditions takes nothing returns boolean
if(GetUnitTypeId(GetAttacker())=='Bos2')then
return true
endif
return false
endfunction
function Trig_xixuegui_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+udg_nanduBL+udg_selfdestruct/2)
if(GetRandomInt(1,10)==1)then
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00你的血好好喝哦|r")
endif
endfunction
function InitTrig_xixuegui takes nothing returns nothing
set gg_trg_xixuegui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xixuegui,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_xixuegui,Condition(function Trig_xixuegui_Conditions))
call TriggerAddAction(gg_trg_xixuegui,function Trig_xixuegui_Actions)
endfunction

function Trig_bei2ci_Conditions takes nothing returns boolean
if(RAbsBJ((GetUnitFacing(GetAttacker())-GetUnitFacing(GetAttackedUnitBJ())))<100.00)then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos3'))then
return false
endif
return true
endfunction
function Trig_bei2ci_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())+udg_nanduBL+udg_selfdestruct/2)
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00一点也不疼！|r")

endfunction
function InitTrig_bei2ci takes nothing returns nothing
set gg_trg_bei2ci=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bei2ci,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_bei2ci,Condition(function Trig_bei2ci_Conditions))
call TriggerAddAction(gg_trg_bei2ci,function Trig_bei2ci_Actions)
endfunction

function Trig_sevein_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='SEVE'))then
return false
endif
return true
endfunction

function Trig_sevein_Actions takes nothing returns nothing

set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+7)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+77)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+77)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+77)

endfunction
function InitTrig_sevein takes nothing returns nothing
set gg_trg_sevein=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sevein,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_sevein,Condition(function Trig_sevein_Conditions))
call TriggerAddAction(gg_trg_sevein,function Trig_sevein_Actions)
endfunction

function Trig_seveout_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='SEVE'))then
return false
endif
return true
endfunction

function Trig_seveout_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-77)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-77)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-77)

endfunction
function InitTrig_seveout takes nothing returns nothing
set gg_trg_seveout=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seveout,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_seveout,Condition(function Trig_seveout_Conditions))
call TriggerAddAction(gg_trg_seveout,function Trig_seveout_Actions)
endfunction

function Trig_leavejsq_Actions takes nothing returns nothing
//call SetUnitPositionLoc(udg_heroname[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
//call SetUnitPositionLoc(udg_unit_bb[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
call SetUnitPositionLoc(udg_bbtwo[udg_shenjie2ing],GetRectCenter(gg_rct______________005))
endfunction
function InitTrig_leavejsq takes nothing returns nothing
set gg_trg_leavejsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_leavejsq,udg_antileave)
call TriggerAddAction(gg_trg_leavejsq,function Trig_leavejsq_Actions)
endfunction


function Trig_seven1_Conditions takes nothing returns boolean
//if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SEV1')==true))then
//return false
//endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV1')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SV12')==true))then
return false
endif
endif
if(not((GetHeroLevel(GetTriggerUnit())-GetHeroLevel(GetTriggerUnit())/7*7)==1))then
return false
endif
return true
endfunction
function Trig_seven1_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())+0.2)
endfunction
function InitTrig_seven1 takes nothing returns nothing
set gg_trg_seven1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seven1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_seven1,Condition(function Trig_seven1_Conditions))
call TriggerAddAction(gg_trg_seven1,function Trig_seven1_Actions)
endfunction

function Trig_seven2_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SEV2')==true))then
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SV12')==true))then
return false
endif
endif
//if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV2')==true))then
//return false
//endif
if(not((GetHeroLevel(GetAttacker())-GetHeroLevel(GetAttacker())/7*7)==2))then
return false
endif
return true
endfunction
function Trig_seven2_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+1)
endfunction
function InitTrig_seven2 takes nothing returns nothing
set gg_trg_seven2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seven2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_seven2,Condition(function Trig_seven2_Conditions))
call TriggerAddAction(gg_trg_seven2,function Trig_seven2_Actions)
endfunction

function Trig_seven3_Conditions takes nothing returns boolean
//if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SEV3')==true))then
//return false
//endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV3')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SV34')==true))then
return false
endif
endif
if(not((GetHeroLevel(GetTriggerUnit())-GetHeroLevel(GetTriggerUnit())/7*7)==3))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Bos7'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Bos9'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Bos0'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Usyl'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Etyr'))then
return false
endif
return true
endfunction
function Trig_seven3_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetAttacker())>=39)then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())-1)
endif
endfunction
function InitTrig_seven3 takes nothing returns nothing
set gg_trg_seven3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seven3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_seven3,Condition(function Trig_seven3_Conditions))
call TriggerAddAction(gg_trg_seven3,function Trig_seven3_Actions)
endfunction

function Trig_seven4_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SEV4')==true))then
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SV34')==true))then
return false
endif
endif
if((GetUnitTypeId(GetAttacker())=='Bos0'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Uear'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='Uv01'))then
return false
endif
//if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV1')==true))then
//return false
//endif
if(not((GetHeroLevel(GetTriggerUnit())-GetHeroLevel(GetTriggerUnit())/7*7)==4))then
return false
endif
return true
endfunction
function Trig_seven4_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetTriggerUnit())>=22)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-0.7)
endif
endfunction
function InitTrig_seven4 takes nothing returns nothing
set gg_trg_seven4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seven4,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_seven4,Condition(function Trig_seven4_Conditions))
call TriggerAddAction(gg_trg_seven4,function Trig_seven4_Actions)
endfunction

function Trig_seven5_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV5')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SV56')==true))then
return false
endif
endif
//if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV1')==true))then
//return false
//endif
if(not((GetHeroLevel(GetTriggerUnit())-GetHeroLevel(GetTriggerUnit())/7*7)==5))then
return false
endif
if((GetUnitTypeId(GetAttacker())==GetUnitTypeId(udg_seven5_unit)))then
return false
endif
if(GetRandomInt(1,7)>=2)then
return false
endif
return true
endfunction
function Trig_seven5_Actions takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1)
set udg_seven5_unit=GetAttacker()
endfunction
function InitTrig_seven5 takes nothing returns nothing
set gg_trg_seven5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seven5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_seven5,Condition(function Trig_seven5_Conditions))
call TriggerAddAction(gg_trg_seven5,function Trig_seven5_Actions)
endfunction

function Trig_seven6_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'SEV6')==true))then
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'SV56')==true))then
return false
endif
endif
if(not((GetHeroLevel(GetKillingUnitBJ())-GetHeroLevel(GetKillingUnitBJ())/7*7)==6))then
return false
endif
return true
endfunction
function Trig_seven6_Actions takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,3)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,3)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,3)
endfunction
function InitTrig_seven6 takes nothing returns nothing
set gg_trg_seven6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_seven6,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_seven6,Condition(function Trig_seven6_Conditions))
call TriggerAddAction(gg_trg_seven6,function Trig_seven6_Actions)
endfunction

function Trig_wushen1_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos0'))then
return false
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_wushen1_Actions takes nothing returns nothing
//set udg_wushencount=udg_wushencount+1
set udg_wushen=GetTriggerUnit()
if(udg_mutemwushen2==0)then
set udg_mutemwushen2=1
call StartTimerBJ(udg_wushenjsq2,false,4.00)
endif
endfunction
function InitTrig_wushen1 takes nothing returns nothing
set gg_trg_wushen1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wushen1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wushen1,Condition(function Trig_wushen1_Conditions))
call TriggerAddAction(gg_trg_wushen1,function Trig_wushen1_Actions)
endfunction
function Trig_wushenjsq1_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(udg_wushen2,100)
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00完全回复！|r")
set udg_mutemwushen1=0
endfunction
function InitTrig_wushenjsq1 takes nothing returns nothing
set gg_trg_wushenjsq1=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_wushenjsq1,udg_wushenjsq1)
call TriggerAddAction(gg_trg_wushenjsq1,function Trig_wushenjsq1_Actions)
endfunction
function Trig_wushenjsq2_Actions takes nothing returns nothing
if(GetUnitLifePercent(udg_wushen)>=11)then
call SetUnitLifePercentBJ(udg_wushen,GetUnitLifePercent(udg_wushen)-10)
call DisplayTextToForce(GetPlayersAll(),"|cf0eecc00武神的体力被燃烧掉了10%！|r")
set udg_mutemwushen2=0
else
call SetUnitLifePercentBJ(udg_wushen,0.01)
set udg_mutemwushen2=0
endif

endfunction
function InitTrig_wushenjsq2 takes nothing returns nothing
set gg_trg_wushenjsq2=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_wushenjsq2,udg_wushenjsq2)
call TriggerAddAction(gg_trg_wushenjsq2,function Trig_wushenjsq2_Actions)
endfunction

function Trig_wushen2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos0'))then
return false
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_wushen2_Actions takes nothing returns nothing
set udg_wushen2=GetTriggerUnit()
//if(udg_mutemwushen1==0)then
//set udg_mutemwushen1=1
call StartTimerBJ(udg_wushenjsq1,false,5.00)
//endif
endfunction
function InitTrig_wushen2 takes nothing returns nothing
set gg_trg_wushen2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wushen2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wushen2,Condition(function Trig_wushen2_Conditions))
call TriggerAddAction(gg_trg_wushen2,function Trig_wushen2_Actions)
endfunction

function Trig_wushen3_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Bos0'))then
if(not(GetUnitTypeId(GetAttacker())=='Bos9'))then
return false
endif
endif
if(not(GetRandomInt(1,1)==1))then
return false
endif
return true
endfunction
function Trig_wushen3_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetTriggerUnit())>=1)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1.2)
else
call KillUnit(GetTriggerUnit())
endif
endfunction
function InitTrig_wushen3 takes nothing returns nothing
set gg_trg_wushen3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wushen3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_wushen3,Condition(function Trig_wushen3_Conditions))
call TriggerAddAction(gg_trg_wushen3,function Trig_wushen3_Actions)
endfunction

function Trig_zuzhoudeath_Conditions takes nothing returns boolean
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==1))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==2))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==3))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==4))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==5))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==6))then
return false
endif
endif
endif
endif
endif
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos4'))then
return false
endif
return true
endfunction
function Trig_zuzhoudeath_Actions takes nothing returns nothing
set udg_point2=GetUnitLoc(GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("受到了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R的死亡诅咒，全属性失去|CFFFF0000"+(I2S(300)+"|R点。"))))))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_SUB,300)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_SUB,300)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_SUB,300)
call CreateItemLoc(udg_Item[GetRandomInt(435,436)],udg_point2)
if(GetUnitTypeId(GetDyingUnit())=='Bos4')then
set udg_BOSSjifen=200
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+200)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
endif
endfunction
function InitTrig_zuzhoudeath takes nothing returns nothing
set gg_trg_zuzhoudeath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zuzhoudeath,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zuzhoudeath,Condition(function Trig_zuzhoudeath_Conditions))
call TriggerAddAction(gg_trg_zuzhoudeath,function Trig_zuzhoudeath_Actions)
endfunction


function Trig_sevendrop_Actions takes nothing returns nothing
if((RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false))then
set udg_point=GetUnitLoc(GetTriggerUnit())

if(not(RectContainsUnit(gg_rct______________124,GetDyingUnit())==true))then

if(GetUnitTypeId(GetDyingUnit())=='Bos0')then
set udg_BOSSjifen=300
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+300)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(udg_BOSSjifen)+"|R点专属技能经验。"))))))
call CreateItemLoc(udg_Item[GetRandomInt(431,432)],udg_point)
endif

if(GetUnitTypeId(GetDyingUnit())=='Bos8')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif


endif






if(GetRandomInt(1,20+R2I(udg_qinshilv)/3)==1)then
if(GetUnitTypeId(GetDyingUnit())=='Ekgg')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Nklj')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Npld')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Hvsh')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Uvar')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Usyl')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Udea')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Rdem')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bdem')then
call CreateItemLoc(udg_Item[GetRandomInt(441,443)],udg_point)
endif
endif

if(GetRandomInt(1,80+R2I(udg_qinshilv)/2)==1)then
if(GetUnitTypeId(GetDyingUnit())=='Ekgg')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Nklj')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Npld')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Hvsh')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Uvar')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Usyl')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Udea')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Rdem')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bdem')then
call CreateItemLoc(udg_Item[GetRandomInt(431,436)],udg_point)
endif
endif

if(GetRandomInt(1,10)==1)then
if(GetUnitTypeId(GetDyingUnit())=='Uear')then
call CreateItemLoc('SEV7',udg_point)
endif
endif




endif
endfunction
function InitTrig_sevendrop takes nothing returns nothing
set gg_trg_sevendrop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sevendrop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_sevendrop,function Trig_sevendrop_Actions)
endfunction


function Trig_se2vein_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV1'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV2'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV3'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV4'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV5'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV6'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV7'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV12'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV34'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV56'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='ELF0'))then
return true
endif
return false
endfunction

function Trig_se2vein_Actions takes nothing returns nothing

set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10)
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1

endfunction
function InitTrig_se2vein takes nothing returns nothing
set gg_trg_se2vein=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_se2vein,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_se2vein,Condition(function Trig_se2vein_Conditions))
call TriggerAddAction(gg_trg_se2vein,function Trig_se2vein_Actions)
endfunction

function Trig_se2veout_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV1'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV2'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV3'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV4'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV5'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV6'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SEV7'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV12'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV34'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='SV56'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='ELF0'))then
return true
endif
return false
endfunction

function Trig_se2veout_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-10)
set udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_yellow[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
set udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_blue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
set udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_red[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
set udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_green[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
set udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_black[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
set udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_white[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1



endfunction
function InitTrig_se2veout takes nothing returns nothing
set gg_trg_se2veout=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_se2veout,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_se2veout,Condition(function Trig_se2veout_Conditions))
call TriggerAddAction(gg_trg_se2veout,function Trig_se2veout_Actions)
endfunction

function Trig_se12ven_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV1')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV2')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
endif
return true
endfunction
function Trig_se12ven_Actions takes nothing returns nothing
if(Trig_se12ven_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('SV12',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
endif
endfunction
function InitTrig_se12ven takes nothing returns nothing
set gg_trg_se12ven=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_se12ven,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_se12ven,function Trig_se12ven_Actions)
endfunction

function Trig_se34ven_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV3')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV4')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
endif
return true
endfunction
function Trig_se34ven_Actions takes nothing returns nothing
if(Trig_se34ven_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV3'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV4'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('SV34',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
endif
endfunction
function InitTrig_se34ven takes nothing returns nothing
set gg_trg_se34ven=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_se34ven,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_se34ven,function Trig_se34ven_Actions)
endfunction

function Trig_se56ven_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV5')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV6')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003')==true))then
return false
endif
endif
return true
endfunction
function Trig_se56ven_Actions takes nothing returns nothing
if(Trig_se56ven_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV6'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call UnitAddItemByIdSwapped('SV56',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
endif
endfunction
function InitTrig_se56ven takes nothing returns nothing
set gg_trg_se56ven=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_se56ven,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_se56ven,function Trig_se56ven_Actions)
endfunction


function Trig_se77ven_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SV12')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SV34')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SV56')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SEV7')==true))then
return false
endif

return true
endfunction
function Trig_se77ven_Actions takes nothing returns nothing
if(Trig_se77ven_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SV12'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SV34'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SV56'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SEV7'))
call UnitAddItemByIdSwapped('SEVE',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
endif
endfunction
function InitTrig_se77ven takes nothing returns nothing
set gg_trg_se77ven=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_se77ven,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_se77ven,function Trig_se77ven_Actions)
endfunction



function Trig_qijishui_Actions takes nothing returns nothing
if((GetItemTypeId(GetManipulatedItem())=='Q001'))then
if((UnitHasBuffBJ(GetTriggerUnit(),'B00Q')==true))then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000来自地狱的祝福!|r")
else
call UnitResetCooldown(GetTriggerUnit())
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000使用了奇迹水重置所有技能CD!|r")
endif
endif
endfunction
function InitTrig_qijishui takes nothing returns nothing
set gg_trg_qijishui=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qijishui,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_qijishui,function Trig_qijishui_Actions)
endfunction

function Trig_qijisuipian_Actions takes nothing returns nothing
if((GetItemTypeId(GetManipulatedItem())=='UFO1'))then
set udg_ufo1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_ufo1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000天之奇迹等级上升了!|r")
endif
if((GetItemTypeId(GetManipulatedItem())=='UFO2'))then
set udg_ufo2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_ufo2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000地之奇迹等级上升了!|r")
endif
if((GetItemTypeId(GetManipulatedItem())=='UFO3'))then
set udg_ufo3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_ufo3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000力量奇迹等级上升了!|r")
endif
if((GetItemTypeId(GetManipulatedItem())=='UFO4'))then
set udg_ufo4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_ufo4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000敏捷奇迹等级上升了!|r")
endif
if((GetItemTypeId(GetManipulatedItem())=='UFO5'))then
set udg_ufo5[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_ufo5[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000智力奇迹等级上升了!|r")
endif


if(udg_ufo1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_ufo2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_ufo3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_ufo4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_ufo5[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5)then
if(udg_ufo1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("引发了天之奇迹的力量全属性增加500点")))
endif
if(udg_ufo2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5)then
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("引发了地之奇迹的力量，技能等级加1")))
endif
if(udg_ufo3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5)then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1000)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("引发了力量奇迹的力量，力量增加1000点")))
endif
if(udg_ufo4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5)then
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1000)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("引发了敏捷奇迹的力量，敏捷增加1000点")))
endif
if(udg_ufo5[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5)then
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1000)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("引发了智力奇迹的力量，智力增加1000点")))
endif
if(udg_ufo1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)then
if(udg_ufo2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)then
if(udg_ufo3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)then
if(udg_ufo4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)then
if(udg_ufo5[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)then
if(GetRandomInt(1,5)==1)then
call UnitAddItemByIdSwapped('Q001',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("引发了神之奇迹的力量，获得奇迹水")))
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("想引发神之奇迹的力量，但是失败了")))
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(471,475)],GetTriggerUnit())
call UnitAddItemByIdSwapped(udg_Item[GetRandomInt(471,475)],GetTriggerUnit())
endif

endif
endif
endif
endif
endif
set udg_ufo1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
set udg_ufo2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
set udg_ufo3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
set udg_ufo4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
set udg_ufo5[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("失去了所有奇迹的力量")))
endif


endfunction
function InitTrig_qijisuipian takes nothing returns nothing
set gg_trg_qijisuipian=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qijisuipian,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_qijisuipian,function Trig_qijisuipian_Actions)
endfunction



function Trig_qijidrop_Actions takes nothing returns nothing
if((RectContainsUnit(gg_rct______________119,GetTriggerUnit())==false))then
if(udg_waves<=29)then

set udg_point=GetUnitLoc(GetTriggerUnit())

if(GetRandomInt(1,3)==1)then
if(GetUnitTypeId(GetDyingUnit())=='Ekgg')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Nklj')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Npld')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Hvsh')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Uvar')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Usyl')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Udea')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Rdem')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bdem')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
endif
if(GetUnitTypeId(GetDyingUnit())=='Bos7')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bos8')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bos9')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bos0')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif
if(GetUnitTypeId(GetDyingUnit())=='Bos2')then
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point)
endif






endif
endif


set udg_qijicount=udg_qijicount+1
set udg_qijiitem[udg_qijicount]=GetLastCreatedItem()
call StartTimerBJ(udg_qijitimer,false,60.00)


//call TimerStart(udg_qijitimer,60,false,function clearqiji)
//call qijiclear(udg_qijiitem)
endfunction

function InitTrig_qijidrop takes nothing returns nothing
set gg_trg_qijidrop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qijidrop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_qijidrop,function Trig_qijidrop_Actions)
endfunction




function Trig_qijijsq_Actions takes nothing returns nothing
call RemoveItem(udg_qijiitem[udg_qijicount])
call RemoveItem(udg_qijiitem[udg_qijicount-1])
call RemoveItem(udg_qijiitem[udg_qijicount-2])
call RemoveItem(udg_qijiitem[udg_qijicount-3])
endfunction
function InitTrig_qijijsq takes nothing returns nothing
set gg_trg_qijijsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_qijijsq,udg_qijitimer)
call TriggerAddAction(gg_trg_qijijsq,function Trig_qijijsq_Actions)
endfunction


function Trig_levelas_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0H1'))then
if(not(GetSpellAbilityId()=='A0H3'))then
if(not(GetSpellAbilityId()=='A0GX'))then
if(not(GetSpellAbilityId()=='A0GY'))then
return false
endif
endif
endif
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_levelas_Actions takes nothing returns nothing
if((GetSpellAbilityId()=='A0H1'))then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("使用等级上升")))

if(GetRandomInt(1,100)<=50+2*GetUnitAbilityLevel(GetTriggerUnit(),'A0H1'))then
call SetHeroLevelBJ(GetTriggerUnit(),(GetUnitLevel(GetTriggerUnit())+1),true)
endif


endif
if((GetSpellAbilityId()=='A0H3'))then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("使用等级调整")))

if(GetRandomInt(1,100)<=40+2*GetUnitAbilityLevel(GetTriggerUnit(),'A0H3'))then
call SetHeroLevelBJ(GetTriggerUnit(),(GetUnitLevel(GetTriggerUnit())-1),true)
else
call SetHeroLevelBJ(GetTriggerUnit(),(GetUnitLevel(GetTriggerUnit())-5),true)
endif

endif
if((GetSpellAbilityId()=='A0GX'))then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("使用等级飞跃")))

if(GetRandomInt(1,100)<=50+2*GetUnitAbilityLevel(GetTriggerUnit(),'A0GX'))then
call SetHeroLevelBJ(GetTriggerUnit(),(GetUnitLevel(GetTriggerUnit())+GetRandomInt(GetUnitAbilityLevel(GetTriggerUnit(),'A0GX')/4+1,GetUnitAbilityLevel(GetTriggerUnit(),'A0GX')/3+4)),true)
else
call SetHeroLevelBJ(GetTriggerUnit(),(GetUnitLevel(GetTriggerUnit())-1),true)
endif

endif
if((GetSpellAbilityId()=='A0GY'))then

set udg_isstop=1-udg_isstop
set udg_tmplev=GetUnitLevel(GetTriggerUnit())
if(udg_isstop==1)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("使用等级固定,等级将会固定在"+I2S(udg_tmplev)+"级")))
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("解除了等级固定")))
endif



endif
endfunction
function InitTrig_levelas takes nothing returns nothing
set gg_trg_levelas=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_levelas,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_levelas,Condition(function Trig_levelas_Conditions))
call TriggerAddAction(gg_trg_levelas,function Trig_levelas_Actions)
endfunction


function Trig_levelstop_Conditions takes nothing returns boolean
if(udg_isstop==0)then
return false
endif
if(not(GetAttacker()==gg_unit_Emuu_0141))then
return false
endif
return true
endfunction
function Trig_levelstop_Actions takes nothing returns nothing

call SetHeroLevelBJ(gg_unit_Emuu_0141,(udg_tmplev),true)

endfunction
function InitTrig_levelstop takes nothing returns nothing
set gg_trg_levelstop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_levelstop,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_levelstop,Condition(function Trig_levelstop_Conditions))
call TriggerAddAction(gg_trg_levelstop,function Trig_levelstop_Actions)
endfunction





function Trig_levelstr2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Etyr'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='N000'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Uear'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='nvil'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos7'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos8'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos1'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos2'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos9'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos3'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos4'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='Bos0'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S001'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S002'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S003'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S004'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S005'))then
return false
endif
if(not(GetUnitTypeId(GetAttackedUnitBJ())!='S006'))then
return false
endif

return true
endfunction

function Trig_levelstr_Conditions takes nothing returns boolean
if(not(GetAttacker()==gg_unit_Emuu_0141))then
return false
endif
return true
endfunction
function Trig_levelstr_Actions takes nothing returns nothing
local integer level=0
local integer a=0
local integer b=0
local integer c=0
local integer d=0
local real damage=0
set d=R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Emuu_0141))])-R2I(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Emuu_0141))])/10*10
set level=GetUnitLevel(gg_unit_Emuu_0141)
set a=level/100
set b=(level-a*100)/10
set c=level-a*100-b*10

//call DisplayTextToForce(GetPlayersAll(),("|cffff0000a="+I2S(a)+"，b="+I2S(b)+"，c="+I2S(c)+"，d="+I2S(d)+"，"+(GetUnitName(GetAttackedUnitBJ())+"被秒杀！")))

if(GetUnitAbilityLevel(gg_unit_Emuu_0141,'A0GZ')>=1)then

if((a==d)or(b==d)or(c==d))then
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then

set damage=(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*50
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("有一位数字等于技能等级个位数字，对敌人造成额外伤害")))

else
set damage=(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*6
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttackedUnitBJ()),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("有一位数字等于技能等级个位数字，对敌人造成额外伤害")))



endif

endif

if(GetUnitAbilityLevel(gg_unit_Emuu_0141,'A0GZ')>=2)then



if((a==b)or(b==c)or(c==a))then
if(b==c)then
set a=b
endif
if(Trig_levelstr2_Conditions())then
if(GetRandomInt(1,80)==1)then
call DisplayTextToForce(GetPlayersAll(),("|cffff0000等级之力发动成功，"+(GetUnitName(GetAttackedUnitBJ())+"受到巨大伤害！")))
call UnitDamageTarget(GetAttacker(),GetAttackedUnitBJ(),a*1800000+5000000.00,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_ROCK_HEAVY_BASH)
else
if(GetRandomInt(1,99)==1)then
call SetHeroLevelBJ(GetAttacker(),(GetUnitLevel(GetAttacker())+2),true)
call DisplayTextToForce(GetPlayersAll(),("|cffff0000等级之力发动时产生混乱，"+(GetUnitName(GetAttacker())+"升2级！")))
endif
endif
endif



//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("有两位数字相同，有1%概率秒杀敌人,1%概率升2级")))
endif

if(GetUnitAbilityLevel(gg_unit_Emuu_0141,'A0GZ')>=3)then

if(((a-b==1)and(b-c==1))or((b-a==1)and(c-b==1)))then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("三位数字连续，将变为范围属性伤害")))
set udg_wumiaoli=1
else
set udg_wumiaoli=0
endif

endif
endif
endif


endfunction
function InitTrig_levelstr takes nothing returns nothing
set gg_trg_levelstr=CreateTrigger()
//call TriggerRegisterAnyUnitEventBJ(gg_trg_levelstr,EVENT_PLAYER_UNIT_ATTACKED)

call TriggerRegisterPlayerUnitEventSimple(gg_trg_levelstr,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_levelstr,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)

call TriggerAddCondition(gg_trg_levelstr,Condition(function Trig_levelstr_Conditions))
call TriggerAddAction(gg_trg_levelstr,function Trig_levelstr_Actions)
endfunction




function Trig_ai3zhijian1Conditions takes nothing returns boolean
return false
return((GetSpellAbilityId()=='A0B2'))
endfunction
function Trig_ai3zhijian1Actions takes nothing returns nothing
set u2dg_distance=0.00
set u2dg_aijianunit=GetSpellAbilityUnit()
set u2dg_aijianunitpoint=GetUnitLoc(GetSpellAbilityUnit())
set u2dg_aijianpoint=GetSpellTargetLoc()
set u2dg_double_aijian=I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0B2'))
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(GetSpellAbilityUnit()),u2dg_aijianunitpoint,AngleBetweenPoints(u2dg_aijianunitpoint,u2dg_aijianpoint))
call SetUnitPathing(GetLastCreatedUnit(),false)
set u2dg_aizhijian=GetLastCreatedUnit()
call EnableTrigger(gg_trg_ai3zhijian2)
endfunction
function InitTrig_ai3zhijian1 takes nothing returns nothing
//call DisableTrigger(gg_trg_ai3zhijian1)

set gg_trg_ai3zhijian1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ai3zhijian1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ai3zhijian1,Condition(function Trig_ai3zhijian1Conditions))
call TriggerAddAction(gg_trg_ai3zhijian1,function Trig_ai3zhijian1Actions)
endfunction
function Trig_ai3zhijian2Func005002003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(u2dg_aijianunit))==true)and(0==0))))
endfunction
function Trig_ai3zhijian2Func006A takes nothing returns nothing
call UnitDamageTargetBJ(u2dg_aijianunit,GetEnumUnit(),(1000.00+(Pow(u2dg_double_aijian,1.75)*(u2dg_distance/4.60))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_ai3zhijian2Actions takes nothing returns nothing
set u2dg_distance=(u2dg_distance+70.00)
if((u2dg_distance>=(2500.00+(u2dg_double_aijian*290.00))))then
call KillUnit(u2dg_aizhijian)
else
endif
set u2dg_aijianpoints=PolarProjectionBJ(u2dg_aijianunitpoint,u2dg_distance,AngleBetweenPoints(u2dg_aijianunitpoint,u2dg_aijianpoint))
call SetUnitPositionLocFacingBJ(u2dg_aizhijian,u2dg_aijianpoints,GetUnitFacing(u2dg_aizhijian))
set u2dg_aijiangroup=YDWEGetUnitsInRangeOfLocMatchingNull(140.00,GetUnitLoc(u2dg_aizhijian),Condition(function Trig_ai3zhijian2Func005002003))
call ForGroupBJ(u2dg_aijiangroup,function Trig_ai3zhijian2Func006A)
call DestroyGroup(u2dg_aijiangroup)
call RemoveLocation(u2dg_aijianpoints)
endfunction
function InitTrig_ai3zhijian2 takes nothing returns nothing
set gg_trg_ai3zhijian2=CreateTrigger()
call DisableTrigger(gg_trg_ai3zhijian2)
call TriggerRegisterTimerEventPeriodic(gg_trg_ai3zhijian2,0.05)
call TriggerAddAction(gg_trg_ai3zhijian2,function Trig_ai3zhijian2Actions)
endfunction
function Trig_zi3zhijian3Conditions takes nothing returns boolean
return((GetTriggerUnit()==u2dg_aizhijian))
endfunction
function Trig_zi3zhijian3Actions takes nothing returns nothing
call KillUnit(u2dg_aizhijian)
call RemoveLocation(u2dg_aijianpoint)
call RemoveLocation(u2dg_aijianunitpoint)
call RemoveLocation(u2dg_aijianpoints)
call DisableTrigger(gg_trg_ai3zhijian2)
endfunction
function InitTrig_zi3zhijian3 takes nothing returns nothing
set gg_trg_zi3zhijian3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_zi3zhijian3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_zi3zhijian3,Condition(function Trig_zi3zhijian3Conditions))
call TriggerAddAction(gg_trg_zi3zhijian3,function Trig_zi3zhijian3Actions)
endfunction




function Trig_uvchange_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv01'))then
return false
endif
return true
endfunction
function Trig_uvchange_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetTriggerUnit())<10*udg_uvlevel)then
set udg_uv=GetTriggerUnit()
call SetUnitLifePercentBJ(udg_uv,10*udg_uvlevel)
call SetUnitInvulnerable(udg_uv,true)
call StartTimerBJ(udg_uvjsq1,false,3)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00破坏神进入"+I2S(10-udg_uvlevel)+"阶段,该阶段能力为|c00FF00FF"+udg_uvstring[9-udg_uvlevel]+"|r")
set udg_uvlevel=udg_uvlevel-1
endif
if(udg_uvlevel==3)then
call UnitAddAbilityBJ('A05F',udg_uv)
endif
if(udg_uvlevel==0)then
call StartTimerBJ(udg_uvjsq0,false,10)
endif
endfunction
function InitTrig_uvchange takes nothing returns nothing
set gg_trg_uvchange=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_uvchange,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_uvchange,Condition(function Trig_uvchange_Conditions))
call TriggerAddAction(gg_trg_uvchange,function Trig_uvchange_Actions)
endfunction

function Trig_uvchangejsq_Actions takes nothing returns nothing
call SetUnitInvulnerable(udg_uv,false)
endfunction
function InitTrig_uvchangejsq takes nothing returns nothing
set gg_trg_uvchangejsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_uvchangejsq,udg_uvjsq1)
call TriggerAddAction(gg_trg_uvchangejsq,function Trig_uvchangejsq_Actions)
endfunction



function Trig_uvattack_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Uv01'))then
return false
endif
if(not(udg_uvlevel==8))then
if(not(udg_uvlevel==7))then
if(not(udg_uvlevel==5))then
if(not(udg_uvlevel==2))then
if(not(udg_uvlevel==0))then
return false
endif
endif
endif
endif
endif
return true
endfunction

function Trig_uvattack_Func002Func006A takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),60000.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_uvattack_Func002Func006001003 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)and(IsUnitAliveBJ(GetFilterUnit())==true)and(GetFilterUnit()!=gg_unit_h001_0004) )
endfunction




function Trig_uvattack_Actions takes nothing returns nothing
if((udg_uvlevel==8)or(udg_uvlevel==0))then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(900.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_uvattack_Func002Func006001003)),function Trig_uvattack_Func002Func006A)
endif

if((udg_uvlevel==7)or(udg_uvlevel==0))then


if(udg_uvpaumutex==false)then
if(GetRandomInt(1,5)==1)then
set udg_pauunit=GetTriggerUnit()
call PauseUnit(udg_pauunit,true)
call StartTimerBJ(udg_uvpause,false,2)
set udg_uvpaumutex=true
endif
endif



endif

if((udg_uvlevel==5)or(udg_uvlevel==0))then
if(GetUnitLifePercent(GetAttacker())<60)then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+0.4)
endif
endif

if((udg_uvlevel==2)or(udg_uvlevel==0))then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(50.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_uvattack_Func002Func006001003)),function Trig_uvattack_Func002Func006A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(100.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_uvattack_Func002Func006001003)),function Trig_uvattack_Func002Func006A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_uvattack_Func002Func006001003)),function Trig_uvattack_Func002Func006A)
endif

endfunction
function InitTrig_uvattack takes nothing returns nothing
set gg_trg_uvattack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_uvattack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_uvattack,Condition(function Trig_uvattack_Conditions))
call TriggerAddAction(gg_trg_uvattack,function Trig_uvattack_Actions)
endfunction

function Trig_uvpausejsq_Actions takes nothing returns nothing
call PauseUnit(udg_pauunit,false)
call SetUnitInvulnerable(udg_pauunit,false)
set udg_uvpaumutex=false

endfunction
function InitTrig_uvpausejsq takes nothing returns nothing
set gg_trg_uvpausejsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_uvpausejsq,udg_uvpause)
call TriggerAddAction(gg_trg_uvpausejsq,function Trig_uvpausejsq_Actions)
endfunction

function Trig_uvunattack_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv01'))then
return false
endif
if(not(udg_uvlevel==6))then
if(not(udg_uvlevel==4))then
if(not(udg_uvlevel==1))then
return false
endif
endif
endif
return true
endfunction


function Trig_uvunattack_Actions takes nothing returns nothing
if((udg_uvlevel==6)or(udg_uvlevel==0))then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),150000,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif

if((udg_uvlevel==4)or(udg_uvlevel==0))then
if(GetUnitLifePercent(GetTriggerUnit())<50)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())+0.3)
endif
endif

if((udg_uvlevel==1)or(udg_uvlevel==0))then


if(udg_uvpaumutex==false)then
if(GetRandomInt(1,6)==1)then
set udg_pauunit=GetTriggerUnit()
call SetUnitInvulnerable(udg_uv,true)
call StartTimerBJ(udg_uvpause,false,1)
set udg_uvpaumutex=true
endif
endif

endif

if((udg_uvlevel==0))then
call StartTimerBJ(udg_uvjsq0,false,10)
endif

endfunction
function InitTrig_uvunattack takes nothing returns nothing
set gg_trg_uvunattack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_uvunattack, EVENT_PLAYER_HERO_LEVEL)
call TriggerRegisterAnyUnitEventBJ(gg_trg_uvunattack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_uvunattack,Condition(function Trig_uvunattack_Conditions))
call TriggerAddAction(gg_trg_uvunattack,function Trig_uvunattack_Actions)
endfunction

function Trig_uvrecoverjsq_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(udg_uv,100)
set udg_uvlevel=9
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00破坏神进入由于10秒未受到攻击，破坏神|c00FF00FF能力完全回复！！|r")
endfunction
function InitTrig_uvrecoverjsq takes nothing returns nothing
set gg_trg_uvrecoverjsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_uvrecoverjsq,udg_uvjsq0)
call TriggerAddAction(gg_trg_uvrecoverjsq,function Trig_uvrecoverjsq_Actions)
endfunction



function Trig_heajierenwu_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='Ihea'))then
return false
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_heajierenwu_Func002Func002Func002C takes nothing returns boolean
if(not(udg_buerzhi_chongxiuyouren==false))then
return false
endif
return true
endfunction
function Trig_heajierenwu_Func002Func002C takes nothing returns boolean
if(not(udg_buerzhi_hea[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false))then
return false
endif
return true
endfunction
function Trig_heajierenwu_Func002C takes nothing returns boolean
if(not(GetHeroLevel(GetTriggerUnit())>=200))then
return false
endif
return true
endfunction
function Trig_heajierenwu_Actions takes nothing returns nothing
if(Trig_heajierenwu_Func002C())then
if(Trig_heajierenwu_Func002Func002C())then
if(Trig_heajierenwu_Func002Func002Func002C())then
call DialogClear(udg_querenchuangkou)
call DialogSetMessage(udg_querenchuangkou,"|cffff0000确认进行心灵的洗礼？\n(只一次机会，且中途无法退出)|r")
call DialogAddButtonBJ(udg_querenchuangkou,"确认进入！")
set udg_querenanniuhea1=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_querenchuangkou,"稍后再来！")
set udg_querenanniuhea2=GetLastCreatedButtonBJ()
call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),udg_querenchuangkou,true)
//set udg_buerzhi_chongxiuyouren=true
set udg_unit_hea=GetTriggerUnit()
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"有人正在进行任务，请稍候！")
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"每人只有一次机会，你已经接过此任务了。")
endif
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"英雄等级必须达到200级才能接此任务！")
endif
endfunction
function InitTrig_heajierenwu takes nothing returns nothing
set gg_trg_heajierenwu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_heajierenwu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_heajierenwu,Condition(function Trig_heajierenwu_Conditions))
call TriggerAddAction(gg_trg_heajierenwu,function Trig_heajierenwu_Actions)
endfunction





function Trig_kaixinshi_Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_querenanniuhea1))then
return false
endif
if(not(udg_buerzhi_chongxiuyouren==false))then
return false
endif

return true
endfunction
function Trig_kaixinshi_Actions takes nothing returns nothing
local location point0=null
local location point1=null
local location point2=null
local location point3=null
local location point4=null
local location point5=null
local location point6=null
local location point7=null
local location point8=null
local integer i=0
local unit u1=null
local unit u2=null
local unit u3=null
local unit u4=null
local unit u5=null
local unit u6=null
local unit u7=null
local unit u8=null
local integer array d
set d[0]='hgry'
set d[1]='hgyr'
set udg_counthea=0
if(Trig_kaixinshi_Func001C())then
set udg_buerzhi_chongxiuyouren=true
call ShowUnit(udg_unit_hea,false)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_hea)+"接受了心之修炼任务，期待他有好的表现！"))
set udg_buerzhi_hea[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))]=true
call CreateNUnitsAtLoc(1,'nvlw',GetOwningPlayer(udg_unit_hea),GetRectCenter(gg_rct______________170),bj_UNIT_FACING)
set udg_unit_hea1=GetLastCreatedUnit()
call SetUnitMoveSpeed(udg_unit_hea1,722.00)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_hea),GetUnitLoc(udg_unit_hea1),0.00)
call SetCameraFieldForPlayer(GetOwningPlayer(udg_unit_hea1),CAMERA_FIELD_TARGET_DISTANCE,3000.00,0)
call SelectUnitForPlayerSingle(udg_unit_hea1,GetOwningPlayer(udg_unit_chongxiu1))
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_hea)+"开始了心之修炼。"))
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_hea),0.00,0,5.00,"在30秒内躲避所有的小精灵吧，30秒后则通过修炼，与任意小精灵相撞则修炼失败！！\n")
call PauseUnit(udg_unit_hea1,true)
call TriggerSleepAction(1.00)
call PauseUnit(udg_unit_hea1,false)
call StartTimerBJ(udg_heajsq,false,31.00)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),(GetPlayerName(GetOwningPlayer(udg_unit_hea))+"心之修炼"))
set udg_heatd=GetLastCreatedTimerDialogBJ()

set i=0
loop
exitwhen(i>=8)

set udg_counthea=udg_counthea+1
call DisplayTimedTextToPlayer(GetOwningPlayer(udg_unit_hea),0.00,0,5.00,"第"+I2S(udg_counthea)+"轮！\n")

set point0=GetRandomLocInRect(gg_rct______________230)
if((DistanceBetweenPoints(point0,GetUnitLoc(udg_unit_hea1))<=300.00))then
set point0=GetRandomLocInRect(gg_rct______________230)
endif
if((DistanceBetweenPoints(point0,GetUnitLoc(udg_unit_hea1))<=300.00))then
set point0=GetRandomLocInRect(gg_rct______________230)
endif

set point1=PolarProjectionBJ(point0,100.00,0.00)
set point2=PolarProjectionBJ(point0,100.00,45.00)
set point3=PolarProjectionBJ(point0,100.00,90.00)
set point4=PolarProjectionBJ(point0,100.00,135.00)
set point5=PolarProjectionBJ(point0,100.00,180.00)
set point6=PolarProjectionBJ(point0,100.00,225.00)
set point7=PolarProjectionBJ(point0,100.00,270.00)
set point8=PolarProjectionBJ(point0,100.00,315.00)

call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point1,bj_UNIT_FACING)
set u1=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point2,bj_UNIT_FACING)
set u2=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point3,bj_UNIT_FACING)
set u3=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point4,bj_UNIT_FACING)
set u4=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point5,bj_UNIT_FACING)
set u5=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point6,bj_UNIT_FACING)
set u6=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point7,bj_UNIT_FACING)
set u7=GetLastCreatedUnit()
call TriggerSleepAction(0.10)
call CreateNUnitsAtLoc(1,d[GetRandomInt(0,1)],Player(PLAYER_NEUTRAL_AGGRESSIVE),point8,bj_UNIT_FACING)
set u8=GetLastCreatedUnit()
call TriggerSleepAction(0.10)



set point1=PolarProjectionBJ(point1,1050.00,0.00)
set point2=PolarProjectionBJ(point2,1050.00,45.00)
set point3=PolarProjectionBJ(point3,1050.00,90.00)
set point4=PolarProjectionBJ(point4,1050.00,135.00)
set point5=PolarProjectionBJ(point5,1050.00,180.00)
set point6=PolarProjectionBJ(point6,1050.00,225.00)
set point7=PolarProjectionBJ(point7,1050.00,270.00)
set point8=PolarProjectionBJ(point8,1050.00,315.00)

call IssuePointOrderLoc(u1, "attack", point1)
call IssuePointOrderLoc(u2, "attack", point2)
call IssuePointOrderLoc(u3, "attack", point3)
call IssuePointOrderLoc(u4, "attack", point4)
call IssuePointOrderLoc(u5, "attack", point5)
call IssuePointOrderLoc(u6, "attack", point6)
call IssuePointOrderLoc(u7, "attack", point7)
call IssuePointOrderLoc(u8, "attack", point8)
call TriggerSleepAction(0.20)
call TriggerSleepAction(1.70)

set i=i+1
endloop

else
endif
endfunction
function InitTrig_kaixinshi takes nothing returns nothing
set gg_trg_kaixinshi=CreateTrigger()
call TriggerRegisterDialogEventBJ(gg_trg_kaixinshi,udg_querenchuangkou)
call TriggerAddAction(gg_trg_kaixinshi,function Trig_kaixinshi_Actions)
endfunction


function Trig_removehea_Func002001002 takes nothing returns boolean
return((GetUnitTypeId(GetFilterUnit())=='hgry')or(GetUnitTypeId(GetFilterUnit())=='hgyr'))
endfunction
function Trig_removehea_Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction

function Trig_heajsq_Actions takes nothing returns nothing

local integer x

if(not(udg_unit_hea==null))then
set x=udg_counthea*R2I(Pow(2,udg_counthea-1))

call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_hea)+"的心灵得到了成长，全属性增加"+I2S(1000)+"点。"))



call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_hea),GetUnitLoc(udg_unit_hea),0.10)
call SetCameraFieldForPlayer(GetOwningPlayer(udg_unit_hea),CAMERA_FIELD_TARGET_DISTANCE,2000.00,0)

call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))],bj_MODIFYMETHOD_ADD,1000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))],bj_MODIFYMETHOD_ADD,1000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))],bj_MODIFYMETHOD_ADD,1000)



endif

call DestroyTimerDialog(udg_heatd)
call RemoveUnit(udg_unit_hea1)
call ShowUnit(udg_unit_hea,true)
set udg_unit_hea=null
set udg_unit_hea1=null
set udg_buerzhi_chongxiuyouren=false

call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________054,Condition(function Trig_removehea_Func002001002)),function Trig_removehea_Func002A)
endfunction
function InitTrig_heajsq takes nothing returns nothing
set gg_trg_heajsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_heajsq,udg_heajsq)
call TriggerAddAction(gg_trg_heajsq,function Trig_heajsq_Actions)
endfunction

function Trig_headeath_Actions takes nothing returns nothing
local integer x
set x=udg_counthea*R2I(Pow(1.9,udg_counthea-1))

if(GetUnitLifePercent(udg_unit_hea1)>10)then
if((GetUnitTypeId(GetTriggerUnit())=='hgry')and(GetUnitTypeId(GetKillingUnit())=='hwat')or(GetUnitTypeId(GetTriggerUnit())=='hgyr')and(GetUnitTypeId(GetKillingUnit())=='hwat'))then
call KillUnit(udg_unit_hea1)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_hea)+"受到异常干扰，心灵的洗礼失败"))
endif
endif


if(GetTriggerUnit()==udg_unit_hea1)then





call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_unit_hea),GetUnitLoc(udg_unit_hea),0.10)
call SetCameraFieldForPlayer(GetOwningPlayer(udg_unit_hea),CAMERA_FIELD_TARGET_DISTANCE,2000.00,0)
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_hea)+"心之修炼失败"))
call DisplayTextToForce(GetPlayersAll(),(GetUnitName(udg_unit_hea)+"的心灵得到了成长，全属性增加"+I2S(x)+"点。"))

call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))],bj_MODIFYMETHOD_ADD,x)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))],bj_MODIFYMETHOD_ADD,x)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(udg_unit_hea))],bj_MODIFYMETHOD_ADD,x)


call RemoveUnit(udg_unit_hea1)
call ShowUnit(udg_unit_hea,true)
set udg_unit_hea=null
set udg_unit_hea1=null
//set udg_buerzhi_chongxiuyouren=false
//call DestroyTimerDialog(udg_heatd)
call ForGroupBJ(GetUnitsInRectMatching(gg_rct______________054,Condition(function Trig_removehea_Func002001002)),function Trig_removehea_Func002A)

endif
endfunction
function InitTrig_headeath takes nothing returns nothing
set gg_trg_headeath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_headeath,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_headeath,function Trig_headeath_Actions)
endfunction


function Trig_sheswwwConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A059'))
endfunction
function Trig_sheswwwFunc002001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))))
endfunction
function Trig_sheswwwFunc002A takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A059'))*10.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_sheswwwActions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,GetSpellTargetLoc(),Condition(function Trig_sheswwwFunc002001003)),function Trig_sheswwwFunc002A)
endfunction
function InitTrig_sheswww takes nothing returns nothing
set gg_trg_sheswww=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sheswww,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sheswww,Condition(function Trig_sheswwwConditions))
call TriggerAddAction(gg_trg_sheswww,function Trig_sheswwwActions)
endfunction

function Trig_childun_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttackedUnitBJ(),'I98G')==true))then
return false
endif
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
if(not(udg_unchildmutex==false))then
return false
endif
if(not(udg_child==1))then
return false
endif
return true
endfunction
function Trig_childun_Actions takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,1)
set udg_unchildmutex=true
call StartTimerBJ(udg_unchildjsq,false,0.5)
endfunction
function InitTrig_childun takes nothing returns nothing
set gg_trg_childun=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_childun,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_childun,Condition(function Trig_childun_Conditions))
call TriggerAddAction(gg_trg_childun,function Trig_childun_Actions)
endfunction

function Trig_unchildjsq_Actions takes nothing returns nothing
set udg_unchildmutex=false
endfunction
function InitTrig_unchildjsq takes nothing returns nothing
set gg_trg_unchildjsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_unchildjsq,udg_unchildjsq)
call TriggerAddAction(gg_trg_unchildjsq,function Trig_unchildjsq_Actions)
endfunction

function Trig_childat_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I98B')==true))then
return false
endif
if(not(udg_child==1))then
return false
endif
return true
endfunction
function Trig_childat_Actions takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_heroname[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,1)
endfunction
function InitTrig_childat takes nothing returns nothing
set gg_trg_childat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_childat,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_childat,Condition(function Trig_childat_Conditions))
call TriggerAddAction(gg_trg_childat,function Trig_childat_Actions)
endfunction

function Trig_xielevel_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='IX00'))then
return false
endif
return true
endfunction
function Trig_xielevel_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IX01'))=='IX01'))then
return false
endif
return true
endfunction
function Trig_xielevel_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IX02'))=='IX02'))then
return false
endif
return true
endfunction
function Trig_xielevel_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IX03'))=='IX03'))then
return false
endif
return true
endfunction
function Trig_xielevel_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IX04'))=='IX04'))then
return false
endif
return true
endfunction
function Trig_xielevel_Actions takes nothing returns nothing
if(Trig_xielevel_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的杖已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IX01'))
call UnitAddItemByIdSwapped('IX02',GetTriggerUnit())
return
else
endif
if(Trig_xielevel_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IX02'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的杖已升级到三级")
call UnitAddItemByIdSwapped('IX03',GetTriggerUnit())
return
else
endif
if(Trig_xielevel_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IX03'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的杖已升级到MAX级")
call UnitAddItemByIdSwapped('IX04',GetTriggerUnit())
return
else
endif
if(Trig_xielevel_Func006C())then
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_xielevel takes nothing returns nothing
set gg_trg_xielevel=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_xielevel,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_xielevel,Condition(function Trig_xielevel_Conditions))
call TriggerAddAction(gg_trg_xielevel,function Trig_xielevel_Actions)
endfunction

function Trig_jianlevel_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='IJ00'))then
return false
endif
return true
endfunction
function Trig_jianlevel_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IJ01'))=='IJ01'))then
return false
endif
return true
endfunction
function Trig_jianlevel_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IJ02'))=='IJ02'))then
return false
endif
return true
endfunction
function Trig_jianlevel_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IJ03'))=='IJ03'))then
return false
endif
return true
endfunction
function Trig_jianlevel_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IJ04'))=='IJ04'))then
return false
endif
return true
endfunction
function Trig_jianlevel_Actions takes nothing returns nothing
if(Trig_jianlevel_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的斧已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IJ01'))
call UnitAddItemByIdSwapped('IJ02',GetTriggerUnit())
return
else
endif
if(Trig_jianlevel_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IJ02'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的斧已升级到三级")
call UnitAddItemByIdSwapped('IJ03',GetTriggerUnit())
return
else
endif
if(Trig_jianlevel_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IJ03'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的斧已升级到MAX级")
call UnitAddItemByIdSwapped('IJ04',GetTriggerUnit())
return
else
endif
if(Trig_jianlevel_Func006C())then
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_jianlevel takes nothing returns nothing
set gg_trg_jianlevel=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_jianlevel,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_jianlevel,Condition(function Trig_jianlevel_Conditions))
call TriggerAddAction(gg_trg_jianlevel,function Trig_jianlevel_Actions)
endfunction

function Trig_paolevel_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='IP00'))then
return false
endif
return true
endfunction
function Trig_paolevel_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IP01'))=='IP01'))then
return false
endif
return true
endfunction
function Trig_paolevel_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IP02'))=='IP02'))then
return false
endif
return true
endfunction
function Trig_paolevel_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IP03'))=='IP03'))then
return false
endif
return true
endfunction
function Trig_paolevel_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IP04'))=='IP04'))then
return false
endif
return true
endfunction
function Trig_paolevel_Actions takes nothing returns nothing
if(Trig_paolevel_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的袍已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IP01'))
call UnitAddItemByIdSwapped('IP02',GetTriggerUnit())
return
else
endif
if(Trig_paolevel_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IP02'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的袍已升级到三级")
call UnitAddItemByIdSwapped('IP03',GetTriggerUnit())
return
else
endif
if(Trig_paolevel_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IP03'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的袍已升级到MAX级")
call UnitAddItemByIdSwapped('IP04',GetTriggerUnit())
return
else
endif
if(Trig_paolevel_Func006C())then
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_paolevel takes nothing returns nothing
set gg_trg_paolevel=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_paolevel,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_paolevel,Condition(function Trig_paolevel_Conditions))
call TriggerAddAction(gg_trg_paolevel,function Trig_paolevel_Actions)
endfunction

function Trig_necklevel_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='IL00'))then
return false
endif
return true
endfunction
function Trig_necklevel_Func003C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IL01'))=='IL01'))then
return false
endif
return true
endfunction
function Trig_necklevel_Func004C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IL02'))=='IL02'))then
return false
endif
return true
endfunction
function Trig_necklevel_Func005C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IL03'))=='IL03'))then
return false
endif
return true
endfunction
function Trig_necklevel_Func006C takes nothing returns boolean
if(not(GetItemTypeId(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IL04'))=='IL04'))then
return false
endif
return true
endfunction
function Trig_necklevel_Actions takes nothing returns nothing
if(Trig_necklevel_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的项链已生级到二级")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IL01'))
call UnitAddItemByIdSwapped('IL02',GetTriggerUnit())
return
else
endif
if(Trig_necklevel_Func004C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IL02'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的项链已升级到三级")
call UnitAddItemByIdSwapped('IL03',GetTriggerUnit())
return
else
endif
if(Trig_necklevel_Func005C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'IL03'))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"你的项链已升级到MAX级")
call UnitAddItemByIdSwapped('IL04',GetTriggerUnit())
return
else
endif
if(Trig_necklevel_Func006C())then
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|cff1ce6b9你的物品已经达到最高等级无法上升!!!|r")
else
call AdjustPlayerStateBJ(5,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"请确认你拥有该欲升级的物品。")
endif
endfunction
function InitTrig_necklevel takes nothing returns nothing
set gg_trg_necklevel=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_necklevel,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_necklevel,Condition(function Trig_necklevel_Conditions))
call TriggerAddAction(gg_trg_necklevel,function Trig_necklevel_Actions)
endfunction

function Trig_wingu_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IF01')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06K')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V001')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V002')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V003')==true))then
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V004')==true))then
return false
endif
endif
endif
endif

return true
endfunction
function Trig_wingu_Actions takes nothing returns nothing
if(Trig_wingu_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IF01'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V001'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V002'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V003'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V004'))
call UnitAddItemByIdSwapped('IFUU',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
else
endif
endfunction
function InitTrig_wingu takes nothing returns nothing
set gg_trg_wingu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_wingu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_wingu,function Trig_wingu_Actions)
endfunction

function Trig_fhzw_Func001C takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='IF02'))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IJ04')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IL04')==true))then
return false
endif
return true
endfunction
function Trig_fhzw_Actions takes nothing returns nothing
if(Trig_fhzw_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IJ04'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IL04'))
call UnitAddItemByIdSwapped('IF00',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
else
//call AdjustPlayerStateBJ(29,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
//call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"合成失败，收取一毛费用。")

endif
endfunction
function InitTrig_fhzw takes nothing returns nothing
set gg_trg_fhzw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fhzw,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_fhzw,function Trig_fhzw_Actions)
endfunction

function Trig_fhegg_Func001C takes nothing returns boolean

if(not(GetItemTypeId(GetManipulatedItem())=='IF03'))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IX04')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IP04')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IJ04')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'IL04')==true))then
return false
endif



return true
endfunction
function Trig_fhegg_Actions takes nothing returns nothing
if(Trig_fhegg_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IX04'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IP04'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IJ04'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'IL04'))
call UnitAddItemByIdSwapped('IF01',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
else
//call AdjustPlayerStateBJ(29,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
//call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"合成失败，收取一毛费用。")

endif
endfunction
function InitTrig_fhegg takes nothing returns nothing
set gg_trg_fhegg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fhegg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_fhegg,function Trig_fhegg_Actions)
endfunction


function Trig_fenghuangwei_Actions takes nothing returns nothing

if((GetItemTypeId(GetManipulatedItem())=='IF00'))then

if(not(GetUnitTypeId(GetTriggerUnit())=='e003'))then
call CreateNUnitsAtLoc(1,'hwat',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',60.00)

else

if(GetRandomInt(1,100)<=99)then
call CreateNUnitsAtLoc(1,'hwat',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',45.00)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"召唤火凤凰失败")
endif


endif

endif
endfunction
function InitTrig_fenghuangwei takes nothing returns nothing
set gg_trg_fenghuangwei=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_fenghuangwei,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_fenghuangwei,function Trig_fenghuangwei_Actions)
endfunction


function Trig_x145x_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='x001'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='x002'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='x003'))then
return false
endif
endif
endif
return true
endfunction
function Trig_x145x_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetTriggerUnit())>=53)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-52)
else
call SetUnitLifePercentBJ(GetTriggerUnit(),0.01)
endif

call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),5000000,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)

endfunction
function InitTrig_x145x takes nothing returns nothing
set gg_trg_x145x=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_x145x,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_x145x,Condition(function Trig_x145x_Conditions))
call TriggerAddAction(gg_trg_x145x,function Trig_x145x_Actions)
endfunction

function Trig_x145y_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='x001'))then
if(not(GetUnitTypeId(GetAttacker())=='x002'))then
if(not(GetUnitTypeId(GetAttacker())=='x003'))then
return false
endif
endif
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
return true
endfunction
function Trig_x145y_Actions takes nothing returns nothing

if((GetUnitTypeId(GetAttacker())=='x001'))then

call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())/2)
//call KillUnit(GetTriggerUnit())

endif

if((GetUnitTypeId(GetAttacker())=='x002'))then

if(GetUnitLifePercent(GetTriggerUnit())>=3)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-0.9)
else
call KillUnit(GetTriggerUnit())
endif

endif

if((GetUnitTypeId(GetAttacker())=='x003'))then

if(GetUnitLifePercent(GetTriggerUnit())>=2)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1.1-I2R(udg_nanduBL)/4)
else
call KillUnit(GetTriggerUnit())
endif
//call IssuePointOrderLoc(GetAttacker(),"move",GetRectCenter(gg_rct______________063))
call SetUnitPositionLoc(GetAttacker(),GetRectCenter(gg_rct______________063))

endif

endfunction
function InitTrig_x145y takes nothing returns nothing
set gg_trg_x145y=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_x145y,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_x145y,Condition(function Trig_x145y_Conditions))
call TriggerAddAction(gg_trg_x145y,function Trig_x145y_Actions)
endfunction



function Trig_bianyi1Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0H7' ) )
endfunction

function Trig_bianyi1Func002001003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) ) )
endfunction

function Trig_bianyi1Func002A takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, GetTriggerUnit(), true)) *(1+udg_countb[GetConvertedPlayerId(GetTriggerPlayer())])* ( I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A0H7')) * 5.00 ) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_bianyi1Actions takes nothing returns nothing


set udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]+1)
set udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]-(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]*(100-(2*R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])))))
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("charge不足，技能释放失败！！！"))
else
set udg_bianyi=GetUnitAbilityLevelSwapped('A0H7',GetTriggerUnit())
set udg_bianyi2=GetUnitAbilityLevelSwapped('A0HV',GetTriggerUnit())
set udg_bianyi3=GetUnitAbilityLevelSwapped('A0HW',GetTriggerUnit())
//call UnitRemoveAbilityBJ('A0H7',GetTriggerUnit())
call UnitRemoveAbilityBJ('A08I',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0HW',GetTriggerUnit())
//call UnitAddAbilityBJ('A0H7',GetTriggerUnit())
//call SetUnitAbilityLevelSwapped('A0H7',GetTriggerUnit(),udg_bianyi)
call UnitAddAbilityBJ('A0HV',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0HV',GetTriggerUnit(),udg_bianyi2)
call UnitAddAbilityBJ('A0HW',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0HW',GetTriggerUnit(),udg_bianyi3)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("重置技能CD,剩余Charge值为"+I2S(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())])))
call StartTimerBJ(udg_bianyijsq,false,2.00)
    call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00 , GetSpellTargetLoc() , Condition(function Trig_bianyi1Func002001003)), function Trig_bianyi1Func002A)
endif
endfunction

//===========================================================================
function InitTrig_bianyi1 takes nothing returns nothing
    set gg_trg_bianyi1=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyi1, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_bianyi1, Condition(function Trig_bianyi1Conditions))
    call TriggerAddAction(gg_trg_bianyi1, function Trig_bianyi1Actions)
endfunction


function Trig_bian2yi1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0HV'))then
return false
endif
return true
endfunction
function Trig_bian2yi1_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_bian2yi1_Func003001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_bian2yi1_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_bian2yi1_Func003001003001(),Trig_bian2yi1_Func003001003002())
endfunction
function Trig_bian2yi1_Func003A takes nothing returns nothing
set udg_jbqfsh=(1.00*(15.00*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0HV'))*(1+udg_countb[GetConvertedPlayerId(GetTriggerPlayer())])*I2R(GetHeroLevel(GetTriggerUnit())))))
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(udg_jbqfsh*2.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_bian2yi1_Actions takes nothing returns nothing


set udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]+1)
set udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]-(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]*(100-(2*R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])))))
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("charge不足，技能释放失败！！！"))
else
set udg_bianyi=GetUnitAbilityLevelSwapped('A0H7',GetTriggerUnit())
//set udg_bianyi2=GetUnitAbilityLevelSwapped('A0HV',GetTriggerUnit())
set udg_bianyi3=GetUnitAbilityLevelSwapped('A0HW',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0H7',GetTriggerUnit())
//call UnitRemoveAbilityBJ('A0HV',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0HW',GetTriggerUnit())
call UnitAddAbilityBJ('A0H7',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0H7',GetTriggerUnit(),udg_bianyi)
//call UnitAddAbilityBJ('A0HV',GetTriggerUnit())
//call SetUnitAbilityLevelSwapped('A0HV',GetTriggerUnit(),udg_bianyi2)
call UnitAddAbilityBJ('A0HW',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0HW',GetTriggerUnit(),udg_bianyi3)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("重置技能CD,剩余Charge值为"+I2S(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())])))
call StartTimerBJ(udg_bianyijsq,false,2.00)


set udg_point_binghuan[0]=GetUnitLoc(GetSpellTargetUnit())
set udg_binghuan1=1
loop
exitwhen udg_binghuan1>72
set udg_point_binghuan[1]=PolarProjectionBJ(udg_point_binghuan[0],(5.00*I2R(udg_binghuan1)),(10.00*I2R(udg_binghuan1)))
call CreateNUnitsAtLoc(1,'n00G',GetOwningPlayer(GetTriggerUnit()),udg_point_binghuan[1],bj_UNIT_FACING)
call GroupAddUnit(udg_group_binghuan,GetLastCreatedUnit())
call RemoveLocation(udg_point_binghuan[1])
set udg_binghuan1=udg_binghuan1+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(450.00,udg_point_binghuan[0],Condition(function Trig_bian2yi1_Func003001003)),function Trig_bian2yi1_Func003A)

//set udg_jbqfsh=(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0AV'))*I2R(GetHeroAgi(GetTriggerUnit()))))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(udg_jbqfsh*5.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)


call RemoveLocation(udg_point_binghuan[0])

endif
endfunction
function InitTrig_bian2yi1 takes nothing returns nothing
set gg_trg_bian2yi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bian2yi1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bian2yi1,Condition(function Trig_bian2yi1_Conditions))
call TriggerAddAction(gg_trg_bian2yi1,function Trig_bian2yi1_Actions)
endfunction
function Trig_bian2yi2_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0HV'))then
return false
endif
return true
endfunction
function Trig_bian2yi2_Func002A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_bian2yi2_Actions takes nothing returns nothing
call TriggerSleepAction(1.00)
call ForGroupBJ(udg_group_binghuan,function Trig_bian2yi2_Func002A)
endfunction
function InitTrig_bian2yi2 takes nothing returns nothing
set gg_trg_bian2yi2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bian2yi2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bian2yi2,Condition(function Trig_bian2yi2_Conditions))
call TriggerAddAction(gg_trg_bian2yi2,function Trig_bian2yi2_Actions)
endfunction


function Trig_bian3yiConditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0HW')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_bian3yiFunc004001003 takes nothing returns boolean
return(((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)))
endfunction
function Trig_bian3yiFunc004A takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"war3mapImported\\ice.mdx")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(1+udg_countb[GetConvertedPlayerId(GetTriggerPlayer())])*(I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0HW'))*8.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_bian3yiActions takes nothing returns nothing

set udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]+1)
set udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]-(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]*(100-(2*R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])))))
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("charge不足，技能释放失败！！！"))
else
set udg_bianyi=GetUnitAbilityLevelSwapped('A0H7',GetTriggerUnit())
set udg_bianyi2=GetUnitAbilityLevelSwapped('A0HV',GetTriggerUnit())
//set udg_bianyi3=GetUnitAbilityLevelSwapped('A0AV',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0H7',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0HV',GetTriggerUnit())
//call UnitRemoveAbilityBJ('A0HW',GetTriggerUnit())
call UnitAddAbilityBJ('A0H7',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0H7',GetTriggerUnit(),udg_bianyi)
call UnitAddAbilityBJ('A0HV',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0HV',GetTriggerUnit(),udg_bianyi2)
//call UnitAddAbilityBJ('A0HW',GetTriggerUnit())
//call SetUnitAbilityLevelSwapped('A0HW',GetTriggerUnit(),udg_bianyi3)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("重置技能CD,剩余Charge值为"+I2S(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())])))
call StartTimerBJ(udg_bianyijsq,false,2.00)

call CreateNUnitsAtLoc(1,'h00U',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.50,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),0)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(350.00,GetUnitLoc(GetSpellTargetUnit()),Condition(function Trig_bian3yiFunc004001003)),function Trig_bian3yiFunc004A)
call DestroyGroup(GetLastCreatedGroup())


endif
endfunction
function InitTrig_bian3yi takes nothing returns nothing
set gg_trg_bian3yi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bian3yi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bian3yi,Condition(function Trig_bian3yiConditions))
call TriggerAddAction(gg_trg_bian3yi,function Trig_bian3yiActions)
endfunction



function Trig_bianyiatkConditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='BY00'))
endfunction
function Trig_bianyiatkActions takes nothing returns nothing
call StartTimerBJ(udg_bianyijsq,false,2.00)
endfunction
function InitTrig_bianyiatk takes nothing returns nothing
set gg_trg_bianyiatk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyiatk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_bianyiatk,Condition(function Trig_bianyiatkConditions))
call TriggerAddAction(gg_trg_bianyiatk,function Trig_bianyiatkActions)
endfunction


function Trig_bianyijsqActions takes nothing returns nothing
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))]<=1000))then
set udg_countb[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))]=0
set udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))]=(udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))]+100)
call DisplayTextToPlayer(GetOwningPlayer(udg_bianyifashen),0,0,("技能连记归零。剩余Charge值为|c00FF00FF"+I2S(udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))])))
call StartTimerBJ(udg_bianyijsq,false,2.00)
else
endif
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))]<=0))then
set udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyifashen))]=0
else
endif
endfunction
function InitTrig_bianyijsq takes nothing returns nothing
set gg_trg_bianyijsq=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_bianyijsq,udg_bianyijsq)
call TriggerAddAction(gg_trg_bianyijsq,function Trig_bianyijsqActions)
endfunction



function Trig_ifuuin_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='IFUU'))then
if(not(GetItemTypeId(GetManipulatedItem())=='V0U1'))then
if(not(GetItemTypeId(GetManipulatedItem())=='V0U2'))then
return false
endif
endif
endif
return true
endfunction

function Trig_ifuuin_Actions takes nothing returns nothing

set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+0)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25)

if((GetItemTypeId(GetManipulatedItem())=='V0U1'))then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
endif

if((GetItemTypeId(GetManipulatedItem())=='V0U2'))then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2)
endif

endfunction
function InitTrig_ifuuin takes nothing returns nothing
set gg_trg_ifuuin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ifuuin,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ifuuin,Condition(function Trig_ifuuin_Conditions))
call TriggerAddAction(gg_trg_ifuuin,function Trig_ifuuin_Actions)
endfunction

function Trig_ifuuout_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='IFUU'))then
if(not(GetItemTypeId(GetManipulatedItem())=='V0U1'))then
if(not(GetItemTypeId(GetManipulatedItem())=='V0U2'))then
return false
endif
endif
endif
return true
endfunction

function Trig_ifuuout_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-0)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-25)

if((GetItemTypeId(GetManipulatedItem())=='V0U1'))then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
endif

if((GetItemTypeId(GetManipulatedItem())=='V0U2'))then
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
endif

endfunction
function InitTrig_ifuuout takes nothing returns nothing
set gg_trg_ifuuout=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ifuuout,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_ifuuout,Condition(function Trig_ifuuout_Conditions))
call TriggerAddAction(gg_trg_ifuuout,function Trig_ifuuout_Actions)
endfunction

function Trig_ifu0in_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='IFU0'))then

return false

endif
return true
endfunction

function Trig_ifu0in_Actions takes nothing returns nothing

set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+0)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)



endfunction
function InitTrig_ifu0in takes nothing returns nothing
set gg_trg_ifu0in=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ifu0in,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_ifu0in,Condition(function Trig_ifu0in_Conditions))
call TriggerAddAction(gg_trg_ifu0in,function Trig_ifu0in_Actions)
endfunction

function Trig_ifu0out_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='IFU0'))then
return false
endif
return true
endfunction

function Trig_ifu0out_Actions takes nothing returns nothing
set udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
set udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_fadongjilv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-0)
set udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)
set udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)
set udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)

endfunction
function InitTrig_ifu0out takes nothing returns nothing
set gg_trg_ifu0out=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ifu0out,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_ifu0out,Condition(function Trig_ifu0out_Conditions))
call TriggerAddAction(gg_trg_ifu0out,function Trig_ifu0out_Actions)
endfunction

function Trig_diwangtz_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='VC00'))then
return false
endif
return true
endfunction
function Trig_diwangtz_Func001C takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_diwangtz_Actions takes nothing returns nothing
if(Trig_diwangtz_Func001C())then
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct______________300),0)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct______________300))
else
call AdjustPlayerStateBJ(15,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetPlayersAll(),"宝宝不可购买传送哦~")
endif
endfunction
function InitTrig_diwangtz takes nothing returns nothing
set gg_trg_diwangtz=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_diwangtz,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_diwangtz,Condition(function Trig_diwangtz_Conditions))
call TriggerAddAction(gg_trg_diwangtz,function Trig_diwangtz_Actions)
endfunction

function Trig_diattack_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='S001'))then
if(not(GetUnitTypeId(GetAttacker())=='S002'))then
if(not(GetUnitTypeId(GetAttacker())=='S003'))then
if(not(GetUnitTypeId(GetAttacker())=='S004'))then
return false
endif
endif
endif
endif
if((GetUnitTypeId(GetTriggerUnit())=='w001'))then
return false
endif
return true
endfunction
function Trig_diattack_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetTriggerUnit())>=10)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-5)
else
call KillUnit(GetTriggerUnit())
endif
endfunction
function InitTrig_diattack takes nothing returns nothing
set gg_trg_diattack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_diattack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_diattack,Condition(function Trig_diattack_Conditions))
call TriggerAddAction(gg_trg_diattack,function Trig_diattack_Actions)
endfunction

function Trig_didrop_Conditions takes nothing returns boolean
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==1))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==2))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==3))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==4))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==5))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==6))then
return false
endif
endif
endif
endif
endif
endif

if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif

if(not(GetUnitTypeId(GetTriggerUnit())=='S001'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='S002'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='S003'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='S004'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='S005'))then
return false
endif
endif
endif
endif
endif
return true
endfunction
function Trig_didrop_Actions takes nothing returns nothing
set udg_point2=GetUnitLoc(GetTriggerUnit())
if(GetUnitTypeId(GetDyingUnit())=='S001')then
call CreateItemLoc('V001',udg_point2)

endif
if(GetUnitTypeId(GetDyingUnit())=='S002')then
call CreateItemLoc('V002',udg_point2)
endif
if(GetUnitTypeId(GetDyingUnit())=='S003')then
call CreateItemLoc('V003',udg_point2)
endif
if(GetUnitTypeId(GetDyingUnit())=='S004')then
call CreateItemLoc('V004',udg_point2)
endif
if(GetUnitTypeId(GetDyingUnit())=='S005')then
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
call CreateItemLoc('V0U2',udg_point2)
call DisplayTextToForce(GetPlayersAll(),"你们还真不简单啊，作为打败本尊的证明，这个徽章就送给你们了，本尊继续睡觉去了")
endif
endif

call TriggerSleepAction(10.00)
if(GetRandomInt(1,2)==1)then
call CreateNUnitsAtLoc(1,udg_monsterdi[GetRandomInt(1,4)],Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________301),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,udg_monsterdi[GetRandomInt(1,4)],Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________302),bj_UNIT_FACING)
endif

endfunction
function InitTrig_didrop takes nothing returns nothing
set gg_trg_didrop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_didrop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_didrop,Condition(function Trig_didrop_Conditions))
call TriggerAddAction(gg_trg_didrop,function Trig_didrop_Actions)
endfunction

function Trig_x00ucom_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V0U0')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V001')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V002')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V003')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V004')==true))then
return false
endif

return true
endfunction
function Trig_x00ucom_Actions takes nothing returns nothing
if(Trig_x00ucom_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V001'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V002'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V003'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V004'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V0U0'))
call UnitAddItemByIdSwapped('V0U1',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了："+GetItemName(GetLastCreatedItem()))))
else
endif
endfunction
function InitTrig_x00ucom takes nothing returns nothing
set gg_trg_x00ucom=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_x00ucom,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_x00ucom,function Trig_x00ucom_Actions)
endfunction

function Trig_callshuiguai_Actions takes nothing returns nothing
if((GetItemTypeId(GetManipulatedItem())=='V0U0'))then


call CreateNUnitsAtLoc(1,'w001',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',40.00)

endif

if((GetItemTypeId(GetManipulatedItem())=='V0U1'))then

if(not(RectContainsUnit(gg_rct______________106,GetTriggerUnit())==false))then

if(udg_waves>=00)then

if(udg_moshenchuxian==false)then
call CreateNUnitsAtLoc(1,'S005',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"？？？？？：|cffff0000一群蝼蚁，居然打扰本尊的睡眠，来接我几招吧？|r")
set udg_moshenchuxian=true
endif
endif

else
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"？？？？？：zzzZZZzzz叫我起来干什么？zzzZZZzzz给你补满血算了，zzzZZZzzz别再打扰我睡眠！！")

endif

endif

if((GetItemTypeId(GetManipulatedItem())=='V0U2'))then


call SetUnitLifePercentBJ(GetTriggerUnit(),100)


endif


endfunction
function InitTrig_callshuiguai takes nothing returns nothing
set gg_trg_callshuiguai=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_callshuiguai,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_callshuiguai,function Trig_callshuiguai_Actions)
endfunction

function Trig_shoushenttConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0HY' ) )
endfunction





function Trig_shoushenttActions takes nothing returns nothing
local integer i=0
set i=GetRandomInt(1,10)
if(i==1)then
call CreateNUnitsAtLoc(1,'ufro',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
else
	if((i==2)or(i==3))then
	call CreateNUnitsAtLoc(1,'owyv',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
	else
		if((i==4)or(i==5))then
			call CreateNUnitsAtLoc(1,'otbk',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
		else
					call CreateNUnitsAtLoc(1,'uobs',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
		endif
	endif
endif
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',30.00)


endfunction

//===========================================================================
function InitTrig_shoushentt takes nothing returns nothing
    set gg_trg_shoushentt=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_shoushentt, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_shoushentt, Condition(function Trig_shoushenttConditions))
    call TriggerAddAction(gg_trg_shoushentt, function Trig_shoushenttActions)
endfunction

function Trig_w001death_Conditions takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='S001'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='S002'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='S003'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='S004'))then
return false
endif
if((GetUnitTypeId(GetAttacker())=='S005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='w001'))then
return false
endif
return true
endfunction
function Trig_w001death_Actions takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function InitTrig_w001death takes nothing returns nothing
set gg_trg_w001death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_w001death,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_w001death,Condition(function Trig_w001death_Conditions))
call TriggerAddAction(gg_trg_w001death,function Trig_w001death_Actions)
endfunction

function Trig_kamiattack_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='S005'))then
return false
endif
return true
endfunction
function Trig_kamiattack_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetAttacker())<=30)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1)
endif
endfunction
function InitTrig_kamiattack takes nothing returns nothing
set gg_trg_kamiattack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_kamiattack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_kamiattack,Condition(function Trig_kamiattack_Conditions))
call TriggerAddAction(gg_trg_kamiattack,function Trig_kamiattack_Actions)
endfunction

function Trig_elfdrop_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv02'))then
return false
endif
return true
endfunction
function Trig_elfdrop_Actions takes nothing returns nothing


set udg_point2=GetUnitLoc(GetTriggerUnit())
//call CreateItemLoc(udg_item[GetRandomInt(561,568)],udg_point2)
call CreateItemLoc(udg_Item[GetRandomInt(561,571)],udg_point2)

set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+100)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(100)+"|R点专属技能经验。"))))))
call TriggerSleepAction(477.00*udg_shuaxinsj)
call CreateNUnitsAtLoc(1,'Uv02',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________310),bj_UNIT_FACING)


endfunction
function InitTrig_elfdrop takes nothing returns nothing
set gg_trg_elfdrop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elfdrop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_elfdrop,Condition(function Trig_elfdrop_Conditions))
call TriggerAddAction(gg_trg_elfdrop,function Trig_elfdrop_Actions)
endfunction


function Trig_elf2drop_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv03'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv04'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv05'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv06'))then
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv07'))then
return false
endif
endif
endif
endif
endif
return true
endfunction
function Trig_elf2drop_Actions takes nothing returns nothing
set udg_point2=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc(udg_Item[GetRandomInt(471,475)],udg_point2)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+100)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(100)+"|R点专属技能经验。"))))))

set udg_elf2count=udg_elf2count+1
if((GetUnitTypeId(GetTriggerUnit())==udg_elf[udg_elfcount]))then
set udg_elfcount=udg_elfcount+1
endif

if(udg_elf2count==5)then
call CreateNUnitsAtLoc(1,'S006',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________062),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'N014',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________059),bj_UNIT_FACING)

if(udg_elfcount==5)then
set udg_elfkey=1
call DisplayTextToForce(GetPlayersAll(),"你怎么会知道这个秘密！！！！。")
else

endif

endif


endfunction
function InitTrig_elf2drop takes nothing returns nothing
set gg_trg_elf2drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elf2drop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_elf2drop,Condition(function Trig_elf2drop_Conditions))
call TriggerAddAction(gg_trg_elf2drop,function Trig_elf2drop_Actions)
endfunction

function Trig_elfatk_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='S006'))then
return false
endif
if(not(udg_elfkey==0))then
return false
endif
return true
endfunction
function Trig_elfatk_Actions takes nothing returns nothing
//call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())+1)
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())-2)

if(not(UnitHasBuffBJ(GetAttackedUnitBJ(),'B008')==true))then
if(GetUnitLifePercent(GetTriggerUnit())<60)then
call UnitAddAbilityBJ('A05F',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A05F',GetTriggerUnit(),7)
endif
endif



endfunction
function InitTrig_elfatk takes nothing returns nothing
set gg_trg_elfatk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elfatk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_elfatk,Condition(function Trig_elfatk_Conditions))
call TriggerAddAction(gg_trg_elfatk,function Trig_elfatk_Actions)
endfunction

function Trig_elf2atk_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='S006'))then
return false
endif
return true
endfunction
function Trig_elf2atk_Actions takes nothing returns nothing
if(GetUnitLifePercent(GetAttacker())<80)then
if(udg_elfkey==0)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1)
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-0.5)
endif
endif
if(GetUnitLifePercent(GetAttacker())<60)then
if(udg_elfkey==0)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1)
endif
endif
if(GetUnitLifePercent(GetAttacker())<40)then
if(udg_elfkey==0)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-0.6)
endif
endif
if(GetUnitLifePercent(GetAttacker())<25)then
if(udg_elfkey==0)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-0.6)
endif
endif
endfunction
function InitTrig_elf2atk takes nothing returns nothing
set gg_trg_elf2atk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elf2atk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_elf2atk,Condition(function Trig_elf2atk_Conditions))
call TriggerAddAction(gg_trg_elf2atk,function Trig_elf2atk_Actions)
endfunction


function Trig_elf3drop_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='S006'))then
return false
endif
if(not(IsUnitIllusionBJ(GetDyingUnit())==false))then
return false
endif
return true
endfunction
function Trig_elf3drop_Actions takes nothing returns nothing
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then

set udg_point2=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('SP03',udg_point2)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+300)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(300)+"|R点专属技能经验。"))))))

if(udg_elfkey==0)then
call CreateItemLoc('I992',udg_point2)
endif

endif
endfunction
function InitTrig_elf3drop takes nothing returns nothing
set gg_trg_elf3drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elf3drop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_elf3drop,Condition(function Trig_elf3drop_Conditions))
call TriggerAddAction(gg_trg_elf3drop,function Trig_elf3drop_Actions)
endfunction


function Trig_elfitematk_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'SP03')==true))then
if(not(UnitHasItemOfTypeBJ(GetAttacker(),'ELF0')==true))then
return false
endif
endif
return true
endfunction
function Trig_elfitematk_Actions takes nothing returns nothing

call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),3450000.00,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)


endfunction
function InitTrig_elfitematk takes nothing returns nothing
set gg_trg_elfitematk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elfitematk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_elfitematk,Condition(function Trig_elfitematk_Conditions))
call TriggerAddAction(gg_trg_elfitematk,function Trig_elfitematk_Actions)
endfunction


function Trig_elfmichuanshu_Actions takes nothing returns nothing
if((GetItemTypeId(GetManipulatedItem())=='SS00'))then
set udg_mckey=1
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("使用了妖精秘传书，输入-s可查看秘传书内容了")))
endif
endfunction
function InitTrig_elfmichuanshu takes nothing returns nothing
set gg_trg_elfmichuanshu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_elfmichuanshu,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_elfmichuanshu,function Trig_elfmichuanshu_Actions)
endfunction

function Trig_new1ab_Conditions takes nothing returns boolean
if(GetSpellAbilityId()=='A0I4')then
return true
endif
return false
endfunction

function Trig_new1abc_Conditions takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction


function Trig_new1ab_Func001Func006A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function Trig_new1ab_Func001Func005A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),false)
endfunction

function Trig_new1ab_Actions takes nothing returns nothing

//local point p


set udg_new1point=GetSpellTargetLoc()

call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,GetSpellTargetLoc(),Condition(function Trig_new1abc_Conditions)),function Trig_new1ab_Func001Func006A)
call StartTimerBJ(udg_new1jsq,false,3.00)


endfunction
function InitTrig_new1ab takes nothing returns nothing
set gg_trg_new1ab=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_new1ab,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_new1ab,Condition(function Trig_new1ab_Conditions))
call TriggerAddAction(gg_trg_new1ab,function Trig_new1ab_Actions)
endfunction


function Trig_new1abjsq_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00,udg_new1point,Condition(function Trig_new1abc_Conditions)),function Trig_new1ab_Func001Func005A)
endfunction
function InitTrig_new1abjsq takes nothing returns nothing
set gg_trg_new1abjsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_new1abjsq,udg_new1jsq)
call TriggerAddAction(gg_trg_new1abjsq,function Trig_new1abjsq_Actions)
endfunction


function Trig_new2ab_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0I6'))then
return false
endif
return true
endfunction
function Trig_new2ab_Func005001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_new2ab_Func005001003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_new2ab_Func005001003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_new2ab_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_new2ab_Func005001003002001(),Trig_new2ab_Func005001003002002())
endfunction
function Trig_new2ab_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_new2ab_Func005001003001(),Trig_new2ab_Func005001003002())
endfunction
function Trig_new2ab_Func005A takes nothing returns nothing
call GroupAddUnit(udg_new2group,GetEnumUnit())
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((udg_new2real*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))*(0.20*I2R(udg_new2int))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call PauseUnit(GetEnumUnit(),true)


endfunction

function Trig_new2ab_Func006A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),false)

endfunction

function Trig_new2ab_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"overhead"))
set udg_new2point=GetUnitLoc(GetTriggerUnit())
set udg_new2int=GetUnitAbilityLevel(GetTriggerUnit(),'A0I6')
set udg_new2real=I2R(GetHeroInt(GetTriggerUnit(),true))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(800.00,udg_new2point,Condition(function Trig_new2ab_Func005001003)),function Trig_new2ab_Func005A)
call EnableTrigger(gg_trg_new2ab1)
call TriggerSleepAction(1.50)
call DisableTrigger(gg_trg_new2ab1)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(800.00,udg_new2point,Condition(function Trig_new2ab_Func005001003)),function Trig_new2ab_Func006A)

call GroupClear(udg_new2group)
call RemoveLocation(udg_new2point)
endfunction
function InitTrig_new2ab takes nothing returns nothing
set gg_trg_new2ab=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_new2ab,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_new2ab,Condition(function Trig_new2ab_Conditions))
call TriggerAddAction(gg_trg_new2ab,function Trig_new2ab_Actions)
endfunction
function Trig_new2ab1_Func001A takes nothing returns nothing
call IssueImmediateOrder(GetEnumUnit(),"stop")
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),2.00,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),udg_new2point)))

//call SetUnitPositionLocFacingLocBJ(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),-2.00,AngleBetweenPoints(udg_new2point,GetUnitLoc(GetEnumUnit()))),udg_new2point)
//call UnitDamageTarget(udg_newhero1,GetEnumUnit(),((udg_new2real*(0.20*I2R(udg_new2int))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)

endfunction
function Trig_new2ab1_Actions takes nothing returns nothing
call ForGroupBJ(udg_new2group,function Trig_new2ab1_Func001A)
endfunction
function InitTrig_new2ab1 takes nothing returns nothing
set gg_trg_new2ab1=CreateTrigger()
call DisableTrigger(gg_trg_new2ab1)
call TriggerRegisterTimerEventPeriodic(gg_trg_new2ab1,0.02)
call TriggerAddAction(gg_trg_new2ab1,function Trig_new2ab1_Actions)
endfunction

function Trig_new3ab_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0I2'))then
return false
endif
return true
endfunction
function Trig_new3ab_Func005001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_new3ab_Func005001003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_new3ab_Func005001003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_new3ab_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_new3ab_Func005001003002001(),Trig_new3ab_Func005001003002002())
endfunction
function Trig_new3ab_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_new3ab_Func005001003001(),Trig_new3ab_Func005001003002())
endfunction
function Trig_new3ab_Func005A takes nothing returns nothing
call GroupAddUnit(udg_new3group,GetEnumUnit())
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((udg_new3real*I2R(udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))*(0.20*I2R(udg_new3int))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_new3ab_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"overhead"))
set udg_new3point=GetUnitLoc(GetTriggerUnit())
set udg_new3int=GetUnitAbilityLevel(GetTriggerUnit(),'A0I2')
set udg_new3real=I2R(GetHeroInt(GetTriggerUnit(),true))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(350.00,udg_new3point,Condition(function Trig_new3ab_Func005001003)),function Trig_new3ab_Func005A)
call EnableTrigger(gg_trg_new3ab1)
call TriggerSleepAction(0.50)
call DisableTrigger(gg_trg_new3ab1)
call GroupClear(udg_new3group)
call RemoveLocation(udg_new3point)
endfunction
function InitTrig_new3ab takes nothing returns nothing
set gg_trg_new3ab=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_new3ab,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_new3ab,Condition(function Trig_new3ab_Conditions))
call TriggerAddAction(gg_trg_new3ab,function Trig_new3ab_Actions)
endfunction
function Trig_new3ab1_Func001A takes nothing returns nothing
set udg_xqdwd=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLocFacingLocBJ(GetEnumUnit(),PolarProjectionBJ(udg_xqdwd,10.00,AngleBetweenPoints(udg_new3point,udg_xqdwd)),udg_new3point)
call RemoveLocation(udg_xqdwd)
endfunction
function Trig_new3ab1_Actions takes nothing returns nothing
call ForGroupBJ(udg_new3group,function Trig_new3ab1_Func001A)
endfunction
function InitTrig_new3ab1 takes nothing returns nothing
set gg_trg_new3ab1=CreateTrigger()
call DisableTrigger(gg_trg_new3ab1)
call TriggerRegisterTimerEventPeriodic(gg_trg_new3ab1,0.02)
call TriggerAddAction(gg_trg_new3ab1,function Trig_new3ab1_Actions)
endfunction


function Trig_bianyidaoqi1_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0I8'))then
return false
endif
return true
endfunction

function Trig_bianyidaoqi1_Func012001003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_bianyileishen)) == true ) ) )
endfunction


//Pow(1.9,I2R(udg_countb[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]))

function Trig_bianyidaoqi1_Func012A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_bianyileishen, GetEnumUnit(), ( 950+I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_bianyileishen, true)/2) * ( I2R(GetUnitAbilityLevel(udg_bianyileishen, 'A0I8')) *(Pow(1.95,I2R(udg_countb[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))])))* ( 1.00 * 0.40 ) ) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_bianyidaoqi1_Func007C takes nothing returns boolean
return false
endfunction
function Trig_bianyidaoqi1_Actions takes nothing returns nothing

//local unit d
//local unit u
//local location p0
//local location p1


set udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]+1)
set udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]-(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]*(100-(2*R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])))))
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("charge不足，技能释放失败！！！"))
else
//set udg_bianyi=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
set udg_bianyi2=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
set udg_bianyi3=GetUnitAbilityLevelSwapped('A0I9',GetTriggerUnit())
//call UnitRemoveAbilityBJ('A0I8',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0IA',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0I9',GetTriggerUnit())
//call UnitAddAbilityBJ('A0I8',GetTriggerUnit())
//call SetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit(),udg_bianyi)
call UnitAddAbilityBJ('A0IA',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit(),udg_bianyi2)
call UnitAddAbilityBJ('A0I9',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0I9',GetTriggerUnit(),udg_bianyi3)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("重置技能CD,剩余Charge值为"+I2S(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())])))
call StartTimerBJ(udg_bianyijsq2,false,2.00)




set u3dg_point=GetUnitLoc(GetTriggerUnit())
set u3dg_point1=GetSpellTargetLoc()
set u3dg_double=AngleBetweenPoints(u3dg_point,u3dg_point1)
call CreateNUnitsAtLoc(1,'h00K',GetOwningPlayer(GetTriggerUnit()),u3dg_point,u3dg_double)
set u3dg_douqi=GetLastCreatedUnit()
call SetUnitPathing(u3dg_douqi,false)
if(Trig_bianyidaoqi1_Func007C())then
call CreateNUnitsAtLoc(1,'npng',GetOwningPlayer(GetTriggerUnit()),u3dg_point,bj_UNIT_FACING)
set u3dg_unit=GetLastCreatedUnit()
call UnitAddAbility(u3dg_unit,'AUim')
call IssuePointOrderLoc(u3dg_unit,"impale",u3dg_point1)
else
endif


call CreateNUnitsAtLoc(1, 'npng', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(1.00, 'BTLF', GetLastCreatedUnit())
   call SetUnitPositionLocFacingBJ(GetLastCreatedUnit(), PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 80.00, ( AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()), GetUnitLoc(GetSpellTargetUnit())) )), GetUnitFacing(GetTriggerUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitLoc(GetLastCreatedUnit())))
  call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00 , GetUnitLoc(GetLastCreatedUnit()) , Condition(function Trig_bianyidaoqi1_Func012001003)), function Trig_bianyidaoqi1_Func012A)
    call DestroyGroup(GetLastCreatedGroup())


call EnableTrigger(gg_trg_bianyidaoqi2)
call TriggerSleepAction(0.20)
call DisableTrigger(gg_trg_bianyidaoqi2)
call RemoveUnit(u3dg_douqi)
call RemoveUnit(u3dg_unit)
call RemoveLocation(u3dg_point)
call RemoveLocation(u3dg_point1)


endif
endfunction
function InitTrig_bianyidaoqi1 takes nothing returns nothing
set gg_trg_bianyidaoqi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyidaoqi1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bianyidaoqi1,Condition(function Trig_bianyidaoqi1_Conditions))
call TriggerAddAction(gg_trg_bianyidaoqi1,function Trig_bianyidaoqi1_Actions)
endfunction
function Trig_bianyidaoqi2_Actions takes nothing returns nothing
set u3dg_daoqidian=GetUnitLoc(u3dg_douqi)
  call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00 , u3dg_daoqidian , Condition(function Trig_bianyidaoqi1_Func012001003)), function Trig_bianyidaoqi1_Func012A)

call SetUnitPositionLocFacingBJ(u3dg_douqi,PolarProjectionBJ(u3dg_daoqidian,30.00,u3dg_double),u3dg_double)
call RemoveLocation(u3dg_daoqidian)
endfunction
function InitTrig_bianyidaoqi2 takes nothing returns nothing
set gg_trg_bianyidaoqi2=CreateTrigger()
call DisableTrigger(gg_trg_bianyidaoqi2)
call TriggerRegisterTimerEventPeriodic(gg_trg_bianyidaoqi2,0.01)
call TriggerAddAction(gg_trg_bianyidaoqi2,function Trig_bianyidaoqi2_Actions)
endfunction


function Trig_bianyihuodun1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0I9'))
endfunction
function Trig_bianyihuodun1Actions takes nothing returns nothing

set udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]+1)
set udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]-(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]*(100-(2*R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])))))
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("charge不足，技能释放失败！！！"))
else
set udg_bianyi=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
set udg_bianyi2=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
//set udg_bianyi3=GetUnitAbilityLevelSwapped('A0I9',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0I8',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0IA',GetTriggerUnit())
//call UnitRemoveAbilityBJ('A0I9',GetTriggerUnit())
call UnitAddAbilityBJ('A0I8',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit(),udg_bianyi)
call UnitAddAbilityBJ('A0IA',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit(),udg_bianyi2)
//call UnitAddAbilityBJ('A0I9',GetTriggerUnit())
//call SetUnitAbilityLevelSwapped('A0I9',GetTriggerUnit(),udg_bianyi3)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("重置技能CD,剩余Charge值为"+I2S(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())])))
call StartTimerBJ(udg_bianyijsq2,false,2.00)


call PlaySoundBJ(gg_snd_uhq)
set udg_Uhhq1=GetSpellAbilityUnit()
set udg_Uhqdian[1]=GetUnitLoc(udg_Uhhq1)
set udg_Uhqdian[2]=GetSpellTargetLoc()
set udg_Uhhqss=AngleBetweenPoints(udg_Uhqdian[1],udg_Uhqdian[2])
set udg_Uhhqzu=CreateGroup()
call CreateNUnitsAtLoc(1,'e00H',GetOwningPlayer(udg_Uhhq1),udg_Uhqdian[1],udg_Uhhqss)
set udg_Uhuoqiu=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(1.50,'BTLF',udg_Uhuoqiu)
call RemoveLocation(udg_Uhqdian[2])
call EnableTrigger(gg_trg_bianyihuodun2)
call TriggerSleepAction(0.85)
call DisableTrigger(gg_trg_bianyihuodun2)
set udg_Uhhqzs=0
call RemoveLocation(udg_Uhqdian[1])
call GroupClear(udg_Uhhqzu)



endif
endfunction
function InitTrig_bianyihuodun1 takes nothing returns nothing
set gg_trg_bianyihuodun1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyihuodun1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bianyihuodun1,Condition(function Trig_bianyihuodun1Conditions))
call TriggerAddAction(gg_trg_bianyihuodun1,function Trig_bianyihuodun1Actions)
endfunction

function Trig_bianyihuodun2Func005001003 takes nothing returns boolean
return((((IsUnitAliveBJ(GetFilterUnit())==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Uhhq1))==true))and(IsUnitInGroup(GetFilterUnit(),udg_Uhhqzu)==false)))
endfunction
function Trig_bianyihuodun2Func005A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_Uhhqzu)
call UnitDamageTargetBJ(udg_Uhhq1,GetEnumUnit(),(Pow(I2R(GetHeroLevel(udg_Uhhq1)),1.10)*(Pow(1.92,I2R(udg_countb[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))])))* (I2R(GetUnitAbilityLevel(udg_Uhhq1,'A0I9'))*40.00)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call DestroyGroup(GetLastCreatedGroup())
endfunction
function Trig_bianyihuodun2Actions takes nothing returns nothing
set udg_Uhhqzs=(udg_Uhhqzs+1)
set udg_Uhqdian[2]=PolarProjectionBJ(udg_Uhqdian[1],(8.00*I2R(udg_Uhhqzs)),udg_Uhhqss)
call SetUnitPositionLoc(udg_Uhuoqiu,udg_Uhqdian[2])
if((GetRandomInt(1,5)==5))then
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Uhuoqiu),GetRandomReal(1.00,100.00),GetRandomDirectionDeg()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_Uhqdian[2],Condition(function Trig_bianyihuodun2Func005001003)),function Trig_bianyihuodun2Func005A)
call RemoveLocation(udg_Uhqdian[2])
endfunction
function InitTrig_bianyihuodun2 takes nothing returns nothing
set gg_trg_bianyihuodun2=CreateTrigger()
call DisableTrigger(gg_trg_bianyihuodun2)
call TriggerRegisterTimerEventPeriodic(gg_trg_bianyihuodun2,0.01)
call TriggerAddAction(gg_trg_bianyihuodun2,function Trig_bianyihuodun2Actions)
endfunction

function Trig_bianyishuiquan_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0IA'))then
return false
endif
return true
endfunction
function Trig_bianyishuiquan_Func003001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_bianyishuiquan_Func003001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_bianyishuiquan_Func003001003002002 takes nothing returns boolean
return(true==true)
endfunction
function Trig_bianyishuiquan_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_bianyishuiquan_Func003001003002001(),Trig_bianyishuiquan_Func003001003002002())
endfunction
function Trig_bianyishuiquan_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_bianyishuiquan_Func003001003001(),Trig_bianyishuiquan_Func003001003002())
endfunction
function Trig_bianyishuiquan_Func003A takes nothing returns nothing
call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),((500+6.00*Pow(I2R(GetHeroStr(GetTriggerUnit(),true)),0.94))*(Pow(1.92,I2R(udg_countb[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))])))* I2R(GetUnitAbilityLevel(GetTriggerUnit(),'A0IA'))),false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_bianyishuiquan_Actions takes nothing returns nothing

set udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]+1)
set udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]=(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())]-(udg_countb[GetConvertedPlayerId(GetTriggerPlayer())]*(100-(2*R2I(udg_jinengdengji[GetConvertedPlayerId(GetTriggerPlayer())])))))
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("charge不足，技能释放失败！！！"))
else
set udg_bianyi=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
//set udg_bianyi2=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
set udg_bianyi3=GetUnitAbilityLevelSwapped('A0I9',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0I8',GetTriggerUnit())
//call UnitRemoveAbilityBJ('A0IA',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0I9',GetTriggerUnit())
call UnitAddAbilityBJ('A0I8',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit(),udg_bianyi)
//call UnitAddAbilityBJ('A0IA',GetTriggerUnit())
//call SetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit(),udg_bianyi2)
call UnitAddAbilityBJ('A0I9',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0I9',GetTriggerUnit(),udg_bianyi3)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,("重置技能CD,剩余Charge值为"+I2S(udg_charge[GetConvertedPlayerId(GetTriggerPlayer())])))
call StartTimerBJ(udg_bianyijsq2,false,2.00)


set udg_point=GetSpellTargetLoc()
call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\AquaSpikeVersion2.mdx",udg_point))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00,udg_point,Condition(function Trig_bianyishuiquan_Func003001003)),function Trig_bianyishuiquan_Func003A)
call RemoveLocation(udg_point)

endif

endfunction
function InitTrig_bianyishuiquan takes nothing returns nothing
set gg_trg_bianyishuiquan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyishuiquan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bianyishuiquan,Condition(function Trig_bianyishuiquan_Conditions))
call TriggerAddAction(gg_trg_bianyishuiquan,function Trig_bianyishuiquan_Actions)
endfunction


function Trig_ulburst_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0IB'))then
return false
endif
return true
endfunction
function Trig_ulburst_Actions takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A06T')
call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A06T',false)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl")
set udg_bursteffect=GetLastCreatedEffectBJ()
set udg_burstkey=GetUnitAbilityLevel(GetTriggerUnit(),'A0IB')
call StartTimerBJ(udg_burstjsq,false,40.00)
endfunction
function InitTrig_ulburst takes nothing returns nothing
set gg_trg_ulburst=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ulburst,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ulburst,Condition(function Trig_ulburst_Conditions))
call TriggerAddAction(gg_trg_ulburst,function Trig_ulburst_Actions)
endfunction


function Trig_ulburstjsq_Actions takes nothing returns nothing
set udg_burstkey=0
call UnitRemoveAbility(udg_bianyileishen,'A06T')
call UnitRemoveBuffBJ('B00F',udg_bianyileishen)
call DestroyEffect(udg_bursteffect)
endfunction
function InitTrig_ulburstjsq takes nothing returns nothing
set gg_trg_ulburstjsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_ulburstjsq,udg_burstjsq)
call TriggerAddAction(gg_trg_ulburstjsq,function Trig_ulburstjsq_Actions)
endfunction

function Trig_bianyi2atkConditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='BY01'))
endfunction
function Trig_bianyi2atkActions takes nothing returns nothing
call StartTimerBJ(udg_bianyijsq2,false,2.00)
endfunction
function InitTrig_bianyi2atk takes nothing returns nothing
set gg_trg_bianyi2atk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bianyi2atk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_bianyi2atk,Condition(function Trig_bianyi2atkConditions))
call TriggerAddAction(gg_trg_bianyi2atk,function Trig_bianyi2atkActions)
endfunction


function Trig_bianyi2jsqActions takes nothing returns nothing
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]<=1000))then
set udg_countb[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]=0
set udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]=(udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]+100)
call DisplayTextToPlayer(GetOwningPlayer(udg_bianyileishen),0,0,("技能连记归零。剩余Charge值为|c00FF00FF"+I2S(udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))])))
call StartTimerBJ(udg_bianyijsq2,false,2.00)
else
endif
if((udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]<=0))then
set udg_charge[GetConvertedPlayerId(GetOwningPlayer(udg_bianyileishen))]=0
else
endif
endfunction
function InitTrig_bianyi2jsq takes nothing returns nothing
set gg_trg_bianyi2jsq=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_bianyi2jsq,udg_bianyijsq2)
call TriggerAddAction(gg_trg_bianyi2jsq,function Trig_bianyi2jsqActions)
endfunction


function Trig_fenlieuv09_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Uv09'))then
return false
endif
return true
endfunction
function Trig_fenlieuv09_Actions takes nothing returns nothing
//call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())/2 )
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',10.00)
call SetUnitLifePercentBJ(GetLastCreatedUnit(),GetUnitLifePercent(GetTriggerUnit())/2 )

endfunction
function InitTrig_fenlieuv09 takes nothing returns nothing
set gg_trg_fenlieuv09=CreateTrigger()

//call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_fenlieuv09)
call TriggerRegisterAnyUnitEventBJ(gg_trg_fenlieuv09,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_fenlieuv09,Condition(function Trig_fenlieuv09_Conditions))
call TriggerAddAction(gg_trg_fenlieuv09,function Trig_fenlieuv09_Actions)
endfunction








function Trig_NJN_1_no1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0GM'))
endfunction
function Trig_NJN_1_no1Actions takes nothing returns nothing
set udg_LiShi_NiuTou_SQ_Unit=GetTriggerUnit()
set udg_LiShi_NiuTou_SQ_Num=(udg_LiShi_NiuTou_SQ_Num+1)
if((udg_LiShi_NiuTou_SQ_blooen==false))then
set udg_LiShi_NiuTou_SQ_blooen=true
call TriggerExecute(gg_trg_NJN_1_no2)
else
endif
endfunction
function InitTrig_NJN_1_no1 takes nothing returns nothing
set gg_trg_NJN_1_no1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_NJN_1_no1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_NJN_1_no1,Condition(function Trig_NJN_1_no1Conditions))
call TriggerAddAction(gg_trg_NJN_1_no1,function Trig_NJN_1_no1Actions)
endfunction
function Trig_NJN_1_no2Actions takes nothing returns nothing
call TriggerSleepAction(0.50)
call UnitRemoveAbilityBJ(udg_LiShi_NiuTou_SQ_Jilu,udg_LiShi_NiuTou_SQ_Unit)
if((udg_LiShi_NiuTou_SQ_Num==1))then
call UnitAddAbilityBJ('A0GR',udg_LiShi_NiuTou_SQ_Unit)
set udg_LiShi_NiuTou_SQ_Jilu='A0GR'
set udg_LiShi_NiuTou_SQ_blooen=false
set udg_LiShi_NiuTou_SQ_Num=0
else
endif
if((udg_LiShi_NiuTou_SQ_Num==2))then
call UnitAddAbilityBJ('A0GQ',udg_LiShi_NiuTou_SQ_Unit)
set udg_LiShi_NiuTou_SQ_Jilu='A0GQ'
set udg_LiShi_NiuTou_SQ_blooen=false
set udg_LiShi_NiuTou_SQ_Num=0
else
endif
if((udg_LiShi_NiuTou_SQ_Num==3))then
call UnitAddAbilityBJ('A0GS',udg_LiShi_NiuTou_SQ_Unit)
set udg_LiShi_NiuTou_SQ_Jilu='A0GS'
call SetPlayerAbilityAvailable(GetOwningPlayer(udg_LiShi_NiuTou_SQ_Unit),'A0GS',false)
set udg_LiShi_NiuTou_SQ_blooen=false
set udg_LiShi_NiuTou_SQ_Num=0
else
endif
if((udg_LiShi_NiuTou_SQ_Num>=4))then
call UnitAddAbilityBJ('A0GT',udg_LiShi_NiuTou_SQ_Unit)
set udg_LiShi_NiuTou_SQ_Jilu='A0GT'
set udg_LiShi_NiuTou_SQ_blooen=false
set udg_LiShi_NiuTou_SQ_Num=0
else
endif
endfunction
function InitTrig_NJN_1_no2 takes nothing returns nothing
set gg_trg_NJN_1_no2=CreateTrigger()
call TriggerAddAction(gg_trg_NJN_1_no2,function Trig_NJN_1_no2Actions)
endfunction
function Trig_NJN_1_no3Conditions takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true)and(UnitHasBuffBJ(GetAttacker(),'B020')==true))
endfunction
function Trig_NJN_1_no3Actions takes nothing returns nothing
call TriggerSleepAction(0.02)
if((GetRandomInt(1,500)<=GetHeroLevel(GetAttacker())))then
set udg_LiShi_NiuTou_No3[1]=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*0.80)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),udg_LiShi_NiuTou_No3[1],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
endif
endfunction
function InitTrig_NJN_1_no3 takes nothing returns nothing
set gg_trg_NJN_1_no3=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_NJN_1_no3,Player(11),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterPlayerUnitEventSimple(gg_trg_NJN_1_no3,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_NJN_1_no3,Condition(function Trig_NJN_1_no3Conditions))
call TriggerAddAction(gg_trg_NJN_1_no3,function Trig_NJN_1_no3Actions)
endfunction



function Trig_NJN_2_no1Conditions takes nothing returns boolean
return((GetSpellAbilityId()=='A0GL'))
endfunction
function Trig_NJN_2_no1Actions takes nothing returns nothing
set udg_LiShi_NiuTou_TP=GetTriggerUnit()
call EnableTrigger(gg_trg_NJN_2_no2)
call StartTimerBJ(udg_jsq_tx,false,20.00)
endfunction
function InitTrig_NJN_2_no1 takes nothing returns nothing
set gg_trg_NJN_2_no1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_NJN_2_no1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_NJN_2_no1,Condition(function Trig_NJN_2_no1Conditions))
call TriggerAddAction(gg_trg_NJN_2_no1,function Trig_NJN_2_no1Actions)
endfunction

function Trig_NJN_2_no2Conditions takes nothing returns boolean
return((IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_HERO)==true)and(GetAttackedUnitBJ()==udg_LiShi_NiuTou_TP)and(GetUnitTypeId(GetAttacker())!='n00O')and(GetUnitTypeId(GetAttacker())!='earc'))
endfunction
function Trig_NJN_2_no2Actions takes nothing returns nothing
if((GetRandomInt(1,45)==1))then
call ModifyHeroStat(bj_HEROSTAT_STR,GetAttackedUnitBJ(),bj_MODIFYMETHOD_ADD,(((GetUnitAbilityLevel(udg_LiShi_NiuTou_TP,'A0GL')/10)+1)/1))
else
endif
endfunction
function InitTrig_NJN_2_no2 takes nothing returns nothing
set gg_trg_NJN_2_no2=CreateTrigger()
call DisableTrigger(gg_trg_NJN_2_no2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_NJN_2_no2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_NJN_2_no2,Condition(function Trig_NJN_2_no2Conditions))
call TriggerAddAction(gg_trg_NJN_2_no2,function Trig_NJN_2_no2Actions)
endfunction
function Trig_NJN_2_no3Actions takes nothing returns nothing
set udg_LiShi_NiuTou_TP=null
call DisableTrigger(gg_trg_NJN_2_no2)
endfunction
function InitTrig_NJN_2_no3 takes nothing returns nothing
set gg_trg_NJN_2_no3=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_NJN_2_no3,udg_jsq_tx)
call TriggerAddAction(gg_trg_NJN_2_no3,function Trig_NJN_2_no3Actions)
endfunction



function Trig_huanshenchangeConditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='N014')and(GetRandomInt(1,20)==1)and(not(UnitHasBuffBJ(GetTriggerUnit(),'B009')==true)))
endfunction
function Trig_huanshenchangeActions takes nothing returns nothing
call SetUnitInvulnerable(GetTriggerUnit(),true)
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00幻神正在把它所有的力量转化为攻击力！|r")
call TriggerSleepAction(5.00)
call UnitAddAbilityBJ('A04J',GetTriggerUnit())
call SetUnitInvulnerable(GetTriggerUnit(),false)
call TriggerSleepAction(5.00)
if(((UnitHasBuffBJ(GetTriggerUnit(),'B009')==true)))then
call UnitRemoveAbilityBJ('A04J',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00幻神恢复了正常！|r")
call SetUnitVertexColor(GetTriggerUnit(),0,255,255,255)
else
endif
endfunction
function InitTrig_huanshenchange takes nothing returns nothing
set gg_trg_huanshenchange=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanshenchange,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huanshenchange,Condition(function Trig_huanshenchangeConditions))
call TriggerAddAction(gg_trg_huanshenchange,function Trig_huanshenchangeActions)
endfunction


function Trig_huanshenatkConditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='N014')and(not(UnitHasBuffBJ(GetAttacker(),'B009')==true)))
endfunction
function Trig_huanshenatkActions takes nothing returns nothing
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1)
endfunction
function InitTrig_huanshenatk takes nothing returns nothing
set gg_trg_huanshenatk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanshenatk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huanshenatk,Condition(function Trig_huanshenatkConditions))
call TriggerAddAction(gg_trg_huanshenatk,function Trig_huanshenatkActions)
endfunction


function Trig_huanshenatk2Conditions takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='N014')and((UnitHasBuffBJ(GetAttacker(),'B009')==true)))
endfunction
function Trig_huanshenatk2Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-5)
endfunction
function InitTrig_huanshenatk2 takes nothing returns nothing
set gg_trg_huanshenatk2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanshenatk2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huanshenatk2,Condition(function Trig_huanshenatk2Conditions))
call TriggerAddAction(gg_trg_huanshenatk2,function Trig_huanshenatk2Actions)
endfunction


function Trig_huanshenlostConditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='N014')and((UnitHasBuffBJ(GetTriggerUnit(),'B009')==true))and(GetRandomInt(1,20)==1))
endfunction
function Trig_huanshenlostActions takes nothing returns nothing
call UnitRemoveAbilityBJ('A04J',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00幻神恢复了正常！|r")
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),(500000000.00),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitInvulnerable(GetTriggerUnit(),true)
call TriggerSleepAction(2.00)
call SetUnitInvulnerable(GetTriggerUnit(),false)
endfunction
function InitTrig_huanshenlost takes nothing returns nothing
set gg_trg_huanshenlost=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanshenlost,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_huanshenlost,Condition(function Trig_huanshenlostConditions))
call TriggerAddAction(gg_trg_huanshenlost,function Trig_huanshenlostActions)
endfunction




function Trig_huanshendropConditions takes nothing returns boolean
if(GetUnitTypeId(GetDyingUnit())=='N014')then
return true
endif

if(GetUnitTypeId(GetDyingUnit())=='NS01')then
return true
endif

return false

endfunction
function Trig_huanshendropActions takes nothing returns nothing
if(GetUnitTypeId(GetDyingUnit())=='N014')then
set udg_point=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('MF00',udg_point)
endif

if(GetUnitTypeId(GetDyingUnit())=='NS01')then
set udg_point=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('MF00',udg_point)
endif

endfunction
function InitTrig_huanshendrop takes nothing returns nothing
set gg_trg_huanshendrop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanshendrop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_huanshendrop,Condition(function Trig_huanshendropConditions))
call TriggerAddAction(gg_trg_huanshendrop,function Trig_huanshendropActions)
endfunction



function Trig_huanzhiyuezhangActions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetTriggerUnit(),'MF00')==true)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SP01')==true)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SP02')==true)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'SP03')==true))then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'MF00'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SP01'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SP02'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'SP03'))
call UnitAddItemByIdSwapped('ELF0',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了物品："+GetItemName(GetLastCreatedItem()))))
else
endif
endfunction
function InitTrig_huanzhiyuezhang takes nothing returns nothing
set gg_trg_huanzhiyuezhang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_huanzhiyuezhang,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_huanzhiyuezhang,function Trig_huanzhiyuezhangActions)
endfunction

function Trig_uwaratkConditions takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='Uwar')
endfunction
function Trig_uwaratkActions takes nothing returns nothing
if(GetUnitTypeId(GetAttacker())=='hwat')then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-udg_nanduBL/2.00-udg_selfdestruct)
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1-udg_selfdestruct/2)
endif
endfunction
function InitTrig_uwaratk takes nothing returns nothing
set gg_trg_uwaratk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_uwaratk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_uwaratk,Condition(function Trig_uwaratkConditions))
call TriggerAddAction(gg_trg_uwaratk,function Trig_uwaratkActions)
endfunction


function Trig_lingshenatk_Func002Func006A takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),(udg_nanduBL+udg_selfdestruct)*2000+GetUnitLevel(GetAttacker())*1000,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_lingshenatk_Func002Func006001003 takes nothing returns boolean
return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)and(IsUnitAliveBJ(GetFilterUnit())==true)and(GetFilterUnit()!=gg_unit_h001_0004) )
endfunction

function Trig_lingshenatk_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='NS01'))then
return false
endif
return true
endfunction

function Trig_lingshenatk_Actions takes nothing returns nothing
set udg_lingshen=GetAttacker()
call SetHeroLevelBJ(GetAttacker(),(GetUnitLevel(GetAttacker())+1),true)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(GetUnitLevel(GetAttacker())*10,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_lingshenatk_Func002Func006001003)),function Trig_lingshenatk_Func002Func006A)
call StartTimerBJ(udg_lingshenatkjsq,false,2)
endfunction
function InitTrig_lingshenatk takes nothing returns nothing
set gg_trg_lingshenatk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_lingshenatk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_lingshenatk,Condition(function Trig_lingshenatk_Conditions))
call TriggerAddAction(gg_trg_lingshenatk,function Trig_lingshenatk_Actions)
endfunction


function Trig_lingshenatkjsq_Actions takes nothing returns nothing
call SetHeroLevelBJ(udg_lingshen,1,true)
endfunction
function InitTrig_lingshenatkjsq takes nothing returns nothing
set gg_trg_lingshenatkjsq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(gg_trg_lingshenatkjsq,udg_lingshenatkjsq)
call TriggerAddAction(gg_trg_lingshenatkjsq,function Trig_lingshenatkjsq_Actions)
endfunction


function Trig_twindragonConditions takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='N011')and(GetRandomInt(1,10)==1)and(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true))
endfunction
function Trig_twindragonActions takes nothing returns nothing
if(GetAttacker()==udg_twinantiunit)then
call DisplayTextToForce(GetPlayersAll(),("|cffff9900我才不怕你！"))
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-52)
set udg_twinantiunit=GetAttacker()
endif
endfunction
function InitTrig_twindragon takes nothing returns nothing
set gg_trg_twindragon=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_twindragon,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_twindragon,Condition(function Trig_twindragonConditions))
call TriggerAddAction(gg_trg_twindragon,function Trig_twindragonActions)
endfunction

function Trig_linglipaohechengActions takes nothing returns nothing
if((UnitHasItemOfTypeBJ(GetTriggerUnit(),'MF00')==true)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I046')==true)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'V0U1')==true))then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'MF00'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I046'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'V0U1'))
call UnitAddItemByIdSwapped('LP01',GetTriggerUnit())
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了物品："+GetItemName(GetLastCreatedItem()))))
else
endif
endfunction
function InitTrig_linglipaohecheng takes nothing returns nothing
set gg_trg_linglipaohecheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_linglipaohecheng,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_linglipaohecheng,function Trig_linglipaohechengActions)
endfunction


function Trig_colordefend_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos5'))then
return false
endif
return true
endfunction

function Trig_colordefend_Actions takes nothing returns nothing
set cona=0
if(UnitHasItemOfTypeBJ(GetAttacker(),'REDS')==true)then
set cona=1
endif
if(UnitHasItemOfTypeBJ(GetAttacker(),'GRES')==true)then
set cona=2
endif
if(UnitHasItemOfTypeBJ(GetAttacker(),'BLUS')==true)then
set cona=3
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'REDS')==true)and(UnitHasItemOfTypeBJ(GetAttacker(),'GRES')==true))then
set cona=4
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'GRES')==true)and(UnitHasItemOfTypeBJ(GetAttacker(),'BLUS')==true))then
set cona=5
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'REDS')==true)and(UnitHasItemOfTypeBJ(GetAttacker(),'BLUS')==true))then
set cona=6
endif
if((UnitHasItemOfTypeBJ(GetAttacker(),'REDS')==true)and(UnitHasItemOfTypeBJ(GetAttacker(),'BLUS')==true)and(UnitHasItemOfTypeBJ(GetAttacker(),'GRES')==true))then
set cona=7
endif

if(not(cona==cond))then

set udg_playershijianmh[1]=I2R(GetHeroStr(GetAttacker(),true))
set udg_playershijianmh[2]=I2R(GetHeroAgi(GetAttacker(),true))
set udg_playershijianmh[3]=I2R(GetHeroInt(GetAttacker(),true))
set udg_playershijianmh[4]=(((udg_jinengdengji[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]/5.00)+1.20)*(udg_playershijianmh[1]+((udg_playershijianmh[2]+(udg_playershijianmh[3]*1.10))*I2R(udg_playertx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_playerydx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+udg_playerjx[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]))))
set udg_playershijianmh[5]=udg_playershijianmh[4]*0.19
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),-1.9*udg_playershijianmh[5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())-5-udg_selfdestruct)

call DisplayTextToForce(GetPlayersAll(),("|cffff9900吸收伤害！"))

endif

if((cona==cond))then


if(GetRandomInt(1,30-udg_selfdestruct*2)==1)then
set cond=GetRandomInt(1,3)

if(cond==1)then
call SetUnitVertexColor(GetTriggerUnit(),255,0,0,255)
endif

if(cond==2)then
call SetUnitVertexColor(GetTriggerUnit(),0,255,0,255)
endif

if(cond==3)then
call SetUnitVertexColor(GetTriggerUnit(),0,0,255,255)
endif

if(cond==4)then
call SetUnitVertexColor(GetTriggerUnit(),255,255,0,255)
endif

if(cond==5)then
call SetUnitVertexColor(GetTriggerUnit(),0,255,255,255)
endif

if(cond==6)then
call SetUnitVertexColor(GetTriggerUnit(),255,0,255,255)
endif

if(cond==7)then
call SetUnitVertexColor(GetTriggerUnit(),255,255,255,255)
endif
call SetUnitInvulnerable(GetTriggerUnit(),true)
call TriggerSleepAction(1.00)
call DisplayTextToForce(GetPlayersAll(),("|cffff9900改变弱点！"))
call SetUnitInvulnerable(GetTriggerUnit(),false)

endif
endif

endfunction
function InitTrig_colordefend takes nothing returns nothing
set gg_trg_colordefend=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_colordefend,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_colordefend,Condition(function Trig_colordefend_Conditions))
call TriggerAddAction(gg_trg_colordefend,function Trig_colordefend_Actions)
endfunction


function Trig_bos5death_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Bos5'))then
return false
endif
return true
endfunction
function Trig_bos5death_Actions takes nothing returns nothing
set bos5live=false
endfunction
function InitTrig_bos5death takes nothing returns nothing
set gg_trg_bos5death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bos5death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_bos5death,Condition(function Trig_bos5death_Conditions))
call TriggerAddAction(gg_trg_bos5death,function Trig_bos5death_Actions)
endfunction


function Trig_Ud01atk_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='Ud01'))then
if(not(GetUnitTypeId(GetAttacker())=='Ud02'))then
if(not(GetUnitTypeId(GetAttacker())=='Ud03'))then
return false
endif
endif
endif
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
return true
endfunction
function Trig_Ud01atk_Actions takes nothing returns nothing

if((GetUnitTypeId(GetAttacker())=='Ud01'))then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())/1.1)
//call KillUnit(GetTriggerUnit())
endif

if((GetUnitTypeId(GetAttacker())=='Ud02'))then
if(GetUnitLifePercent(GetTriggerUnit())>=3)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-0.9)
else
call KillUnit(GetTriggerUnit())
endif
endif

if((GetUnitTypeId(GetAttacker())=='Ud03'))then
if(GetUnitLifePercent(GetTriggerUnit())>=2)then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-1.1-I2R(udg_nanduBL)/4)
else
call KillUnit(GetTriggerUnit())
endif
endif

endfunction
function InitTrig_Ud01atk takes nothing returns nothing
set gg_trg_Ud01atk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ud01atk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Ud01atk,Condition(function Trig_Ud01atk_Conditions))
call TriggerAddAction(gg_trg_Ud01atk,function Trig_Ud01atk_Actions)
endfunction


function Trig_Ud01drop_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='Ud01'))then
return false
endif
if(not(IsUnitIllusionBJ(GetDyingUnit())==false))then
return false
endif
return true
endfunction
function Trig_Ud01drop_Actions takes nothing returns nothing
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then

set udg_point2=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('stel',udg_point2)
set udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_killzhuanshu[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+150)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("杀死了|CFFFF0000"+(GetUnitName(GetDyingUnit())+("|R,奖励|CFFFF0000"+(I2S(150)+"|R点专属技能经验。"))))))

call TriggerSleepAction((530.00*udg_shuaxinsj))
call CreateNUnitsAtLoc(1,'Ud01',Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(gg_rct______________320),270.00)

endif
endfunction
function InitTrig_Ud01drop takes nothing returns nothing
set gg_trg_Ud01drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ud01drop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ud01drop,Condition(function Trig_Ud01drop_Conditions))
call TriggerAddAction(gg_trg_Ud01drop,function Trig_Ud01drop_Actions)
endfunction


function Trig_touzhijuanzhou_Actions takes nothing returns nothing

if((GetItemTypeId(GetManipulatedItem())=='XX00'))then

if(udg_nanduBL<=3)then
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"使用了透支卷轴，获得30木头，试炼积分减5000。"))
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)+30))
set udg_mscore[GetConvertedPlayerId(GetTriggerPlayer())]=udg_mscore[GetConvertedPlayerId(GetTriggerPlayer())]-5000
else
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"难度4以上使用透支卷轴无效"))
endif

if(udg_hard7==1)then
if(udg_waves<=2)then
//call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+"使用了透支卷轴，开启未知难度，将会发生什么事情呢？"))
//set udg_crakey=false
endif
endif


endif


endfunction
function InitTrig_touzhijuanzhou takes nothing returns nothing
set gg_trg_touzhijuanzhou=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_touzhijuanzhou,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg_touzhijuanzhou,function Trig_touzhijuanzhou_Actions)
endfunction


function Trig_antine11atk_Conditions takes nothing returns boolean
if(((GetOwningPlayer(GetAttacker())==Player(11))and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)))or((GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetOwningPlayer(GetTriggerUnit())==Player(11))))then
return true
else
return false
endif

endfunction
function Trig_antine11atk_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
endfunction
function InitTrig_antine11atk takes nothing returns nothing
set gg_trg_antine11atk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_antine11atk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_antine11atk,Condition(function Trig_antine11atk_Conditions))
call TriggerAddAction(gg_trg_antine11atk,function Trig_antine11atk_Actions)
endfunction


function Trig_cranandu_Conditions takes nothing returns boolean
if(udg_crakey==true)then

if(GetAttacker()==udg_heroname[1])then
return true
endif
if(GetAttacker()==udg_heroname[2])then
return true
endif
if(GetAttacker()==udg_heroname[3])then
return true
endif
if(GetAttacker()==udg_heroname[4])then
return true
endif
if(GetAttacker()==udg_heroname[5])then
return true
endif
if(GetAttacker()==udg_heroname[6])then
return true
endif

endif
return false

endfunction
function Trig_cranandu_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())-1.2)
endfunction
function InitTrig_cranandu takes nothing returns nothing
set gg_trg_cranandu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_cranandu,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_cranandu,Condition(function Trig_cranandu_Conditions))
call TriggerAddAction(gg_trg_cranandu,function Trig_cranandu_Actions)
endfunction


function Distance takes real X,real Y,real x,real y returns real
    return SquareRoot((X-x)*(X-x)+(Y-y)*(Y-y))
endfunction

function Trig_qinshideath_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())==Player(11)))then
return false
endif
if(not(RectContainsUnit(gg_rct______________124,GetTriggerUnit())==true))then
return false
endif


return true
endfunction
function Trig_qinshideath_Actions takes nothing returns nothing
set udg_point2=GetUnitLoc(GetTriggerUnit())
set udg_qinshideathpoint=GetUnitLoc(GetTriggerUnit())
set udg_oldpoint=GetRectCenter(gg_rct______________063)
set qinshidistance=Distance(GetLocationX(udg_qinshideathpoint),GetLocationY(udg_qinshideathpoint),GetLocationX(udg_oldpoint),GetLocationY(udg_oldpoint))
set qinshiup=(qinshidistance-3900)/(150000-trueflag1*10000-trueflag2*30000)
set udg_qinshilv=udg_qinshilv+qinshiup
if(udg_qinshilv>99.99)then
set udg_qinshilv=99.99
set udg_badend=true
endif
if(udg_qinshilv<0)then
set udg_qinshilv=0
endif
if(udg_waves==22)then
if(udg_qinshilv>59)then
set udg_badend=true
endif
endif


if(udg_waves==13)then
if(trueflag1==0)then
if(udg_qinshilv<40)then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"加油！！！",bj_TIMETYPE_ADD,0.00,true)
set trueflag1=1
endif
endif
endif

if(trueflag1==1)then
if(udg_waves==22)then
if(trueflag2==0)then
if(udg_qinshilv<30)then
set trueflag2=1
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"境界之神",null,"你们一定能战胜命运的！！！",bj_TIMETYPE_ADD,0.00,true)
endif
endif
endif
endif



endfunction

function InitTrig_qinshideath takes nothing returns nothing
set gg_trg_qinshideath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_qinshideath,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_qinshideath,Condition(function Trig_qinshideath_Conditions))
call TriggerAddAction(gg_trg_qinshideath,function Trig_qinshideath_Actions)
endfunction

function Trig_badenddrop_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(udg_heroname[1],(GetUnitLifePercent(udg_heroname[1])-4.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[2],(GetUnitLifePercent(udg_heroname[2])-4.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[3],(GetUnitLifePercent(udg_heroname[3])-4.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[4],(GetUnitLifePercent(udg_heroname[4])-4.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[5],(GetUnitLifePercent(udg_heroname[5])-4.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[6],(GetUnitLifePercent(udg_heroname[6])-4.00-udg_nanduBL))
set udg_qinshilv=udg_qinshilv-0.13
endfunction
function InitTrig_badenddrop takes nothing returns nothing
set gg_trg_badenddrop=CreateTrigger()
call DisableTrigger(gg_trg_badenddrop)
call TriggerRegisterTimerEventPeriodic(gg_trg_badenddrop,1.00)
call TriggerAddAction(gg_trg_badenddrop,function Trig_badenddrop_Actions)
endfunction


function Trig_trueenddrop_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(udg_heroname[1],(GetUnitLifePercent(udg_heroname[1])-0.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[2],(GetUnitLifePercent(udg_heroname[2])-0.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[3],(GetUnitLifePercent(udg_heroname[3])-0.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[4],(GetUnitLifePercent(udg_heroname[4])-0.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[5],(GetUnitLifePercent(udg_heroname[5])-0.00-udg_nanduBL))
call SetUnitLifePercentBJ(udg_heroname[6],(GetUnitLifePercent(udg_heroname[6])-0.00-udg_nanduBL))
set udg_qinshilv=udg_qinshilv+0.23

if(udg_qinshilv>99.75)then
if(udg_tureendfail==false)then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),gg_unit_H000_0005,"混沌黑暗",null,"哈哈哈哈哈",bj_TIMETYPE_ADD,0.00,true)
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000只差一点点就胜利了，真可惜！")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000只差一点点就胜利了，真可惜！")
set udg_tureendfail=true
call TriggerExecute(gg_trg_jieweidonghua)
endif
endif
endfunction
function InitTrig_trueenddrop takes nothing returns nothing
set gg_trg_trueenddrop=CreateTrigger()
call DisableTrigger(gg_trg_trueenddrop)
call TriggerRegisterTimerEventPeriodic(gg_trg_trueenddrop,1.00)
call TriggerAddAction(gg_trg_trueenddrop,function Trig_trueenddrop_Actions)
endfunction

function Trig_trueenddef_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='H900'))then
return false
endif
return true
endfunction
function Trig_trueenddef_Actions takes nothing returns nothing
call SetUnitLifePercentBJ(GetAttacker(),(GetUnitLifePercent(GetAttacker())-udg_nanduBL/2))
endfunction
function InitTrig_trueenddef takes nothing returns nothing
set gg_trg_trueenddef=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_trueenddef,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_trueenddef,Condition(function Trig_trueenddef_Conditions))
call TriggerAddAction(gg_trg_trueenddef,function Trig_trueenddef_Actions)
endfunction

function Trig_trueendclear_Conditions takes nothing returns boolean
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==1))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==2))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==3))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==4))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==5))then
if(not(GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))==6))then
return false
endif
endif
endif
endif
endif
endif
if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='H900'))then
return false
endif
return true
endfunction
function Trig_trueendclear_Actions takes nothing returns nothing

call DisplayTimedTextToForce(GetPlayersAll(),10.00,"恭喜达成TrueEnd通关~~")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"恭喜达成TrueEnd通关~~")
call ForForce(GetPlayersAllies(Player(7)),function Trig_siwang_Func003A)
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000TRUEEND结局：真实的学园\nhttp://wanwan."+udg_pass[13]+"."+udg_pass[14]+"")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000TRUEEND结局：真实的学园\nhttp://wanwan."+udg_pass[13]+"."+udg_pass[14]+"")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000TRUEEND结局：真实的学园\nhttp://wanwan."+udg_pass[13]+"."+udg_pass[14]+"")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000TRUEEND结局：真实的学园\nhttp://wanwan."+udg_pass[13]+"."+udg_pass[14]+"")
call DisplayTimedTextToForce(GetPlayersAll(),60.00,"|cffff0000TRUEEND结局：真实的学园\nhttp://wanwan."+udg_pass[13]+"."+udg_pass[14]+"")
endfunction
function InitTrig_trueendclear takes nothing returns nothing
set gg_trg_trueendclear=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_trueendclear,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_trueendclear,Condition(function Trig_trueendclear_Conditions))
call TriggerAddAction(gg_trg_trueendclear,function Trig_trueendclear_Actions)
endfunction

//zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
//xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

function InitCustomTriggers takes nothing returns nothing


call InitTrig_trueendclear()

call InitTrig_trueenddef()

call InitTrig_trueenddrop()

call InitTrig_badenddrop()

call InitTrig_qinshideath()

call InitTrig_cranandu()

call InitTrig_antine11atk()

call InitTrig_touzhijuanzhou()

call InitTrig_Ud01drop()

call InitTrig_Ud01atk()


call InitTrig_bos5death()

call InitTrig_colordefend()


call InitTrig_twindragon()
call InitTrig_linglipaohecheng()

call InitTrig_lingshenatk()
call InitTrig_lingshenatkjsq()




call InitTrig_uwaratk()
call InitTrig_wu2xing()




call InitTrig_huanshenchange()
call InitTrig_huanshenatk()
call InitTrig_huanshenatk2()
call InitTrig_huanshenlost()
call InitTrig_huanshendrop()
call InitTrig_huanzhiyuezhang()




call InitTrig_NJN_1_no1()
call InitTrig_NJN_1_no2()
call InitTrig_NJN_1_no3()
call InitTrig_NJN_2_no1()
call InitTrig_NJN_2_no2()
call InitTrig_NJN_2_no3()

call InitTrig_fenlieuv09()





call InitTrig_bianyi2atk()
call InitTrig_bianyi2jsq()


call InitTrig_bianyileishen1()
call InitTrig_bianyileishen()


call InitTrig_ulburst()
call InitTrig_ulburstjsq()



call InitTrig_bianyishuiquan()

call InitTrig_bianyihuodun1()
call InitTrig_bianyihuodun2()

call InitTrig_bianyidaoqi1()
call InitTrig_bianyidaoqi2()


call InitTrig_new1ab()
call InitTrig_new1abjsq()

call InitTrig_new2ab()
call InitTrig_new2ab1()

call InitTrig_new3ab()
call InitTrig_new3ab1()







call InitTrig_elfmichuanshu()

call InitTrig_elfatk()
call InitTrig_elf2atk()
call InitTrig_elfitematk()

call InitTrig_elfdrop()
call InitTrig_elf2drop()
call InitTrig_elf3drop()

call InitTrig_shoushentt()

call InitTrig_kamiattack()

call InitTrig_callshuiguai()
call InitTrig_w001death()

call InitTrig_x00ucom()
call InitTrig_didrop()
call InitTrig_diattack()

call InitTrig_diwangtz()



call InitTrig_bianyiatk()

call InitTrig_bianyijsq()


call InitTrig_ifuuin()
call InitTrig_ifuuout()

call InitTrig_ifu0in()
call InitTrig_ifu0out()




call InitTrig_bianyi1()
call InitTrig_bian2yi1()
call InitTrig_bian2yi2()
call InitTrig_bian3yi()



call InitTrig_x145x()
call InitTrig_x145y()



call InitTrig_uvunattack()
call InitTrig_uvrecoverjsq()

call InitTrig_fenghuangwei()

call InitTrig_fhegg()
call InitTrig_fhzw()
call InitTrig_wingu()



call InitTrig_necklevel()
call InitTrig_paolevel()
call InitTrig_xielevel()
call InitTrig_jianlevel()

call InitTrig_childat()

call InitTrig_childun()
call InitTrig_unchildjsq()

call InitTrig_sheswww()


call InitTrig_mowangcon()


call InitTrig_heajierenwu()
call InitTrig_kaixinshi()
call InitTrig_heajsq()
call InitTrig_headeath()


call InitTrig_uvattack()
call InitTrig_uvpausejsq()

call InitTrig_uvchange()
call InitTrig_uvchangejsq()


call InitTrig_levelstr()

call InitTrig_levelas()
call InitTrig_levelstop()


call InitTrig_qijishui()
call InitTrig_qijisuipian()

call InitTrig_qijidrop()
call InitTrig_qijijsq()



call InitTrig_ai3zhijian1()
call InitTrig_ai3zhijian2()
call InitTrig_zi3zhijian3()

call InitTrig_ai2zhijian2()
call InitTrig_zi2zhijian3()



call InitTrig_se12ven()
call InitTrig_se34ven()
call InitTrig_se56ven()
call InitTrig_se77ven()

call InitTrig_se2vein()
call InitTrig_se2veout()



call InitTrig_zuzhoudeath()
call InitTrig_sevendrop()



call InitTrig_wushen1()
call InitTrig_wushen2()
call InitTrig_wushen3()
call InitTrig_wushenjsq1()
call InitTrig_wushenjsq2()


call InitTrig_seven1()
call InitTrig_seven2()
call InitTrig_seven3()
call InitTrig_seven4()
call InitTrig_seven5()
call InitTrig_seven6()



call InitTrig_leavejsq()

call InitTrig_sevein()
call InitTrig_seveout()


call InitTrig_xixuegui()
call InitTrig_bei2ci()


call InitTrig_shiwu()
call InitTrig_shiwujsq()



call InitTrig_cheng180score()
call InitTrig_tzsap()
call InitTrig_tz2sap()

call InitTrig_shilian()
call InitTrig_shi2lian()



call InitTrig_mmm1()
call InitTrig_mmmle1()
call InitTrig_mmmde1()


call InitTrig_siwangshenzhu()


call InitTrig_duijiang4()
call InitTrig_duijiang4anniu()

call InitTrig_duijiang5()
call InitTrig_duijiang5anniu()

call InitTrig_duijiang6()
call InitTrig_duijiang6anniu()

call InitTrig_duijiang7()
call InitTrig_duijiang7anniu()

call InitTrig_duijiang8()
call InitTrig_duijiang8anniu()

call InitTrig_duijiang9()
call InitTrig_duijiang9anniu()

call InitTrig_duijiang0()
call InitTrig_duijiang0anniu()

call InitTrig_duijiangX()
call InitTrig_duijiangXanniu()

call InitTrig_recovercoflife()
call InitTrig_recoverlife()
call InitTrig_recover2life()
call InitTrig_callrabbit()
call InitTrig_attacktest()
call InitTrig_rabbitwudi()
call InitTrig_rabbitabsorb()
call InitTrig_rabbitjsq()
call InitTrig_rabbitdeath()

call InitTrig_ultimamagic()

call InitTrig_menghuanshen()
call InitTrig_menghuanshen1()
call InitTrig_chaonengz()
call InitTrig_chaoneng1()
call InitTrig_xuewu()
call InitTrig_xuewu1()
call InitTrig_menghuan2()
call InitTrig_xuewu2()
call InitTrig_chaoneng2()
call InitTrig_shijianshen()
call InitTrig_shijianshen1()
call InitTrig_Uhhq1()
call InitTrig_Uhhq2()
call InitTrig_pm1()
call InitTrig_pm2()
call InitTrig_pm3()

call InitTrig_yuedu1()
call InitTrig_yuedu2()
call InitTrig_yuedu3()
call InitTrig_TianZhao()
call InitTrig_FSBP()
call InitTrig_FSBP2()
call InitTrig_FSBP3()
call InitTrig_Xzh()
call InitTrig_Xzh2()
call InitTrig_Xzh3()
call InitTrig_hfz()
call InitTrig_SD2()
call InitTrig_SD3()
call InitTrig_Shunguang_Shan()
call InitTrig_Shunguang_Go()
call InitTrig_Feilei_Stand()
call InitTrig_Feilei_Go()
call InitTrig_wxty1()
call InitTrig_wxty2()
call InitTrig_zjgm()
call InitTrig_honglian9()
call InitTrig_honglian6()
call InitTrig_honglian7()
call InitTrig_honglian1()
call InitTrig_honglian2()
call InitTrig_honglian3()
call InitTrig_honglian4()
call InitTrig_Ability()
call InitTrig_GetExpired()
call InitTrig_GetExpiredTimer()
call InitTrig_jssjq()
call InitTrig_jssjq1()
call InitTrig_sjjz()
call InitTrig_chongji()
call InitTrig_hpnglian8()
call InitTrig_sjlh()
call InitTrig_sjlh_1()
call InitTrig_sgdl()
call InitTrig_sgdl1()

call InitTrig_cscs_______u()
call InitTrig_csdj()
call InitTrig_automed()
call InitTrig_cs30()
call InitTrig_cs27()
call InitTrig_cs28()
call InitTrig_cs20()
call InitTrig_cs22()
call InitTrig_csdengji()
call InitTrig_MonsterType()
call InitTrig_chufa()
call InitTrig_guanbidianying()
call InitTrig_slcx()
call InitTrig_shuishenshufu1()
call InitTrig_shuishenshufu2()
call InitTrig_sssf3()
call InitTrig_shuihua1()
call InitTrig_shuihua()
call InitTrig_sspx1()
call InitTrig_sspx2()
call InitTrig_sspx3()
call InitTrig_shuih1()
call InitTrig_shuih2()
call InitTrig_shuih3()
call InitTrig_hmzm()
call InitTrig_hmzm1()
call InitTrig_hmzm2()
call InitTrig_qianjunsha1()
call InitTrig_qianjunsha2()
call InitTrig_qianjunsha3()
call InitTrig_qianjunsha4()
call InitTrig_qianjunsha5()
call InitTrig_lingzhi1()
call InitTrig_huimqx()
call InitTrig_huimiezhiyi1()
call InitTrig_huimiezhiyi2()
call InitTrig_huimiezhiyi3()
call InitTrig_huimiezhiyi4()
call InitTrig_huimiezhiyi5()
call InitTrig_huimiezhiyi6()
call InitTrig_sxzc()
call InitTrig_tuxingzhiquan()
call InitTrig_tuxingzhiquan1()
call InitTrig_fengxingquan1()
call InitTrig_fengxingquan2()
call InitTrig_fengxingquan3()
call InitTrig_huoxingquan1()
call InitTrig_huoxingquan2()
call InitTrig_huoxingquan3()
call InitTrig_yuyanfusu()
call InitTrig_yuyanfusu1()
call InitTrig_xgg()
call InitTrig_sh()
call InitTrig_jsqq()
call InitTrig_myzj1()
call InitTrig_myzj()
call InitTrig_myzj3()
call InitTrig_myzj2()
call InitTrig_mysp()
call InitTrig_ldzl1()
call InitTrig_ldzl2()
call InitTrig_ll()
call InitTrig_wlst()
call InitTrig_wlst1()
call InitTrig_wlst2()
call InitTrig_dcp()
call InitTrig_dcp1()
call InitTrig_dcp2()
call InitTrig_dcp3()
call InitTrig_ldcc1()
call InitTrig_ldcc2()
call InitTrig_bossjingong()
call InitTrig_counter()
call InitTrig_counter2()
call InitTrig_counter3()
call InitTrig_counter4()
call InitTrig_ycjuqing()
call InitTrig_ycjuqing_______u()
call InitTrig_jinggong1()
call InitTrig_jinggong1_______u()
call InitTrig_jinggong2()
call InitTrig_jinggong2_______u()
call InitTrig_jinggong3()
call InitTrig_jinggong3_______u()
call InitTrig_jinggong4()
call InitTrig_jinggong4_______u()
call InitTrig_jinggong5()
call InitTrig_pkingwuqi()
call InitTrig_loverwuqi()
call InitTrig_kissmewuqi()
call InitTrig_fistjineng()
call InitTrig_doingjineng()
call InitTrig_sheswuqi()
call InitTrig_ktwuqi()
call InitTrig_KTwuqitianjia()
call InitTrig_KTwuqishanchu()
call InitTrig_daoshenwuqi1()
call InitTrig_daoshenwuqi2()
call InitTrig_shengmingzhishen()
call InitTrig_shoushen()
call InitTrig_shoushen_______u()
call InitTrig_dushenwuqi()
call InitTrig_qiangshenwuqi()
call InitTrig_bingshen()
call InitTrig_kongjianshen()
call InitTrig_kongjianshen2()
call InitTrig_huimiezhuans()
call InitTrig_huimiezhuans_______u()
call InitTrig_shuishenzs()
call InitTrig_shuishe()
call InitTrig_mingyunzs1()
call InitTrig_doushenzs()
call InitTrig_leishenzs()
call InitTrig_chengzhang()
call InitTrig_Money()
call InitTrig_Money1()
call InitTrig_liangong()
call InitTrig_liangong1()
call InitTrig_mutou1()
call InitTrig_mutou2()
call InitTrig_xiulian()
call InitTrig_CMoney()
call InitTrig_CMoney1()
call InitTrig_Clg()
call InitTrig_Clg1()
call InitTrig_Cmutou1()
call InitTrig_Cmutou2()
call InitTrig_Cxiulian()
call InitTrig_fb1()
call InitTrig_fb2()
call InitTrig_houshan()
call InitTrig_taoyuan()
call InitTrig_guangchengzi()
call InitTrig_jiaoting()
call InitTrig_shuijingcheng()
call InitTrig_sanjiewai()
call InitTrig_shanchu()
call InitTrig_boss1()
call InitTrig_boss2()
call InitTrig_boss3()
call InitTrig_boss4()
call InitTrig_boss5()
call InitTrig_boss6()
call InitTrig_boss7()
call InitTrig_boss8()
call InitTrig_tianjie()
call InitTrig_tianjie1()
call InitTrig_zhuanshuxuexi()
call InitTrig_shenjie()
call InitTrig_shenjie1()
call InitTrig_shenjieJL()
call InitTrig_chengsheng()
call InitTrig_chuangkou()
call InitTrig_choose()
call InitTrig_chuang2kou()
call InitTrig_cho2ose()
call InitTrig_yingcangnandu()
call InitTrig_yingcangnandu_______u()
call InitTrig_yincang()
call InitTrig_xuanze()
call InitTrig_xuanze_2()
call InitTrig_xuanze_3()
call InitTrig_suijixuanze()
call InitTrig_HeroFuhuo()
call InitTrig_HeroFuhuo1()
call InitTrig_Make()
call InitTrig_chongsheng()
call InitTrig_win1()
call InitTrig_fail()
call InitTrig_fial1()
call InitTrig_fail_______u()
call InitTrig_jieweidonghua()
call InitTrig_fangkaguai()
call InitTrig_hke_Z01_______u()
call InitTrig_BOSSyidong()
call InitTrig_hke_Z21()
call InitTrig_hke_Z31()
call InitTrig_hke_Z41_______u()
call InitTrig_hke_Z41______________u()
call InitTrig_hke_Z41_______________2()
call InitTrig_hke_Z41_______________3()
call InitTrig_Moneyout________9()
call InitTrig_sheng()
call InitTrig_shen()
call InitTrig_xian()
call InitTrig_honglong()
call InitTrig_qinglong()
call InitTrig_bangongshi()
call InitTrig_guangcheng()
call InitTrig_jiaohuang()
call InitTrig_shuijing()
call InitTrig_yidong________10()
call InitTrig_yidong________10_______u()
call InitTrig_yidong________11()
call InitTrig_yidong________12()
call InitTrig_yidong________13()
call InitTrig_yidong________17()
call InitTrig_jianqi()
call InitTrig_tianshen()
call InitTrig_yindang()
call InitTrig_heian()
call InitTrig_zhanshen()
call InitTrig_jixiansudu()
call InitTrig_huanyingmizong()
call InitTrig_doushen()
call InitTrig_smzhishen()
call InitTrig_shfuti()
call InitTrig_dushen()
call InitTrig_qiangshen()
call InitTrig_bingshenby()
call InitTrig_kongjianshen1()
call InitTrig_huimiezssj()
call InitTrig_shuishenzssj()
call InitTrig_chaonengzssj()
call InitTrig_wumiaozs()
call InitTrig_wumiaozssj()
call InitTrig_chaonengzs()
call InitTrig_chaoneng()
call InitTrig_mingyunzssj()
call InitTrig_doushenzssj()
call InitTrig_leishenzssj()
call InitTrig_gong()
call InitTrig_dao()
call InitTrig_jian()
call InitTrig_zhang()
call InitTrig_buyi()
call InitTrig_piyi()
call InitTrig_dunpai()
call InitTrig_tkj()
call InitTrig_wing1()
call InitTrig_wing2()
call InitTrig_wing3()
call InitTrig_wing4()
call InitTrig_wing5()
call InitTrig_shenqi1()
call InitTrig_yinqiang()
call InitTrig_shoushi1()
call InitTrig_shoushi2()
call InitTrig_shoushi3()
call InitTrig_duanzao()
call InitTrig_duanzao_______u()
call InitTrig_huanyaolian()
call InitTrig_congcong()
call InitTrig_braverychange()
call InitTrig_tomato()
call InitTrig_yaokong()
call InitTrig_ultima()
call InitTrig_qijiehigh()
call InitTrig_hunsui()
call InitTrig_tongyum()
call InitTrig_tongyuh()
call InitTrig_huizhang()
call InitTrig_yuezhang()
call InitTrig_kaitian()
call InitTrig_dongxinanbei()
call InitTrig_dongxinanbei_______u()
call InitTrig_cc()
call InitTrig_shitouBOSS()
call InitTrig_renwu()
call InitTrig_suijiboss()
call InitTrig_suijixiaoguai()
call InitTrig_suijixiaoguai_______u()
call InitTrig_daojuBOSS()
call InitTrig_zdywp()
call InitTrig_tianxian()
call InitTrig_jiaoh()
call InitTrig_shangshen()
call InitTrig_shangshen_______u()
call InitTrig_gangcz()
call InitTrig_haishen()
call InitTrig_chuxian()
call InitTrig_jineng1()
call InitTrig_siwang()
call InitTrig_bossgj()
call InitTrig_jiangli1()
call InitTrig_jiangli2()
call InitTrig_jiangli3()
call InitTrig_BOSSchuxian()
call InitTrig_BOSSchuxian_______u()
call InitTrig_BOSSchuxian______________u()
call InitTrig_bossjnhuohuan1()
call InitTrig_bossjnhuohuan2()
call InitTrig_bossjnhuohuan3()
call InitTrig_BOSSjnchongji()
call InitTrig_BOSSjnluoshi1()
call InitTrig_bossjnluoshi2()
call InitTrig_BOSSjnkuangbao()
call InitTrig_BOSSjnzhaohuan()
call InitTrig_yansehuifu()
call InitTrig_guiwei()
call InitTrig_hc()
call InitTrig_hc_______u()
call InitTrig_zibao()
call InitTrig_shanchushiti()
call InitTrig_shanchushiti2()
call InitTrig_jingyan()
call InitTrig_jinggongguai()
call InitTrig_jinggongguai_______u()
call InitTrig_fengbaozhichui()
call InitTrig_chacha()
call InitTrig_bianshen()
call InitTrig_bianshen_______u()
call InitTrig_jianren()
call InitTrig_jianren2()
call InitTrig_jieshu()
call InitTrig_youxiguanghuan()
call InitTrig_youxiguanghuan_______u()
call InitTrig_xihezhifeng()
call InitTrig_pking()
call InitTrig_pking1()
call InitTrig_pking2()
call InitTrig_pking3()
call InitTrig_jx_001()
call InitTrig_JX_003()
call InitTrig_jianfang()
call InitTrig_miemo1()
call InitTrig_hfz_______u()
call InitTrig_jinghua()
call InitTrig_huohuan()
call InitTrig_huohuan1()
call InitTrig_ding()
call InitTrig_tingzhi()
call InitTrig_biansheng()
call InitTrig_emxt()
call InitTrig_xuexi()
call InitTrig_beicixuexi()
call InitTrig_qundushu()
call InitTrig_beici()
call InitTrig_xuanbuzhan()
call InitTrig_xuanbuzhan2()
call InitTrig_jingtiandaoqi1()
call InitTrig_jintiandaoqi2()
call InitTrig_wushuang1()
call InitTrig_daoqihuti1()
call InitTrig_daoqihuti2()
call InitTrig_shengming()
call InitTrig_shengming_______u()
call InitTrig_shengmingzhiguang()
call InitTrig_smzhengfa()
call InitTrig_smzhengfajieshu()
call InitTrig_jinengqianghua()
call InitTrig_jinhua()
call InitTrig_heti()
call InitTrig_jieshu1()
call InitTrig_jieshu2()
call InitTrig_ssxt()
call InitTrig_feibiao()
call InitTrig_duqian()
call InitTrig_dushuxing()
call InitTrig_dumingxg()
call InitTrig_duming()
call InitTrig_jibenqiangfa()
call InitTrig_leiyuqiang()
call InitTrig_leiyuqiang2()
call InitTrig_qianghunzhidun()
call InitTrig_qianghunmie()
call InitTrig_qianghunmie3()
call InitTrig_aishenzhongzi0()
call InitTrig_aishengzhongzi1()
call InitTrig_aishengzhongzi2()
call InitTrig_aizhijian1()
call InitTrig_aizhijian2()
call InitTrig_zizhijian3()
call InitTrig_kongjian3()
call InitTrig_kongjian2()
call InitTrig_tiaotiao()
call InitTrig_chaofeng()
call InitTrig_zhuren()
call InitTrig_zhuren_______u()
call InitTrig_binghuanbao1()
call InitTrig_binghuanbao2()
call InitTrig_bingxiang()
call InitTrig_bingling1()
call InitTrig_bingling2()
call InitTrig_bingling3()
call InitTrig_bingfeng1()
call InitTrig_bingfeng2()
call InitTrig_bingfeng3()
call InitTrig_bingfeng4()
call InitTrig____________________001()
call InitTrig_sudu()
call InitTrig_shijian()
call InitTrig_shijian1()
call InitTrig_kongjian()
call InitTrig_kongjian1()
call InitTrig_miezhi()
call InitTrig_shenzhifenshen1()
call InitTrig_shenzhifenshen2()
call InitTrig_shenzhifenshen3()
call InitTrig_daoshen1()
call InitTrig_zhuizong()
call InitTrig_zhuizong2()
call InitTrig_CD()
call InitTrig_wushuang1_______u()
call InitTrig_ljlt1()
call InitTrig_ljlt2()
call InitTrig_shuiguo()
call InitTrig_jitui()
call InitTrig_wancheng()
call InitTrig_wancheng_______u()
call InitTrig_liumang()
call InitTrig_wancheng________2()
call InitTrig_dashui()
call InitTrig_dashuiwancheng()
call InitTrig_dashuiwang2()
call InitTrig_wugang()
call InitTrig_changeshu()
call InitTrig_wanchengwugang()
call InitTrig_jieshouxianhua()
call InitTrig_xianhuashuaxin_______u()
call InitTrig_xianhuashuaxin______________u()
call InitTrig_jiaoxianhua()
call InitTrig_wuxing()
call InitTrig_wuxing1()
call InitTrig_wuxing2()
call InitTrig_compound()
call InitTrig_shitangdama()
call InitTrig_famu()
call InitTrig_famu2()
call InitTrig_dingyi1()
call InitTrig_shuaxin1()
call InitTrig_shuaxin2()
call InitTrig_shuaxin3()
call InitTrig_shuaxin4()
call InitTrig_boss()
call InitTrig_bossdaoju()
call InitTrig_boss_______u()
call InitTrig_diejia()
call InitTrig_weiyixing()
call InitTrig_hongyan()
call InitTrig_dingyi()
call InitTrig_fenlei()
call InitTrig_txxishu5()
call InitTrig_txxishu10()
call InitTrig_txxishu20()
call InitTrig_txxishu25()
call InitTrig_txxishu30()
call InitTrig_txxishu35()
call InitTrig_txxishu40()
call InitTrig_txxishu60()
call InitTrig_txxishu70()
call InitTrig_txxishu90()
call InitTrig_txxishu100()
call InitTrig_losetxxishu5()
call InitTrig_losetxxishu10()
call InitTrig_losetxxishu20()
call InitTrig_losetxxishu25()
call InitTrig_losetxxishu30()
call InitTrig_losetxxishu35()
call InitTrig_losetxsishu40()
call InitTrig_losetxxishu60()
call InitTrig_losetxxishu70()
call InitTrig_losetxxishu90()
call InitTrig_losetxxishu100()
call InitTrig_jianxishu5()
call InitTrig_jianxishu10()
call InitTrig_jianxishu20()
call InitTrig_jianxishu25()
call InitTrig_jianxishu30()
call InitTrig_jianxishu35()
call InitTrig_jianxishu40()
call InitTrig_jianxishu60()
call InitTrig_jianxishu70()
call InitTrig_jianxishu90()
call InitTrig_jianxishu100()
call InitTrig_losejianxishu5()
call InitTrig_losejianxishu10()
call InitTrig_losejianxishu20()
call InitTrig_losejianxishu25()
call InitTrig_losejianxishu30()
call InitTrig_losejianxishu35()
call InitTrig_losejianxishu40()
call InitTrig_losejianxishu60()
call InitTrig_losejianxishu70()
call InitTrig_losejianxishu90()
call InitTrig_losejianxishu9100()
call InitTrig_ydxishu5()
call InitTrig_ydxishu10()
call InitTrig_ydxishu20()
call InitTrig_ydxishu25()
call InitTrig_ydxishu30()
call InitTrig_ydxishu35()
call InitTrig_ydxishu40()
call InitTrig_ydxishu60()
call InitTrig_ydxishu70()
call InitTrig_ydxishu90()
call InitTrig_ydxishu90_______u()
call InitTrig_loseydxishu5()
call InitTrig_loseydxishu10()
call InitTrig_loseydxishu20()
call InitTrig_loseydxishu25()
call InitTrig_loseydxishu30()
call InitTrig_loseydxishu35()
call InitTrig_loseydxishu40()
call InitTrig_loseydxishu60()
call InitTrig_loseydxishu70()
call InitTrig_loseydxishu90()
call InitTrig_loseydxishu90_______u()
call InitTrig_jinengdengji()
call InitTrig_losejinengdengji()
call InitTrig_fadongjilv()
call InitTrig_yellow()
call InitTrig_blue()
call InitTrig_red()
call InitTrig_green()
call InitTrig_black()
call InitTrig_white()
call InitTrig_losefadong()
call InitTrig_loseyellow()
call InitTrig_loseblue()
call InitTrig_losered()
call InitTrig_losegreen()
call InitTrig_loseblack()
call InitTrig_losewhite()
call InitTrig_link()
call InitTrig_add1()
call InitTrig_add10()
call InitTrig_minus1()
call InitTrig_minus10()
call InitTrig_change1()
call InitTrig_change2()
call InitTrig_change3()
call InitTrig_change4()
call InitTrig_change5()
call InitTrig_change6()
call InitTrig_link_R()
call InitTrig_yuezhangchakan()
call InitTrig_jingtouhuanyuan()
call InitTrig_zisha()
call InitTrig_danrenceshi()
call InitTrig_shitang()
call InitTrig_shitang_______u()
call InitTrig_kongdianshi()
call InitTrig_yueguangbaohe()
call InitTrig_yueguangbaohe_______u()
call InitTrig_jianxishu90_______u()
call InitTrig_chiyao()
call InitTrig_zombie()
call InitTrig_chishu()
call InitTrig_jingzhi()
call InitTrig_jingzhi3()
call InitTrig_wupin()
call InitTrig_huichengshu()
call InitTrig_jingzhi2()
call InitTrig_jing9zhi()
call InitTrig_jingzhi5()
call InitTrig_jingzhi4()
call InitTrig_jingzhi6()
call InitTrig____________________002()
call InitTrig_shengjidi()
call InitTrig_jinzhi()
call InitTrig_baohu()
call InitTrig_emofuhuo()
call InitTrig_emo34fuhuo()
call InitTrig_emo56fuhuo()
call InitTrig_emo78fuhuo()
call InitTrig_emo910fuhuo()
call InitTrig_emo1112fuhuo()
call InitTrig_emo1314fuhuo()
call InitTrig_emo1516fuhuo()
call InitTrig_emo1718fuhuo()
call InitTrig_wudi()
call InitTrig_wudi_______u()
call InitTrig_nongming()
call InitTrig____________________004()
call InitTrig_Stage()
call InitTrig_lead1()
call InitTrig_lead2()
call InitTrig_lead3()
call InitTrig_tingguai()
call InitTrig_daoqi()
call InitTrig_jierenwu()
call InitTrig_kaishi()
call InitTrig_suduxiulian()
call InitTrig_mofaxiulian()
call InitTrig_jinrudisanbu()
call InitTrig_wulixiulian()
call InitTrig_jinrudisibu()
call InitTrig_chongxiushibai()
call InitTrig_chongxiujinengcd()
call InitTrig_jinengjiangli()
call InitTrig_shadishu()
call InitTrig_shanshoujingzhi()
call InitTrig_zhangshandian()
call InitTrig_huoyan()
call InitTrig_shieryuezhang()
call InitTrig_shieryuezhang_______u()
call InitTrig_pojia()
call InitTrig_fangyu()
call InitTrig_beiji1()
call InitTrig_beiji2()
call InitTrig_beiji3()
call InitTrig_beiji4()
call InitTrig_duobi1()
call InitTrig_duobi2()
call InitTrig_duobi3()
call InitTrig_duobi4()
call InitTrig_miehun()
call InitTrig_wudimowang()
call InitTrig_liwu()
call InitTrig_sq1()
call InitTrig_phoenix()
call InitTrig_sq11()
call InitTrig_phoenix1()
call InitTrig_sq2()
call InitTrig_sq2_______u()
call InitTrig_sq3()
call InitTrig_wuqi1()
call InitTrig_wuqi11()
call InitTrig_wuqi2()
call InitTrig_wuqi21()
call InitTrig_wuqi22()
call InitTrig_ss()
call InitTrig_ss11()
call InitTrig_ss_______u()
call InitTrig_dl()
call InitTrig_sp1()
call InitTrig_sp2()
call InitTrig_sp3()
call InitTrig_yf()
call InitTrig_yifusj()
call InitTrig_curse()
call InitTrig_manadamage()
call InitTrig_manaabsorb()
call InitTrig_wuqisj1()
call InitTrig_wuqisj2()
call InitTrig_cc1()
call InitTrig_cc2()
call InitTrig_cc3()
call InitTrig_cc3_______u()
call InitTrig_xiaodu()
call InitTrig_dadu()
call InitTrig_haodu()
call InitTrig_youxi()
call InitTrig_youxiing()
call InitTrig_tiren2()
call InitTrig_tiren3()
call InitTrig_tiren4()
call InitTrig_tiren5()
call InitTrig_tiren6()
call InitTrig_tiren()
call InitTrig_trenok()
endfunction
function RunInitializationTriggers takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_danrenceshi)
endfunction
function InitCustomPlayerSlots takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),6)
call ForcePlayerStartLocation(Player(7),6)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(11),7)
call ForcePlayerStartLocation(Player(11),7)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_COMPUTER)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(1),0)
call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(3),0)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(5),0)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(7),0)
call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)
call SetPlayerTeam(Player(11),1)
call SetPlayerState(Player(11),PLAYER_STATE_ALLIED_VICTORY,1)
endfunction
function InitAllyPriorities takes nothing returns nothing
call SetStartLocPrioCount(0,4)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,4)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,4)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,5)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,4)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,4)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,4,MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
call SetCameraBounds(-8192.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-8192.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),9216.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),8192.0-GetCameraMargin(CAMERA_MARGIN_TOP),-8192.0+GetCameraMargin(CAMERA_MARGIN_LEFT),8192.0-GetCameraMargin(CAMERA_MARGIN_TOP),9216.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-8192.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call SetTerrainFogEx(0,3000.0,5000.0,0.500,0.435,0.145,0.514)
call NewSoundEnvironment("Default")
call SetAmbientDaySound("VillageDay")
call SetAmbientNightSound("VillageNight")
call SetMapMusic("Music",true,0)
call InitSounds()
call CreateRegions()
call CreateCameras()
call CreateAllItems()
call CreateAllUnits()
call InitBlizzard()
call InitGlobals()
call InitCustomTriggers()
call RunInitializationTriggers()
endfunction
function config takes nothing returns nothing
call SetMapName("|cFFFF0000校园修神录4.6测试版|r")
call SetMapDescription("地图类型：|cFF1FBF00超难防守地图|r\n地图作者：|cFF1FBF00键盘幽灵|r\n专区地址：|cFF1FBF00wanwan."+udg_pass[13]+"."+udg_pass[14]+"|r\n最后更新：|cFF1FBF002012.9.29|r")
call SetPlayers(8)
call SetTeams(8)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-2304.0,-7168.0)
call DefineStartLocation(1,-2304.0,-7168.0)
call DefineStartLocation(2,-2304.0,-7168.0)
call DefineStartLocation(3,-2368.0,-7168.0)
call DefineStartLocation(4,-2304.0,-7168.0)
call DefineStartLocation(5,-2304.0,-7168.0)
call DefineStartLocation(6,-2368.0,-7168.0)
call DefineStartLocation(7,-2304.0,-7168.0)
call InitCustomPlayerSlots()
call InitCustomTeams()
call InitAllyPriorities()
endfunction
